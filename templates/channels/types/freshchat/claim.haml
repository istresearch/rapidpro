-extends "channels/channel_claim_form.html"
-load i18n compress temba

-block pre-form
  -blocktrans trimmed with name=brand.name
    You can connect a <a href="https://www.freshworks.com/live-chat-software/">FreshChat</a> Account to your {{ name}} account
    to automate sending and receiving messages via FreshChat. This will also support Apple Business Chat if it's been configured on your FreshChat account.

  .mt-4
    -blocktrans trimmed with format='<div class="code inline py-1">channel-uuid/user-uuid</div>'
      Each message sent to the channel will have a URN in the format {{ format }} where the channel UUID is the FreshChat channel's UUID.

  %ol.steps.card
    %li
      -blocktrans trimmed
        In the FreshChat web interface, under Settings, API Tokens, select Generate Token. Once the token is created you'll enter it below.
    %li
      -blocktrans trimmed
        Under Settings again, select Webhooks and copy the Public Key and paste it below. This assures all webhook request from FreshChat will be authenticated.
    %li
      -blocktrans trimmed
        Lastly, you'll need the UUID of the Agent that {{ name }} will use when it sends FreshChat message. This is available via
        the <a href="https://developers.freshchat.com/api/#agent">FreshChat API</a>.
    %li
      -blocktrans trimmed
        Once you press Submit below with all the information configured, the confirmation page will give you the URL to use for the FreshChat Webhooks.
        Enter this URL on the Settings page, under Webhooks where the Public Key was copied from before.

-block extra-style
  {{ block.super }}

  :css
    .info {
      width: 800px;
      margin-bottom: 20px;
    }

    .form-group {
      margin-bottom:15px;
    }

    #id_auth_token {
      width: 340px;
    }
