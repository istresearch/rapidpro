-extends "smartmin/create.html"
-load i18n

-block page-top

-block content
  .row
    .span4
      #claim
        #big-phone
          %img{ src:"{{ STATIC_URL }}/images/claim_phone.png" }

        %form.claim-form{method:"post", action:"{% url 'channels.channel_claim_android' %}"}
          -csrf_token
          .claim-field
            .claim-label
              -trans "Claim Code"
            {{ form.claim_code }}
            {{ form.claim_code.errors }}
          .claim-field
            .claim-label
              -trans "Phone Number"
            {{ form.phone_number }}
            {{ form.phone_number.errors }}
          %input.btn.btn-primary{type:"submit", value:"{% trans 'Add Phone' %}"}

          %errors

    .span8
      %h2.help-title
        %span.title-icon
          .glyph.icon-android
        %span.title-text
          -trans "Connect your Android phone"
      {% url "public.public_android" as android_public_url %}


      #little-help
        %p
          -blocktrans with brand.name as brand
            {{ brand }} uses your Android phone to send and receive messages.

        %p
          -blocktrans with brand.name as brand
            You can download the 
            %a{href: "{{ android_public_url }}"}
              free {{ brand }} app.
            You will need to allow installing apps downloaded from unknown sources. Below we provide step by step guide for how to allow 
            your to install the apps on your Android phone. It is possible the model you have might not be exactly as the screenshots provided
            however the process will be similar. Just follow the steps below and you'll be up and running in a few minutes.
          
        %p
          %a{href: "{{ android_public_url }}"}
              Download page


        %p.step
          %img.step-image{ src: '{{ STATIC_URL }}images/claim1.png' }
          .step-text
            %h3
              -trans "Open the Settings app"
            %p
              -blocktrans
                First find the "Settings" application on your phone and open it.  You might need to
                press "Home" or find the launcher menu first.

        %p.step
          %img.step-image{ src: '{{ STATIC_URL }}images/claim2.png' }
          .step-text
            %h3
              -trans "Click on Apps & Notifications"
            %p
              -blocktrans
                Once you open the Settings, then scroll to see "Advanced".

        %p.step
          %img.step-image{ src: '{{ STATIC_URL }}images/claim3.png' }
          .step-text
            %h3
              -trans "Tap to expand the Advanced settings"
            %p
              -blocktrans
                You will see the option "Special app access".

        %p.step
          %img.step-image{ src: '{{ STATIC_URL }}images/claim4.png' }
          .step-text
            %h3
              -trans "Tap Special app access"
            %p
              -blocktrans 
                You will see a list of various access, scroll to "Install unknown apps"

        %p.step
          %img.step-image{ src: '{{ STATIC_URL }}images/claim5.png' }
          .step-text
            %h3
              -trans "Tap Install unknown apps"
            %p
              -blocktrans
                You will see a list of applications installed that you can grant the access to install unknown apps.
                Choose an app you use to browse
                %a{href: "{{ android_public_url }}"}
                  the Android apps page.
                We'll use Google Chrome.

        %p.step
          %img.step-image{ src: '{{ STATIC_URL }}images/claim6.png' }
          .step-text
            %h3
              -trans "Tap Chrome"
            %p
              -blocktrans
                You will see a toggle to "allow from this source" and 

        %p.step
          %img.step-image{ src: '{{ STATIC_URL }}images/claim7.png' }
          .step-text
            %h3
              -trans "Toggle allow from this source"
            %p
              -blocktrans
                Make sure "allow from this source" toggle is in the ON position.

        %p.step
          %img.step-image{ src: '{{ STATIC_URL }}images/claim8.png' }
          .step-text
            %h3
              -trans "Go Back"
            %p
              -blocktrans
                You should see "Allowed" under the app you allowed.

        %p.step
          %img.step-image{ src: '{{ STATIC_URL }}images/claim9.png' }
          .step-text
            %h3
              -blocktrans with brand.name as brand
                %a{href: "{{ android_public_url }}"}
                  Download {{ brand }}
            %p
              -blocktrans with brand.name as brand
                Once {{ brand }} has been downloaded, look up the downloaded file to install the app.

        %p.step
          %img.step-image{ src: '{{ STATIC_URL }}images/claim10.png' }
          .step-text
            %h3
              -blocktrans with brand.name as brand
                Click {{ brand }} installer
            %p
              -blocktrans
                Click INSTALL

        %p.step
          %img.step-image{ src: '{{ STATIC_URL }}images/claim11.png' }
          .step-text
            %h3
              -blocktrans with brand.name as brand
                Open {{ brand }}
            %p
              -blocktrans with brand.name as brand
                Once {{ brand }} has been installed, open the app drawer and tap on the {{ brand }} icon to start the app.

        %p.step
          %img.step-image{ src: '{{ STATIC_URL }}images/claim12.png' }
          .step-text
            %h3
              -trans "Enter Claim Code"
            %p
              -blocktrans with brand.name as brand
                When you first open {{ brand }}, the app will register your device with Google and our servers.  Once that is
                complete, it will display a claim code.  Enter that claim code in the form to the left and click
                "Add Phone" to connect your device.

-block extra-script
  {{ block.super }}
  :javascript
    $(function(){
      // get the top of your sidebar based on its default position
      var topOfSidebar = $("#claim").offset().top;

      // when the window scrolls check to see whether it is about to go off screen. If so then switch to fixed.
      $(window).scroll(function() {
        var topOfWindow = $(window).scrollTop();
        if (topOfSidebar < topOfWindow) {
          $("#claim").addClass("fixed");
        } else {
          $("#claim").removeClass("fixed");
        }
      });
    });
  </script>

-block extra-style
  {{ block.super }}
  :css
    #little-help {
      margin-top: 15px;
      font-size: 16px;
    }

    ul.errorlist {
      margin-left: 0px;
    }

    ul.errorlist li {
      list-style-type: none;
      color: #855;
      text-align: center;
    }

    #claim {
      position: relative;
      margin-top: 10px;
    }

    @media (min-width: 480px) {
      #claim.fixed {
        position: fixed;
        top: 0px;
      }
    }

    .step {
      padding-top: 30px;
      clear: both;
    }

    .step-image {
      width: 240px;
      float: left;
    }
    .step-text {
      margin-left: 250px;
    }

    @media (max-width: 480px) {
      .step-image {
        width: 240px;
        display: block;
        float: none;
      }

      .step-text {
        margin-left: 0px;
      }
    }

    .step-text h3 {
      display: inline;
    }

    h3 {
      clear: both;
    }

    h2.help-title {
      margin-top: 5px;
    }

    .title-icon .icon-android {
      font-size: 40px;
      margin-top: 20px;
    }

    .title-icon + .title-text {
      margin-left: -15px;
    }

    #big-phone {
      position: absolute;
      top: 0px;
      left: 0px;
      z-index: -1;
    }

    .claim-form {
      position: absolute;
      left: 50px;
      top: 80px;
      width: 182px;
    }

    .claim-label {
      text-align: center;
    }

    .claim-field {
      margin-bottom: 10px;
    }

    input[type="submit"] {
      width: 100%;
    }

    #claim {
      width: 285px;
      height: 500px;
    }

    input[type="text"] {
      height: 30px;
      width: 100%;
      padding-left: 0px;
      padding-right: 0px;
      line-height: 100%;
      text-align:center;
      font-size: 24px;
      margin-bottom:0;
    }
