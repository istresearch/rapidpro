!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports["rp-components"]=t():e["rp-components"]=t()}(window,function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=10)}([function(e,t,n){"use strict";var r=n(4),o=n(12),i=Object.prototype.toString;function s(e){return"[object Array]"===i.call(e)}function a(e){return null!==e&&"object"==typeof e}function l(e){return"[object Function]"===i.call(e)}function c(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),s(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}e.exports={isArray:s,isArrayBuffer:function(e){return"[object ArrayBuffer]"===i.call(e)},isBuffer:o,isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:a,isUndefined:function(e){return void 0===e},isDate:function(e){return"[object Date]"===i.call(e)},isFile:function(e){return"[object File]"===i.call(e)},isBlob:function(e){return"[object Blob]"===i.call(e)},isFunction:l,isStream:function(e){return a(e)&&l(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:c,merge:function e(){var t={};function n(n,r){"object"==typeof t[r]&&"object"==typeof n?t[r]=e(t[r],n):t[r]=n}for(var r=0,o=arguments.length;r<o;r++)c(arguments[r],n);return t},extend:function(e,t,n){return c(t,function(t,o){e[o]=n&&"function"==typeof t?r(t,n):t}),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(e,t,n){e.exports=n(11)},function(e,t,n){"use strict";(function(t){var r=n(0),o=n(15),i={"Content-Type":"application/x-www-form-urlencoded"};function s(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var a,l={adapter:("undefined"!=typeof XMLHttpRequest?a=n(5):void 0!==t&&(a=n(5)),a),transformRequest:[function(e,t){return o(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e)?e:r.isArrayBufferView(e)?e.buffer:r.isURLSearchParams(e)?(s(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):r.isObject(e)?(s(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300}};l.headers={common:{Accept:"application/json, text/plain, */*"}},r.forEach(["delete","get","head"],function(e){l.headers[e]={}}),r.forEach(["post","put","patch"],function(e){l.headers[e]=r.merge(i)}),e.exports=l}).call(this,n(14))},function(e,t,n){var r,o,i;o=[e,t],void 0===(i="function"==typeof(r=function(e,t){"use strict";var n,r,o="function"==typeof Map?new Map:(n=[],r=[],{has:function(e){return n.indexOf(e)>-1},get:function(e){return r[n.indexOf(e)]},set:function(e,t){-1===n.indexOf(e)&&(n.push(e),r.push(t))},delete:function(e){var t=n.indexOf(e);t>-1&&(n.splice(t,1),r.splice(t,1))}}),i=function(e){return new Event(e,{bubbles:!0})};try{new Event("test")}catch(e){i=function(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!1),t}}function s(e){if(e&&e.nodeName&&"TEXTAREA"===e.nodeName&&!o.has(e)){var t=null,n=null,r=null,s=function(){e.clientWidth!==n&&p()},a=function(t){window.removeEventListener("resize",s,!1),e.removeEventListener("input",p,!1),e.removeEventListener("keyup",p,!1),e.removeEventListener("autosize:destroy",a,!1),e.removeEventListener("autosize:update",p,!1),Object.keys(t).forEach(function(n){e.style[n]=t[n]}),o.delete(e)}.bind(e,{height:e.style.height,resize:e.style.resize,overflowY:e.style.overflowY,overflowX:e.style.overflowX,wordWrap:e.style.wordWrap});e.addEventListener("autosize:destroy",a,!1),"onpropertychange"in e&&"oninput"in e&&e.addEventListener("keyup",p,!1),window.addEventListener("resize",s,!1),e.addEventListener("input",p,!1),e.addEventListener("autosize:update",p,!1),e.style.overflowX="hidden",e.style.wordWrap="break-word",o.set(e,{destroy:a,update:p}),"vertical"===(l=window.getComputedStyle(e,null)).resize?e.style.resize="none":"both"===l.resize&&(e.style.resize="horizontal"),t="content-box"===l.boxSizing?-(parseFloat(l.paddingTop)+parseFloat(l.paddingBottom)):parseFloat(l.borderTopWidth)+parseFloat(l.borderBottomWidth),isNaN(t)&&(t=0),p()}var l;function c(t){var n=e.style.width;e.style.width="0px",e.offsetWidth,e.style.width=n,e.style.overflowY=t}function u(){if(0!==e.scrollHeight){var r=function(e){for(var t=[];e&&e.parentNode&&e.parentNode instanceof Element;)e.parentNode.scrollTop&&t.push({node:e.parentNode,scrollTop:e.parentNode.scrollTop}),e=e.parentNode;return t}(e),o=document.documentElement&&document.documentElement.scrollTop;e.style.height="",e.style.height=e.scrollHeight+t+"px",n=e.clientWidth,r.forEach(function(e){e.node.scrollTop=e.scrollTop}),o&&(document.documentElement.scrollTop=o)}}function p(){u();var t=Math.round(parseFloat(e.style.height)),n=window.getComputedStyle(e,null),o="content-box"===n.boxSizing?Math.round(parseFloat(n.height)):e.offsetHeight;if(o<t?"hidden"===n.overflowY&&(c("scroll"),u(),o="content-box"===n.boxSizing?Math.round(parseFloat(window.getComputedStyle(e,null).height)):e.offsetHeight):"hidden"!==n.overflowY&&(c("hidden"),u(),o="content-box"===n.boxSizing?Math.round(parseFloat(window.getComputedStyle(e,null).height)):e.offsetHeight),r!==o){r=o;var s=i("autosize:resized");try{e.dispatchEvent(s)}catch(e){}}}}function a(e){var t=o.get(e);t&&t.destroy()}function l(e){var t=o.get(e);t&&t.update()}var c=null;"undefined"==typeof window||"function"!=typeof window.getComputedStyle?((c=function(e){return e}).destroy=function(e){return e},c.update=function(e){return e}):((c=function(e,t){return e&&Array.prototype.forEach.call(e.length?e:[e],function(e){return s(e)}),e}).destroy=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],a),e},c.update=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],l),e}),t.default=c,e.exports=t.default})?r.apply(t,o):r)||(e.exports=i)},function(e,t,n){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},function(e,t,n){"use strict";var r=n(0),o=n(16),i=n(18),s=n(19),a=n(20),l=n(6),c="undefined"!=typeof window&&window.btoa&&window.btoa.bind(window)||n(21);e.exports=function(e){return new Promise(function(t,u){var p=e.data,h=e.headers;r.isFormData(p)&&delete h["Content-Type"];var d=new XMLHttpRequest,f="onreadystatechange",g=!1;if("undefined"==typeof window||!window.XDomainRequest||"withCredentials"in d||a(e.url)||(d=new window.XDomainRequest,f="onload",g=!0,d.onprogress=function(){},d.ontimeout=function(){}),e.auth){var m=e.auth.username||"",y=e.auth.password||"";h.Authorization="Basic "+c(m+":"+y)}if(d.open(e.method.toUpperCase(),i(e.url,e.params,e.paramsSerializer),!0),d.timeout=e.timeout,d[f]=function(){if(d&&(4===d.readyState||g)&&(0!==d.status||d.responseURL&&0===d.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in d?s(d.getAllResponseHeaders()):null,r={data:e.responseType&&"text"!==e.responseType?d.response:d.responseText,status:1223===d.status?204:d.status,statusText:1223===d.status?"No Content":d.statusText,headers:n,config:e,request:d};o(t,u,r),d=null}},d.onerror=function(){u(l("Network Error",e,null,d)),d=null},d.ontimeout=function(){u(l("timeout of "+e.timeout+"ms exceeded",e,"ECONNABORTED",d)),d=null},r.isStandardBrowserEnv()){var v=n(22),b=(e.withCredentials||a(e.url))&&e.xsrfCookieName?v.read(e.xsrfCookieName):void 0;b&&(h[e.xsrfHeaderName]=b)}if("setRequestHeader"in d&&r.forEach(h,function(e,t){void 0===p&&"content-type"===t.toLowerCase()?delete h[t]:d.setRequestHeader(t,e)}),e.withCredentials&&(d.withCredentials=!0),e.responseType)try{d.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&d.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&d.upload&&d.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then(function(e){d&&(d.abort(),u(e),d=null)}),void 0===p&&(p=null),d.send(p)})}},function(e,t,n){"use strict";var r=n(17);e.exports=function(e,t,n,o,i){var s=new Error(e);return r(s,t,n,o,i)}},function(e,t,n){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,t,n){"use strict";function r(e){this.message=e}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,e.exports=r},function(e,t,n){!function(){var t=["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderStyle","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing","tabSize","MozTabSize"],n="undefined"!=typeof window,r=n&&null!=window.mozInnerScreenX;function o(e,o,i){if(!n)throw new Error("textarea-caret-position#getCaretCoordinates should only be called in a browser");var s=i&&i.debug||!1;if(s){var a=document.querySelector("#input-textarea-caret-position-mirror-div");a&&a.parentNode.removeChild(a)}var l=document.createElement("div");l.id="input-textarea-caret-position-mirror-div",document.body.appendChild(l);var c=l.style,u=window.getComputedStyle?window.getComputedStyle(e):e.currentStyle,p="INPUT"===e.nodeName;c.whiteSpace="pre-wrap",p||(c.wordWrap="break-word"),c.position="absolute",s||(c.visibility="hidden"),t.forEach(function(e){p&&"lineHeight"===e?c.lineHeight=u.height:c[e]=u[e]}),r?e.scrollHeight>parseInt(u.height)&&(c.overflowY="scroll"):c.overflow="hidden",l.textContent=e.value.substring(0,o),p&&(l.textContent=l.textContent.replace(/\s/g," "));var h=document.createElement("span");h.textContent=e.value.substring(o)||".",l.appendChild(h);var d={top:h.offsetTop+parseInt(u.borderTopWidth),left:h.offsetLeft+parseInt(u.borderLeftWidth),height:parseInt(u.lineHeight)};return s?h.style.backgroundColor="#aaa":document.body.removeChild(l),d}void 0!==e.exports?e.exports=o:n&&(window.getCaretCoordinates=o)}()},function(e,t,n){e.exports=n(32)},function(e,t,n){"use strict";var r=n(0),o=n(4),i=n(13),s=n(2);function a(e){var t=new i(e),n=o(i.prototype.request,t);return r.extend(n,i.prototype,t),r.extend(n,t),n}var l=a(s);l.Axios=i,l.create=function(e){return a(r.merge(s,e))},l.Cancel=n(8),l.CancelToken=n(28),l.isCancel=n(7),l.all=function(e){return Promise.all(e)},l.spread=n(29),e.exports=l,e.exports.default=l},function(e,t){function n(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}e.exports=function(e){return null!=e&&(n(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&n(e.slice(0,0))}(e)||!!e._isBuffer)}},function(e,t,n){"use strict";var r=n(2),o=n(0),i=n(23),s=n(24);function a(e){this.defaults=e,this.interceptors={request:new i,response:new i}}a.prototype.request=function(e){"string"==typeof e&&(e=o.merge({url:arguments[0]},arguments[1])),(e=o.merge(r,{method:"get"},this.defaults,e)).method=e.method.toLowerCase();var t=[s,void 0],n=Promise.resolve(e);for(this.interceptors.request.forEach(function(e){t.unshift(e.fulfilled,e.rejected)}),this.interceptors.response.forEach(function(e){t.push(e.fulfilled,e.rejected)});t.length;)n=n.then(t.shift(),t.shift());return n},o.forEach(["delete","get","head","options"],function(e){a.prototype[e]=function(t,n){return this.request(o.merge(n||{},{method:e,url:t}))}}),o.forEach(["post","put","patch"],function(e){a.prototype[e]=function(t,n,r){return this.request(o.merge(r||{},{method:e,url:t,data:n}))}}),e.exports=a},function(e,t){var n,r,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(e){r=s}}();var l,c=[],u=!1,p=-1;function h(){u&&l&&(u=!1,l.length?c=l.concat(c):p=-1,c.length&&d())}function d(){if(!u){var e=a(h);u=!0;for(var t=c.length;t;){for(l=c,c=[];++p<t;)l&&l[p].run();p=-1,t=c.length}l=null,u=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function g(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new f(e,t)),1!==c.length||u||a(d)},f.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=g,o.addListener=g,o.once=g,o.off=g,o.removeListener=g,o.removeAllListeners=g,o.emit=g,o.prependListener=g,o.prependOnceListener=g,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t,n){"use strict";var r=n(0);e.exports=function(e,t){r.forEach(e,function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])})}},function(e,t,n){"use strict";var r=n(6);e.exports=function(e,t,n){var o=n.config.validateStatus;n.status&&o&&!o(n.status)?t(r("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},function(e,t,n){"use strict";e.exports=function(e,t,n,r,o){return e.config=t,n&&(e.code=n),e.request=r,e.response=o,e}},function(e,t,n){"use strict";var r=n(0);function o(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var i;if(n)i=n(t);else if(r.isURLSearchParams(t))i=t.toString();else{var s=[];r.forEach(t,function(e,t){null!=e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),s.push(o(t)+"="+o(e))}))}),i=s.join("&")}return i&&(e+=(-1===e.indexOf("?")?"?":"&")+i),e}},function(e,t,n){"use strict";var r=n(0),o=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,i,s={};return e?(r.forEach(e.split("\n"),function(e){if(i=e.indexOf(":"),t=r.trim(e.substr(0,i)).toLowerCase(),n=r.trim(e.substr(i+1)),t){if(s[t]&&o.indexOf(t)>=0)return;s[t]="set-cookie"===t?(s[t]?s[t]:[]).concat([n]):s[t]?s[t]+", "+n:n}}),s):s}},function(e,t,n){"use strict";var r=n(0);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function o(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=o(window.location.href),function(t){var n=r.isString(t)?o(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},function(e,t,n){"use strict";var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function o(){this.message="String contains an invalid character"}o.prototype=new Error,o.prototype.code=5,o.prototype.name="InvalidCharacterError",e.exports=function(e){for(var t,n,i=String(e),s="",a=0,l=r;i.charAt(0|a)||(l="=",a%1);s+=l.charAt(63&t>>8-a%1*8)){if((n=i.charCodeAt(a+=.75))>255)throw new o;t=t<<8|n}return s}},function(e,t,n){"use strict";var r=n(0);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,o,i,s){var a=[];a.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),r.isString(o)&&a.push("path="+o),r.isString(i)&&a.push("domain="+i),!0===s&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(e,t,n){"use strict";var r=n(0);function o(){this.handlers=[]}o.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},o.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},o.prototype.forEach=function(e){r.forEach(this.handlers,function(t){null!==t&&e(t)})},e.exports=o},function(e,t,n){"use strict";var r=n(0),o=n(25),i=n(7),s=n(2),a=n(26),l=n(27);function c(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return c(e),e.baseURL&&!a(e.url)&&(e.url=l(e.baseURL,e.url)),e.headers=e.headers||{},e.data=o(e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers||{}),r.forEach(["delete","get","head","post","put","patch","common"],function(t){delete e.headers[t]}),(e.adapter||s.adapter)(e).then(function(t){return c(e),t.data=o(t.data,t.headers,e.transformResponse),t},function(t){return i(t)||(c(e),t&&t.response&&(t.response.data=o(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)})}},function(e,t,n){"use strict";var r=n(0);e.exports=function(e,t,n){return r.forEach(n,function(n){e=n(e,t)}),e}},function(e,t,n){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(e,t,n){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},function(e,t,n){"use strict";var r=n(8);function o(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(e){t=e});var n=this;e(function(e){n.reason||(n.reason=new r(e),t(n.reason))})}o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},o.source=function(){var e;return{token:new o(function(t){e=t}),cancel:e}},e.exports=o},function(e,t,n){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},function(e,t,n){(function(t){!function(t){"use strict";var n={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:/^ {0,3}(`{3,}|~{3,})([^`~\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?:\n+|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6}) +([^\n]*?)(?: +#+)? *(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3})(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:"^ {0,3}(?:<(script|pre|style)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?\\?>\\n*|<![A-Z][\\s\\S]*?>\\n*|<!\\[CDATA\\[[\\s\\S]*?\\]\\]>\\n*|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:\\n{2,}|$)|<(?!script|pre|style)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$)|</(?!script|pre|style)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$))",def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,nptable:m,table:m,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html)[^\n]+)*)/,text:/^[^\n]+/};function r(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||k.defaults,this.rules=n.normal,this.options.pedantic?this.rules=n.pedantic:this.options.gfm&&(this.rules=n.gfm)}n._label=/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/,n._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,n.def=h(n.def).replace("label",n._label).replace("title",n._title).getRegex(),n.bullet=/(?:[*+-]|\d{1,9}\.)/,n.item=/^( *)(bull) ?[^\n]*(?:\n(?!\1bull ?)[^\n]*)*/,n.item=h(n.item,"gm").replace(/bull/g,n.bullet).getRegex(),n.list=h(n.list).replace(/bull/g,n.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+n.def.source+")").getRegex(),n._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",n._comment=/<!--(?!-?>)[\s\S]*?-->/,n.html=h(n.html,"i").replace("comment",n._comment).replace("tag",n._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),n.paragraph=h(n._paragraph).replace("hr",n.hr).replace("heading"," {0,3}#{1,6} +").replace("|lheading","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}|~{3,})[^`\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",n._tag).getRegex(),n.blockquote=h(n.blockquote).replace("paragraph",n.paragraph).getRegex(),n.normal=y({},n),n.gfm=y({},n.normal,{nptable:/^ *([^|\n ].*\|.*)\n *([-:]+ *\|[-| :]*)(?:\n((?:.*[^>\n ].*(?:\n|$))*)\n*|$)/,table:/^ *\|(.+)\n *\|?( *[-:]+[-| :]*)(?:\n((?: *[^>\n ].*(?:\n|$))*)\n*|$)/}),n.pedantic=y({},n.normal,{html:h("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",n._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *(?:#+ *)?(?:\n+|$)/,fences:m,paragraph:h(n.normal._paragraph).replace("hr",n.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",n.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()}),r.rules=n,r.lex=function(e,t){return new r(t).lex(e)},r.prototype.lex=function(e){return e=e.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,"\n"),this.token(e,!0)},r.prototype.token=function(e,t){var r,o,i,s,a,l,c,p,h,d,f,g,m,y,x,w;for(e=e.replace(/^ +$/gm,"");e;)if((i=this.rules.newline.exec(e))&&(e=e.substring(i[0].length),i[0].length>1&&this.tokens.push({type:"space"})),i=this.rules.code.exec(e)){var k=this.tokens[this.tokens.length-1];e=e.substring(i[0].length),k&&"paragraph"===k.type?k.text+="\n"+i[0].trimRight():(i=i[0].replace(/^ {4}/gm,""),this.tokens.push({type:"code",codeBlockStyle:"indented",text:this.options.pedantic?i:b(i,"\n")}))}else if(i=this.rules.fences.exec(e))e=e.substring(i[0].length),this.tokens.push({type:"code",lang:i[2]?i[2].trim():i[2],text:i[3]||""});else if(i=this.rules.heading.exec(e))e=e.substring(i[0].length),this.tokens.push({type:"heading",depth:i[1].length,text:i[2]});else if((i=this.rules.nptable.exec(e))&&(l={type:"table",header:v(i[1].replace(/^ *| *\| *$/g,"")),align:i[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:i[3]?i[3].replace(/\n$/,"").split("\n"):[]}).header.length===l.align.length){for(e=e.substring(i[0].length),f=0;f<l.align.length;f++)/^ *-+: *$/.test(l.align[f])?l.align[f]="right":/^ *:-+: *$/.test(l.align[f])?l.align[f]="center":/^ *:-+ *$/.test(l.align[f])?l.align[f]="left":l.align[f]=null;for(f=0;f<l.cells.length;f++)l.cells[f]=v(l.cells[f],l.header.length);this.tokens.push(l)}else if(i=this.rules.hr.exec(e))e=e.substring(i[0].length),this.tokens.push({type:"hr"});else if(i=this.rules.blockquote.exec(e))e=e.substring(i[0].length),this.tokens.push({type:"blockquote_start"}),i=i[0].replace(/^ *> ?/gm,""),this.token(i,t),this.tokens.push({type:"blockquote_end"});else if(i=this.rules.list.exec(e)){for(e=e.substring(i[0].length),c={type:"list_start",ordered:y=(s=i[2]).length>1,start:y?+s:"",loose:!1},this.tokens.push(c),p=[],r=!1,m=(i=i[0].match(this.rules.item)).length,f=0;f<m;f++)d=(l=i[f]).length,~(l=l.replace(/^ *([*+-]|\d+\.) */,"")).indexOf("\n ")&&(d-=l.length,l=this.options.pedantic?l.replace(/^ {1,4}/gm,""):l.replace(new RegExp("^ {1,"+d+"}","gm"),"")),f!==m-1&&(a=n.bullet.exec(i[f+1])[0],(s.length>1?1===a.length:a.length>1||this.options.smartLists&&a!==s)&&(e=i.slice(f+1).join("\n")+e,f=m-1)),o=r||/\n\n(?!\s*$)/.test(l),f!==m-1&&(r="\n"===l.charAt(l.length-1),o||(o=r)),o&&(c.loose=!0),w=void 0,(x=/^\[[ xX]\] /.test(l))&&(w=" "!==l[1],l=l.replace(/^\[[ xX]\] +/,"")),h={type:"list_item_start",task:x,checked:w,loose:o},p.push(h),this.tokens.push(h),this.token(l,!1),this.tokens.push({type:"list_item_end"});if(c.loose)for(m=p.length,f=0;f<m;f++)p[f].loose=!0;this.tokens.push({type:"list_end"})}else if(i=this.rules.html.exec(e))e=e.substring(i[0].length),this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:!this.options.sanitizer&&("pre"===i[1]||"script"===i[1]||"style"===i[1]),text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(i[0]):u(i[0]):i[0]});else if(t&&(i=this.rules.def.exec(e)))e=e.substring(i[0].length),i[3]&&(i[3]=i[3].substring(1,i[3].length-1)),g=i[1].toLowerCase().replace(/\s+/g," "),this.tokens.links[g]||(this.tokens.links[g]={href:i[2],title:i[3]});else if((i=this.rules.table.exec(e))&&(l={type:"table",header:v(i[1].replace(/^ *| *\| *$/g,"")),align:i[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:i[3]?i[3].replace(/\n$/,"").split("\n"):[]}).header.length===l.align.length){for(e=e.substring(i[0].length),f=0;f<l.align.length;f++)/^ *-+: *$/.test(l.align[f])?l.align[f]="right":/^ *:-+: *$/.test(l.align[f])?l.align[f]="center":/^ *:-+ *$/.test(l.align[f])?l.align[f]="left":l.align[f]=null;for(f=0;f<l.cells.length;f++)l.cells[f]=v(l.cells[f].replace(/^ *\| *| *\| *$/g,""),l.header.length);this.tokens.push(l)}else if(i=this.rules.lheading.exec(e))e=e.substring(i[0].length),this.tokens.push({type:"heading",depth:"="===i[2].charAt(0)?1:2,text:i[1]});else if(t&&(i=this.rules.paragraph.exec(e)))e=e.substring(i[0].length),this.tokens.push({type:"paragraph",text:"\n"===i[1].charAt(i[1].length-1)?i[1].slice(0,-1):i[1]});else if(i=this.rules.text.exec(e))e=e.substring(i[0].length),this.tokens.push({type:"text",text:i[0]});else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0));return this.tokens};var o={escape:/^\\([!"#$%&'()*+,\-.\/:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:m,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,nolink:/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,strong:/^__([^\s_])__(?!_)|^\*\*([^\s*])\*\*(?!\*)|^__([^\s][\s\S]*?[^\s])__(?!_)|^\*\*([^\s][\s\S]*?[^\s])\*\*(?!\*)/,em:/^_([^\s_])_(?!_)|^\*([^\s*<\[])\*(?!\*)|^_([^\s<][\s\S]*?[^\s_])_(?!_|[^\spunctuation])|^_([^\s_<][\s\S]*?[^\s])_(?!_|[^\spunctuation])|^\*([^\s<"][\s\S]*?[^\s\*])\*(?!\*|[^\spunctuation])|^\*([^\s*"<\[][\s\S]*?[^\s])\*(?!\*)/,code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:m,text:/^(`+|[^`])(?:[\s\S]*?(?:(?=[\\<!\[`*]|\b_|$)|[^ ](?= {2,}\n))|(?= {2,}\n))/};function i(e,t){if(this.options=t||k.defaults,this.links=e,this.rules=o.normal,this.renderer=this.options.renderer||new s,this.renderer.options=this.options,!this.links)throw new Error("Tokens array requires a `links` property.");this.options.pedantic?this.rules=o.pedantic:this.options.gfm&&(this.options.breaks?this.rules=o.breaks:this.rules=o.gfm)}function s(e){this.options=e||k.defaults}function a(){}function l(e){this.tokens=[],this.token=null,this.options=e||k.defaults,this.options.renderer=this.options.renderer||new s,this.renderer=this.options.renderer,this.renderer.options=this.options,this.slugger=new c}function c(){this.seen={}}function u(e,t){if(t){if(u.escapeTest.test(e))return e.replace(u.escapeReplace,function(e){return u.replacements[e]})}else if(u.escapeTestNoEncode.test(e))return e.replace(u.escapeReplaceNoEncode,function(e){return u.replacements[e]});return e}function p(e){return e.replace(/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi,function(e,t){return"colon"===(t=t.toLowerCase())?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""})}function h(e,t){return e=e.source||e,t=t||"",{replace:function(t,n){return n=(n=n.source||n).replace(/(^|[^\[])\^/g,"$1"),e=e.replace(t,n),this},getRegex:function(){return new RegExp(e,t)}}}function d(e,t,n){if(e){try{var r=decodeURIComponent(p(n)).replace(/[^\w:]/g,"").toLowerCase()}catch(e){return null}if(0===r.indexOf("javascript:")||0===r.indexOf("vbscript:")||0===r.indexOf("data:"))return null}t&&!g.test(n)&&(n=function(e,t){f[" "+e]||(/^[^:]+:\/*[^\/]*$/.test(e)?f[" "+e]=e+"/":f[" "+e]=b(e,"/",!0));return e=f[" "+e],"//"===t.slice(0,2)?e.replace(/:[\s\S]*/,":")+t:"/"===t.charAt(0)?e.replace(/(:\/*[^\/]*)[\s\S]*/,"$1")+t:e+t}(t,n));try{n=encodeURI(n).replace(/%25/g,"%")}catch(e){return null}return n}o._punctuation="!\"#$%&'()*+,\\-./:;<=>?@\\[^_{|}~",o.em=h(o.em).replace(/punctuation/g,o._punctuation).getRegex(),o._escapes=/\\([!"#$%&'()*+,\-.\/:;<=>?@\[\]\\^_`{|}~])/g,o._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,o._email=/[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,o.autolink=h(o.autolink).replace("scheme",o._scheme).replace("email",o._email).getRegex(),o._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,o.tag=h(o.tag).replace("comment",n._comment).replace("attribute",o._attribute).getRegex(),o._label=/(?:\[[^\[\]]*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,o._href=/<(?:\\[<>]?|[^\s<>\\])*>|[^\s\x00-\x1f]*/,o._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,o.link=h(o.link).replace("label",o._label).replace("href",o._href).replace("title",o._title).getRegex(),o.reflink=h(o.reflink).replace("label",o._label).getRegex(),o.normal=y({},o),o.pedantic=y({},o.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/,link:h(/^!?\[(label)\]\((.*?)\)/).replace("label",o._label).getRegex(),reflink:h(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",o._label).getRegex()}),o.gfm=y({},o.normal,{escape:h(o.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^~+(?=\S)([\s\S]*?\S)~+/,text:/^(`+|[^`])(?:[\s\S]*?(?:(?=[\\<!\[`*~]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))|(?= {2,}\n|[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))/}),o.gfm.url=h(o.gfm.url,"i").replace("email",o.gfm._extended_email).getRegex(),o.breaks=y({},o.gfm,{br:h(o.br).replace("{2,}","*").getRegex(),text:h(o.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()}),i.rules=o,i.output=function(e,t,n){return new i(t,n).output(e)},i.prototype.output=function(e){for(var t,n,r,o,s,a,l="";e;)if(s=this.rules.escape.exec(e))e=e.substring(s[0].length),l+=u(s[1]);else if(s=this.rules.tag.exec(e))!this.inLink&&/^<a /i.test(s[0])?this.inLink=!0:this.inLink&&/^<\/a>/i.test(s[0])&&(this.inLink=!1),!this.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(s[0])?this.inRawBlock=!0:this.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(s[0])&&(this.inRawBlock=!1),e=e.substring(s[0].length),l+=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(s[0]):u(s[0]):s[0];else if(s=this.rules.link.exec(e)){var c=x(s[2],"()");if(c>-1){var p=4+s[1].length+c;s[2]=s[2].substring(0,c),s[0]=s[0].substring(0,p).trim(),s[3]=""}e=e.substring(s[0].length),this.inLink=!0,r=s[2],this.options.pedantic?(t=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(r))?(r=t[1],o=t[3]):o="":o=s[3]?s[3].slice(1,-1):"",r=r.trim().replace(/^<([\s\S]*)>$/,"$1"),l+=this.outputLink(s,{href:i.escapes(r),title:i.escapes(o)}),this.inLink=!1}else if((s=this.rules.reflink.exec(e))||(s=this.rules.nolink.exec(e))){if(e=e.substring(s[0].length),t=(s[2]||s[1]).replace(/\s+/g," "),!(t=this.links[t.toLowerCase()])||!t.href){l+=s[0].charAt(0),e=s[0].substring(1)+e;continue}this.inLink=!0,l+=this.outputLink(s,t),this.inLink=!1}else if(s=this.rules.strong.exec(e))e=e.substring(s[0].length),l+=this.renderer.strong(this.output(s[4]||s[3]||s[2]||s[1]));else if(s=this.rules.em.exec(e))e=e.substring(s[0].length),l+=this.renderer.em(this.output(s[6]||s[5]||s[4]||s[3]||s[2]||s[1]));else if(s=this.rules.code.exec(e))e=e.substring(s[0].length),l+=this.renderer.codespan(u(s[2].trim(),!0));else if(s=this.rules.br.exec(e))e=e.substring(s[0].length),l+=this.renderer.br();else if(s=this.rules.del.exec(e))e=e.substring(s[0].length),l+=this.renderer.del(this.output(s[1]));else if(s=this.rules.autolink.exec(e))e=e.substring(s[0].length),r="@"===s[2]?"mailto:"+(n=u(this.mangle(s[1]))):n=u(s[1]),l+=this.renderer.link(r,null,n);else if(this.inLink||!(s=this.rules.url.exec(e))){if(s=this.rules.text.exec(e))e=e.substring(s[0].length),this.inRawBlock?l+=this.renderer.text(this.options.sanitize?this.options.sanitizer?this.options.sanitizer(s[0]):u(s[0]):s[0]):l+=this.renderer.text(u(this.smartypants(s[0])));else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0))}else{if("@"===s[2])r="mailto:"+(n=u(s[0]));else{do{a=s[0],s[0]=this.rules._backpedal.exec(s[0])[0]}while(a!==s[0]);n=u(s[0]),r="www."===s[1]?"http://"+n:n}e=e.substring(s[0].length),l+=this.renderer.link(r,null,n)}return l},i.escapes=function(e){return e?e.replace(i.rules._escapes,"$1"):e},i.prototype.outputLink=function(e,t){var n=t.href,r=t.title?u(t.title):null;return"!"!==e[0].charAt(0)?this.renderer.link(n,r,this.output(e[1])):this.renderer.image(n,r,u(e[1]))},i.prototype.smartypants=function(e){return this.options.smartypants?e.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014\/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014\/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…"):e},i.prototype.mangle=function(e){if(!this.options.mangle)return e;for(var t,n="",r=e.length,o=0;o<r;o++)t=e.charCodeAt(o),Math.random()>.5&&(t="x"+t.toString(16)),n+="&#"+t+";";return n},s.prototype.code=function(e,t,n){var r=(t||"").match(/\S*/)[0];if(this.options.highlight){var o=this.options.highlight(e,r);null!=o&&o!==e&&(n=!0,e=o)}return r?'<pre><code class="'+this.options.langPrefix+u(r,!0)+'">'+(n?e:u(e,!0))+"</code></pre>\n":"<pre><code>"+(n?e:u(e,!0))+"</code></pre>"},s.prototype.blockquote=function(e){return"<blockquote>\n"+e+"</blockquote>\n"},s.prototype.html=function(e){return e},s.prototype.heading=function(e,t,n,r){return this.options.headerIds?"<h"+t+' id="'+this.options.headerPrefix+r.slug(n)+'">'+e+"</h"+t+">\n":"<h"+t+">"+e+"</h"+t+">\n"},s.prototype.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},s.prototype.list=function(e,t,n){var r=t?"ol":"ul";return"<"+r+(t&&1!==n?' start="'+n+'"':"")+">\n"+e+"</"+r+">\n"},s.prototype.listitem=function(e){return"<li>"+e+"</li>\n"},s.prototype.checkbox=function(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},s.prototype.paragraph=function(e){return"<p>"+e+"</p>\n"},s.prototype.table=function(e,t){return t&&(t="<tbody>"+t+"</tbody>"),"<table>\n<thead>\n"+e+"</thead>\n"+t+"</table>\n"},s.prototype.tablerow=function(e){return"<tr>\n"+e+"</tr>\n"},s.prototype.tablecell=function(e,t){var n=t.header?"th":"td";return(t.align?"<"+n+' align="'+t.align+'">':"<"+n+">")+e+"</"+n+">\n"},s.prototype.strong=function(e){return"<strong>"+e+"</strong>"},s.prototype.em=function(e){return"<em>"+e+"</em>"},s.prototype.codespan=function(e){return"<code>"+e+"</code>"},s.prototype.br=function(){return this.options.xhtml?"<br/>":"<br>"},s.prototype.del=function(e){return"<del>"+e+"</del>"},s.prototype.link=function(e,t,n){if(null===(e=d(this.options.sanitize,this.options.baseUrl,e)))return n;var r='<a href="'+u(e)+'"';return t&&(r+=' title="'+t+'"'),r+=">"+n+"</a>"},s.prototype.image=function(e,t,n){if(null===(e=d(this.options.sanitize,this.options.baseUrl,e)))return n;var r='<img src="'+e+'" alt="'+n+'"';return t&&(r+=' title="'+t+'"'),r+=this.options.xhtml?"/>":">"},s.prototype.text=function(e){return e},a.prototype.strong=a.prototype.em=a.prototype.codespan=a.prototype.del=a.prototype.text=function(e){return e},a.prototype.link=a.prototype.image=function(e,t,n){return""+n},a.prototype.br=function(){return""},l.parse=function(e,t){return new l(t).parse(e)},l.prototype.parse=function(e){this.inline=new i(e.links,this.options),this.inlineText=new i(e.links,y({},this.options,{renderer:new a})),this.tokens=e.reverse();for(var t="";this.next();)t+=this.tok();return t},l.prototype.next=function(){return this.token=this.tokens.pop(),this.token},l.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0},l.prototype.parseText=function(){for(var e=this.token.text;"text"===this.peek().type;)e+="\n"+this.next().text;return this.inline.output(e)},l.prototype.tok=function(){switch(this.token.type){case"space":return"";case"hr":return this.renderer.hr();case"heading":return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,p(this.inlineText.output(this.token.text)),this.slugger);case"code":return this.renderer.code(this.token.text,this.token.lang,this.token.escaped);case"table":var e,t,n,r,o="",i="";for(n="",e=0;e<this.token.header.length;e++)n+=this.renderer.tablecell(this.inline.output(this.token.header[e]),{header:!0,align:this.token.align[e]});for(o+=this.renderer.tablerow(n),e=0;e<this.token.cells.length;e++){for(t=this.token.cells[e],n="",r=0;r<t.length;r++)n+=this.renderer.tablecell(this.inline.output(t[r]),{header:!1,align:this.token.align[r]});i+=this.renderer.tablerow(n)}return this.renderer.table(o,i);case"blockquote_start":for(i="";"blockquote_end"!==this.next().type;)i+=this.tok();return this.renderer.blockquote(i);case"list_start":i="";for(var s=this.token.ordered,a=this.token.start;"list_end"!==this.next().type;)i+=this.tok();return this.renderer.list(i,s,a);case"list_item_start":i="";var l=this.token.loose,c=this.token.checked,u=this.token.task;for(this.token.task&&(i+=this.renderer.checkbox(c));"list_item_end"!==this.next().type;)i+=l||"text"!==this.token.type?this.tok():this.parseText();return this.renderer.listitem(i,u,c);case"html":return this.renderer.html(this.token.text);case"paragraph":return this.renderer.paragraph(this.inline.output(this.token.text));case"text":return this.renderer.paragraph(this.parseText());default:var h='Token with "'+this.token.type+'" type was not found.';if(!this.options.silent)throw new Error(h);console.log(h)}},c.prototype.slug=function(e){var t=e.toLowerCase().trim().replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,.\/:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-");if(this.seen.hasOwnProperty(t)){var n=t;do{this.seen[n]++,t=n+"-"+this.seen[n]}while(this.seen.hasOwnProperty(t))}return this.seen[t]=0,t},u.escapeTest=/[&<>"']/,u.escapeReplace=/[&<>"']/g,u.replacements={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},u.escapeTestNoEncode=/[<>"']|&(?!#?\w+;)/,u.escapeReplaceNoEncode=/[<>"']|&(?!#?\w+;)/g;var f={},g=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function m(){}function y(e){for(var t,n,r=1;r<arguments.length;r++)for(n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function v(e,t){var n=e.replace(/\|/g,function(e,t,n){for(var r=!1,o=t;--o>=0&&"\\"===n[o];)r=!r;return r?"|":" |"}).split(/ \|/),r=0;if(n.length>t)n.splice(t);else for(;n.length<t;)n.push("");for(;r<n.length;r++)n[r]=n[r].trim().replace(/\\\|/g,"|");return n}function b(e,t,n){if(0===e.length)return"";for(var r=0;r<e.length;){var o=e.charAt(e.length-r-1);if(o!==t||n){if(o===t||!n)break;r++}else r++}return e.substr(0,e.length-r)}function x(e,t){if(-1===e.indexOf(t[1]))return-1;for(var n=0,r=0;r<e.length;r++)if("\\"===e[r])r++;else if(e[r]===t[0])n++;else if(e[r]===t[1]&&--n<0)return r;return-1}function w(e){e&&e.sanitize&&!e.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function k(e,t,n){if(null==e)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof e)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");if(n||"function"==typeof t){n||(n=t,t=null),w(t=y({},k.defaults,t||{}));var o,i,s=t.highlight,a=0;try{o=r.lex(e,t)}catch(e){return n(e)}i=o.length;var c=function(e){if(e)return t.highlight=s,n(e);var r;try{r=l.parse(o,t)}catch(t){e=t}return t.highlight=s,e?n(e):n(null,r)};if(!s||s.length<3)return c();if(delete t.highlight,!i)return c();for(;a<o.length;a++)!function(e){"code"!==e.type?--i||c():s(e.text,e.lang,function(t,n){return t?c(t):null==n||n===e.text?--i||c():(e.text=n,e.escaped=!0,void(--i||c()))})}(o[a])}else try{return t&&(t=y({},k.defaults,t)),w(t),l.parse(r.lex(e,t),t)}catch(e){if(e.message+="\nPlease report this to https://github.com/markedjs/marked.",(t||k.defaults).silent)return"<p>An error occurred:</p><pre>"+u(e.message+"",!0)+"</pre>";throw e}}m.exec=m,k.options=k.setOptions=function(e){return y(k.defaults,e),k},k.getDefaults=function(){return{baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:new s,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,xhtml:!1}},k.defaults=k.getDefaults(),k.Parser=l,k.parser=l.parse,k.Renderer=s,k.TextRenderer=a,k.Lexer=r,k.lexer=r.lex,k.InlineLexer=i,k.inlineLexer=i.output,k.Slugger=c,k.parse=k,e.exports=k}(this||"undefined"!=typeof window&&window)}).call(this,n(31))},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";n.r(t);const r=new WeakMap,o=e=>(function(){const t=e(...arguments);return r.set(t,!0),t}),i=e=>"function"==typeof e&&r.has(e),s=void 0!==window.customElements&&void 0!==window.customElements.polyfillWrapFlushCallback,a=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;for(;t!==n;){const n=t.nextSibling;e.removeChild(t),t=n}},l={},c={},u="{{lit-".concat(String(Math.random()).slice(2),"}}"),p="\x3c!--".concat(u,"--\x3e"),h=new RegExp("".concat(u,"|").concat(p)),d="$lit$";class f{constructor(e,t){this.parts=[],this.element=t;const n=[],r=[],o=document.createTreeWalker(t.content,133,null,!1);let i=0,s=-1,a=0;const{strings:l,values:{length:c}}=e;for(;a<c;){const e=o.nextNode();if(null!==e){if(s++,1===e.nodeType){if(e.hasAttributes()){const t=e.attributes,{length:n}=t;let r=0;for(let e=0;e<n;e++)g(t[e].name,d)&&r++;for(;r-- >0;){const t=l[a],n=v.exec(t)[2],r=n.toLowerCase()+d,o=e.getAttribute(r);e.removeAttribute(r);const i=o.split(h);this.parts.push({type:"attribute",index:s,name:n,strings:i}),a+=i.length-1}}"TEMPLATE"===e.tagName&&(r.push(e),o.currentNode=e.content)}else if(3===e.nodeType){const t=e.data;if(t.indexOf(u)>=0){const r=e.parentNode,o=t.split(h),i=o.length-1;for(let t=0;t<i;t++){let n,i=o[t];if(""===i)n=y();else{const e=v.exec(i);null!==e&&g(e[2],d)&&(i=i.slice(0,e.index)+e[1]+e[2].slice(0,-d.length)+e[3]),n=document.createTextNode(i)}r.insertBefore(n,e),this.parts.push({type:"node",index:++s})}""===o[i]?(r.insertBefore(y(),e),n.push(e)):e.data=o[i],a+=i}}else if(8===e.nodeType)if(e.data===u){const t=e.parentNode;null!==e.previousSibling&&s!==i||(s++,t.insertBefore(y(),e)),i=s,this.parts.push({type:"node",index:s}),null===e.nextSibling?e.data="":(n.push(e),s--),a++}else{let t=-1;for(;-1!==(t=e.data.indexOf(u,t+1));)this.parts.push({type:"node",index:-1}),a++}}else o.currentNode=r.pop()}for(const e of n)e.parentNode.removeChild(e)}}const g=(e,t)=>{const n=e.length-t.length;return n>=0&&e.slice(n)===t},m=e=>-1!==e.index,y=()=>document.createComment(""),v=/([ \x09\x0a\x0c\x0d])([^\0-\x1F\x7F-\x9F "'>=\/]+)([ \x09\x0a\x0c\x0d]*=[ \x09\x0a\x0c\x0d]*(?:[^ \x09\x0a\x0c\x0d"'`<>=]*|"[^"]*|'[^']*))$/;class b{constructor(e,t,n){this.__parts=[],this.template=e,this.processor=t,this.options=n}update(e){let t=0;for(const n of this.__parts)void 0!==n&&n.setValue(e[t]),t++;for(const e of this.__parts)void 0!==e&&e.commit()}_clone(){const e=s?this.template.element.content.cloneNode(!0):document.importNode(this.template.element.content,!0),t=[],n=this.template.parts,r=document.createTreeWalker(e,133,null,!1);let o,i=0,a=0,l=r.nextNode();for(;i<n.length;)if(o=n[i],m(o)){for(;a<o.index;)a++,"TEMPLATE"===l.nodeName&&(t.push(l),r.currentNode=l.content),null===(l=r.nextNode())&&(r.currentNode=t.pop(),l=r.nextNode());if("node"===o.type){const e=this.processor.handleTextExpression(this.options);e.insertAfterNode(l.previousSibling),this.__parts.push(e)}else this.__parts.push(...this.processor.handleAttributeExpressions(l,o.name,o.strings,this.options));i++}else this.__parts.push(void 0),i++;return s&&(document.adoptNode(e),customElements.upgrade(e)),e}}class x{constructor(e,t,n,r){this.strings=e,this.values=t,this.type=n,this.processor=r}getHTML(){const e=this.strings.length-1;let t="",n=!1;for(let r=0;r<e;r++){const e=this.strings[r],o=e.lastIndexOf("\x3c!--");n=(o>-1||n)&&-1===e.indexOf("--\x3e",o+1);const i=v.exec(e);t+=null===i?e+(n?u:p):e.substr(0,i.index)+i[1]+i[2]+d+i[3]+u}return t+=this.strings[e]}getTemplateElement(){const e=document.createElement("template");return e.innerHTML=this.getHTML(),e}}const w=e=>null===e||!("object"==typeof e||"function"==typeof e),k=e=>Array.isArray(e)||!(!e||!e[Symbol.iterator]);class _{constructor(e,t,n){this.dirty=!0,this.element=e,this.name=t,this.strings=n,this.parts=[];for(let e=0;e<n.length-1;e++)this.parts[e]=this._createPart()}_createPart(){return new S(this)}_getValue(){const e=this.strings,t=e.length-1;let n="";for(let r=0;r<t;r++){n+=e[r];const t=this.parts[r];if(void 0!==t){const e=t.value;if(w(e)||!k(e))n+="string"==typeof e?e:String(e);else for(const t of e)n+="string"==typeof t?t:String(t)}}return n+=e[t]}commit(){this.dirty&&(this.dirty=!1,this.element.setAttribute(this.name,this._getValue()))}}class S{constructor(e){this.value=void 0,this.committer=e}setValue(e){e===l||w(e)&&e===this.value||(this.value=e,i(e)||(this.committer.dirty=!0))}commit(){for(;i(this.value);){const e=this.value;this.value=l,e(this)}this.value!==l&&this.committer.commit()}}class C{constructor(e){this.value=void 0,this.__pendingValue=void 0,this.options=e}appendInto(e){this.startNode=e.appendChild(y()),this.endNode=e.appendChild(y())}insertAfterNode(e){this.startNode=e,this.endNode=e.nextSibling}appendIntoPart(e){e.__insert(this.startNode=y()),e.__insert(this.endNode=y())}insertAfterPart(e){e.__insert(this.startNode=y()),this.endNode=e.endNode,e.endNode=this.startNode}setValue(e){this.__pendingValue=e}commit(){for(;i(this.__pendingValue);){const e=this.__pendingValue;this.__pendingValue=l,e(this)}const e=this.__pendingValue;e!==l&&(w(e)?e!==this.value&&this.__commitText(e):e instanceof x?this.__commitTemplateResult(e):e instanceof Node?this.__commitNode(e):k(e)?this.__commitIterable(e):e===c?(this.value=c,this.clear()):this.__commitText(e))}__insert(e){this.endNode.parentNode.insertBefore(e,this.endNode)}__commitNode(e){this.value!==e&&(this.clear(),this.__insert(e),this.value=e)}__commitText(e){const t=this.startNode.nextSibling;e=null==e?"":e,t===this.endNode.previousSibling&&3===t.nodeType?t.data=e:this.__commitNode(document.createTextNode("string"==typeof e?e:String(e))),this.value=e}__commitTemplateResult(e){const t=this.options.templateFactory(e);if(this.value instanceof b&&this.value.template===t)this.value.update(e.values);else{const n=new b(t,e.processor,this.options),r=n._clone();n.update(e.values),this.__commitNode(r),this.value=n}}__commitIterable(e){Array.isArray(this.value)||(this.value=[],this.clear());const t=this.value;let n,r=0;for(const o of e)void 0===(n=t[r])&&(n=new C(this.options),t.push(n),0===r?n.appendIntoPart(this):n.insertAfterPart(t[r-1])),n.setValue(o),n.commit(),r++;r<t.length&&(t.length=r,this.clear(n&&n.endNode))}clear(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.startNode;a(this.startNode.parentNode,e.nextSibling,this.endNode)}}class E{constructor(e,t,n){if(this.value=void 0,this.__pendingValue=void 0,2!==n.length||""!==n[0]||""!==n[1])throw new Error("Boolean attributes can only contain a single expression");this.element=e,this.name=t,this.strings=n}setValue(e){this.__pendingValue=e}commit(){for(;i(this.__pendingValue);){const e=this.__pendingValue;this.__pendingValue=l,e(this)}if(this.__pendingValue===l)return;const e=!!this.__pendingValue;this.value!==e&&(e?this.element.setAttribute(this.name,""):this.element.removeAttribute(this.name),this.value=e),this.__pendingValue=l}}class O extends _{constructor(e,t,n){super(e,t,n),this.single=2===n.length&&""===n[0]&&""===n[1]}_createPart(){return new T(this)}_getValue(){return this.single?this.parts[0].value:super._getValue()}commit(){this.dirty&&(this.dirty=!1,this.element[this.name]=this._getValue())}}class T extends S{}let P=!1;try{const e={get capture(){return P=!0,!1}};window.addEventListener("test",e,e),window.removeEventListener("test",e,e)}catch(e){}class A{constructor(e,t,n){this.value=void 0,this.__pendingValue=void 0,this.element=e,this.eventName=t,this.eventContext=n,this.__boundHandleEvent=(e=>this.handleEvent(e))}setValue(e){this.__pendingValue=e}commit(){for(;i(this.__pendingValue);){const e=this.__pendingValue;this.__pendingValue=l,e(this)}if(this.__pendingValue===l)return;const e=this.__pendingValue,t=this.value,n=null==e||null!=t&&(e.capture!==t.capture||e.once!==t.once||e.passive!==t.passive),r=null!=e&&(null==t||n);n&&this.element.removeEventListener(this.eventName,this.__boundHandleEvent,this.__options),r&&(this.__options=R(e),this.element.addEventListener(this.eventName,this.__boundHandleEvent,this.__options)),this.value=e,this.__pendingValue=l}handleEvent(e){"function"==typeof this.value?this.value.call(this.eventContext||this.element,e):this.value.handleEvent(e)}}const R=e=>e&&(P?{capture:e.capture,passive:e.passive,once:e.once}:e.capture);const z=new class{handleAttributeExpressions(e,t,n,r){const o=t[0];return"."===o?new O(e,t.slice(1),n).parts:"@"===o?[new A(e,t.slice(1),r.eventContext)]:"?"===o?[new E(e,t.slice(1),n)]:new _(e,t,n).parts}handleTextExpression(e){return new C(e)}};function N(e){let t=j.get(e.type);void 0===t&&(t={stringsArray:new WeakMap,keyString:new Map},j.set(e.type,t));let n=t.stringsArray.get(e.strings);if(void 0!==n)return n;const r=e.strings.join(u);return void 0===(n=t.keyString.get(r))&&(n=new f(e,e.getTemplateElement()),t.keyString.set(r,n)),t.stringsArray.set(e.strings,n),n}const j=new Map,q=new WeakMap;(window.litHtmlVersions||(window.litHtmlVersions=[])).push("1.0.0");const L=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return new x(e,n,"html",z)},B=133;function D(e,t){const{element:{content:n},parts:r}=e,o=document.createTreeWalker(n,B,null,!1);let i=F(r),s=r[i],a=-1,l=0;const c=[];let u=null;for(;o.nextNode();){a++;const e=o.currentNode;for(e.previousSibling===u&&(u=null),t.has(e)&&(c.push(e),null===u&&(u=e)),null!==u&&l++;void 0!==s&&s.index===a;)s.index=null!==u?-1:s.index-l,s=r[i=F(r,i)]}c.forEach(e=>e.parentNode.removeChild(e))}const I=e=>{let t=11===e.nodeType?0:1;const n=document.createTreeWalker(e,B,null,!1);for(;n.nextNode();)t++;return t},F=function(e){for(let t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1)+1;t<e.length;t++){const n=e[t];if(m(n))return t}return-1};const U=(e,t)=>"".concat(e,"--").concat(t);let $=!0;void 0===window.ShadyCSS?$=!1:void 0===window.ShadyCSS.prepareTemplateDom&&(console.warn("Incompatible ShadyCSS version detected. Please update to at least @webcomponents/webcomponentsjs@2.0.2 and @webcomponents/shadycss@1.3.1."),$=!1);const M=e=>t=>{const n=U(t.type,e);let r=j.get(n);void 0===r&&(r={stringsArray:new WeakMap,keyString:new Map},j.set(n,r));let o=r.stringsArray.get(t.strings);if(void 0!==o)return o;const i=t.strings.join(u);if(void 0===(o=r.keyString.get(i))){const n=t.getTemplateElement();$&&window.ShadyCSS.prepareTemplateDom(n,e),o=new f(t,n),r.keyString.set(i,o)}return r.stringsArray.set(t.strings,o),o},V=["html","svg"],H=new Set,W=(e,t,n)=>{H.add(n);const r=e.querySelectorAll("style"),{length:o}=r;if(0===o)return void window.ShadyCSS.prepareTemplateStyles(t.element,n);const i=document.createElement("style");for(let e=0;e<o;e++){const t=r[e];t.parentNode.removeChild(t),i.textContent+=t.textContent}(e=>{V.forEach(t=>{const n=j.get(U(t,e));void 0!==n&&n.keyString.forEach(e=>{const{element:{content:t}}=e,n=new Set;Array.from(t.querySelectorAll("style")).forEach(e=>{n.add(e)}),D(e,n)})})})(n);const s=t.element.content;!function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const{element:{content:r},parts:o}=e;if(null==n)return void r.appendChild(t);const i=document.createTreeWalker(r,B,null,!1);let s=F(o),a=0,l=-1;for(;i.nextNode();)for(l++,i.currentNode===n&&(a=I(t),n.parentNode.insertBefore(t,n));-1!==s&&o[s].index===l;){if(a>0){for(;-1!==s;)o[s].index+=a,s=F(o,s);return}s=F(o,s)}}(t,i,s.firstChild),window.ShadyCSS.prepareTemplateStyles(t.element,n);const a=s.querySelector("style");if(window.ShadyCSS.nativeShadow&&null!==a)e.insertBefore(a.cloneNode(!0),e.firstChild);else{s.insertBefore(i,s.firstChild);const e=new Set;e.add(i),D(t,e)}};window.JSCompiler_renameProperty=((e,t)=>e);const Z={toAttribute(e,t){switch(t){case Boolean:return e?"":null;case Object:case Array:return null==e?e:JSON.stringify(e)}return e},fromAttribute(e,t){switch(t){case Boolean:return null!==e;case Number:return null===e?null:Number(e);case Object:case Array:return JSON.parse(e)}return e}},X=(e,t)=>t!==e&&(t==t||e==e),K={attribute:!0,type:String,converter:Z,reflect:!1,hasChanged:X},J=Promise.resolve(!0),Y=1,Q=4,G=8,ee=16,te=32;class ne extends HTMLElement{constructor(){super(),this._updateState=0,this._instanceProperties=void 0,this._updatePromise=J,this._hasConnectedResolver=void 0,this._changedProperties=new Map,this._reflectingProperties=void 0,this.initialize()}static get observedAttributes(){this.finalize();const e=[];return this._classProperties.forEach((t,n)=>{const r=this._attributeNameForProperty(n,t);void 0!==r&&(this._attributeToPropertyMap.set(r,n),e.push(r))}),e}static _ensureClassProperties(){if(!this.hasOwnProperty(JSCompiler_renameProperty("_classProperties",this))){this._classProperties=new Map;const e=Object.getPrototypeOf(this)._classProperties;void 0!==e&&e.forEach((e,t)=>this._classProperties.set(t,e))}}static createProperty(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:K;if(this._ensureClassProperties(),this._classProperties.set(e,t),t.noAccessor||this.prototype.hasOwnProperty(e))return;const n="symbol"==typeof e?Symbol():"__".concat(e);Object.defineProperty(this.prototype,e,{get(){return this[n]},set(t){const r=this[e];this[n]=t,this._requestUpdate(e,r)},configurable:!0,enumerable:!0})}static finalize(){if(this.hasOwnProperty(JSCompiler_renameProperty("finalized",this))&&this.finalized)return;const e=Object.getPrototypeOf(this);if("function"==typeof e.finalize&&e.finalize(),this.finalized=!0,this._ensureClassProperties(),this._attributeToPropertyMap=new Map,this.hasOwnProperty(JSCompiler_renameProperty("properties",this))){const e=this.properties,t=[...Object.getOwnPropertyNames(e),..."function"==typeof Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e):[]];for(const n of t)this.createProperty(n,e[n])}}static _attributeNameForProperty(e,t){const n=t.attribute;return!1===n?void 0:"string"==typeof n?n:"string"==typeof e?e.toLowerCase():void 0}static _valueHasChanged(e,t){return(arguments.length>2&&void 0!==arguments[2]?arguments[2]:X)(e,t)}static _propertyValueFromAttribute(e,t){const n=t.type,r=t.converter||Z,o="function"==typeof r?r:r.fromAttribute;return o?o(e,n):e}static _propertyValueToAttribute(e,t){if(void 0===t.reflect)return;const n=t.type,r=t.converter;return(r&&r.toAttribute||Z.toAttribute)(e,n)}initialize(){this._saveInstanceProperties(),this._requestUpdate()}_saveInstanceProperties(){this.constructor._classProperties.forEach((e,t)=>{if(this.hasOwnProperty(t)){const e=this[t];delete this[t],this._instanceProperties||(this._instanceProperties=new Map),this._instanceProperties.set(t,e)}})}_applyInstanceProperties(){this._instanceProperties.forEach((e,t)=>this[t]=e),this._instanceProperties=void 0}connectedCallback(){this._updateState=this._updateState|te,this._hasConnectedResolver&&(this._hasConnectedResolver(),this._hasConnectedResolver=void 0)}disconnectedCallback(){}attributeChangedCallback(e,t,n){t!==n&&this._attributeToProperty(e,n)}_propertyToAttribute(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:K;const r=this.constructor,o=r._attributeNameForProperty(e,n);if(void 0!==o){const e=r._propertyValueToAttribute(t,n);if(void 0===e)return;this._updateState=this._updateState|G,null==e?this.removeAttribute(o):this.setAttribute(o,e),this._updateState=this._updateState&~G}}_attributeToProperty(e,t){if(this._updateState&G)return;const n=this.constructor,r=n._attributeToPropertyMap.get(e);if(void 0!==r){const e=n._classProperties.get(r)||K;this._updateState=this._updateState|ee,this[r]=n._propertyValueFromAttribute(t,e),this._updateState=this._updateState&~ee}}_requestUpdate(e,t){let n=!0;if(void 0!==e){const r=this.constructor,o=r._classProperties.get(e)||K;r._valueHasChanged(this[e],t,o.hasChanged)?(this._changedProperties.has(e)||this._changedProperties.set(e,t),!0!==o.reflect||this._updateState&ee||(void 0===this._reflectingProperties&&(this._reflectingProperties=new Map),this._reflectingProperties.set(e,o))):n=!1}!this._hasRequestedUpdate&&n&&this._enqueueUpdate()}requestUpdate(e,t){return this._requestUpdate(e,t),this.updateComplete}async _enqueueUpdate(){let e,t;this._updateState=this._updateState|Q;const n=this._updatePromise;this._updatePromise=new Promise((n,r)=>{e=n,t=r});try{await n}catch(e){}this._hasConnected||await new Promise(e=>this._hasConnectedResolver=e);try{const e=this.performUpdate();null!=e&&await e}catch(e){t(e)}e(!this._hasRequestedUpdate)}get _hasConnected(){return this._updateState&te}get _hasRequestedUpdate(){return this._updateState&Q}get hasUpdated(){return this._updateState&Y}performUpdate(){this._instanceProperties&&this._applyInstanceProperties();let e=!1;const t=this._changedProperties;try{(e=this.shouldUpdate(t))&&this.update(t)}catch(t){throw e=!1,t}finally{this._markUpdated()}e&&(this._updateState&Y||(this._updateState=this._updateState|Y,this.firstUpdated(t)),this.updated(t))}_markUpdated(){this._changedProperties=new Map,this._updateState=this._updateState&~Q}get updateComplete(){return this._updatePromise}shouldUpdate(e){return!0}update(e){void 0!==this._reflectingProperties&&this._reflectingProperties.size>0&&(this._reflectingProperties.forEach((e,t)=>this._propertyToAttribute(t,this[t],e)),this._reflectingProperties=void 0)}updated(e){}firstUpdated(e){}}ne.finalized=!0;const re=e=>t=>"function"==typeof t?((e,t)=>(window.customElements.define(e,t),t))(e,t):((e,t)=>{const{kind:n,elements:r}=t;return{kind:n,elements:r,finisher(t){window.customElements.define(e,t)}}})(e,t),oe=(e,t)=>"method"!==t.kind||!t.descriptor||"value"in t.descriptor?{kind:"field",key:Symbol(),placement:"own",descriptor:{},initializer(){"function"==typeof t.initializer&&(this[t.key]=t.initializer.call(this))},finisher(n){n.createProperty(t.key,e)}}:Object.assign({},t,{finisher(n){n.createProperty(t.key,e)}}),ie=(e,t,n)=>{t.constructor.createProperty(n,e)};function se(e){return(t,n)=>void 0!==n?ie(e,t,n):oe(e,t)}const ae="adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,le=Symbol();class ce{constructor(e,t){if(t!==le)throw new Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e}get styleSheet(){return void 0===this._styleSheet&&(ae?(this._styleSheet=new CSSStyleSheet,this._styleSheet.replaceSync(this.cssText)):this._styleSheet=null),this._styleSheet}toString(){return this.cssText}}const ue=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const o=n.reduce((t,n,r)=>t+(e=>{if(e instanceof ce)return e.cssText;throw new Error("Value passed to 'css' function must be a 'css' function result: ".concat(e,". Use 'unsafeCSS' to pass non-literal values, but\n            take care to ensure page security."))})(n)+e[r+1],e[0]);return new ce(o,le)};(window.litElementVersions||(window.litElementVersions=[])).push("2.0.1");const pe=e=>e.flat?e.flat(1/0):function e(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];for(let r=0,o=t.length;r<o;r++){const o=t[r];Array.isArray(o)?e(o,n):n.push(o)}return n}(e);class he extends ne{static finalize(){super.finalize(),this._styles=this.hasOwnProperty(JSCompiler_renameProperty("styles",this))?this._getUniqueStyles():this._styles||[]}static _getUniqueStyles(){const e=this.styles,t=[];if(Array.isArray(e)){pe(e).reduceRight((e,t)=>(e.add(t),e),new Set).forEach(e=>t.unshift(e))}else e&&t.push(e);return t}initialize(){super.initialize(),this.renderRoot=this.createRenderRoot(),window.ShadowRoot&&this.renderRoot instanceof window.ShadowRoot&&this.adoptStyles()}createRenderRoot(){return this.attachShadow({mode:"open"})}adoptStyles(){const e=this.constructor._styles;0!==e.length&&(void 0===window.ShadyCSS||window.ShadyCSS.nativeShadow?ae?this.renderRoot.adoptedStyleSheets=e.map(e=>e.styleSheet):this._needsShimAdoptedStyleSheets=!0:window.ShadyCSS.ScopingShim.prepareAdoptedCssText(e.map(e=>e.cssText),this.localName))}connectedCallback(){super.connectedCallback(),this.hasUpdated&&void 0!==window.ShadyCSS&&window.ShadyCSS.styleElement(this)}update(e){super.update(e);const t=this.render();t instanceof x&&this.constructor.render(t,this.renderRoot,{scopeName:this.localName,eventContext:this}),this._needsShimAdoptedStyleSheets&&(this._needsShimAdoptedStyleSheets=!1,this.constructor._styles.forEach(e=>{const t=document.createElement("style");t.textContent=e.cssText,this.renderRoot.appendChild(t)}))}render(){}}he.finalized=!0,he.render=((e,t,n)=>{const r=n.scopeName,o=q.has(t),i=$&&11===t.nodeType&&!!t.host&&e instanceof x,s=i&&!H.has(r),l=s?document.createDocumentFragment():t;if(((e,t,n)=>{let r=q.get(t);void 0===r&&(a(t,t.firstChild),q.set(t,r=new C(Object.assign({templateFactory:N},n))),r.appendInto(t)),r.setValue(e),r.commit()})(e,l,Object.assign({templateFactory:M(r)},n)),s){const e=q.get(l);q.delete(l),e.value instanceof b&&W(l,e.value.template,r),a(t,t.firstChild),t.appendChild(l),q.set(t,e)}!o&&i&&window.ShadyCSS.styleElement(t.host)});var de=n(1),fe=n.n(de);const ge=e=>{for(const t of document.cookie.split(";")){const n=t.indexOf("=");let r=t.substr(0,n),o=t.substr(n+1);if(r=r.trim(),o=o.trim(),r===e)return o}return null},me=e=>{const t=[];Object.keys(e).forEach(n=>{e[n]&&t.push(n)});let n=t.join(" ");return n.trim().length>0&&(n=" "+n),n},ye=e=>new Promise((t,n)=>{ve(e).then(e=>{t({assets:e.data.results,next:e.data.next})}).catch(e=>n(e))}),ve=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=ge("csrftoken"),r={headers:n?{"X-CSRFToken":n}:{}};return t&&(r.cancelToken=t),fe.a.get(e,r)};var be=n(3),xe=n.n(be);function we(){const e=Re(['<div id="left-column"><div class="search"><rp-select placeholder="Search" endpoint="',"boundaries/",'/?q=" .renderOptionDetail="','" @rp-selection="','"></rp-select></div><div class="feature-tree">','</div></div><div id="right-column"><leaflet-map endpoint="','" .feature="','" .osmId="','" .hovered="','" .onFeatureClicked="','"></leaflet-map></div><rp-dialog id="alias-dialog" title="Aliases for ','" primaryButtonName="Save" .onButtonClicked="','"><div class="selected"><textarea id="','" .value="','"></textarea><div class="help">Enter other aliases for ',", one per line</div></div></rp-dialog>"]);return we=function(){return e},e}function ke(){const e=Re([""]);return ke=function(){return e},e}function _e(){const e=Re(["",'<div class="path">','</div><div class="aliases">',"</div>"]);return _e=function(){return e},e}function Se(){const e=Re(['<rp-label class="alias" dark>',"</rp-label>"]);return Se=function(){return e},e}function Ce(){const e=Re(["<style>rp-label {\n          margin-top: 3px;\n          margin-right: 3px;\n        }</style>"]);return Ce=function(){return e},e}function Ee(){const e=Re([""," ",""]);return Ee=function(){return e},e}function Oe(){const e=Re(['<div class="edit clickable showonhover" @click="','"><rp-icon name="register" size="12"></rp-icon></div>']);return Oe=function(){return e},e}function Te(){const e=Re(['<rp-label class="alias" @click="','" light clickable>',"</rp-label>"]);return Te=function(){return e},e}function Pe(){const e=Re(['<div class="feature"><div @mouseover="','" @mouseout="','" class="level-','"><div class="feature-name ','" @click="','">','</div><div class="aliases">'," ","</div></div></div>"]);return Pe=function(){return e},e}function Ae(){const e=Re([":host {\n        line-height: normal;\n      }\n\n      textarea {\n        border-radius: 5px;\n        border-color: var(--color-borders);\n        padding: 10px;\n        color: var(--color-text);\n        font-size: 14px;\n        resize: none;\n      }\n\n      textarea:focus {\n        box-shadow: none;\n        outline: none;\n      }\n\n      #left-column {\n        display: inline-block;\n        margin-left: 10px;\n        width: 300px;\n        z-index: 100;\n      }\n\n      .search {\n        margin-bottom: 10px;\n      }\n\n      .feature {\n        padding: 4px 14px;\n        font-size: 16px;\n      }\n\n      .level-0 {\n        margin-left: 0px;\n      }\n\n      .level-1 {\n        margin-left: 5px;\n        font-size: 95%;\n      }\n\n      .level-2 {\n        margin-left: 10px;\n        font-size: 90%;\n      }\n\n      .level-3 {\n        margin-left: 15px;\n        font-size: 85%;\n      }\n\n      .feature-name {\n        display: inline-block;\n      }\n\n      .clickable {\n        text-decoration: none;\n        cursor: pointer;\n        color: var(--color-link-primary);\n      }\n\n      .clickable.secondary {\n        color: var(--color-link-secondary);\n      }\n\n      .clickable:hover {\n        text-decoration: underline;\n        color: var(--color-link-primary-hover);\n      }\n\n      .feature:hover .showonhover {\n        visibility: visible;\n      }\n\n      .showonhover {\n        visibility: hidden;\n      }\n\n      .aliases {\n        color: #bbb;\n        font-size: 80%;\n        display: inline;\n        margin-left: 5px;\n      }\n\n      rp-label {\n        margin-right: 3px;\n        margin-bottom: 3px;\n        vertical-align: top;\n      }\n\n      .selected {\n        display: flex;\n        flex-direction: column;\n        padding: 15px;\n      }\n\n      .selected .name {\n        font-size: 18px;\n        padding: 5px;\n      }\n\n      .selected .help {\n        padding: 5px 2px;\n        font-size: 11px;\n        color: var(--color-secondary-light);\n      }\n\n      #right-column {\n        vertical-align: top;\n        margin-left: 20px;\n        display: inline-block;\n      }\n\n      leaflet-map {\n        height: 250px;\n        width: 450px;\n        border: 0px solid #999;\n        border-radius: 5px;\n      }\n\n      .edit {\n        display: inline-block;\n        margin-right: 0px;\n      }"]);return Ae=function(){return e},e}function Re(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var ze=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};let Ne=class extends he{constructor(){super(),this.path=[]}static get styles(){return ue(Ae())}updated(e){if(e.has("osmId")){const e=[];for(let t of this.path)if(e.push(t),t.osm_id===this.osmId)return this.path=[...e],void this.hideAliasDialog();this.fetchFeature()}}fetchFeature(){ve(this.getEndpoint()+"boundaries/"+this.osmId+"/").then(e=>{this.path=e.data,this.hideAliasDialog()})}fireTextareaAutosize(){window.setTimeout(()=>{xe()(this.shadowRoot.querySelector("textarea")),xe.a.update(this.shadowRoot.querySelector("textarea"))},0)}handleMapClicked(e){this.hovered=null,e&&e.osm_id===this.osmId||(this.osmId=e.osm_id)}handlePlaceClicked(e){this.osmId=e.osm_id}handleSearchSelection(e){const t=e.detail.selected;this.showAliasDialog(t)}renderFeature(e,t){const n=this.path[this.path.length-1],r=(e.has_children||0===e.level)&&e!==n,o=L(Pe(),()=>{e.level>0&&(this.hovered=e)},()=>{this.hovered=null},e.level,r?"clickable":"",()=>{r&&this.handlePlaceClicked(e)},e.name,e.aliases.split("\n").map(t=>t.trim().length>0?L(Te(),()=>{this.showAliasDialog(e)},t):null),e.level>0?L(Oe(),t=>{this.showAliasDialog(e),t.preventDefault(),t.stopPropagation()}):""),i=(e.children||[]).map(e=>t.length>0&&t[0].osm_id===e.osm_id?this.renderFeature(t[0],t.slice(1)):0===t.length||0===t[0].children.length?this.renderFeature(e,t):null);return L(Ee(),o,i)}showAliasDialog(e){this.editFeature=e;const t=this.shadowRoot.getElementById("alias-dialog");t&&(this.fireTextareaAutosize(),t.setAttribute("open",""))}hideAliasDialog(){const e=this.shadowRoot.getElementById("alias-dialog");e&&e.removeAttribute("open"),this.requestUpdate()}getEndpoint(){return this.endpoint+(this.endpoint.endsWith("/")?"":"/")}handleDialogClick(e){if("Save"===e.name){e.setProgress(!0);const t=this.shadowRoot.getElementById(this.editFeature.osm_id).value,n={osm_id:this.editFeature.osm_id,aliases:t};((e,t)=>{const n=ge("csrftoken"),r=n?{"X-CSRFToken":n}:{};return fe.a.post(e,t,{headers:r})})(this.getEndpoint()+"boundaries/"+this.editFeature.osm_id+"/",n).then(e=>{this.fetchFeature()})}"Cancel"===e.name&&this.hideAliasDialog()}renderOptionDetail(e,t){const n=L(Ce()),r=e.aliases.split("\n").map(e=>e.trim().length>0?L(Se(),e):null);return L(_e(),n,e.path.replace(/>/gi,"‣"),r)}render(){if(0===this.path.length)return L(ke());const e=this.path[this.path.length-1],t=0===e.children.length?this.path[this.path.length-2]:e,n=this.editFeature?this.editFeature.osm_id:null,r=this.editFeature?this.editFeature.name:null,o=this.editFeature?this.editFeature.aliases:null;return L(we(),this.getEndpoint(),this.path[0].osm_id,this.renderOptionDetail,this.handleSearchSelection.bind(this),this.renderFeature(this.path[0],this.path.slice(1)),this.getEndpoint(),t,t.osm_id,this.hovered,this.handleMapClicked.bind(this),r,this.handleDialogClick.bind(this),n,o,r)}};ze([se({type:Array,attribute:!1})],Ne.prototype,"path",void 0),ze([se()],Ne.prototype,"endpoint",void 0),ze([se()],Ne.prototype,"osmId",void 0),ze([se({type:Object})],Ne.prototype,"hovered",void 0),ze([se({type:Object})],Ne.prototype,"editFeature",void 0);Ne=ze([re("alias-editor")],Ne);function je(){const e=Le(['<div class="button ','" tabindex="0" @keyup="','"><div class="mask">',"</div></div>"]);return je=function(){return e},e}function qe(){const e=Le([".button {\n        background: blue;\n        color: #fff;\n        cursor: pointer;\n        display: inline-block;\n        border-radius: var(--curvature);\n        outline: none;\n      }\n\n      .button:focus {\n        outline: none;\n        margin: 0;\n      }\n\n      .button:focus .mask{\n        background: rgb(0,0,0,.1);\n        box-shadow: 0 0 0px 2px var(--color-button-primary);\n      }\n\n      .button.secondary:focus .mask{\n        border: 1px solid var(--color-button-secondary);\n        background: transparent;\n        box-shadow: 0 0 0px 2px var(--color-button-secondary);\n      }\n\n      .mask {\n        padding: 5px 10px;\n        border-radius: var(--curvature);\n        border: 1px solid transparent;\n      }\n\n      .primary {\n        background: var(--color-button-primary);\n        color: var(--color-button-primary-text);\n      }\n\n      .secondary {\n        background: transparent;\n        color: var(--color-button-secondary);\n      }\n\n      .secondary:hover .mask{\n        border: 1px solid var(--color-button-secondary);\n      }\n\n      .button.progress{\n        background: #ddd;\n      }\n\n      .button.progress:focus .mask {\n        box-shadow: 0 0 0px 2px var(--color-button-secondary);\n      }\n\n      .mask:hover {\n        background: rgb(0,0,0,.1);\n      }\n\n      .secondary .mask:hover {\n        background: transparent;\n      }"]);return qe=function(){return e},e}function Le(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var Be=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};let De=class extends he{static get styles(){return ue(qe())}setProgress(e){this.isProgress=e}handleKeyUp(e){"Enter"===e.key&&this.click()}render(){return L(je(),me({progress:this.isProgress,primary:this.primary,secondary:this.secondary}),this.handleKeyUp,this.isProgress&&this.inProgessName||this.name)}};Be([se({type:Boolean})],De.prototype,"primary",void 0),Be([se({type:Boolean})],De.prototype,"secondary",void 0),Be([se()],De.prototype,"name",void 0),Be([se()],De.prototype,"inProgessName",void 0),Be([se({type:Boolean})],De.prototype,"isProgress",void 0);De=Be([re("rp-button")],De);function Ie(){const e=$e(["<slot></slot>"]);return Ie=function(){return e},e}function Fe(){const e=$e(["<style>.mask {\n            height: ",'px;\n          }\n          .mask.open > .dialog {\n            top: 100px;\n          }</style><div class="mask ','"><div @keyup="','" class="dialog"><div class="header"><div class="title">','</div></div><div class="body" @keypress="','">','</div><div class="footer"><rp-button @click="','" name="','" inProgessName="','" primary>}</rp-button><rp-button @click="','" name="','" secondary></rp-button></div></div></div>']);return Fe=function(){return e},e}function Ue(){const e=$e([".mask {\n        width: 100%;\n        background: rgba(0, 0, 0, .5);\n        opacity: 0;\n        visibility: hidden;\n        position: fixed;\n        top:0px;\n        left:0px;\n        z-index: 2000;\n        transition: all ease-in 250ms;\n      }\n\n      .dialog {\n        background: #fff;\n        width: 500px;\n        margin: 0px auto; \n        top: -200px;\n        position: relative;\n        transition: top ease-in-out 200ms;\n        border-radius: var(--curvature);\n        overflow: hidden;\n        box-shadow: 0px 0px 0px 4px rgba(0,0,0,.04);\n      }\n\n      .mask.open {\n        opacity: 1;\n        visibility: visible;\n      }\n\n      .title {\n        padding: 10px 20px;\n        font-size: 18px;\n        color: var(--color-text-light);\n        background: var(--color-primary-dark);\n      }\n\n      .footer {\n        background: var(--color-primary-light);\n        padding: 10px;\n        display: flex;\n        flex-flow: row-reverse;\n      }\n\n      rp-button {\n        margin-left: 5px;\n      }"]);return Ue=function(){return e},e}function $e(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var Me=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};let Ve=class extends he{constructor(){super(),this.primaryButtonName="Ok",this.cancelButtonName="Cancel",this.inProgressName="Saving"}static get styles(){return ue(Ue())}updated(e){if(e.has("open")&&this.open){this.shadowRoot.querySelectorAll("rp-button").forEach(e=>e.setProgress(!1));const e=this.querySelectorAll("textarea,input");e.length>0&&window.setTimeout(()=>{e[0].focus()},100)}}handleClick(e){const t=e.currentTarget;t.isProgress||this.onButtonClicked(t)}getDocumentHeight(){const e=document.body,t=document.documentElement;return Math.max(e.scrollHeight,e.offsetHeight,t.clientHeight,t.scrollHeight,t.offsetHeight)}handleKeyUp(e){"Escape"===e.key&&this.shadowRoot.querySelectorAll("rp-button").forEach(e=>{e.name===this.cancelButtonName&&e.click()})}render(){const e=this.getDocumentHeight();return L(Fe(),e+100,this.open?"open":"",this.handleKeyUp,this.title,this.handleKeyUp,this.body?this.body:L(Ie()),this.handleClick,this.primaryButtonName,this.inProgressName,this.handleClick,this.cancelButtonName)}};Me([se({type:Boolean})],Ve.prototype,"open",void 0),Me([se()],Ve.prototype,"title",void 0),Me([se()],Ve.prototype,"body",void 0),Me([se()],Ve.prototype,"primaryButtonName",void 0),Me([se({type:String})],Ve.prototype,"cancelButtonName",void 0),Me([se()],Ve.prototype,"inProgressName",void 0),Me([se({attribute:!1})],Ve.prototype,"onButtonClicked",void 0);Ve=Me([re("rp-dialog")],Ve);class He extends he{getEventHandlers(){return[]}connectedCallback(){super.connectedCallback();for(const e of this.getEventHandlers())document.addEventListener(e.event,e.method.bind(this))}disconnectedCallback(){for(const e of this.getEventHandlers())document.removeEventListener(e.event,e.method);super.disconnectedCallback()}fireEvent(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=new CustomEvent(e,{detail:t,bubbles:!0,composed:!0});this.dispatchEvent(n)}}function We(){const e=Je(['<input class="textinput" .value="','" placeholder="','">']);return We=function(){return e},e}function Ze(){const e=Je(['<textarea class="textinput" .value="','" placeholder="','">\n        </textarea>']);return Ze=function(){return e},e}function Xe(){const e=Je(["<style>.input-container {\n        height: ",';\n      }</style><div class="input-container" @click="','">',"</div>"]);return Xe=function(){return e},e}function Ke(){const e=Je([".input-container {\n        border-radius: 5px;\n        overflow: hidden;\n        cursor: pointer;\n        background: var(--color-widget-bg);\n        border: 1px solid var(--color-widget-border);\n        box-shadow: none;\n        transition: all ease-in-out 200ms;\n        display: flex;\n        flex-direction: row;\n        align-items: stretch;\n      }\n\n      .input-container:focus-within {\n        border-color: var(--color-widget-border);\n        background: var(--color-widget-bg-focused);\n        box-shadow: var(--color-widget-shadow-focused) 1px 1px 6px 0px inset;\n      }\n\n      .input-container:hover {\n        background: var(--color-widget-bg-focused);\n      }\n\n      textarea {\n        height: 85%;\n      }\n\n      .textinput {\n        padding: 8px;\n        border: 0px solid red;\n        flex: 1;\n        margin: 0;\n        background: transparent;\n        color: var(--color-text);\n        font-size: 13px;\n        cursor: pointer;\n        resize: none;\n      }\n\n      .textinput:focus {\n        outline: none;\n        cursor: text;\n      }"]);return Ke=function(){return e},e}function Je(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var Ye=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};let Qe=class extends He{constructor(){super(...arguments),this.placeholder="",this.value=""}static get styles(){return ue(Ke())}firstUpdated(e){super.firstUpdated(e),this.inputElement=this.shadowRoot.querySelector(".textinput")}render(){return L(Xe(),this.textarea?"100%":"auto",()=>{this.shadowRoot.querySelector(".textinput").focus()},this.textarea?L(Ze(),this.value,this.placeholder):L(We(),this.value,this.placeholder))}};Ye([se({type:Boolean})],Qe.prototype,"textarea",void 0),Ye([se({type:String})],Qe.prototype,"placeholder",void 0),Ye([se({type:String})],Qe.prototype,"value",void 0),Ye([se({type:Object})],Qe.prototype,"inputElement",void 0);Qe=Ye([re("rp-textinput")],Qe);function Ge(){const e=nt(["<style>.label {\n            background: ",";\n            color: ",";\n          }</style>"]);return Ge=function(){return e},e}function et(){const e=nt(["",'<div class="label ','"><div class="mask"><slot></slot></div></div>']);return et=function(){return e},e}function tt(){const e=nt([":host {\n        display: inline-block;\n      }\n\n      .mask {\n        padding: 3px 6px;\n        border-radius: var(--curvature);\n      }\n\n      .label.clickable .mask:hover {\n        background: rgb(0,0,0,.05);\n      }\n\n      .label {\n        border-radius: 2px;\n        font-size: 80%;\n        font-weight: 400;\n        border-radius: var(--curvature);\n        background: tomato;\n        color: #fff;\n        text-shadow: 0 0.04em 0.04em rgba(0,0,0,0.35);\n      }\n\n      .primary {\n        background: var(--color-label-primary);\n        color: var(--color-label-primary-text);\n      }\n\n      .secondary {\n        background: var(--color-label-secondary);\n        color: var(--color-label-secondary-text);\n        text-shadow: none;\n      }\n\n      .light {\n        background: var(--color-overlay-light);\n        color: var(--color-overlay-light-text);\n        text-shadow: none;\n      }\n\n      .dark {\n        background: var(--color-overlay-dark);\n        color: var(--color-overlay-dark-text);\n        text-shadow: none;\n      }\n\n      .clickable {\n        cursor: pointer;\n      }"]);return tt=function(){return e},e}function nt(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var rt=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};let ot=class extends he{static get styles(){return ue(tt())}render(){return L(et(),this.backgroundColor&&this.textColor?L(Ge(),this.backgroundColor,this.textColor):null,me({clickable:this.clickable,primary:this.primary,secondary:this.secondary,light:this.light,dark:this.dark}))}};rt([se({type:Boolean})],ot.prototype,"clickable",void 0),rt([se({type:Boolean})],ot.prototype,"primary",void 0),rt([se({type:Boolean})],ot.prototype,"secondary",void 0),rt([se({type:Boolean})],ot.prototype,"light",void 0),rt([se({type:Boolean})],ot.prototype,"dark",void 0),rt([se()],ot.prototype,"backgroundColor",void 0),rt([se()],ot.prototype,"textColor",void 0);var it;ot=rt([re("rp-label")],ot);function st(){const e=dt(['<div @mouseover="','" @click="','" class="option ','">',"</div>"]);return st=function(){return e},e}function at(){const e=dt(["<style>.container {\n          top: ","px;\n          left: ","px;\n          width: ","px;\n        }\n\n        .options {\n          width: ",'px;\n        }</style><div class="container ','"><div class="options">',"</div><slot></slot></div>"]);return at=function(){return e},e}function lt(){const e=dt(["",""]);return lt=function(){return e},e}function ct(){const e=dt(["",""]);return ct=function(){return e},e}function ut(){const e=dt(['<div class="name">',"</div>"]);return ut=function(){return e},e}function pt(){const e=dt(['<div class="name">','</div><div class="detail">',"</div>"]);return pt=function(){return e},e}function ht(){const e=dt([".container {\n        position: absolute;\n        visibility: hidden;\n        opacity: 0;\n        border-radius: var(--curvature);\n        border: 1px solid var(--color-borders);\n        box-shadow: 0px 0px 3px 1px rgba(0,0,0,.06);\n        background: #fff;\n      }\n\n      .options {\n        border-radius: var(--curvature);\n        overflow-y: scroll;\n        background: #fff;\n        max-height: 300px;\n      }\n\n      .show {\n        opacity: 1;\n        visibility: visible;\n      }\n\n      .option {\n        font-size: 14px;\n        padding: 10px 20px;\n        border-radius: 5px;\n        margin: 5px;\n        cursor: pointer;\n        color: var(--color-text);\n      }\n\n      .option.focused {\n        background: rgba(var(--primary-rgb), .8);\n        color: var(--color-text-light);\n      }\n\n      .option .detail {\n        font-size: 85%;\n        color: rgba(255,255,255,.9);\n      }\n\n      code {\n        background: rgba(0,0,0,.15);\n        padding: 1px 5px;\n        border-radius: var(--curvature);\n      }"]);return ht=function(){return e},e}function dt(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}!function(e){e.Canceled="rp-canceled",e.CursorChanged="rp-cursor-changed",e.Selection="rp-selection"}(it||(it={}));var ft=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};let gt=class extends He{constructor(){super(...arguments),this.cursorIndex=0}static get styles(){return ue(ht())}updated(e){if(super.updated(e),e.has("cursorIndex")){const e=this.shadowRoot.querySelector(".focused");if(e){const t=this.shadowRoot.querySelector(".options"),n=t.getBoundingClientRect().height,r=e.getBoundingClientRect().height;if(e.offsetTop+r>t.scrollTop+n-5){const o=e.offsetTop-n+r+5;t.scrollTop=o}else if(e.offsetTop<t.scrollTop){const n=e.offsetTop-5;t.scrollTop=n}}}e.has("options")&&(this.calculatePosition(),this.cursorIndex=0)}renderOptionDefault(e,t){const n=this.renderOptionName||this.renderOptionNameDefault,r=this.renderOptionDetail||this.renderOptionDetailDefault;return t?L(pt(),n(e,t),r(e,t)):L(ut(),n(e,t))}renderOptionNameDefault(e,t){return L(ct(),e.name)}renderOptionDetailDefault(e,t){return L(lt(),e.detail)}handleSelection(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=this.options[this.cursorIndex];this.fireEvent(it.Selection,{selected:t,tabbed:e})}moveCursor(e){const t=Math.max(Math.min(this.cursorIndex+e,this.options.length-1),0);this.setCursor(t)}setCursor(e){e!==this.cursorIndex&&(this.cursorIndex=e,this.fireEvent(it.CursorChanged,{index:e}))}handleKeyDown(e){this.visible&&(e.ctrlKey&&"n"===e.key||"ArrowDown"===e.key?(this.moveCursor(1),e.preventDefault()):e.ctrlKey&&"p"===e.key||"ArrowUp"===e.key?(this.moveCursor(-1),e.preventDefault()):"Enter"!==e.key&&"Tab"!==e.key||(this.handleSelection("Tab"===e.key),e.preventDefault()),"Escape"===e.key&&this.fireEvent(it.Canceled))}calculatePosition(){const e=this.shadowRoot.querySelector(".options").getBoundingClientRect();if(this.anchorTo){const t=this.anchorTo.getBoundingClientRect(),n=t.top-e.height;n>0&&t.bottom+e.height>window.innerHeight?this.top=n+window.pageYOffset:this.top=t.bottom+window.pageYOffset,this.left=t.left,this.width=t.width}}getEventHandlers(){return[{event:"keydown",method:this.handleKeyDown},{event:"scroll",method:this.calculatePosition}]}render(){const e=(this.renderOption||this.renderOptionDefault).bind(this);return L(at(),this.top,this.left,this.width,this.width,this.visible?"show":"",this.options.map((t,n)=>L(st(),e=>{Math.abs(e.movementX)+Math.abs(e.movementY)>0&&this.setCursor(n)},()=>{this.handleSelection()},n==this.cursorIndex?"focused":"",e(t,n==this.cursorIndex))))}};ft([se({type:Number})],gt.prototype,"top",void 0),ft([se({type:Number})],gt.prototype,"left",void 0),ft([se({type:Number})],gt.prototype,"width",void 0),ft([se({type:Object})],gt.prototype,"anchorTo",void 0),ft([se({type:Boolean})],gt.prototype,"visible",void 0),ft([se({type:Number})],gt.prototype,"cursorIndex",void 0),ft([se({type:Array})],gt.prototype,"options",void 0),ft([se({attribute:!1})],gt.prototype,"renderOption",void 0),ft([se({attribute:!1})],gt.prototype,"renderOptionName",void 0),ft([se({attribute:!1})],gt.prototype,"renderOptionDetail",void 0);gt=ft([re("rp-options")],gt);function mt(){const e=vt(['<rp-textinput @keyup="','" @blur="','" @focus="','" .value="','" placeholder="','"></rp-textinput><rp-options cursorIndex="','" @rp-selection="','" .renderOptionDetail="','" .renderOptionName="','" .renderOption="','" .anchorTo="','" .options="','" ?visible="','"></rp-options>']);return mt=function(){return e},e}function yt(){const e=vt([":host {\n        display: flex;\n        flex-direction: column;\n      }"]);return yt=function(){return e},e}function vt(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var bt=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};let xt=class extends He{constructor(){super(),this.selected=[],this.placeholder="",this.input="",this.options=[],this.quietMillis=200,this.renderOptionDetail=(()=>{})}static get styles(){return ue(yt())}updated(e){if(super.updated(e),e.has("selected")&&(this.input="",this.shadowRoot.querySelector("input").blur()),e.has("input")&&!e.has("selected")){if(!this.input)return void(this.options=[]);this.lastQuery&&window.clearTimeout(this.lastQuery),this.lastQuery=window.setTimeout(()=>{this.fetchOptions(this.input)},this.quietMillis)}e.has("cursorIndex")&&this.options.length>0&&this.query&&!this.complete&&this.cursorIndex>this.options.length-20&&this.fetchOptions(this.query,this.page+1)}handleOptionSelection(e){const t=e.detail.selected;this.selected=[t],this.options=[],this.input=t.name}fetchOptions(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!this.fetching){this.cancelToken&&this.cancelToken.cancel();const n=fe.a.CancelToken;this.cancelToken=n.source(),this.fetching=!0,ve(this.endpoint+encodeURIComponent(e)+"&page="+t,this.cancelToken.token).then(n=>{if(0===t)this.options=n.data.filter(e=>e.level>0),this.cursorIndex=0,this.query=e,this.complete=0===this.options.length;else{const e=n.data.filter(e=>e.level>0);e.length>0&&(this.options=[...this.options,...e]),this.complete=0===e.length}this.fetching=!1,this.page=t}).catch(e=>{})}}handleBlur(){window.setTimeout(()=>{this.options=[]},100)}handleFocus(){}handleKeyUp(e){const t=e.currentTarget;this.input=t.inputElement.value.trim()}handleCancel(){this.options=[]}handleCursorChanged(e){this.cursorIndex=e.detail.index}getEventHandlers(){return[{event:it.Canceled,method:this.handleCancel},{event:it.CursorChanged,method:this.handleCursorChanged}]}firstUpdated(e){this.anchorElement=this.shadowRoot.querySelector("rp-textinput")}render(){return L(mt(),this.handleKeyUp,this.handleBlur,this.handleFocus,this.input,this.placeholder,this.cursorIndex,this.handleOptionSelection,this.renderOptionDetail,this.renderOptionName,this.renderOption,this.anchorElement,this.options,this.input.length>0&&this.options.length>0)}};bt([se({type:Array})],xt.prototype,"selected",void 0),bt([se()],xt.prototype,"placeholder",void 0),bt([se()],xt.prototype,"endpoint",void 0),bt([se({type:String})],xt.prototype,"input",void 0),bt([se({type:Array})],xt.prototype,"options",void 0),bt([se({type:Number})],xt.prototype,"quietMillis",void 0),bt([se({type:Boolean})],xt.prototype,"fetching",void 0),bt([se({attribute:!1})],xt.prototype,"cursorIndex",void 0),bt([se({attribute:!1})],xt.prototype,"anchorElement",void 0),bt([se({attribute:!1})],xt.prototype,"renderOption",void 0),bt([se({attribute:!1})],xt.prototype,"renderOptionName",void 0),bt([se({attribute:!1})],xt.prototype,"renderOptionDetail",void 0);xt=bt([re("rp-select")],xt);const wt=0,kt=1,_t=2,St=3,Ct=4,Et=5,Ot=6,Tt=(e,t)=>0===e.indexOf(t,0),Pt=(e,t,n)=>{const r=e.substring(1);if("("===r[0])return!0;{const e=r.split(".")[0].toLowerCase();if(!n)return t.indexOf(e)>=0;for(const n of t)if(Tt(n,e))return!0;return!1}},At=e=>e>="a"&&e<="z"||e>="A"&&e<="Z"||e>="0"&&e<="9"||"_"===e,Rt=e=>{let t=0;for(const n of e)'"'===n&&t++;return t%2!=0};const zt=(e,t)=>t?e.filter(e=>!!e.signature&&0===e.signature.indexOf(t)):e,Nt=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=(t||"").split(".");let o=e.root_no_session,i="",s="";for(;r.length>0;)if(s=r.shift()){const t=o.find(e=>e.key===s);if(!t){o=o.filter(e=>e.key.startsWith(s.toLowerCase()));break}{const r=e.types.find(e=>e.name===t.type);if(r&&r.properties)o=r.properties,i+=s+".";else{if(!r||!r.property_template){o=o.filter(e=>e.key.startsWith(s.toLowerCase()));break}{i+=s+".";const e=r.property_template;o=n[r.name]?n[r.name].map(t=>({key:e.key.replace("{key}",t),help:e.help.replace("{key}",t),type:e.type})):[]}}}}return o.map(e=>{return{name:"__default__"===e.key?i.substr(0,i.length-1):i+e.key,summary:e.help}})};var jt=n(9),qt=n.n(jt);const Lt=new WeakMap,Bt=o(e=>t=>{if(!(t instanceof C))throw new Error("unsafeHTML can only be used in text bindings");const n=Lt.get(t);if(void 0!==n&&w(e)&&e===n.value&&t.value===n.fragment)return;const r=document.createElement("template");r.innerHTML=e;const o=document.importNode(r.content,!0);t.setValue(o),Lt.set(t,{value:e,fragment:o})});function Dt(){const e=Ht(['<div class="current-fn">',"</div>"]);return Dt=function(){return e},e}function It(){const e=Ht(["<style>#anchor {\n          top:","px;\n          left:",'px;\n        }</style><div id="anchor"></div><rp-textinput placeholder="','" @keyup="','" @click="','" @input="','" .value="','" ?textarea="','"></rp-textinput><rp-options @rp-selection="','" @rp-canceled="','" .anchorTo="','" .options="','" .renderOption="','" ?visible="','">','<div class="footer">Tab to complete, enter to select</div></rp-options>']);return It=function(){return e},e}function Ft(){const e=Ht(['<div style="font-size: 85%">',"</div>"]);return Ft=function(){return e},e}function Ut(){const e=Ht(['<div><div style="','">',"</div>","</div>"]);return Ut=function(){return e},e}function $t(){const e=Ht(['<div style="display:inline-block; font-weight: 300; font-size: 85%">','</div><div class="detail">',"</div>"]);return $t=function(){return e},e}function Mt(){const e=Ht(['<div style="','"><div style="display:inline-block;">ƒ</div><div style="display:inline-block">',"</div>","</div>"]);return Mt=function(){return e},e}function Vt(){const e=Ht(["#anchor {\n        position: absolute;\n        visibility: visible;\n        width: 250px;\n        border: 0px solid purple;\n      }\n\n      .fn-marker {\n        font-weight: bold;\n        font-size: 42px;\n      }\n\n      .option-slot {\n        background: #fff;\n      }\n\n      .current-fn {\n        padding: 10px;\n        margin: 5px;\n        background: var(--color-widget-bg);\n        color: rgba(0, 0, 0, .5);\n        border-radius: var(--curvature);\n        font-size: 90%;\n      }\n\n      .footer {\n        padding: 5px 10px;\n        background: var(--color-widget-bg);\n        color: rgba(0, 0, 0, .5);\n        font-size: 80%;\n      }\n\n      code {\n        background: rgba(0,0,0,.1);\n        padding: 1px 5px;\n        border-radius: var(--curvature);\n      }"]);return Vt=function(){return e},e}function Ht(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var Wt,Zt=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};const Xt=n(30),Kt=o(e=>t=>{t.setValue(Bt(Xt(e)))});let Jt=Wt=class extends He{constructor(){super(...arguments),this.anchorPosition={left:0,top:0},this.placeholder="",this.options=[],this.value=""}static get styles(){return ue(Vt())}firstUpdated(e){this.textInputElement=this.shadowRoot.querySelector("rp-textinput"),this.anchorElement=this.shadowRoot.querySelector("#anchor"),this.completionsEndpoint&&ve(this.completionsEndpoint).then(e=>{this.schema=e.data}),this.functionsEndpoint&&ve(this.functionsEndpoint).then(e=>{this.functions=e.data}),this.fieldsEndpoint&&(async e=>{if(!e)return new Promise((e,t)=>e([]));let t=[],n=e;for(;n;){const e=await ye(n);t=t.concat(e.assets),n=e.next}return t})(this.fieldsEndpoint).then(e=>{this.keyedAssets={fields:e.map(e=>e.key)}})}handleKeyUp(e){if(this.options.length>0){if("ArrowUp"===e.key||"ArrowDown"===e.key)return;if(e.ctrlKey&&("n"===e.key||"p"===e.key))return;if("Enter"===e.key||"Escape"===e.key||"Tab"===e.key||e.key.startsWith("Control"))return;this.executeQuery(e.currentTarget)}}handleClick(e){this.executeQuery(e.currentTarget)}executeQuery(e){if(this.inputElement=e.inputElement,this.currentFunction=null,this.schema){const n=e.inputElement.selectionStart,r=e.inputElement.value.trim().substring(0,n),o=Wt.parser.findExpressions(r).find(e=>e.start<=n&&(e.end>n||e.end===n&&!e.closed));if(o){const n=o.text.indexOf("(")>-1;if(n){const e=Wt.parser.functionContext(o.text);if(e){const t=zt(this.functions,e);t.length>0&&(this.currentFunction=t[0])}}for(let r=o.text.length;r>=0;r--){const i=o.text[r];if("@"===i||"("===i||" "===i||","===i||")"===i||0===r){"("!==i&&" "!==i&&","!==i&&")"!==i&&"@"!==i||r++;var t=qt()(e.inputElement,o.start+r);return this.anchorPosition={left:t.left+5,top:e.inputElement.offsetTop+t.top-e.inputElement.scrollTop+20},this.query=o.text.substr(r,o.text.length-r),void(this.options=[...Nt(this.schema,this.query,this.keyedAssets),...n?zt(this.functions,this.query):[]])}}}else this.options=[],this.query=""}}handleInput(e){const t=e.currentTarget;this.executeQuery(t)}handleOptionCanceled(e){this.options=[],this.query=""}handleOptionSelection(e){const t=e.detail.selected,n=e.detail.tabbed;let r="";if(r=t.signature?t.signature.substr(0,t.signature.indexOf("(")+1):t.name,this.inputElement){let e=this.inputElement.value;e=e.substr(0,e.lastIndexOf(this.query)),e+=r,this.inputElement.value=e}this.query="",this.options=[],n&&this.executeQuery(this.textInputElement)}renderCompletionOption(e,t){if(e.signature){const n=e.signature.indexOf("("),r=e.signature.substr(0,n),o=e.signature.substr(n);return L(Mt(),t?"font-weight: 400":"",r,t?L($t(),o,Kt(e.summary)):null)}return L(Ut(),t?"font-weight: 400":"",e.name,t?L(Ft(),e.summary):null)}render(){return L(It(),this.anchorPosition.top,this.anchorPosition.left,this.placeholder,this.handleKeyUp,this.handleClick,this.handleInput,this.value,this.textarea,this.handleOptionSelection,this.handleOptionCanceled,this.anchorElement,this.options,this.renderCompletionOption,this.options.length>0,this.currentFunction?L(Dt(),this.renderCompletionOption(this.currentFunction,!0)):null)}};Jt.parser=new class{constructor(e,t){this.expressionPrefix=e,this.allowedTopLevels=t}expressionContext(e){const t=this.findExpressions(e);if(0===t.length)return null;const n=t[t.length-1];return n.end<e.length||n.closed?null:n.text.substring(1)}autoCompleteContext(e){if(Rt(e))return null;const t=[];let n="",r=!1,o=!1,i="";for(let s=e.length-1;s>=0;s--){const a=e[s];if(" "===a&&(r=!0),","===a&&(r=!0,"("!==t[t.length-1]&&t.push("(")),")"!==a||o||(r=!0,t.push("("),t.push("(")),'"'===a&&(o=!o),r&&("("!==a||o||("("===t[t.length-1]&&t.pop(),0===t.length&&(r=!1))),"("===a&&""===n&&(i="#"),!(r||o||"("===a&&""===n)){if(!At(a)&&"."!==a)break;n=a+n}}return n.match(/[A-Za-z][\w]*(\.[\w]+)*/)?i+n:null}functionContext(e){let t=Rt(e)?Ct:Ot,n="",r="("===e[-1]?0:1;for(let o=e.length-1;o>=0;o--){const i=e[o];if("@"===i)return"";if(t===Ot)0!==r||!At(i)&&"."!==i?'"'===i?t=Ct:"("===i?r--:")"===i&&r++:(t=_t,n=i+n);else if(t===_t){if(!At(i)&&"."!==i)return n;n=i+n}else t===Ct&&'"'===i&&(t=Ot)}return""}getContactFields(e){const t={},n=/((parent|child\.)*contact\.)*fields\.([a-z0-9_]+)/g,r=this.findExpressions(e);for(const e of r){let r;for(;r=n.exec(e.text);)t[r[3]]=!0}return Object.keys(t)}findExpressions(e){const t=[];let n=wt,r=null,o=0;for(let i=0;i<e.length;i++){const s=e[i],a=i<e.length-1?e[i+1]:0,l=i<e.length-2?e[i+2]:0;if(n===wt?s!==this.expressionPrefix||!At(a)&&"("!==a?s===this.expressionPrefix&&a===this.expressionPrefix&&(n=Et):(n=kt,r={start:i,end:null,text:s,closed:!1}):n===kt?(At(s)?n=_t:"("===s&&(n=St,o+=1),r.text+=s):n===_t?r.text+=s:n===St?("("===s?o+=1:")"===s?o-=1:'"'===s&&(n=Ct),r.text+=s,0===o&&(r.end=i+1)):n===Ct?('"'===s&&(n=St),r.text+=s):n===Et&&(n=wt),n===_t&&(!At(a)&&"."!==a||"."===a&&!At(l))&&(r.end=i+1),null!=r&&(null!=r.end||0===a)){const e=0===a;Pt(r.text,this.allowedTopLevels,e)&&(r.closed="("===r.text[1]&&0===o,r.end=i+1,t.push(r)),r=null,n=wt}}return t}}("@",["contact","fields","urns"]),Zt([se({type:Object})],Jt.prototype,"anchorPosition",void 0),Zt([se({attribute:!1})],Jt.prototype,"currentFunction",void 0),Zt([se({type:String})],Jt.prototype,"placeholder",void 0),Zt([se({attribute:!1})],Jt.prototype,"textInputElement",void 0),Zt([se({attribute:!1})],Jt.prototype,"anchorElement",void 0),Zt([se({type:Array})],Jt.prototype,"options",void 0),Zt([se({type:String})],Jt.prototype,"value",void 0),Zt([se({type:String})],Jt.prototype,"completionsEndpoint",void 0),Zt([se({type:String})],Jt.prototype,"functionsEndpoint",void 0),Zt([se({type:String})],Jt.prototype,"fieldsEndpoint",void 0),Zt([se({type:Boolean})],Jt.prototype,"textarea",void 0);Jt=Wt=Zt([re("rp-completion")],Jt)}])});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ycC1jb21wb25lbnRzL3dlYnBhY2svdW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbiIsIndlYnBhY2s6Ly9ycC1jb21wb25lbnRzL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL3JwLWNvbXBvbmVudHMvLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL3V0aWxzLmpzIiwid2VicGFjazovL3JwLWNvbXBvbmVudHMvLi9ub2RlX21vZHVsZXMvYXhpb3MvaW5kZXguanMiLCJ3ZWJwYWNrOi8vcnAtY29tcG9uZW50cy8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvZGVmYXVsdHMuanMiLCJ3ZWJwYWNrOi8vcnAtY29tcG9uZW50cy8uL25vZGVfbW9kdWxlcy9hdXRvc2l6ZS9kaXN0L2F1dG9zaXplLmpzIiwid2VicGFjazovL3JwLWNvbXBvbmVudHMvLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2hlbHBlcnMvYmluZC5qcyIsIndlYnBhY2s6Ly9ycC1jb21wb25lbnRzLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9hZGFwdGVycy94aHIuanMiLCJ3ZWJwYWNrOi8vcnAtY29tcG9uZW50cy8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvY29yZS9jcmVhdGVFcnJvci5qcyIsIndlYnBhY2s6Ly9ycC1jb21wb25lbnRzLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9jYW5jZWwvaXNDYW5jZWwuanMiLCJ3ZWJwYWNrOi8vcnAtY29tcG9uZW50cy8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvY2FuY2VsL0NhbmNlbC5qcyIsIndlYnBhY2s6Ly9ycC1jb21wb25lbnRzLy4vbm9kZV9tb2R1bGVzL3RleHRhcmVhLWNhcmV0L2luZGV4LmpzIiwid2VicGFjazovL3JwLWNvbXBvbmVudHMvLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2F4aW9zLmpzIiwid2VicGFjazovL3JwLWNvbXBvbmVudHMvLi9ub2RlX21vZHVsZXMvaXMtYnVmZmVyL2luZGV4LmpzIiwid2VicGFjazovL3JwLWNvbXBvbmVudHMvLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2NvcmUvQXhpb3MuanMiLCJ3ZWJwYWNrOi8vcnAtY29tcG9uZW50cy8uL25vZGVfbW9kdWxlcy9wcm9jZXNzL2Jyb3dzZXIuanMiLCJ3ZWJwYWNrOi8vcnAtY29tcG9uZW50cy8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvaGVscGVycy9ub3JtYWxpemVIZWFkZXJOYW1lLmpzIiwid2VicGFjazovL3JwLWNvbXBvbmVudHMvLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2NvcmUvc2V0dGxlLmpzIiwid2VicGFjazovL3JwLWNvbXBvbmVudHMvLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2NvcmUvZW5oYW5jZUVycm9yLmpzIiwid2VicGFjazovL3JwLWNvbXBvbmVudHMvLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2hlbHBlcnMvYnVpbGRVUkwuanMiLCJ3ZWJwYWNrOi8vcnAtY29tcG9uZW50cy8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvaGVscGVycy9wYXJzZUhlYWRlcnMuanMiLCJ3ZWJwYWNrOi8vcnAtY29tcG9uZW50cy8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvaGVscGVycy9pc1VSTFNhbWVPcmlnaW4uanMiLCJ3ZWJwYWNrOi8vcnAtY29tcG9uZW50cy8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvaGVscGVycy9idG9hLmpzIiwid2VicGFjazovL3JwLWNvbXBvbmVudHMvLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2hlbHBlcnMvY29va2llcy5qcyIsIndlYnBhY2s6Ly9ycC1jb21wb25lbnRzLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9jb3JlL0ludGVyY2VwdG9yTWFuYWdlci5qcyIsIndlYnBhY2s6Ly9ycC1jb21wb25lbnRzLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9jb3JlL2Rpc3BhdGNoUmVxdWVzdC5qcyIsIndlYnBhY2s6Ly9ycC1jb21wb25lbnRzLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9jb3JlL3RyYW5zZm9ybURhdGEuanMiLCJ3ZWJwYWNrOi8vcnAtY29tcG9uZW50cy8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvaGVscGVycy9pc0Fic29sdXRlVVJMLmpzIiwid2VicGFjazovL3JwLWNvbXBvbmVudHMvLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2hlbHBlcnMvY29tYmluZVVSTHMuanMiLCJ3ZWJwYWNrOi8vcnAtY29tcG9uZW50cy8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvY2FuY2VsL0NhbmNlbFRva2VuLmpzIiwid2VicGFjazovL3JwLWNvbXBvbmVudHMvLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2hlbHBlcnMvc3ByZWFkLmpzIiwid2VicGFjazovL3JwLWNvbXBvbmVudHMvLi9ub2RlX21vZHVsZXMvbWFya2VkL2xpYi9tYXJrZWQuanMiLCJ3ZWJwYWNrOi8vcnAtY29tcG9uZW50cy8od2VicGFjaykvYnVpbGRpbi9nbG9iYWwuanMiLCJ3ZWJwYWNrOi8vcnAtY29tcG9uZW50cy8uLi9zcmMvbGliL2RpcmVjdGl2ZS50cyIsIndlYnBhY2s6Ly9ycC1jb21wb25lbnRzLy4uL3NyYy9saWIvZG9tLnRzIiwid2VicGFjazovL3JwLWNvbXBvbmVudHMvLi4vc3JjL2xpYi9wYXJ0LnRzIiwid2VicGFjazovL3JwLWNvbXBvbmVudHMvLi4vc3JjL2xpYi90ZW1wbGF0ZS50cyIsIndlYnBhY2s6Ly9ycC1jb21wb25lbnRzLy4uL3NyYy9saWIvdGVtcGxhdGUtaW5zdGFuY2UudHMiLCJ3ZWJwYWNrOi8vcnAtY29tcG9uZW50cy8uLi9zcmMvbGliL3RlbXBsYXRlLXJlc3VsdC50cyIsIndlYnBhY2s6Ly9ycC1jb21wb25lbnRzLy4uL3NyYy9saWIvcGFydHMudHMiLCJ3ZWJwYWNrOi8vcnAtY29tcG9uZW50cy8uLi9zcmMvbGliL2RlZmF1bHQtdGVtcGxhdGUtcHJvY2Vzc29yLnRzIiwid2VicGFjazovL3JwLWNvbXBvbmVudHMvLi4vc3JjL2xpYi90ZW1wbGF0ZS1mYWN0b3J5LnRzIiwid2VicGFjazovL3JwLWNvbXBvbmVudHMvLi4vc3JjL2xpYi9yZW5kZXIudHMiLCJ3ZWJwYWNrOi8vcnAtY29tcG9uZW50cy9zcmMvbGl0LWh0bWwudHMiLCJ3ZWJwYWNrOi8vcnAtY29tcG9uZW50cy8uLi9zcmMvbGliL21vZGlmeS10ZW1wbGF0ZS50cyIsIndlYnBhY2s6Ly9ycC1jb21wb25lbnRzLy4uL3NyYy9saWIvc2hhZHktcmVuZGVyLnRzIiwid2VicGFjazovL3JwLWNvbXBvbmVudHMvLi4vc3JjL2xpYi91cGRhdGluZy1lbGVtZW50LnRzIiwid2VicGFjazovL3JwLWNvbXBvbmVudHMvLi4vc3JjL2xpYi9kZWNvcmF0b3JzLnRzIiwid2VicGFjazovL3JwLWNvbXBvbmVudHMvLi4vc3JjL2xpYi9jc3MtdGFnLnRzIiwid2VicGFjazovL3JwLWNvbXBvbmVudHMvc3JjL2xpdC1lbGVtZW50LnRzIiwid2VicGFjazovL3JwLWNvbXBvbmVudHMvLi9zcmMvdXRpbHMvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vcnAtY29tcG9uZW50cy8uL3NyYy9hbGlhc2VkaXRvci9BbGlhc0VkaXRvci50cyIsIndlYnBhY2s6Ly9ycC1jb21wb25lbnRzLy4vc3JjL2J1dHRvbi9CdXR0b24udHMiLCJ3ZWJwYWNrOi8vcnAtY29tcG9uZW50cy8uL3NyYy9kaWFsb2cvRGlhbG9nLnRzIiwid2VicGFjazovL3JwLWNvbXBvbmVudHMvLi9zcmMvUmFwaWRFbGVtZW50LnRzIiwid2VicGFjazovL3JwLWNvbXBvbmVudHMvLi9zcmMvdGV4dGlucHV0L1RleHRJbnB1dC50cyIsIndlYnBhY2s6Ly9ycC1jb21wb25lbnRzLy4vc3JjL2xhYmVsL0xhYmVsLnRzIiwid2VicGFjazovL3JwLWNvbXBvbmVudHMvLi9zcmMvaW50ZXJmYWNlcy50cyIsIndlYnBhY2s6Ly9ycC1jb21wb25lbnRzLy4vc3JjL29wdGlvbnMvT3B0aW9ucy50cyIsIndlYnBhY2s6Ly9ycC1jb21wb25lbnRzLy4vc3JjL3NlbGVjdC9TZWxlY3QudHMiLCJ3ZWJwYWNrOi8vcnAtY29tcG9uZW50cy8uL3NyYy9jb21wbGV0aW9uL0V4Y2VsbGVudFBhcnNlci50cyIsIndlYnBhY2s6Ly9ycC1jb21wb25lbnRzLy4vc3JjL2NvbXBsZXRpb24vaGVscGVycy50cyIsIndlYnBhY2s6Ly9ycC1jb21wb25lbnRzLy4uL3NyYy9kaXJlY3RpdmVzL3Vuc2FmZS1odG1sLnRzIiwid2VicGFjazovL3JwLWNvbXBvbmVudHMvLi9zcmMvY29tcGxldGlvbi9Db21wbGV0aW9uLnRzIl0sIm5hbWVzIjpbInJvb3QiLCJmYWN0b3J5IiwiZXhwb3J0cyIsIm1vZHVsZSIsImRlZmluZSIsImFtZCIsIndpbmRvdyIsImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJyZXF1aXJlIiwiaXNCdWZmZXIiLCJ0b1N0cmluZyIsImlzQXJyYXkiLCJ2YWwiLCJpc09iamVjdCIsImlzRnVuY3Rpb24iLCJmb3JFYWNoIiwib2JqIiwiZm4iLCJsZW5ndGgiLCJpc0FycmF5QnVmZmVyIiwiaXNGb3JtRGF0YSIsIkZvcm1EYXRhIiwiaXNBcnJheUJ1ZmZlclZpZXciLCJBcnJheUJ1ZmZlciIsImlzVmlldyIsImJ1ZmZlciIsImlzU3RyaW5nIiwiaXNOdW1iZXIiLCJpc1VuZGVmaW5lZCIsImlzRGF0ZSIsImlzRmlsZSIsImlzQmxvYiIsImlzU3RyZWFtIiwicGlwZSIsImlzVVJMU2VhcmNoUGFyYW1zIiwiVVJMU2VhcmNoUGFyYW1zIiwiaXNTdGFuZGFyZEJyb3dzZXJFbnYiLCJuYXZpZ2F0b3IiLCJwcm9kdWN0IiwiZG9jdW1lbnQiLCJtZXJnZSIsInJlc3VsdCIsImFzc2lnblZhbHVlIiwiYXJndW1lbnRzIiwiZXh0ZW5kIiwiYSIsImIiLCJ0aGlzQXJnIiwidHJpbSIsInN0ciIsInJlcGxhY2UiLCJwcm9jZXNzIiwidXRpbHMiLCJub3JtYWxpemVIZWFkZXJOYW1lIiwiREVGQVVMVF9DT05URU5UX1RZUEUiLCJDb250ZW50LVR5cGUiLCJzZXRDb250ZW50VHlwZUlmVW5zZXQiLCJoZWFkZXJzIiwiYWRhcHRlciIsImRlZmF1bHRzIiwiWE1MSHR0cFJlcXVlc3QiLCJ0cmFuc2Zvcm1SZXF1ZXN0IiwiZGF0YSIsIkpTT04iLCJzdHJpbmdpZnkiLCJ0cmFuc2Zvcm1SZXNwb25zZSIsInBhcnNlIiwiZSIsInRpbWVvdXQiLCJ4c3JmQ29va2llTmFtZSIsInhzcmZIZWFkZXJOYW1lIiwibWF4Q29udGVudExlbmd0aCIsInZhbGlkYXRlU3RhdHVzIiwic3RhdHVzIiwiY29tbW9uIiwiQWNjZXB0IiwibWV0aG9kIiwiX19XRUJQQUNLX0FNRF9ERUZJTkVfRkFDVE9SWV9fIiwiX19XRUJQQUNLX0FNRF9ERUZJTkVfQVJSQVlfXyIsIl9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fIiwidW5kZWZpbmVkIiwia2V5cyIsInZhbHVlcyIsIm1hcCIsIk1hcCIsImhhcyIsImluZGV4T2YiLCJzZXQiLCJwdXNoIiwiZGVsZXRlIiwiaW5kZXgiLCJzcGxpY2UiLCJjcmVhdGVFdmVudCIsIkV2ZW50IiwiYnViYmxlcyIsImV2dCIsImluaXRFdmVudCIsImFzc2lnbiIsInRhIiwibm9kZU5hbWUiLCJoZWlnaHRPZmZzZXQiLCJjbGllbnRXaWR0aCIsImNhY2hlZEhlaWdodCIsInBhZ2VSZXNpemUiLCJ1cGRhdGUiLCJkZXN0cm95Iiwic3R5bGUiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiaGVpZ2h0IiwicmVzaXplIiwib3ZlcmZsb3dZIiwib3ZlcmZsb3dYIiwid29yZFdyYXAiLCJhZGRFdmVudExpc3RlbmVyIiwiZ2V0Q29tcHV0ZWRTdHlsZSIsImJveFNpemluZyIsInBhcnNlRmxvYXQiLCJwYWRkaW5nVG9wIiwicGFkZGluZ0JvdHRvbSIsImJvcmRlclRvcFdpZHRoIiwiYm9yZGVyQm90dG9tV2lkdGgiLCJpc05hTiIsImNoYW5nZU92ZXJmbG93Iiwid2lkdGgiLCJvZmZzZXRXaWR0aCIsInNjcm9sbEhlaWdodCIsIm92ZXJmbG93cyIsImVsIiwiYXJyIiwicGFyZW50Tm9kZSIsIkVsZW1lbnQiLCJzY3JvbGxUb3AiLCJub2RlIiwiZ2V0UGFyZW50T3ZlcmZsb3dzIiwiZG9jVG9wIiwiZG9jdW1lbnRFbGVtZW50Iiwic3R5bGVIZWlnaHQiLCJNYXRoIiwicm91bmQiLCJjb21wdXRlZCIsImFjdHVhbEhlaWdodCIsIm9mZnNldEhlaWdodCIsImRpc3BhdGNoRXZlbnQiLCJlcnIiLCJtZXRob2RzIiwiYXV0b3NpemUiLCJvcHRpb25zIiwiQXJyYXkiLCJ4IiwiZGVmYXVsdCIsImFwcGx5IiwiYXJncyIsInNldHRsZSIsImJ1aWxkVVJMIiwicGFyc2VIZWFkZXJzIiwiaXNVUkxTYW1lT3JpZ2luIiwiY3JlYXRlRXJyb3IiLCJidG9hIiwiY29uZmlnIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJyZXF1ZXN0RGF0YSIsInJlcXVlc3RIZWFkZXJzIiwicmVxdWVzdCIsImxvYWRFdmVudCIsInhEb21haW4iLCJYRG9tYWluUmVxdWVzdCIsInVybCIsIm9ucHJvZ3Jlc3MiLCJvbnRpbWVvdXQiLCJhdXRoIiwidXNlcm5hbWUiLCJwYXNzd29yZCIsIkF1dGhvcml6YXRpb24iLCJvcGVuIiwidG9VcHBlckNhc2UiLCJwYXJhbXMiLCJwYXJhbXNTZXJpYWxpemVyIiwicmVhZHlTdGF0ZSIsInJlc3BvbnNlVVJMIiwicmVzcG9uc2VIZWFkZXJzIiwiZ2V0QWxsUmVzcG9uc2VIZWFkZXJzIiwicmVzcG9uc2UiLCJyZXNwb25zZVR5cGUiLCJyZXNwb25zZVRleHQiLCJzdGF0dXNUZXh0Iiwib25lcnJvciIsImNvb2tpZXMiLCJ4c3JmVmFsdWUiLCJ3aXRoQ3JlZGVudGlhbHMiLCJyZWFkIiwidG9Mb3dlckNhc2UiLCJzZXRSZXF1ZXN0SGVhZGVyIiwib25Eb3dubG9hZFByb2dyZXNzIiwib25VcGxvYWRQcm9ncmVzcyIsInVwbG9hZCIsImNhbmNlbFRva2VuIiwicHJvbWlzZSIsInRoZW4iLCJjYW5jZWwiLCJhYm9ydCIsInNlbmQiLCJlbmhhbmNlRXJyb3IiLCJtZXNzYWdlIiwiY29kZSIsImVycm9yIiwiRXJyb3IiLCJfX0NBTkNFTF9fIiwiQ2FuY2VsIiwidGhpcyIsInByb3BlcnRpZXMiLCJpc0Jyb3dzZXIiLCJpc0ZpcmVmb3giLCJtb3pJbm5lclNjcmVlblgiLCJnZXRDYXJldENvb3JkaW5hdGVzIiwiZWxlbWVudCIsInBvc2l0aW9uIiwiZGVidWciLCJxdWVyeVNlbGVjdG9yIiwicmVtb3ZlQ2hpbGQiLCJkaXYiLCJjcmVhdGVFbGVtZW50IiwiaWQiLCJib2R5IiwiYXBwZW5kQ2hpbGQiLCJjdXJyZW50U3R5bGUiLCJpc0lucHV0Iiwid2hpdGVTcGFjZSIsInZpc2liaWxpdHkiLCJwcm9wIiwibGluZUhlaWdodCIsInBhcnNlSW50Iiwib3ZlcmZsb3ciLCJ0ZXh0Q29udGVudCIsInN1YnN0cmluZyIsInNwYW4iLCJjb29yZGluYXRlcyIsInRvcCIsIm9mZnNldFRvcCIsImxlZnQiLCJvZmZzZXRMZWZ0IiwiYmFja2dyb3VuZENvbG9yIiwiQXhpb3MiLCJjcmVhdGVJbnN0YW5jZSIsImRlZmF1bHRDb25maWciLCJjb250ZXh0IiwiaW5zdGFuY2UiLCJheGlvcyIsImluc3RhbmNlQ29uZmlnIiwiQ2FuY2VsVG9rZW4iLCJpc0NhbmNlbCIsImFsbCIsInByb21pc2VzIiwic3ByZWFkIiwiY29uc3RydWN0b3IiLCJyZWFkRmxvYXRMRSIsInNsaWNlIiwiaXNTbG93QnVmZmVyIiwiX2lzQnVmZmVyIiwiSW50ZXJjZXB0b3JNYW5hZ2VyIiwiZGlzcGF0Y2hSZXF1ZXN0IiwiaW50ZXJjZXB0b3JzIiwiY2hhaW4iLCJpbnRlcmNlcHRvciIsInVuc2hpZnQiLCJmdWxmaWxsZWQiLCJyZWplY3RlZCIsInNoaWZ0IiwiY2FjaGVkU2V0VGltZW91dCIsImNhY2hlZENsZWFyVGltZW91dCIsImRlZmF1bHRTZXRUaW1vdXQiLCJkZWZhdWx0Q2xlYXJUaW1lb3V0IiwicnVuVGltZW91dCIsImZ1biIsInNldFRpbWVvdXQiLCJjbGVhclRpbWVvdXQiLCJjdXJyZW50UXVldWUiLCJxdWV1ZSIsImRyYWluaW5nIiwicXVldWVJbmRleCIsImNsZWFuVXBOZXh0VGljayIsImNvbmNhdCIsImRyYWluUXVldWUiLCJsZW4iLCJydW4iLCJtYXJrZXIiLCJydW5DbGVhclRpbWVvdXQiLCJJdGVtIiwiYXJyYXkiLCJub29wIiwibmV4dFRpY2siLCJ0aXRsZSIsImJyb3dzZXIiLCJlbnYiLCJhcmd2IiwidmVyc2lvbiIsInZlcnNpb25zIiwib24iLCJhZGRMaXN0ZW5lciIsIm9uY2UiLCJvZmYiLCJyZW1vdmVMaXN0ZW5lciIsInJlbW92ZUFsbExpc3RlbmVycyIsImVtaXQiLCJwcmVwZW5kTGlzdGVuZXIiLCJwcmVwZW5kT25jZUxpc3RlbmVyIiwibGlzdGVuZXJzIiwiYmluZGluZyIsImN3ZCIsImNoZGlyIiwiZGlyIiwidW1hc2siLCJub3JtYWxpemVkTmFtZSIsImVuY29kZSIsImVuY29kZVVSSUNvbXBvbmVudCIsInNlcmlhbGl6ZWRQYXJhbXMiLCJwYXJ0cyIsInYiLCJ0b0lTT1N0cmluZyIsImpvaW4iLCJpZ25vcmVEdXBsaWNhdGVPZiIsInBhcnNlZCIsInNwbGl0IiwibGluZSIsInN1YnN0ciIsIm9yaWdpblVSTCIsIm1zaWUiLCJ0ZXN0IiwidXNlckFnZW50IiwidXJsUGFyc2luZ05vZGUiLCJyZXNvbHZlVVJMIiwiaHJlZiIsInNldEF0dHJpYnV0ZSIsInByb3RvY29sIiwiaG9zdCIsInNlYXJjaCIsImhhc2giLCJob3N0bmFtZSIsInBvcnQiLCJwYXRobmFtZSIsImNoYXJBdCIsImxvY2F0aW9uIiwicmVxdWVzdFVSTCIsImNoYXJzIiwiRSIsImlucHV0IiwiYmxvY2siLCJjaGFyQ29kZSIsIlN0cmluZyIsIm91dHB1dCIsImlkeCIsImNoYXJDb2RlQXQiLCJ3cml0ZSIsImV4cGlyZXMiLCJwYXRoIiwiZG9tYWluIiwic2VjdXJlIiwiY29va2llIiwiRGF0ZSIsInRvR01UU3RyaW5nIiwibWF0Y2giLCJSZWdFeHAiLCJkZWNvZGVVUklDb21wb25lbnQiLCJyZW1vdmUiLCJub3ciLCJoYW5kbGVycyIsInVzZSIsImVqZWN0IiwiaCIsInRyYW5zZm9ybURhdGEiLCJpc0Fic29sdXRlVVJMIiwiY29tYmluZVVSTHMiLCJ0aHJvd0lmQ2FuY2VsbGF0aW9uUmVxdWVzdGVkIiwidGhyb3dJZlJlcXVlc3RlZCIsImJhc2VVUkwiLCJyZWFzb24iLCJmbnMiLCJyZWxhdGl2ZVVSTCIsImV4ZWN1dG9yIiwiVHlwZUVycm9yIiwicmVzb2x2ZVByb21pc2UiLCJ0b2tlbiIsInNvdXJjZSIsImNhbGxiYWNrIiwiZ2xvYmFsIiwibmV3bGluZSIsImZlbmNlcyIsImhyIiwiaGVhZGluZyIsImJsb2NrcXVvdGUiLCJsaXN0IiwiaHRtbCIsImRlZiIsIm5wdGFibGUiLCJ0YWJsZSIsImxoZWFkaW5nIiwiX3BhcmFncmFwaCIsInRleHQiLCJMZXhlciIsInRva2VucyIsImxpbmtzIiwibWFya2VkIiwicnVsZXMiLCJub3JtYWwiLCJwZWRhbnRpYyIsImdmbSIsIl9sYWJlbCIsIl90aXRsZSIsImVkaXQiLCJnZXRSZWdleCIsImJ1bGxldCIsIml0ZW0iLCJfdGFnIiwiX2NvbW1lbnQiLCJwYXJhZ3JhcGgiLCJsZXgiLCJzcmMiLCJuZXh0IiwibG9vc2UiLCJjYXAiLCJidWxsIiwibGlzdFN0YXJ0IiwibGlzdEl0ZW1zIiwic3BhY2UiLCJ0YWciLCJpc29yZGVyZWQiLCJpc3Rhc2siLCJpc2NoZWNrZWQiLCJleGVjIiwidHlwZSIsImxhc3RUb2tlbiIsInRyaW1SaWdodCIsImNvZGVCbG9ja1N0eWxlIiwicnRyaW0iLCJsYW5nIiwiZGVwdGgiLCJoZWFkZXIiLCJzcGxpdENlbGxzIiwiYWxpZ24iLCJjZWxscyIsIm9yZGVyZWQiLCJzdGFydCIsInNtYXJ0TGlzdHMiLCJ0YXNrIiwiY2hlY2tlZCIsInNhbml0aXplIiwicHJlIiwic2FuaXRpemVyIiwiZXNjYXBlIiwiaW5saW5lIiwiYXV0b2xpbmsiLCJsaW5rIiwicmVmbGluayIsIm5vbGluayIsInN0cm9uZyIsImVtIiwiYnIiLCJkZWwiLCJJbmxpbmVMZXhlciIsInJlbmRlcmVyIiwiUmVuZGVyZXIiLCJicmVha3MiLCJUZXh0UmVuZGVyZXIiLCJQYXJzZXIiLCJzbHVnZ2VyIiwiU2x1Z2dlciIsInNlZW4iLCJlc2NhcGVUZXN0IiwiZXNjYXBlUmVwbGFjZSIsImNoIiwicmVwbGFjZW1lbnRzIiwiZXNjYXBlVGVzdE5vRW5jb2RlIiwiZXNjYXBlUmVwbGFjZU5vRW5jb2RlIiwidW5lc2NhcGUiLCJfIiwiZnJvbUNoYXJDb2RlIiwicmVnZXgiLCJvcHQiLCJjbGVhblVybCIsImJhc2UiLCJwcm90Iiwib3JpZ2luSW5kZXBlbmRlbnRVcmwiLCJiYXNlVXJscyIsInJlc29sdmVVcmwiLCJlbmNvZGVVUkkiLCJfcHVuY3R1YXRpb24iLCJfZXNjYXBlcyIsIl9zY2hlbWUiLCJfZW1haWwiLCJfYXR0cmlidXRlIiwiX2hyZWYiLCJfZXh0ZW5kZWRfZW1haWwiLCJfYmFja3BlZGFsIiwicHJldkNhcFplcm8iLCJvdXQiLCJpbkxpbmsiLCJpblJhd0Jsb2NrIiwibGFzdFBhcmVuSW5kZXgiLCJmaW5kQ2xvc2luZ0JyYWNrZXQiLCJsaW5rTGVuIiwib3V0cHV0TGluayIsImVzY2FwZXMiLCJjb2Rlc3BhbiIsIm1hbmdsZSIsInNtYXJ0eXBhbnRzIiwiaW1hZ2UiLCJyYW5kb20iLCJpbmZvc3RyaW5nIiwiZXNjYXBlZCIsImhpZ2hsaWdodCIsImxhbmdQcmVmaXgiLCJxdW90ZSIsImxldmVsIiwicmF3IiwiaGVhZGVySWRzIiwiaGVhZGVyUHJlZml4Iiwic2x1ZyIsInhodG1sIiwibGlzdGl0ZW0iLCJjaGVja2JveCIsInRhYmxlcm93IiwiY29udGVudCIsInRhYmxlY2VsbCIsImZsYWdzIiwiYmFzZVVybCIsImlubGluZVRleHQiLCJyZXZlcnNlIiwidG9rIiwicG9wIiwicGVlayIsInBhcnNlVGV4dCIsInJvdyIsImNlbGwiLCJqIiwiZXJyTXNnIiwic2lsZW50IiwiY29uc29sZSIsImxvZyIsIm9yaWdpbmFsU2x1ZyIsIiYiLCI8IiwiPiIsIlwiIiwiJyIsInRhcmdldCIsInRhYmxlUm93IiwiY291bnQiLCJvZmZzZXQiLCJjdXJyIiwiaW52ZXJ0Iiwic3VmZkxlbiIsImN1cnJDaGFyIiwiY2hlY2tTYW5pdGl6ZURlcHJlY2F0aW9uIiwid2FybiIsInBlbmRpbmciLCJkb25lIiwic2V0T3B0aW9ucyIsImdldERlZmF1bHRzIiwicGFyc2VyIiwibGV4ZXIiLCJpbmxpbmVMZXhlciIsImciLCJGdW5jdGlvbiIsImRpcmVjdGl2ZXMiLCJXZWFrTWFwIiwiZGlyZWN0aXZlX2RpcmVjdGl2ZSIsImYiLCJpc0RpcmVjdGl2ZSIsImlzQ0VQb2x5ZmlsbCIsImN1c3RvbUVsZW1lbnRzIiwicG9seWZpbGxXcmFwRmx1c2hDYWxsYmFjayIsInJlbW92ZU5vZGVzIiwiY29udGFpbmVyIiwiZW5kIiwibmV4dFNpYmxpbmciLCJub0NoYW5nZSIsIm5vdGhpbmciLCJub2RlTWFya2VyIiwibWFya2VyUmVnZXgiLCJib3VuZEF0dHJpYnV0ZVN1ZmZpeCIsIlRlbXBsYXRlIiwiW29iamVjdCBPYmplY3RdIiwibm9kZXNUb1JlbW92ZSIsInN0YWNrIiwid2Fsa2VyIiwiY3JlYXRlVHJlZVdhbGtlciIsImxhc3RQYXJ0SW5kZXgiLCJwYXJ0SW5kZXgiLCJzdHJpbmdzIiwibmV4dE5vZGUiLCJub2RlVHlwZSIsImhhc0F0dHJpYnV0ZXMiLCJhdHRyaWJ1dGVzIiwiZW5kc1dpdGgiLCJzdHJpbmdGb3JQYXJ0IiwibGFzdEF0dHJpYnV0ZU5hbWVSZWdleCIsImF0dHJpYnV0ZUxvb2t1cE5hbWUiLCJhdHRyaWJ1dGVWYWx1ZSIsImdldEF0dHJpYnV0ZSIsInJlbW92ZUF0dHJpYnV0ZSIsInN0YXRpY3MiLCJ0YWdOYW1lIiwiY3VycmVudE5vZGUiLCJwYXJlbnQiLCJsYXN0SW5kZXgiLCJpbnNlcnQiLCJjcmVhdGVNYXJrZXIiLCJjcmVhdGVUZXh0Tm9kZSIsImluc2VydEJlZm9yZSIsInByZXZpb3VzU2libGluZyIsInN1ZmZpeCIsImlzVGVtcGxhdGVQYXJ0QWN0aXZlIiwicGFydCIsImNyZWF0ZUNvbW1lbnQiLCJ0ZW1wbGF0ZV9pbnN0YW5jZV9UZW1wbGF0ZUluc3RhbmNlIiwidGVtcGxhdGUiLCJwcm9jZXNzb3IiLCJfX3BhcnRzIiwic2V0VmFsdWUiLCJjb21taXQiLCJmcmFnbWVudCIsImNsb25lTm9kZSIsImltcG9ydE5vZGUiLCJub2RlSW5kZXgiLCJoYW5kbGVUZXh0RXhwcmVzc2lvbiIsImluc2VydEFmdGVyTm9kZSIsImhhbmRsZUF0dHJpYnV0ZUV4cHJlc3Npb25zIiwiYWRvcHROb2RlIiwidXBncmFkZSIsInRlbXBsYXRlX3Jlc3VsdF9UZW1wbGF0ZVJlc3VsdCIsImlzQ29tbWVudEJpbmRpbmciLCJjb21tZW50T3BlbiIsImxhc3RJbmRleE9mIiwiYXR0cmlidXRlTWF0Y2giLCJpbm5lckhUTUwiLCJnZXRIVE1MIiwiaXNQcmltaXRpdmUiLCJpc0l0ZXJhYmxlIiwiaXRlcmF0b3IiLCJBdHRyaWJ1dGVDb21taXR0ZXIiLCJkaXJ0eSIsIl9jcmVhdGVQYXJ0IiwicGFydHNfQXR0cmlidXRlUGFydCIsIl9nZXRWYWx1ZSIsImNvbW1pdHRlciIsImRpcmVjdGl2ZSIsInBhcnRzX05vZGVQYXJ0IiwiX19wZW5kaW5nVmFsdWUiLCJzdGFydE5vZGUiLCJlbmROb2RlIiwicmVmIiwiX19pbnNlcnQiLCJfX2NvbW1pdFRleHQiLCJfX2NvbW1pdFRlbXBsYXRlUmVzdWx0IiwiTm9kZSIsIl9fY29tbWl0Tm9kZSIsIl9fY29tbWl0SXRlcmFibGUiLCJjbGVhciIsInRlbXBsYXRlRmFjdG9yeSIsIl9jbG9uZSIsIml0ZW1QYXJ0cyIsIml0ZW1QYXJ0IiwiYXBwZW5kSW50b1BhcnQiLCJpbnNlcnRBZnRlclBhcnQiLCJwYXJ0c19Cb29sZWFuQXR0cmlidXRlUGFydCIsIlByb3BlcnR5Q29tbWl0dGVyIiwic3VwZXIiLCJzaW5nbGUiLCJQcm9wZXJ0eVBhcnQiLCJldmVudE9wdGlvbnNTdXBwb3J0ZWQiLCJjYXB0dXJlIiwiX2UiLCJwYXJ0c19FdmVudFBhcnQiLCJldmVudE5hbWUiLCJldmVudENvbnRleHQiLCJfX2JvdW5kSGFuZGxlRXZlbnQiLCJoYW5kbGVFdmVudCIsIm5ld0xpc3RlbmVyIiwib2xkTGlzdGVuZXIiLCJzaG91bGRSZW1vdmVMaXN0ZW5lciIsInBhc3NpdmUiLCJzaG91bGRBZGRMaXN0ZW5lciIsIl9fb3B0aW9ucyIsImdldE9wdGlvbnMiLCJldmVudCIsImRlZmF1bHRUZW1wbGF0ZVByb2Nlc3NvciIsInByZWZpeCIsInRlbXBsYXRlQ2FjaGUiLCJ0ZW1wbGF0ZUNhY2hlcyIsInN0cmluZ3NBcnJheSIsImtleVN0cmluZyIsImdldFRlbXBsYXRlRWxlbWVudCIsInJlbmRlcl9wYXJ0cyIsImxpdF9odG1sX2h0bWwiLCJfbGVuIiwiX2tleSIsIndhbGtlck5vZGVGaWx0ZXIiLCJyZW1vdmVOb2Rlc0Zyb21UZW1wbGF0ZSIsIm1vZGlmeV90ZW1wbGF0ZV9uZXh0QWN0aXZlSW5kZXhJblRlbXBsYXRlUGFydHMiLCJyZW1vdmVDb3VudCIsIm5vZGVzVG9SZW1vdmVJblRlbXBsYXRlIiwiY3VycmVudFJlbW92aW5nTm9kZSIsImNvdW50Tm9kZXMiLCJnZXRUZW1wbGF0ZUNhY2hlS2V5Iiwic2NvcGVOYW1lIiwiY29tcGF0aWJsZVNoYWR5Q1NTVmVyc2lvbiIsIlNoYWR5Q1NTIiwicHJlcGFyZVRlbXBsYXRlRG9tIiwic2hhZHlUZW1wbGF0ZUZhY3RvcnkiLCJjYWNoZUtleSIsIlRFTVBMQVRFX1RZUEVTIiwic2hhZHlSZW5kZXJTZXQiLCJTZXQiLCJwcmVwYXJlVGVtcGxhdGVTdHlsZXMiLCJyZW5kZXJlZERPTSIsImFkZCIsInN0eWxlcyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJjb25kZW5zZWRTdHlsZSIsInRlbXBsYXRlcyIsImZyb20iLCJyZW1vdmVTdHlsZXNGcm9tTGl0VGVtcGxhdGVzIiwicmVmTm9kZSIsImluc2VydENvdW50Iiwid2Fsa2VySW5kZXgiLCJpbnNlcnROb2RlSW50b1RlbXBsYXRlIiwiZmlyc3RDaGlsZCIsIm5hdGl2ZVNoYWRvdyIsInJlbW92ZXMiLCJKU0NvbXBpbGVyX3JlbmFtZVByb3BlcnR5IiwiX29iaiIsImRlZmF1bHRDb252ZXJ0ZXIiLCJCb29sZWFuIiwiTnVtYmVyIiwibm90RXF1YWwiLCJvbGQiLCJkZWZhdWx0UHJvcGVydHlEZWNsYXJhdGlvbiIsImF0dHJpYnV0ZSIsImNvbnZlcnRlciIsInJlZmxlY3QiLCJoYXNDaGFuZ2VkIiwibWljcm90YXNrUHJvbWlzZSIsIlNUQVRFX0hBU19VUERBVEVEIiwiU1RBVEVfVVBEQVRFX1JFUVVFU1RFRCIsIlNUQVRFX0lTX1JFRkxFQ1RJTkdfVE9fQVRUUklCVVRFIiwiU1RBVEVfSVNfUkVGTEVDVElOR19UT19QUk9QRVJUWSIsIlNUQVRFX0hBU19DT05ORUNURUQiLCJVcGRhdGluZ0VsZW1lbnQiLCJIVE1MRWxlbWVudCIsIl91cGRhdGVTdGF0ZSIsIl9pbnN0YW5jZVByb3BlcnRpZXMiLCJfdXBkYXRlUHJvbWlzZSIsIl9oYXNDb25uZWN0ZWRSZXNvbHZlciIsIl9jaGFuZ2VkUHJvcGVydGllcyIsIl9yZWZsZWN0aW5nUHJvcGVydGllcyIsImluaXRpYWxpemUiLCJvYnNlcnZlZEF0dHJpYnV0ZXMiLCJmaW5hbGl6ZSIsIl9jbGFzc1Byb3BlcnRpZXMiLCJhdHRyIiwiX2F0dHJpYnV0ZU5hbWVGb3JQcm9wZXJ0eSIsIl9hdHRyaWJ1dGVUb1Byb3BlcnR5TWFwIiwic3VwZXJQcm9wZXJ0aWVzIiwiZ2V0UHJvdG90eXBlT2YiLCJrIiwiX2Vuc3VyZUNsYXNzUHJvcGVydGllcyIsIm5vQWNjZXNzb3IiLCJvbGRWYWx1ZSIsIl9yZXF1ZXN0VXBkYXRlIiwiY29uZmlndXJhYmxlIiwiZmluYWxpemVkIiwic3VwZXJDdG9yIiwicHJvcHMiLCJwcm9wS2V5cyIsImdldE93blByb3BlcnR5TmFtZXMiLCJnZXRPd25Qcm9wZXJ0eVN5bWJvbHMiLCJjcmVhdGVQcm9wZXJ0eSIsImZyb21BdHRyaWJ1dGUiLCJ0b0F0dHJpYnV0ZSIsIl9zYXZlSW5zdGFuY2VQcm9wZXJ0aWVzIiwiX3YiLCJfYXR0cmlidXRlVG9Qcm9wZXJ0eSIsImN0b3IiLCJhdHRyVmFsdWUiLCJfcHJvcGVydHlWYWx1ZVRvQXR0cmlidXRlIiwicHJvcE5hbWUiLCJfcHJvcGVydHlWYWx1ZUZyb21BdHRyaWJ1dGUiLCJzaG91bGRSZXF1ZXN0VXBkYXRlIiwiX3ZhbHVlSGFzQ2hhbmdlZCIsIl9oYXNSZXF1ZXN0ZWRVcGRhdGUiLCJfZW5xdWV1ZVVwZGF0ZSIsInVwZGF0ZUNvbXBsZXRlIiwicHJldmlvdXNVcGRhdGVQcm9taXNlIiwicmVzIiwicmVqIiwiX2hhc0Nvbm5lY3RlZCIsInBlcmZvcm1VcGRhdGUiLCJoYXNVcGRhdGVkIiwiX2FwcGx5SW5zdGFuY2VQcm9wZXJ0aWVzIiwic2hvdWxkVXBkYXRlIiwiY2hhbmdlZFByb3BlcnRpZXMiLCJfbWFya1VwZGF0ZWQiLCJmaXJzdFVwZGF0ZWQiLCJ1cGRhdGVkIiwic2l6ZSIsIl9wcm9wZXJ0eVRvQXR0cmlidXRlIiwiY3VzdG9tRWxlbWVudCIsImNsYXNzT3JEZXNjcmlwdG9yIiwiY2xhenoiLCJsZWdhY3lDdXN0b21FbGVtZW50IiwiZGVzY3JpcHRvciIsImtpbmQiLCJlbGVtZW50cyIsInN0YW5kYXJkQ3VzdG9tRWxlbWVudCIsInN0YW5kYXJkUHJvcGVydHkiLCJwbGFjZW1lbnQiLCJpbml0aWFsaXplciIsImxlZ2FjeVByb3BlcnR5IiwicHJvdG8iLCJwcm90b09yRGVzY3JpcHRvciIsInN1cHBvcnRzQWRvcHRpbmdTdHlsZVNoZWV0cyIsIkRvY3VtZW50IiwiQ1NTU3R5bGVTaGVldCIsImNvbnN0cnVjdGlvblRva2VuIiwiQ1NTUmVzdWx0IiwiY3NzVGV4dCIsInNhZmVUb2tlbiIsInN0eWxlU2hlZXQiLCJfc3R5bGVTaGVldCIsInJlcGxhY2VTeW5jIiwiY3NzIiwicmVkdWNlIiwiYWNjIiwidGV4dEZyb21DU1NSZXN1bHQiLCJmbGF0dGVuU3R5bGVzIiwiZmxhdCIsIkluZmluaXR5IiwiYXJyYXlGbGF0IiwibGl0X2VsZW1lbnRfTGl0RWxlbWVudCIsIl9zdHlsZXMiLCJfZ2V0VW5pcXVlU3R5bGVzIiwidXNlclN0eWxlcyIsInJlZHVjZVJpZ2h0IiwicmVuZGVyUm9vdCIsImNyZWF0ZVJlbmRlclJvb3QiLCJTaGFkb3dSb290IiwiYWRvcHRTdHlsZXMiLCJhdHRhY2hTaGFkb3ciLCJhZG9wdGVkU3R5bGVTaGVldHMiLCJfbmVlZHNTaGltQWRvcHRlZFN0eWxlU2hlZXRzIiwiU2NvcGluZ1NoaW0iLCJwcmVwYXJlQWRvcHRlZENzc1RleHQiLCJsb2NhbE5hbWUiLCJjb25uZWN0ZWRDYWxsYmFjayIsInN0eWxlRWxlbWVudCIsInRlbXBsYXRlUmVzdWx0IiwicmVuZGVyIiwiaGFzUmVuZGVyZWQiLCJuZWVkc1Njb3BpbmciLCJmaXJzdFNjb3BlUmVuZGVyIiwicmVuZGVyQ29udGFpbmVyIiwiY3JlYXRlRG9jdW1lbnRGcmFnbWVudCIsImFwcGVuZEludG8iLCJnZXRDb29raWUiLCJnZXRDbGFzc2VzIiwiY2xhc3NOYW1lcyIsImNsYXNzTmFtZSIsImdldEFzc2V0UGFnZSIsInV0aWxzX2dldFVybCIsImFzc2V0cyIsInJlc3VsdHMiLCJjYXRjaCIsImNzcmYiLCJYLUNTUkZUb2tlbiIsImF4aW9zX2RlZmF1bHQiLCJBbGlhc0VkaXRvcl9BbGlhc0VkaXRvciIsIkFsaWFzRWRpdG9yX3RlbXBsYXRlT2JqZWN0IiwibmV3UGF0aCIsImZlYXR1cmUiLCJvc21faWQiLCJvc21JZCIsImhpZGVBbGlhc0RpYWxvZyIsImZldGNoRmVhdHVyZSIsImdldEVuZHBvaW50IiwiYXV0b3NpemVfZGVmYXVsdCIsInNoYWRvd1Jvb3QiLCJob3ZlcmVkIiwic2VsZWN0aW9uIiwiZGV0YWlsIiwic2VsZWN0ZWQiLCJzaG93QWxpYXNEaWFsb2ciLCJyZW1haW5pbmdQYXRoIiwic2VsZWN0ZWRGZWF0dXJlIiwiY2xpY2thYmxlIiwiaGFzX2NoaWxkcmVuIiwicmVuZGVyZWRGZWF0dXJlIiwiX3RlbXBsYXRlT2JqZWN0MiIsImhhbmRsZVBsYWNlQ2xpY2tlZCIsImFsaWFzZXMiLCJhbGlhcyIsIl90ZW1wbGF0ZU9iamVjdDMiLCJfdGVtcGxhdGVPYmplY3Q0IiwicHJldmVudERlZmF1bHQiLCJzdG9wUHJvcGFnYXRpb24iLCJyZW5kZXJlZENoaWxkcmVuIiwiY2hpbGRyZW4iLCJjaGlsZCIsInJlbmRlckZlYXR1cmUiLCJfdGVtcGxhdGVPYmplY3Q1IiwiZWRpdEZlYXR1cmUiLCJhbGlhc0RpYWxvZyIsImdldEVsZW1lbnRCeUlkIiwiZmlyZVRleHRhcmVhQXV0b3NpemUiLCJyZXF1ZXN0VXBkYXRlIiwiZW5kcG9pbnQiLCJidXR0b24iLCJzZXRQcm9ncmVzcyIsInBheWxvYWQiLCJwb3N0IiwicG9zdFVybCIsIm9wdGlvbiIsIl90ZW1wbGF0ZU9iamVjdDYiLCJfdGVtcGxhdGVPYmplY3Q3IiwiX3RlbXBsYXRlT2JqZWN0OCIsIl90ZW1wbGF0ZU9iamVjdDkiLCJtYXBGZWF0dXJlIiwiZWRpdEZlYXR1cmVJZCIsImVkaXRGZWF0dXJlTmFtZSIsImVkaXRGZWF0dXJlQWxpYXNlcyIsIl90ZW1wbGF0ZU9iamVjdDEwIiwicmVuZGVyT3B0aW9uRGV0YWlsIiwiaGFuZGxlU2VhcmNoU2VsZWN0aW9uIiwiaGFuZGxlTWFwQ2xpY2tlZCIsImhhbmRsZURpYWxvZ0NsaWNrIiwiX19kZWNvcmF0ZSIsIkJ1dHRvbl9CdXR0b24iLCJCdXR0b25fdGVtcGxhdGVPYmplY3QiLCJwcm9ncmVzcyIsImlzUHJvZ3Jlc3MiLCJjbGljayIsIkJ1dHRvbl90ZW1wbGF0ZU9iamVjdDIiLCJwcmltYXJ5Iiwic2Vjb25kYXJ5IiwiaGFuZGxlS2V5VXAiLCJpblByb2dlc3NOYW1lIiwiQnV0dG9uX2RlY29yYXRlIiwiRGlhbG9nX0RpYWxvZyIsInByaW1hcnlCdXR0b25OYW1lIiwiY2FuY2VsQnV0dG9uTmFtZSIsImluUHJvZ3Jlc3NOYW1lIiwiRGlhbG9nX3RlbXBsYXRlT2JqZWN0IiwiaW5wdXRzIiwiZm9jdXMiLCJjdXJyZW50VGFyZ2V0Iiwib25CdXR0b25DbGlja2VkIiwibWF4IiwiY2xpZW50SGVpZ2h0IiwiZ2V0RG9jdW1lbnRIZWlnaHQiLCJEaWFsb2dfdGVtcGxhdGVPYmplY3QyIiwiRGlhbG9nX3RlbXBsYXRlT2JqZWN0MyIsImhhbmRsZUNsaWNrIiwiRGlhbG9nX2RlY29yYXRlIiwiUmFwaWRFbGVtZW50X1JhcGlkRWxlbWVudCIsImhhbmRsZXIiLCJnZXRFdmVudEhhbmRsZXJzIiwiZGlzY29ubmVjdGVkQ2FsbGJhY2siLCJDdXN0b21FdmVudCIsImNvbXBvc2VkIiwiVGV4dElucHV0X1RleHRJbnB1dCIsInBsYWNlaG9sZGVyIiwiVGV4dElucHV0X3RlbXBsYXRlT2JqZWN0IiwiY2hhbmdlcyIsImlucHV0RWxlbWVudCIsIlRleHRJbnB1dF90ZW1wbGF0ZU9iamVjdDIiLCJ0ZXh0YXJlYSIsIlRleHRJbnB1dF90ZW1wbGF0ZU9iamVjdDMiLCJUZXh0SW5wdXRfdGVtcGxhdGVPYmplY3Q0IiwiVGV4dElucHV0X2RlY29yYXRlIiwiTGFiZWxfTGFiZWwiLCJMYWJlbF90ZW1wbGF0ZU9iamVjdCIsIkxhYmVsX3RlbXBsYXRlT2JqZWN0MiIsInRleHRDb2xvciIsIkxhYmVsX3RlbXBsYXRlT2JqZWN0MyIsImxpZ2h0IiwiZGFyayIsIkxhYmVsX2RlY29yYXRlIiwiQ3VzdG9tRXZlbnRUeXBlIiwiT3B0aW9uc19PcHRpb25zIiwiY3Vyc29ySW5kZXgiLCJPcHRpb25zX3RlbXBsYXRlT2JqZWN0IiwiZm9jdXNlZEVsZSIsInNjcm9sbEJveCIsInNjcm9sbEJveEhlaWdodCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsImZvY3VzZWRFbGVIZWlnaHQiLCJzY3JvbGxUbyIsImNhbGN1bGF0ZVBvc2l0aW9uIiwicmVuZGVyT3B0aW9uTmFtZSIsInJlbmRlck9wdGlvbk5hbWVEZWZhdWx0IiwicmVuZGVyT3B0aW9uRGV0YWlsRGVmYXVsdCIsIk9wdGlvbnNfdGVtcGxhdGVPYmplY3QyIiwiT3B0aW9uc190ZW1wbGF0ZU9iamVjdDMiLCJPcHRpb25zX3RlbXBsYXRlT2JqZWN0NCIsIk9wdGlvbnNfdGVtcGxhdGVPYmplY3Q1IiwidGFiYmVkIiwiZmlyZUV2ZW50IiwiU2VsZWN0aW9uIiwiZGlyZWN0aW9uIiwibmV3SW5kZXgiLCJtaW4iLCJzZXRDdXJzb3IiLCJDdXJzb3JDaGFuZ2VkIiwidmlzaWJsZSIsImN0cmxLZXkiLCJtb3ZlQ3Vyc29yIiwiaGFuZGxlU2VsZWN0aW9uIiwiQ2FuY2VsZWQiLCJvcHRpb25zQm91bmRzIiwiYW5jaG9yVG8iLCJhbmNob3JCb3VuZHMiLCJ0b3BUb3AiLCJib3R0b20iLCJpbm5lckhlaWdodCIsInBhZ2VZT2Zmc2V0IiwiaGFuZGxlS2V5RG93biIsInJlbmRlck9wdGlvbiIsInJlbmRlck9wdGlvbkRlZmF1bHQiLCJPcHRpb25zX3RlbXBsYXRlT2JqZWN0NiIsIk9wdGlvbnNfdGVtcGxhdGVPYmplY3Q3IiwiYWJzIiwibW92ZW1lbnRYIiwibW92ZW1lbnRZIiwiT3B0aW9uc19kZWNvcmF0ZSIsIlNlbGVjdF9TZWxlY3QiLCJxdWlldE1pbGxpcyIsIlNlbGVjdF90ZW1wbGF0ZU9iamVjdCIsImJsdXIiLCJsYXN0UXVlcnkiLCJmZXRjaE9wdGlvbnMiLCJxdWVyeSIsImNvbXBsZXRlIiwicGFnZSIsImZldGNoaW5nIiwiZmlsdGVyIiwibmV3UmVzdWx0cyIsImVsZSIsImhhbmRsZUNhbmNlbCIsImhhbmRsZUN1cnNvckNoYW5nZWQiLCJhbmNob3JFbGVtZW50IiwiU2VsZWN0X3RlbXBsYXRlT2JqZWN0MiIsImhhbmRsZUJsdXIiLCJoYW5kbGVGb2N1cyIsImhhbmRsZU9wdGlvblNlbGVjdGlvbiIsIlNlbGVjdF9kZWNvcmF0ZSIsIlNUQVRFX0JPRFkiLCJTVEFURV9QUkVGSVgiLCJTVEFURV9JREVOVElGSUVSIiwiU1RBVEVfQkFMQU5DRUQiLCJTVEFURV9TVFJJTkdfTElURVJBTCIsIlNUQVRFX0VTQ0FQRURfUFJFRklYIiwiU1RBVEVfSUdOT1JFIiwic3RhcnRzV2l0aCIsImlzVmFsaWRTdGFydCIsInBhcnRpYWxFeHByZXNzaW9uIiwiYWxsb3dlZFRvcExldmVscyIsImFsbG93SW5jb21wbGV0ZSIsInRvcExldmVsIiwiYWxsb3dlZCIsImlzV29yZENoYXIiLCJpc0luU3RyaW5nTGl0ZXJhbCIsIm51bVF1b3RlcyIsInBvcyIsImdldEZ1bmN0aW9ucyIsImZ1bmN0aW9ucyIsInNpZ25hdHVyZSIsImdldENvbXBsZXRpb25zIiwic2NoZW1hIiwiZG90UXVlcnkiLCJrZXllZEFzc2V0cyIsImN1cnJlbnRQcm9wcyIsInJvb3Rfbm9fc2Vzc2lvbiIsIm5leHRQcm9wIiwiZmluZCIsIm5leHRUeXBlIiwidHlwZXMiLCJwcm9wZXJ0eV90ZW1wbGF0ZSIsImhlbHAiLCJzdW1tYXJ5IiwicHJldmlvdXNWYWx1ZXMiLCJ1bnNhZmVIVE1MIiwicHJldmlvdXNWYWx1ZSIsIm1hcmtlZFJlbmRlciIsImNvbnRlbnRzIiwiQ29tcGxldGlvbl9Db21wbGV0aW9uIiwiQ29tcGxldGlvbl8xIiwiYW5jaG9yUG9zaXRpb24iLCJDb21wbGV0aW9uX3RlbXBsYXRlT2JqZWN0IiwidGV4dElucHV0RWxlbWVudCIsImNvbXBsZXRpb25zRW5kcG9pbnQiLCJmdW5jdGlvbnNFbmRwb2ludCIsImZpZWxkc0VuZHBvaW50IiwiYXN5bmMiLCJwYWdlVXJsIiwiYXNzZXRQYWdlIiwiZ2V0QXNzZXRzIiwiZmllbGRzIiwiYXNzZXQiLCJleGVjdXRlUXVlcnkiLCJjdXJyZW50RnVuY3Rpb24iLCJjdXJzb3IiLCJzZWxlY3Rpb25TdGFydCIsImN1cnJlbnRFeHByZXNzaW9uIiwiZmluZEV4cHJlc3Npb25zIiwiZXhwciIsImNsb3NlZCIsImluY2x1ZGVGdW5jdGlvbnMiLCJmdW5jdGlvblF1ZXJ5IiwiZnVuY3Rpb25Db250ZXh0IiwiY2FyZXQiLCJ0ZXh0YXJlYV9jYXJldF9kZWZhdWx0IiwiaW5zZXJ0VGV4dCIsImFyZ1N0YXJ0IiwiQ29tcGxldGlvbl90ZW1wbGF0ZU9iamVjdDIiLCJDb21wbGV0aW9uX3RlbXBsYXRlT2JqZWN0MyIsIkNvbXBsZXRpb25fdGVtcGxhdGVPYmplY3Q0IiwiQ29tcGxldGlvbl90ZW1wbGF0ZU9iamVjdDUiLCJDb21wbGV0aW9uX3RlbXBsYXRlT2JqZWN0NiIsImhhbmRsZUlucHV0IiwiaGFuZGxlT3B0aW9uQ2FuY2VsZWQiLCJyZW5kZXJDb21wbGV0aW9uT3B0aW9uIiwiQ29tcGxldGlvbl90ZW1wbGF0ZU9iamVjdDciLCJleHByZXNzaW9uUHJlZml4IiwidGV4dFRvQ2FyZXQiLCJleHByZXNzaW9ucyIsImxhc3RFeHByZXNzaW9uIiwibmVlZGVkUGFyZW50aGVzZXMiLCJza2lwQ2hhciIsImluUXVvdGVzIiwicHJlcGVuZEZsYWciLCJzdGF0ZSIsImlkZW50aWZpZXIiLCJwYXJlbnRoZXNlc0xldmVsIiwicmUiLCJleHByZXNzaW9uIiwibmV4dENoIiwibmV4dE5leHRDaCIsIkNvbXBsZXRpb25fZGVjb3JhdGUiXSwibWFwcGluZ3MiOiJDQUFBLFNBQUFBLEVBQUFDLEdBQ0EsaUJBQUFDLFNBQUEsaUJBQUFDLE9BQ0FBLE9BQUFELFFBQUFELElBQ0EsbUJBQUFHLGVBQUFDLElBQ0FELE9BQUEsR0FBQUgsR0FDQSxpQkFBQUMsUUFDQUEsUUFBQSxpQkFBQUQsSUFFQUQsRUFBQSxpQkFBQUMsSUFSQSxDQVNDSyxPQUFBLFdBQ0QsbUJDVEEsSUFBQUMsRUFBQSxHQUdBLFNBQUFDLEVBQUFDLEdBR0EsR0FBQUYsRUFBQUUsR0FDQSxPQUFBRixFQUFBRSxHQUFBUCxRQUdBLElBQUFDLEVBQUFJLEVBQUFFLEdBQUEsQ0FDQUMsRUFBQUQsRUFDQUUsR0FBQSxFQUNBVCxRQUFBLElBVUEsT0FOQVUsRUFBQUgsR0FBQUksS0FBQVYsRUFBQUQsUUFBQUMsSUFBQUQsUUFBQU0sR0FHQUwsRUFBQVEsR0FBQSxFQUdBUixFQUFBRCxRQTBEQSxPQXJEQU0sRUFBQU0sRUFBQUYsRUFHQUosRUFBQU8sRUFBQVIsRUFHQUMsRUFBQVEsRUFBQSxTQUFBZCxFQUFBZSxFQUFBQyxHQUNBVixFQUFBVyxFQUFBakIsRUFBQWUsSUFDQUcsT0FBQUMsZUFBQW5CLEVBQUFlLEVBQUEsQ0FBMENLLFlBQUEsRUFBQUMsSUFBQUwsS0FLMUNWLEVBQUFnQixFQUFBLFNBQUF0QixHQUNBLG9CQUFBdUIsZUFBQUMsYUFDQU4sT0FBQUMsZUFBQW5CLEVBQUF1QixPQUFBQyxZQUFBLENBQXdEQyxNQUFBLFdBRXhEUCxPQUFBQyxlQUFBbkIsRUFBQSxjQUFpRHlCLE9BQUEsS0FRakRuQixFQUFBb0IsRUFBQSxTQUFBRCxFQUFBRSxHQUVBLEdBREEsRUFBQUEsSUFBQUYsRUFBQW5CLEVBQUFtQixJQUNBLEVBQUFFLEVBQUEsT0FBQUYsRUFDQSxLQUFBRSxHQUFBLGlCQUFBRixRQUFBRyxXQUFBLE9BQUFILEVBQ0EsSUFBQUksRUFBQVgsT0FBQVksT0FBQSxNQUdBLEdBRkF4QixFQUFBZ0IsRUFBQU8sR0FDQVgsT0FBQUMsZUFBQVUsRUFBQSxXQUF5Q1QsWUFBQSxFQUFBSyxVQUN6QyxFQUFBRSxHQUFBLGlCQUFBRixFQUFBLFFBQUFNLEtBQUFOLEVBQUFuQixFQUFBUSxFQUFBZSxFQUFBRSxFQUFBLFNBQUFBLEdBQWdILE9BQUFOLEVBQUFNLElBQXFCQyxLQUFBLEtBQUFELElBQ3JJLE9BQUFGLEdBSUF2QixFQUFBMkIsRUFBQSxTQUFBaEMsR0FDQSxJQUFBZSxFQUFBZixLQUFBMkIsV0FDQSxXQUEyQixPQUFBM0IsRUFBQSxTQUMzQixXQUFpQyxPQUFBQSxHQUVqQyxPQURBSyxFQUFBUSxFQUFBRSxFQUFBLElBQUFBLEdBQ0FBLEdBSUFWLEVBQUFXLEVBQUEsU0FBQWlCLEVBQUFDLEdBQXNELE9BQUFqQixPQUFBa0IsVUFBQUMsZUFBQTFCLEtBQUF1QixFQUFBQyxJQUd0RDdCLEVBQUFnQyxFQUFBLEdBSUFoQyxJQUFBaUMsRUFBQSxtQ0NoRkEsSUFBSVAsRUFBT1EsRUFBUSxHQUNmQyxFQUFXRCxFQUFRLElBTW5CRSxFQUFXeEIsT0FBT2tCLFVBQVVNLFNBUWhDLFNBQVNDLEVBQVFDLEdBQ2YsTUFBOEIsbUJBQXZCRixFQUFTL0IsS0FBS2lDLEdBMkV2QixTQUFTQyxFQUFTRCxHQUNoQixPQUFlLE9BQVJBLEdBQStCLGlCQUFSQSxFQXVDaEMsU0FBU0UsRUFBV0YsR0FDbEIsTUFBOEIsc0JBQXZCRixFQUFTL0IsS0FBS2lDLEdBb0V2QixTQUFTRyxFQUFRQyxFQUFLQyxHQUVwQixHQUFJRCxRQVVKLEdBTG1CLGlCQUFSQSxJQUVUQSxFQUFNLENBQUNBLElBR0xMLEVBQVFLLEdBRVYsSUFBSyxJQUFJeEMsRUFBSSxFQUFHQyxFQUFJdUMsRUFBSUUsT0FBUTFDLEVBQUlDLEVBQUdELElBQ3JDeUMsRUFBR3RDLEtBQUssS0FBTXFDLEVBQUl4QyxHQUFJQSxFQUFHd0MsUUFJM0IsSUFBSyxJQUFJakIsS0FBT2lCLEVBQ1Y5QixPQUFPa0IsVUFBVUMsZUFBZTFCLEtBQUtxQyxFQUFLakIsSUFDNUNrQixFQUFHdEMsS0FBSyxLQUFNcUMsRUFBSWpCLEdBQU1BLEVBQUtpQixHQTBEckMvQyxFQUFPRCxRQUFVLENBQ2YyQyxRQUFTQSxFQUNUUSxjQWhRRixTQUF1QlAsR0FDckIsTUFBOEIseUJBQXZCRixFQUFTL0IsS0FBS2lDLElBZ1FyQkgsU0FBVUEsRUFDVlcsV0F4UEYsU0FBb0JSLEdBQ2xCLE1BQTRCLG9CQUFiUyxVQUE4QlQsYUFBZVMsVUF3UDVEQyxrQkEvT0YsU0FBMkJWLEdBT3pCLE1BTDRCLG9CQUFoQlcsYUFBaUNBLFlBQVlDLE9BQzlDRCxZQUFZQyxPQUFPWixHQUVsQkEsR0FBU0EsRUFBSWEsUUFBWWIsRUFBSWEsa0JBQWtCRixhQTJPM0RHLFNBaE9GLFNBQWtCZCxHQUNoQixNQUFzQixpQkFBUkEsR0FnT2RlLFNBdk5GLFNBQWtCZixHQUNoQixNQUFzQixpQkFBUkEsR0F1TmRDLFNBQVVBLEVBQ1ZlLFlBL01GLFNBQXFCaEIsR0FDbkIsWUFBc0IsSUFBUkEsR0ErTWRpQixPQTVMRixTQUFnQmpCLEdBQ2QsTUFBOEIsa0JBQXZCRixFQUFTL0IsS0FBS2lDLElBNExyQmtCLE9BbkxGLFNBQWdCbEIsR0FDZCxNQUE4QixrQkFBdkJGLEVBQVMvQixLQUFLaUMsSUFtTHJCbUIsT0ExS0YsU0FBZ0JuQixHQUNkLE1BQThCLGtCQUF2QkYsRUFBUy9CLEtBQUtpQyxJQTBLckJFLFdBQVlBLEVBQ1prQixTQXhKRixTQUFrQnBCLEdBQ2hCLE9BQU9DLEVBQVNELElBQVFFLEVBQVdGLEVBQUlxQixPQXdKdkNDLGtCQS9JRixTQUEyQnRCLEdBQ3pCLE1BQWtDLG9CQUFwQnVCLGlCQUFtQ3ZCLGFBQWV1QixpQkErSWhFQyxxQkFySEYsV0FDRSxPQUF5QixvQkFBZEMsV0FBbUQsZ0JBQXRCQSxVQUFVQyxVQUk5QixvQkFBWGxFLFFBQ2Esb0JBQWJtRSxVQWdIVHhCLFFBQVNBLEVBQ1R5QixNQXJERixTQUFTQSxJQUNQLElBQUlDLEVBQVMsR0FDYixTQUFTQyxFQUFZOUIsRUFBS2IsR0FDRyxpQkFBaEIwQyxFQUFPMUMsSUFBb0MsaUJBQVJhLEVBQzVDNkIsRUFBTzFDLEdBQU95QyxFQUFNQyxFQUFPMUMsR0FBTWEsR0FFakM2QixFQUFPMUMsR0FBT2EsRUFJbEIsSUFBSyxJQUFJcEMsRUFBSSxFQUFHQyxFQUFJa0UsVUFBVXpCLE9BQVExQyxFQUFJQyxFQUFHRCxJQUMzQ3VDLEVBQVE0QixVQUFVbkUsR0FBSWtFLEdBRXhCLE9BQU9ELEdBeUNQRyxPQTlCRixTQUFnQkMsRUFBR0MsRUFBR0MsR0FRcEIsT0FQQWhDLEVBQVErQixFQUFHLFNBQXFCbEMsRUFBS2IsR0FFakM4QyxFQUFFOUMsR0FEQWdELEdBQTBCLG1CQUFSbkMsRUFDWFosRUFBS1ksRUFBS21DLEdBRVZuQyxJQUdOaUMsR0F1QlBHLEtBMUlGLFNBQWNDLEdBQ1osT0FBT0EsRUFBSUMsUUFBUSxPQUFRLElBQUlBLFFBQVEsT0FBUSx1QkNwS2pEakYsRUFBT0QsUUFBVXdDLEVBQVEsbUNDQXpCLFNBQUEyQyxHQUVBLElBQUlDLEVBQVE1QyxFQUFRLEdBQ2hCNkMsRUFBc0I3QyxFQUFRLElBRTlCOEMsRUFBdUIsQ0FDekJDLGVBQWdCLHFDQUdsQixTQUFTQyxFQUFzQkMsRUFBU2hFLElBQ2pDMkQsRUFBTXhCLFlBQVk2QixJQUFZTCxFQUFNeEIsWUFBWTZCLEVBQVEsbUJBQzNEQSxFQUFRLGdCQUFrQmhFLEdBZ0I5QixJQVhNaUUsRUFXRkMsRUFBVyxDQUNiRCxTQVg4QixvQkFBbkJFLGVBRVRGLEVBQVVsRCxFQUFRLFFBQ1UsSUFBWjJDLElBRWhCTyxFQUFVbEQsRUFBUSxJQUVia0QsR0FNUEcsaUJBQWtCLENBQUMsU0FBMEJDLEVBQU1MLEdBRWpELE9BREFKLEVBQW9CSSxFQUFTLGdCQUN6QkwsRUFBTWhDLFdBQVcwQyxJQUNuQlYsRUFBTWpDLGNBQWMyQyxJQUNwQlYsRUFBTTNDLFNBQVNxRCxJQUNmVixFQUFNcEIsU0FBUzhCLElBQ2ZWLEVBQU10QixPQUFPZ0MsSUFDYlYsRUFBTXJCLE9BQU8rQixHQUVOQSxFQUVMVixFQUFNOUIsa0JBQWtCd0MsR0FDbkJBLEVBQUtyQyxPQUVWMkIsRUFBTWxCLGtCQUFrQjRCLElBQzFCTixFQUFzQkMsRUFBUyxtREFDeEJLLEVBQUtwRCxZQUVWMEMsRUFBTXZDLFNBQVNpRCxJQUNqQk4sRUFBc0JDLEVBQVMsa0NBQ3hCTSxLQUFLQyxVQUFVRixJQUVqQkEsSUFHVEcsa0JBQW1CLENBQUMsU0FBMkJILEdBRTdDLEdBQW9CLGlCQUFUQSxFQUNULElBQ0VBLEVBQU9DLEtBQUtHLE1BQU1KLEdBQ2xCLE1BQU9LLElBRVgsT0FBT0wsSUFPVE0sUUFBUyxFQUVUQyxlQUFnQixhQUNoQkMsZUFBZ0IsZUFFaEJDLGtCQUFtQixFQUVuQkMsZUFBZ0IsU0FBd0JDLEdBQ3RDLE9BQU9BLEdBQVUsS0FBT0EsRUFBUyxNQUlyQ2QsRUFBU0YsUUFBVSxDQUNqQmlCLE9BQVEsQ0FDTkMsT0FBVSxzQ0FJZHZCLEVBQU1yQyxRQUFRLENBQUMsU0FBVSxNQUFPLFFBQVMsU0FBNkI2RCxHQUNwRWpCLEVBQVNGLFFBQVFtQixHQUFVLEtBRzdCeEIsRUFBTXJDLFFBQVEsQ0FBQyxPQUFRLE1BQU8sU0FBVSxTQUErQjZELEdBQ3JFakIsRUFBU0YsUUFBUW1CLEdBQVV4QixFQUFNWixNQUFNYyxLQUd6Q3JGLEVBQU9ELFFBQVUyRixzQ0MvRmpCLElBQUFrQixFQUFBQyxFQUFBQyxFQU9FN0csRUFBTyxDQUFDRCxFQUFVRCxRQUFaZ0gsS0FBQUQsRUFBQSxtQkFBQUYsRUFVQyxTQUFVNUcsRUFBUUQsR0FDMUIsYUFFQSxJQUNLaUgsRUFDQUMsRUFGREMsRUFBcUIsbUJBQVJDLElBQXFCLElBQUlBLEtBQ3JDSCxFQUFPLEdBQ1BDLEVBQVMsR0FFTixDQUNORyxJQUFLLFNBQWF0RixHQUNqQixPQUFPa0YsRUFBS0ssUUFBUXZGLElBQVEsR0FFN0JWLElBQUssU0FBYVUsR0FDakIsT0FBT21GLEVBQU9ELEVBQUtLLFFBQVF2RixLQUU1QndGLElBQUssU0FBYXhGLEVBQUtOLElBQ0ssSUFBdkJ3RixFQUFLSyxRQUFRdkYsS0FDaEJrRixFQUFLTyxLQUFLekYsR0FDVm1GLEVBQU9NLEtBQUsvRixLQUdkZ0csT0FBUSxTQUFpQjFGLEdBQ3hCLElBQUkyRixFQUFRVCxFQUFLSyxRQUFRdkYsR0FDckIyRixHQUFTLElBQ1pULEVBQUtVLE9BQU9ELEVBQU8sR0FDbkJSLEVBQU9TLE9BQU9ELEVBQU8sT0FNckJFLEVBQWMsU0FBcUI3RyxHQUN0QyxPQUFPLElBQUk4RyxNQUFNOUcsRUFBTSxDQUFFK0csU0FBUyxLQUVuQyxJQUNDLElBQUlELE1BQU0sUUFDVCxNQUFPMUIsR0FFUnlCLEVBQWMsU0FBcUI3RyxHQUNsQyxJQUFJZ0gsRUFBTXhELFNBQVNxRCxZQUFZLFNBRS9CLE9BREFHLEVBQUlDLFVBQVVqSCxHQUFNLEdBQU0sR0FDbkJnSCxHQUlULFNBQVNFLEVBQU9DLEdBQ2YsR0FBS0EsR0FBT0EsRUFBR0MsVUFBNEIsYUFBaEJELEVBQUdDLFdBQTJCaEIsRUFBSUUsSUFBSWEsR0FBakUsQ0FFQSxJQUFJRSxFQUFlLEtBQ2ZDLEVBQWMsS0FDZEMsRUFBZSxLQXdIZkMsRUFBYSxXQUNaTCxFQUFHRyxjQUFnQkEsR0FDdEJHLEtBSUVDLEVBQVUsU0FBVUMsR0FDdkJ0SSxPQUFPdUksb0JBQW9CLFNBQVVKLEdBQVksR0FDakRMLEVBQUdTLG9CQUFvQixRQUFTSCxHQUFRLEdBQ3hDTixFQUFHUyxvQkFBb0IsUUFBU0gsR0FBUSxHQUN4Q04sRUFBR1Msb0JBQW9CLG1CQUFvQkYsR0FBUyxHQUNwRFAsRUFBR1Msb0JBQW9CLGtCQUFtQkgsR0FBUSxHQUVsRHRILE9BQU8rRixLQUFLeUIsR0FBTzNGLFFBQVEsU0FBVWhCLEdBQ3BDbUcsRUFBR1EsTUFBTTNHLEdBQU8yRyxFQUFNM0csS0FHdkJvRixFQUFJTSxPQUFPUyxJQUNWbEcsS0FBS2tHLEVBQUksQ0FDVlUsT0FBUVYsRUFBR1EsTUFBTUUsT0FDakJDLE9BQVFYLEVBQUdRLE1BQU1HLE9BQ2pCQyxVQUFXWixFQUFHUSxNQUFNSSxVQUNwQkMsVUFBV2IsRUFBR1EsTUFBTUssVUFDcEJDLFNBQVVkLEVBQUdRLE1BQU1NLFdBR3BCZCxFQUFHZSxpQkFBaUIsbUJBQW9CUixHQUFTLEdBSzdDLHFCQUFzQlAsR0FBTSxZQUFhQSxHQUM1Q0EsRUFBR2UsaUJBQWlCLFFBQVNULEdBQVEsR0FHdENwSSxPQUFPNkksaUJBQWlCLFNBQVVWLEdBQVksR0FDOUNMLEVBQUdlLGlCQUFpQixRQUFTVCxHQUFRLEdBQ3JDTixFQUFHZSxpQkFBaUIsa0JBQW1CVCxHQUFRLEdBQy9DTixFQUFHUSxNQUFNSyxVQUFZLFNBQ3JCYixFQUFHUSxNQUFNTSxTQUFXLGFBRXBCN0IsRUFBSUksSUFBSVcsRUFBSSxDQUNYTyxRQUFTQSxFQUNURCxPQUFRQSxJQTlKYSxjQUZqQkUsRUFBUXRJLE9BQU84SSxpQkFBaUJoQixFQUFJLE9BRTlCVyxPQUNUWCxFQUFHUSxNQUFNRyxPQUFTLE9BQ1MsU0FBakJILEVBQU1HLFNBQ2hCWCxFQUFHUSxNQUFNRyxPQUFTLGNBSWxCVCxFQUR1QixnQkFBcEJNLEVBQU1TLFlBQ1FDLFdBQVdWLEVBQU1XLFlBQWNELFdBQVdWLEVBQU1ZLGdCQUVsREYsV0FBV1YsRUFBTWEsZ0JBQWtCSCxXQUFXVixFQUFNYyxtQkFHaEVDLE1BQU1yQixLQUNUQSxFQUFlLEdBR2hCSSxJQW5CRCxJQUNLRSxFQXFCTCxTQUFTZ0IsRUFBZWpJLEdBS3RCLElBQUlrSSxFQUFRekIsRUFBR1EsTUFBTWlCLE1BQ3JCekIsRUFBR1EsTUFBTWlCLE1BQVEsTUFHakJ6QixFQUFHMEIsWUFFSDFCLEVBQUdRLE1BQU1pQixNQUFRQSxFQUdsQnpCLEVBQUdRLE1BQU1JLFVBQVlySCxFQW1CdEIsU0FBU29ILElBQ1IsR0FBd0IsSUFBcEJYLEVBQUcyQixhQUFQLENBS0EsSUFBSUMsRUF0QkwsU0FBNEJDLEdBRzNCLElBRkEsSUFBSUMsRUFBTSxHQUVIRCxHQUFNQSxFQUFHRSxZQUFjRixFQUFHRSxzQkFBc0JDLFNBQ2xESCxFQUFHRSxXQUFXRSxXQUNqQkgsRUFBSXhDLEtBQUssQ0FDUjRDLEtBQU1MLEVBQUdFLFdBQ1RFLFVBQVdKLEVBQUdFLFdBQVdFLFlBRzNCSixFQUFLQSxFQUFHRSxXQUdULE9BQU9ELEVBU1NLLENBQW1CbkMsR0FDL0JvQyxFQUFTL0YsU0FBU2dHLGlCQUFtQmhHLFNBQVNnRyxnQkFBZ0JKLFVBRWxFakMsRUFBR1EsTUFBTUUsT0FBUyxHQUNsQlYsRUFBR1EsTUFBTUUsT0FBU1YsRUFBRzJCLGFBQWV6QixFQUFlLEtBR25EQyxFQUFjSCxFQUFHRyxZQUdqQnlCLEVBQVUvRyxRQUFRLFNBQVVnSCxHQUMzQkEsRUFBR0ssS0FBS0QsVUFBWUosRUFBR0ksWUFHcEJHLElBQ0gvRixTQUFTZ0csZ0JBQWdCSixVQUFZRyxJQUl2QyxTQUFTOUIsSUFDUkssSUFFQSxJQUFJMkIsRUFBY0MsS0FBS0MsTUFBTXRCLFdBQVdsQixFQUFHUSxNQUFNRSxTQUM3QytCLEVBQVd2SyxPQUFPOEksaUJBQWlCaEIsRUFBSSxNQUd2QzBDLEVBQXNDLGdCQUF2QkQsRUFBU3hCLFVBQThCc0IsS0FBS0MsTUFBTXRCLFdBQVd1QixFQUFTL0IsU0FBV1YsRUFBRzJDLGFBbUJ2RyxHQWZJRCxFQUFlSixFQUNTLFdBQXZCRyxFQUFTN0IsWUFDWlksRUFBZSxVQUNmYixJQUNBK0IsRUFBc0MsZ0JBQXZCRCxFQUFTeEIsVUFBOEJzQixLQUFLQyxNQUFNdEIsV0FBV2hKLE9BQU84SSxpQkFBaUJoQixFQUFJLE1BQU1VLFNBQVdWLEVBQUcyQyxjQUlsRyxXQUF2QkYsRUFBUzdCLFlBQ1pZLEVBQWUsVUFDZmIsSUFDQStCLEVBQXNDLGdCQUF2QkQsRUFBU3hCLFVBQThCc0IsS0FBS0MsTUFBTXRCLFdBQVdoSixPQUFPOEksaUJBQWlCaEIsRUFBSSxNQUFNVSxTQUFXVixFQUFHMkMsY0FJMUh2QyxJQUFpQnNDLEVBQWMsQ0FDbEN0QyxFQUFlc0MsRUFDZixJQUFJN0MsRUFBTUgsRUFBWSxvQkFDdEIsSUFDQ00sRUFBRzRDLGNBQWMvQyxHQUNoQixNQUFPZ0QsT0F3RFosU0FBU3RDLEVBQVFQLEdBQ2hCLElBQUk4QyxFQUFVN0QsRUFBSTlGLElBQUk2RyxHQUNsQjhDLEdBQ0hBLEVBQVF2QyxVQUlWLFNBQVNELEVBQU9OLEdBQ2YsSUFBSThDLEVBQVU3RCxFQUFJOUYsSUFBSTZHLEdBQ2xCOEMsR0FDSEEsRUFBUXhDLFNBSVYsSUFBSXlDLEVBQVcsS0FHTyxvQkFBWDdLLFFBQTZELG1CQUE1QkEsT0FBTzhJLG1CQUNsRCtCLEVBQVcsU0FBa0JsQixHQUM1QixPQUFPQSxJQUVDdEIsUUFBVSxTQUFVc0IsR0FDNUIsT0FBT0EsR0FFUmtCLEVBQVN6QyxPQUFTLFNBQVV1QixHQUMzQixPQUFPQSxNQUdSa0IsRUFBVyxTQUFrQmxCLEVBQUltQixHQU1oQyxPQUxJbkIsR0FDSG9CLE1BQU0vSSxVQUFVVyxRQUFRcEMsS0FBS29KLEVBQUc3RyxPQUFTNkcsRUFBSyxDQUFDQSxHQUFLLFNBQVVxQixHQUM3RCxPQUFPbkQsRUFBT21ELEtBR1RyQixJQUVDdEIsUUFBVSxTQUFVc0IsR0FJNUIsT0FISUEsR0FDSG9CLE1BQU0vSSxVQUFVVyxRQUFRcEMsS0FBS29KLEVBQUc3RyxPQUFTNkcsRUFBSyxDQUFDQSxHQUFLdEIsR0FFOUNzQixHQUVSa0IsRUFBU3pDLE9BQVMsU0FBVXVCLEdBSTNCLE9BSElBLEdBQ0hvQixNQUFNL0ksVUFBVVcsUUFBUXBDLEtBQUtvSixFQUFHN0csT0FBUzZHLEVBQUssQ0FBQ0EsR0FBS3ZCLEdBRTlDdUIsSUFJVC9KLEVBQVFxTCxRQUFVSixFQUNsQmhMLEVBQU9ELFFBQVVBLEVBQU8sVUF2UmpCNkcsRUFBQXlFLE1BQUF0TCxFQUFBOEcsR0FBQUQsS0FBQTVHLEVBQUFELFFBQUErRyxpQ0NMUjlHLEVBQU9ELFFBQVUsU0FBY2lELEVBQUk4QixHQUNqQyxPQUFPLFdBRUwsSUFEQSxJQUFJd0csRUFBTyxJQUFJSixNQUFNeEcsVUFBVXpCLFFBQ3RCMUMsRUFBSSxFQUFHQSxFQUFJK0ssRUFBS3JJLE9BQVExQyxJQUMvQitLLEVBQUsvSyxHQUFLbUUsVUFBVW5FLEdBRXRCLE9BQU95QyxFQUFHcUksTUFBTXZHLEVBQVN3RyxtQ0NON0IsSUFBSW5HLEVBQVE1QyxFQUFRLEdBQ2hCZ0osRUFBU2hKLEVBQVEsSUFDakJpSixFQUFXakosRUFBUSxJQUNuQmtKLEVBQWVsSixFQUFRLElBQ3ZCbUosRUFBa0JuSixFQUFRLElBQzFCb0osRUFBY3BKLEVBQVEsR0FDdEJxSixFQUEwQixvQkFBWHpMLFFBQTBCQSxPQUFPeUwsTUFBUXpMLE9BQU95TCxLQUFLN0osS0FBSzVCLFNBQVlvQyxFQUFRLElBRWpHdkMsRUFBT0QsUUFBVSxTQUFvQjhMLEdBQ25DLE9BQU8sSUFBSUMsUUFBUSxTQUE0QkMsRUFBU0MsR0FDdEQsSUFBSUMsRUFBY0osRUFBT2hHLEtBQ3JCcUcsRUFBaUJMLEVBQU9yRyxRQUV4QkwsRUFBTWhDLFdBQVc4SSxXQUNaQyxFQUFlLGdCQUd4QixJQUFJQyxFQUFVLElBQUl4RyxlQUNkeUcsRUFBWSxxQkFDWkMsR0FBVSxFQWlCZCxHQVhzQixvQkFBWGxNLFNBQ1BBLE9BQU9tTSxnQkFBb0Isb0JBQXFCSCxHQUMvQ1QsRUFBZ0JHLEVBQU9VLE9BQzFCSixFQUFVLElBQUloTSxPQUFPbU0sZUFDckJGLEVBQVksU0FDWkMsR0FBVSxFQUNWRixFQUFRSyxXQUFhLGFBQ3JCTCxFQUFRTSxVQUFZLGNBSWxCWixFQUFPYSxLQUFNLENBQ2YsSUFBSUMsRUFBV2QsRUFBT2EsS0FBS0MsVUFBWSxHQUNuQ0MsRUFBV2YsRUFBT2EsS0FBS0UsVUFBWSxHQUN2Q1YsRUFBZVcsY0FBZ0IsU0FBV2pCLEVBQUtlLEVBQVcsSUFBTUMsR0ErRGxFLEdBNURBVCxFQUFRVyxLQUFLakIsRUFBT2xGLE9BQU9vRyxjQUFldkIsRUFBU0ssRUFBT1UsSUFBS1YsRUFBT21CLE9BQVFuQixFQUFPb0IsbUJBQW1CLEdBR3hHZCxFQUFRaEcsUUFBVTBGLEVBQU8xRixRQUd6QmdHLEVBQVFDLEdBQWEsV0FDbkIsR0FBS0QsSUFBbUMsSUFBdkJBLEVBQVFlLFlBQXFCYixLQVF2QixJQUFuQkYsRUFBUTNGLFFBQWtCMkYsRUFBUWdCLGFBQXdELElBQXpDaEIsRUFBUWdCLFlBQVk5RixRQUFRLFVBQWpGLENBS0EsSUFBSStGLEVBQWtCLDBCQUEyQmpCLEVBQVVWLEVBQWFVLEVBQVFrQix5QkFBMkIsS0FFdkdDLEVBQVcsQ0FDYnpILEtBRmtCZ0csRUFBTzBCLGNBQXdDLFNBQXhCMUIsRUFBTzBCLGFBQWlEcEIsRUFBUW1CLFNBQS9CbkIsRUFBUXFCLGFBSWxGaEgsT0FBMkIsT0FBbkIyRixFQUFRM0YsT0FBa0IsSUFBTTJGLEVBQVEzRixPQUNoRGlILFdBQStCLE9BQW5CdEIsRUFBUTNGLE9BQWtCLGFBQWUyRixFQUFRc0IsV0FDN0RqSSxRQUFTNEgsRUFDVHZCLE9BQVFBLEVBQ1JNLFFBQVNBLEdBR1haLEVBQU9RLEVBQVNDLEVBQVFzQixHQUd4Qm5CLEVBQVUsT0FJWkEsRUFBUXVCLFFBQVUsV0FHaEIxQixFQUFPTCxFQUFZLGdCQUFpQkUsRUFBUSxLQUFNTSxJQUdsREEsRUFBVSxNQUlaQSxFQUFRTSxVQUFZLFdBQ2xCVCxFQUFPTCxFQUFZLGNBQWdCRSxFQUFPMUYsUUFBVSxjQUFlMEYsRUFBUSxlQUN6RU0sSUFHRkEsRUFBVSxNQU1SaEgsRUFBTWhCLHVCQUF3QixDQUNoQyxJQUFJd0osRUFBVXBMLEVBQVEsSUFHbEJxTCxHQUFhL0IsRUFBT2dDLGlCQUFtQm5DLEVBQWdCRyxFQUFPVSxPQUFTVixFQUFPekYsZUFDOUV1SCxFQUFRRyxLQUFLakMsRUFBT3pGLHFCQUNwQlcsRUFFQTZHLElBQ0YxQixFQUFlTCxFQUFPeEYsZ0JBQWtCdUgsR0F1QjVDLEdBbEJJLHFCQUFzQnpCLEdBQ3hCaEgsRUFBTXJDLFFBQVFvSixFQUFnQixTQUEwQnZKLEVBQUtiLFFBQ2hDLElBQWhCbUssR0FBcUQsaUJBQXRCbkssRUFBSWlNLHFCQUVyQzdCLEVBQWVwSyxHQUd0QnFLLEVBQVE2QixpQkFBaUJsTSxFQUFLYSxLQU1oQ2tKLEVBQU9nQyxrQkFDVDFCLEVBQVEwQixpQkFBa0IsR0FJeEJoQyxFQUFPMEIsYUFDVCxJQUNFcEIsRUFBUW9CLGFBQWUxQixFQUFPMEIsYUFDOUIsTUFBT3JILEdBR1AsR0FBNEIsU0FBeEIyRixFQUFPMEIsYUFDVCxNQUFNckgsRUFNNkIsbUJBQTlCMkYsRUFBT29DLG9CQUNoQjlCLEVBQVFuRCxpQkFBaUIsV0FBWTZDLEVBQU9vQyxvQkFJUCxtQkFBNUJwQyxFQUFPcUMsa0JBQW1DL0IsRUFBUWdDLFFBQzNEaEMsRUFBUWdDLE9BQU9uRixpQkFBaUIsV0FBWTZDLEVBQU9xQyxrQkFHakRyQyxFQUFPdUMsYUFFVHZDLEVBQU91QyxZQUFZQyxRQUFRQyxLQUFLLFNBQW9CQyxHQUM3Q3BDLElBSUxBLEVBQVFxQyxRQUNSeEMsRUFBT3VDLEdBRVBwQyxFQUFVLGFBSU1wRixJQUFoQmtGLElBQ0ZBLEVBQWMsTUFJaEJFLEVBQVFzQyxLQUFLeEMsb0NDL0tqQixJQUFJeUMsRUFBZW5NLEVBQVEsSUFZM0J2QyxFQUFPRCxRQUFVLFNBQXFCNE8sRUFBUzlDLEVBQVErQyxFQUFNekMsRUFBU21CLEdBQ3BFLElBQUl1QixFQUFRLElBQUlDLE1BQU1ILEdBQ3RCLE9BQU9ELEVBQWFHLEVBQU9oRCxFQUFRK0MsRUFBTXpDLEVBQVNtQixrQ0NkcER0TixFQUFPRCxRQUFVLFNBQWtCeUIsR0FDakMsU0FBVUEsSUFBU0EsRUFBTXVOLDJDQ0szQixTQUFTQyxFQUFPTCxHQUNkTSxLQUFLTixRQUFVQSxFQUdqQkssRUFBTzdNLFVBQVVNLFNBQVcsV0FDMUIsTUFBTyxVQUFZd00sS0FBS04sUUFBVSxLQUFPTSxLQUFLTixRQUFVLEtBRzFESyxFQUFPN00sVUFBVTRNLFlBQWEsRUFFOUIvTyxFQUFPRCxRQUFVaVAsb0JDaEJoQixXQU1ELElBQUlFLEVBQWEsQ0FDZixZQUNBLFlBQ0EsUUFDQSxTQUNBLFlBQ0EsWUFFQSxpQkFDQSxtQkFDQSxvQkFDQSxrQkFDQSxjQUVBLGFBQ0EsZUFDQSxnQkFDQSxjQUdBLFlBQ0EsY0FDQSxhQUNBLGNBQ0EsV0FDQSxpQkFDQSxhQUNBLGFBRUEsWUFDQSxnQkFDQSxhQUNBLGlCQUVBLGdCQUNBLGNBRUEsVUFDQSxjQUlFQyxFQUErQixvQkFBWGhQLE9BQ3BCaVAsRUFBYUQsR0FBdUMsTUFBMUJoUCxPQUFPa1AsZ0JBRXJDLFNBQVNDLEVBQW9CQyxFQUFTQyxFQUFVdkUsR0FDOUMsSUFBS2tFLEVBQ0gsTUFBTSxJQUFJTCxNQUFNLGtGQUdsQixJQUFJVyxFQUFReEUsR0FBV0EsRUFBUXdFLFFBQVMsRUFDeEMsR0FBSUEsRUFBTyxDQUNULElBQUkzRixFQUFLeEYsU0FBU29MLGNBQWMsNkNBQzVCNUYsR0FBSUEsRUFBR0UsV0FBVzJGLFlBQVk3RixHQUlwQyxJQUFJOEYsRUFBTXRMLFNBQVN1TCxjQUFjLE9BQ2pDRCxFQUFJRSxHQUFLLDJDQUNUeEwsU0FBU3lMLEtBQUtDLFlBQVlKLEdBRTFCLElBQUluSCxFQUFRbUgsRUFBSW5ILE1BQ1ppQyxFQUFXdkssT0FBTzhJLGlCQUFtQjlJLE9BQU84SSxpQkFBaUJzRyxHQUFXQSxFQUFRVSxhQUNoRkMsRUFBK0IsVUFBckJYLEVBQVFySCxTQUd0Qk8sRUFBTTBILFdBQWEsV0FDZEQsSUFDSHpILEVBQU1NLFNBQVcsY0FHbkJOLEVBQU0rRyxTQUFXLFdBQ1pDLElBQ0hoSCxFQUFNMkgsV0FBYSxVQUdyQmxCLEVBQVdwTSxRQUFRLFNBQVV1TixHQUN2QkgsR0FBb0IsZUFBVEcsRUFFYjVILEVBQU02SCxXQUFhNUYsRUFBUy9CLE9BRTVCRixFQUFNNEgsR0FBUTNGLEVBQVMyRixLQUl2QmpCLEVBRUVHLEVBQVEzRixhQUFlMkcsU0FBUzdGLEVBQVMvQixVQUMzQ0YsRUFBTUksVUFBWSxVQUVwQkosRUFBTStILFNBQVcsU0FHbkJaLEVBQUlhLFlBQWNsQixFQUFRL04sTUFBTWtQLFVBQVUsRUFBR2xCLEdBR3pDVSxJQUNGTixFQUFJYSxZQUFjYixFQUFJYSxZQUFZeEwsUUFBUSxNQUFPLE1BRW5ELElBQUkwTCxFQUFPck0sU0FBU3VMLGNBQWMsUUFNbENjLEVBQUtGLFlBQWNsQixFQUFRL04sTUFBTWtQLFVBQVVsQixJQUFhLElBQ3hESSxFQUFJSSxZQUFZVyxHQUVoQixJQUFJQyxFQUFjLENBQ2hCQyxJQUFLRixFQUFLRyxVQUFZUCxTQUFTN0YsRUFBUSxnQkFDdkNxRyxLQUFNSixFQUFLSyxXQUFhVCxTQUFTN0YsRUFBUSxpQkFDekMvQixPQUFRNEgsU0FBUzdGLEVBQVEsYUFTM0IsT0FOSStFLEVBQ0ZrQixFQUFLbEksTUFBTXdJLGdCQUFrQixPQUU3QjNNLFNBQVN5TCxLQUFLSixZQUFZQyxHQUdyQmdCLE9BR29ELElBQWxCNVEsRUFBT0QsUUFDaERDLEVBQU9ELFFBQVV1UCxFQUNUSCxJQUNSaFAsT0FBT21QLG9CQUFzQkEsR0FwSTlCLGtFQ0FELElBQUluSyxFQUFRNUMsRUFBUSxHQUNoQlIsRUFBT1EsRUFBUSxHQUNmMk8sRUFBUTNPLEVBQVEsSUFDaEJtRCxFQUFXbkQsRUFBUSxHQVF2QixTQUFTNE8sRUFBZUMsR0FDdEIsSUFBSUMsRUFBVSxJQUFJSCxFQUFNRSxHQUNwQkUsRUFBV3ZQLEVBQUttUCxFQUFNL08sVUFBVWdLLFFBQVNrRixHQVE3QyxPQUxBbE0sRUFBTVIsT0FBTzJNLEVBQVVKLEVBQU0vTyxVQUFXa1AsR0FHeENsTSxFQUFNUixPQUFPMk0sRUFBVUQsR0FFaEJDLEVBSVQsSUFBSUMsRUFBUUosRUFBZXpMLEdBRzNCNkwsRUFBTUwsTUFBUUEsRUFHZEssRUFBTTFQLE9BQVMsU0FBZ0IyUCxHQUM3QixPQUFPTCxFQUFlaE0sRUFBTVosTUFBTW1CLEVBQVU4TCxLQUk5Q0QsRUFBTXZDLE9BQVN6TSxFQUFRLEdBQ3ZCZ1AsRUFBTUUsWUFBY2xQLEVBQVEsSUFDNUJnUCxFQUFNRyxTQUFXblAsRUFBUSxHQUd6QmdQLEVBQU1JLElBQU0sU0FBYUMsR0FDdkIsT0FBTzlGLFFBQVE2RixJQUFJQyxJQUVyQkwsRUFBTU0sT0FBU3RQLEVBQVEsSUFFdkJ2QyxFQUFPRCxRQUFVd1IsRUFHakJ2UixFQUFPRCxRQUFRcUwsUUFBVW1HLGlCQ3RDekIsU0FBUy9PLEVBQVVPLEdBQ2pCLFFBQVNBLEVBQUkrTyxhQUFtRCxtQkFBN0IvTyxFQUFJK08sWUFBWXRQLFVBQTJCTyxFQUFJK08sWUFBWXRQLFNBQVNPLEdBTHpHL0MsRUFBT0QsUUFBVSxTQUFVZ0QsR0FDekIsT0FBYyxNQUFQQSxJQUFnQlAsRUFBU08sSUFRbEMsU0FBdUJBLEdBQ3JCLE1BQWtDLG1CQUFwQkEsRUFBSWdQLGFBQW1ELG1CQUFkaFAsRUFBSWlQLE9BQXdCeFAsRUFBU08sRUFBSWlQLE1BQU0sRUFBRyxJQVRqRUMsQ0FBYWxQLE1BQVVBLEVBQUltUCwwQ0NSckUsSUFBSXhNLEVBQVduRCxFQUFRLEdBQ25CNEMsRUFBUTVDLEVBQVEsR0FDaEI0UCxFQUFxQjVQLEVBQVEsSUFDN0I2UCxFQUFrQjdQLEVBQVEsSUFPOUIsU0FBUzJPLEVBQU1NLEdBQ2J2QyxLQUFLdkosU0FBVzhMLEVBQ2hCdkMsS0FBS29ELGFBQWUsQ0FDbEJsRyxRQUFTLElBQUlnRyxFQUNiN0UsU0FBVSxJQUFJNkUsR0FTbEJqQixFQUFNL08sVUFBVWdLLFFBQVUsU0FBaUJOLEdBR25CLGlCQUFYQSxJQUNUQSxFQUFTMUcsRUFBTVosTUFBTSxDQUNuQmdJLElBQUs3SCxVQUFVLElBQ2RBLFVBQVUsTUFHZm1ILEVBQVMxRyxFQUFNWixNQUFNbUIsRUFBVSxDQUFDaUIsT0FBUSxPQUFRc0ksS0FBS3ZKLFNBQVVtRyxJQUN4RGxGLE9BQVNrRixFQUFPbEYsT0FBT29ILGNBRzlCLElBQUl1RSxFQUFRLENBQUNGLE9BQWlCckwsR0FDMUJzSCxFQUFVdkMsUUFBUUMsUUFBUUYsR0FVOUIsSUFSQW9ELEtBQUtvRCxhQUFhbEcsUUFBUXJKLFFBQVEsU0FBb0N5UCxHQUNwRUQsRUFBTUUsUUFBUUQsRUFBWUUsVUFBV0YsRUFBWUcsWUFHbkR6RCxLQUFLb0QsYUFBYS9FLFNBQVN4SyxRQUFRLFNBQWtDeVAsR0FDbkVELEVBQU0vSyxLQUFLZ0wsRUFBWUUsVUFBV0YsRUFBWUcsWUFHekNKLEVBQU1yUCxRQUNYb0wsRUFBVUEsRUFBUUMsS0FBS2dFLEVBQU1LLFFBQVNMLEVBQU1LLFNBRzlDLE9BQU90RSxHQUlUbEosRUFBTXJDLFFBQVEsQ0FBQyxTQUFVLE1BQU8sT0FBUSxXQUFZLFNBQTZCNkQsR0FFL0V1SyxFQUFNL08sVUFBVXdFLEdBQVUsU0FBUzRGLEVBQUtWLEdBQ3RDLE9BQU9vRCxLQUFLOUMsUUFBUWhILEVBQU1aLE1BQU1zSCxHQUFVLEdBQUksQ0FDNUNsRixPQUFRQSxFQUNSNEYsSUFBS0EsUUFLWHBILEVBQU1yQyxRQUFRLENBQUMsT0FBUSxNQUFPLFNBQVUsU0FBK0I2RCxHQUVyRXVLLEVBQU0vTyxVQUFVd0UsR0FBVSxTQUFTNEYsRUFBSzFHLEVBQU1nRyxHQUM1QyxPQUFPb0QsS0FBSzlDLFFBQVFoSCxFQUFNWixNQUFNc0gsR0FBVSxHQUFJLENBQzVDbEYsT0FBUUEsRUFDUjRGLElBQUtBLEVBQ0wxRyxLQUFNQSxRQUtaN0YsRUFBT0QsUUFBVW1SLGlCQzdFakIsSUFPSTBCLEVBQ0FDLEVBUkEzTixFQUFVbEYsRUFBT0QsUUFBVSxHQVUvQixTQUFTK1MsSUFDTCxNQUFNLElBQUloRSxNQUFNLG1DQUVwQixTQUFTaUUsSUFDTCxNQUFNLElBQUlqRSxNQUFNLHFDQXNCcEIsU0FBU2tFLEVBQVdDLEdBQ2hCLEdBQUlMLElBQXFCTSxXQUVyQixPQUFPQSxXQUFXRCxFQUFLLEdBRzNCLElBQUtMLElBQXFCRSxJQUFxQkYsSUFBcUJNLFdBRWhFLE9BREFOLEVBQW1CTSxXQUNaQSxXQUFXRCxFQUFLLEdBRTNCLElBRUksT0FBT0wsRUFBaUJLLEVBQUssR0FDL0IsTUFBTS9NLEdBQ0osSUFFSSxPQUFPME0sRUFBaUJsUyxLQUFLLEtBQU11UyxFQUFLLEdBQzFDLE1BQU0vTSxHQUVKLE9BQU8wTSxFQUFpQmxTLEtBQUt1TyxLQUFNZ0UsRUFBSyxNQXZDbkQsV0FDRyxJQUVRTCxFQURzQixtQkFBZk0sV0FDWUEsV0FFQUosRUFFekIsTUFBTzVNLEdBQ0wwTSxFQUFtQkUsRUFFdkIsSUFFUUQsRUFEd0IsbUJBQWpCTSxhQUNjQSxhQUVBSixFQUUzQixNQUFPN00sR0FDTDJNLEVBQXFCRSxHQWpCNUIsR0F3RUQsSUFFSUssRUFGQUMsRUFBUSxHQUNSQyxHQUFXLEVBRVhDLEdBQWMsRUFFbEIsU0FBU0MsSUFDQUYsR0FBYUYsSUFHbEJFLEdBQVcsRUFDUEYsRUFBYW5RLE9BQ2JvUSxFQUFRRCxFQUFhSyxPQUFPSixHQUU1QkUsR0FBYyxFQUVkRixFQUFNcFEsUUFDTnlRLEtBSVIsU0FBU0EsSUFDTCxJQUFJSixFQUFKLENBR0EsSUFBSW5OLEVBQVU2TSxFQUFXUSxHQUN6QkYsR0FBVyxFQUdYLElBREEsSUFBSUssRUFBTU4sRUFBTXBRLE9BQ1YwUSxHQUFLLENBR1AsSUFGQVAsRUFBZUMsRUFDZkEsRUFBUSxLQUNDRSxFQUFhSSxHQUNkUCxHQUNBQSxFQUFhRyxHQUFZSyxNQUdqQ0wsR0FBYyxFQUNkSSxFQUFNTixFQUFNcFEsT0FFaEJtUSxFQUFlLEtBQ2ZFLEdBQVcsRUFuRWYsU0FBeUJPLEdBQ3JCLEdBQUloQixJQUF1Qk0sYUFFdkIsT0FBT0EsYUFBYVUsR0FHeEIsSUFBS2hCLElBQXVCRSxJQUF3QkYsSUFBdUJNLGFBRXZFLE9BREFOLEVBQXFCTSxhQUNkQSxhQUFhVSxHQUV4QixJQUVXaEIsRUFBbUJnQixHQUM1QixNQUFPM04sR0FDTCxJQUVJLE9BQU8yTSxFQUFtQm5TLEtBQUssS0FBTW1ULEdBQ3ZDLE1BQU8zTixHQUdMLE9BQU8yTSxFQUFtQm5TLEtBQUt1TyxLQUFNNEUsS0FnRDdDQyxDQUFnQjNOLElBaUJwQixTQUFTNE4sRUFBS2QsRUFBS2UsR0FDZi9FLEtBQUtnRSxJQUFNQSxFQUNYaEUsS0FBSytFLE1BQVFBLEVBWWpCLFNBQVNDLEtBNUJUL08sRUFBUWdQLFNBQVcsU0FBVWpCLEdBQ3pCLElBQUkzSCxFQUFPLElBQUlKLE1BQU14RyxVQUFVekIsT0FBUyxHQUN4QyxHQUFJeUIsVUFBVXpCLE9BQVMsRUFDbkIsSUFBSyxJQUFJMUMsRUFBSSxFQUFHQSxFQUFJbUUsVUFBVXpCLE9BQVExQyxJQUNsQytLLEVBQUsvSyxFQUFJLEdBQUttRSxVQUFVbkUsR0FHaEM4UyxFQUFNOUwsS0FBSyxJQUFJd00sRUFBS2QsRUFBSzNILElBQ0osSUFBakIrSCxFQUFNcFEsUUFBaUJxUSxHQUN2Qk4sRUFBV1UsSUFTbkJLLEVBQUs1UixVQUFVeVIsSUFBTSxXQUNqQjNFLEtBQUtnRSxJQUFJNUgsTUFBTSxLQUFNNEQsS0FBSytFLFFBRTlCOU8sRUFBUWlQLE1BQVEsVUFDaEJqUCxFQUFRa1AsU0FBVSxFQUNsQmxQLEVBQVFtUCxJQUFNLEdBQ2RuUCxFQUFRb1AsS0FBTyxHQUNmcFAsRUFBUXFQLFFBQVUsR0FDbEJyUCxFQUFRc1AsU0FBVyxHQUluQnRQLEVBQVF1UCxHQUFLUixFQUNiL08sRUFBUXdQLFlBQWNULEVBQ3RCL08sRUFBUXlQLEtBQU9WLEVBQ2YvTyxFQUFRMFAsSUFBTVgsRUFDZC9PLEVBQVEyUCxlQUFpQlosRUFDekIvTyxFQUFRNFAsbUJBQXFCYixFQUM3Qi9PLEVBQVE2UCxLQUFPZCxFQUNmL08sRUFBUThQLGdCQUFrQmYsRUFDMUIvTyxFQUFRK1Asb0JBQXNCaEIsRUFFOUIvTyxFQUFRZ1EsVUFBWSxTQUFVcFUsR0FBUSxNQUFPLElBRTdDb0UsRUFBUWlRLFFBQVUsU0FBVXJVLEdBQ3hCLE1BQU0sSUFBSWdPLE1BQU0scUNBR3BCNUosRUFBUWtRLElBQU0sV0FBYyxNQUFPLEtBQ25DbFEsRUFBUW1RLE1BQVEsU0FBVUMsR0FDdEIsTUFBTSxJQUFJeEcsTUFBTSxtQ0FFcEI1SixFQUFRcVEsTUFBUSxXQUFhLE9BQU8saUNDckxwQyxJQUFJcFEsRUFBUTVDLEVBQVEsR0FFcEJ2QyxFQUFPRCxRQUFVLFNBQTZCeUYsRUFBU2dRLEdBQ3JEclEsRUFBTXJDLFFBQVEwQyxFQUFTLFNBQXVCaEUsRUFBT1YsR0FDL0NBLElBQVMwVSxHQUFrQjFVLEVBQUtpTSxnQkFBa0J5SSxFQUFlekksZ0JBQ25FdkgsRUFBUWdRLEdBQWtCaFUsU0FDbkJnRSxFQUFRMUUscUNDTnJCLElBQUk2SyxFQUFjcEosRUFBUSxHQVMxQnZDLEVBQU9ELFFBQVUsU0FBZ0JnTSxFQUFTQyxFQUFRc0IsR0FDaEQsSUFBSS9HLEVBQWlCK0csRUFBU3pCLE9BQU90RixlQUVoQytHLEVBQVM5RyxRQUFXRCxJQUFrQkEsRUFBZStHLEVBQVM5RyxRQUdqRXdGLEVBQU9MLEVBQ0wsbUNBQXFDMkIsRUFBUzlHLE9BQzlDOEcsRUFBU3pCLE9BQ1QsS0FDQXlCLEVBQVNuQixRQUNUbUIsSUFQRnZCLEVBQVF1QixrQ0NIWnROLEVBQU9ELFFBQVUsU0FBc0I4TyxFQUFPaEQsRUFBUStDLEVBQU16QyxFQUFTbUIsR0FPbkUsT0FOQXVCLEVBQU1oRCxPQUFTQSxFQUNYK0MsSUFDRkMsRUFBTUQsS0FBT0EsR0FFZkMsRUFBTTFDLFFBQVVBLEVBQ2hCMEMsRUFBTXZCLFNBQVdBLEVBQ1Z1QixpQ0NqQlQsSUFBSTFKLEVBQVE1QyxFQUFRLEdBRXBCLFNBQVNrVCxFQUFPOVMsR0FDZCxPQUFPK1MsbUJBQW1CL1MsR0FDeEJzQyxRQUFRLFFBQVMsS0FDakJBLFFBQVEsUUFBUyxLQUNqQkEsUUFBUSxPQUFRLEtBQ2hCQSxRQUFRLFFBQVMsS0FDakJBLFFBQVEsT0FBUSxLQUNoQkEsUUFBUSxRQUFTLEtBQ2pCQSxRQUFRLFFBQVMsS0FVckJqRixFQUFPRCxRQUFVLFNBQWtCd00sRUFBS1MsRUFBUUMsR0FFOUMsSUFBS0QsRUFDSCxPQUFPVCxFQUdULElBQUlvSixFQUNKLEdBQUkxSSxFQUNGMEksRUFBbUIxSSxFQUFpQkQsUUFDL0IsR0FBSTdILEVBQU1sQixrQkFBa0IrSSxHQUNqQzJJLEVBQW1CM0ksRUFBT3ZLLGVBQ3JCLENBQ0wsSUFBSW1ULEVBQVEsR0FFWnpRLEVBQU1yQyxRQUFRa0ssRUFBUSxTQUFtQnJLLEVBQUtiLEdBQ3hDYSxVQUlBd0MsRUFBTXpDLFFBQVFDLEdBQ2hCYixHQUFZLEtBRVphLEVBQU0sQ0FBQ0EsR0FHVHdDLEVBQU1yQyxRQUFRSCxFQUFLLFNBQW9Ca1QsR0FDakMxUSxFQUFNdkIsT0FBT2lTLEdBQ2ZBLEVBQUlBLEVBQUVDLGNBQ0czUSxFQUFNdkMsU0FBU2lULEtBQ3hCQSxFQUFJL1AsS0FBS0MsVUFBVThQLElBRXJCRCxFQUFNck8sS0FBS2tPLEVBQU8zVCxHQUFPLElBQU0yVCxFQUFPSSxTQUkxQ0YsRUFBbUJDLEVBQU1HLEtBQUssS0FPaEMsT0FKSUosSUFDRnBKLEtBQThCLElBQXRCQSxFQUFJbEYsUUFBUSxLQUFjLElBQU0sS0FBT3NPLEdBRzFDcEosaUNDOURULElBQUlwSCxFQUFRNUMsRUFBUSxHQUloQnlULEVBQW9CLENBQ3RCLE1BQU8sZ0JBQWlCLGlCQUFrQixlQUFnQixPQUMxRCxVQUFXLE9BQVEsT0FBUSxvQkFBcUIsc0JBQ2hELGdCQUFpQixXQUFZLGVBQWdCLHNCQUM3QyxVQUFXLGNBQWUsY0FnQjVCaFcsRUFBT0QsUUFBVSxTQUFzQnlGLEdBQ3JDLElBQ0kxRCxFQUNBYSxFQUNBcEMsRUFIQTBWLEVBQVMsR0FLYixPQUFLelEsR0FFTEwsRUFBTXJDLFFBQVEwQyxFQUFRMFEsTUFBTSxNQUFPLFNBQWdCQyxHQUtqRCxHQUpBNVYsRUFBSTRWLEVBQUs5TyxRQUFRLEtBQ2pCdkYsRUFBTXFELEVBQU1KLEtBQUtvUixFQUFLQyxPQUFPLEVBQUc3VixJQUFJd04sY0FDcENwTCxFQUFNd0MsRUFBTUosS0FBS29SLEVBQUtDLE9BQU83VixFQUFJLElBRTdCdUIsRUFBSyxDQUNQLEdBQUltVSxFQUFPblUsSUFBUWtVLEVBQWtCM08sUUFBUXZGLElBQVEsRUFDbkQsT0FHQW1VLEVBQU9uVSxHQURHLGVBQVJBLEdBQ2FtVSxFQUFPblUsR0FBT21VLEVBQU9uVSxHQUFPLElBQUkyUixPQUFPLENBQUM5USxJQUV6Q3NULEVBQU9uVSxHQUFPbVUsRUFBT25VLEdBQU8sS0FBT2EsRUFBTUEsS0FLdERzVCxHQW5CZ0JBLGlDQzlCekIsSUFBSTlRLEVBQVE1QyxFQUFRLEdBRXBCdkMsRUFBT0QsUUFDTG9GLEVBQU1oQix1QkFJTCxXQUNDLElBRUlrUyxFQUZBQyxFQUFPLGtCQUFrQkMsS0FBS25TLFVBQVVvUyxXQUN4Q0MsRUFBaUJuUyxTQUFTdUwsY0FBYyxLQVM1QyxTQUFTNkcsRUFBV25LLEdBQ2xCLElBQUlvSyxFQUFPcEssRUFXWCxPQVRJK0osSUFFRkcsRUFBZUcsYUFBYSxPQUFRRCxHQUNwQ0EsRUFBT0YsRUFBZUUsTUFHeEJGLEVBQWVHLGFBQWEsT0FBUUQsR0FHN0IsQ0FDTEEsS0FBTUYsRUFBZUUsS0FDckJFLFNBQVVKLEVBQWVJLFNBQVdKLEVBQWVJLFNBQVM1UixRQUFRLEtBQU0sSUFBTSxHQUNoRjZSLEtBQU1MLEVBQWVLLEtBQ3JCQyxPQUFRTixFQUFlTSxPQUFTTixFQUFlTSxPQUFPOVIsUUFBUSxNQUFPLElBQU0sR0FDM0UrUixLQUFNUCxFQUFlTyxLQUFPUCxFQUFlTyxLQUFLL1IsUUFBUSxLQUFNLElBQU0sR0FDcEVnUyxTQUFVUixFQUFlUSxTQUN6QkMsS0FBTVQsRUFBZVMsS0FDckJDLFNBQWlELE1BQXRDVixFQUFlVSxTQUFTQyxPQUFPLEdBQ2hDWCxFQUFlVSxTQUNmLElBQU1WLEVBQWVVLFVBWW5DLE9BUkFkLEVBQVlLLEVBQVd2VyxPQUFPa1gsU0FBU1YsTUFRaEMsU0FBeUJXLEdBQzlCLElBQUlyQixFQUFVOVEsRUFBTTFCLFNBQVM2VCxHQUFlWixFQUFXWSxHQUFjQSxFQUNyRSxPQUFRckIsRUFBT1ksV0FBYVIsRUFBVVEsVUFDaENaLEVBQU9hLE9BQVNULEVBQVVTLE1BaERuQyxHQXNEUSxXQUNMLE9BQU8saUNDNURiLElBQUlTLEVBQVEsb0VBRVosU0FBU0MsSUFDUHZJLEtBQUtOLFFBQVUsdUNBRWpCNkksRUFBRXJWLFVBQVksSUFBSTJNLE1BQ2xCMEksRUFBRXJWLFVBQVV5TSxLQUFPLEVBQ25CNEksRUFBRXJWLFVBQVVyQixLQUFPLHdCQXdCbkJkLEVBQU9ELFFBdEJQLFNBQWMwWCxHQUdaLElBRkEsSUFJTUMsRUFBT0MsRUFKVDNTLEVBQU00UyxPQUFPSCxHQUNiSSxFQUFTLEdBR1VDLEVBQU0sRUFBRzVRLEVBQU1xUSxFQUlwQ3ZTLEVBQUlvUyxPQUFhLEVBQU5VLEtBQWE1USxFQUFNLElBQUs0USxFQUFNLEdBRXpDRCxHQUFVM1EsRUFBSWtRLE9BQU8sR0FBS00sR0FBUyxFQUFJSSxFQUFNLEVBQUksR0FDakQsQ0FFQSxJQURBSCxFQUFXM1MsRUFBSStTLFdBQVdELEdBQU8sTUFDbEIsSUFDYixNQUFNLElBQUlOLEVBRVpFLEVBQVFBLEdBQVMsRUFBSUMsRUFFdkIsT0FBT0UsaUNDOUJULElBQUkxUyxFQUFRNUMsRUFBUSxHQUVwQnZDLEVBQU9ELFFBQ0xvRixFQUFNaEIsdUJBSUcsQ0FDTDZULE1BQU8sU0FBZWxYLEVBQU1VLEVBQU95VyxFQUFTQyxFQUFNQyxFQUFRQyxHQUN4RCxJQUFJQyxFQUFTLEdBQ2JBLEVBQU85USxLQUFLekcsRUFBTyxJQUFNNFUsbUJBQW1CbFUsSUFFeEMyRCxFQUFNekIsU0FBU3VVLElBQ2pCSSxFQUFPOVEsS0FBSyxXQUFhLElBQUkrUSxLQUFLTCxHQUFTTSxlQUd6Q3BULEVBQU0xQixTQUFTeVUsSUFDakJHLEVBQU85USxLQUFLLFFBQVUyUSxHQUdwQi9TLEVBQU0xQixTQUFTMFUsSUFDakJFLEVBQU85USxLQUFLLFVBQVk0USxJQUdYLElBQVhDLEdBQ0ZDLEVBQU85USxLQUFLLFVBR2RqRCxTQUFTK1QsT0FBU0EsRUFBT3RDLEtBQUssT0FHaENqSSxLQUFNLFNBQWNoTixHQUNsQixJQUFJMFgsRUFBUWxVLFNBQVMrVCxPQUFPRyxNQUFNLElBQUlDLE9BQU8sYUFBZTNYLEVBQU8sY0FDbkUsT0FBUTBYLEVBQVFFLG1CQUFtQkYsRUFBTSxJQUFNLE1BR2pERyxPQUFRLFNBQWdCN1gsR0FDdEJtTyxLQUFLK0ksTUFBTWxYLEVBQU0sR0FBSXdYLEtBQUtNLE1BQVEsU0FPL0IsQ0FDTFosTUFBTyxhQUNQbEssS0FBTSxXQUFrQixPQUFPLE1BQy9CNkssT0FBUSw0Q0MvQ2QsSUFBSXhULEVBQVE1QyxFQUFRLEdBRXBCLFNBQVM0UCxJQUNQbEQsS0FBSzRKLFNBQVcsR0FXbEIxRyxFQUFtQmhRLFVBQVUyVyxJQUFNLFNBQWFyRyxFQUFXQyxHQUt6RCxPQUpBekQsS0FBSzRKLFNBQVN0UixLQUFLLENBQ2pCa0wsVUFBV0EsRUFDWEMsU0FBVUEsSUFFTHpELEtBQUs0SixTQUFTNVYsT0FBUyxHQVFoQ2tQLEVBQW1CaFEsVUFBVTRXLE1BQVEsU0FBZWpKLEdBQzlDYixLQUFLNEosU0FBUy9JLEtBQ2hCYixLQUFLNEosU0FBUy9JLEdBQU0sT0FZeEJxQyxFQUFtQmhRLFVBQVVXLFFBQVUsU0FBaUJFLEdBQ3REbUMsRUFBTXJDLFFBQVFtTSxLQUFLNEosU0FBVSxTQUF3QkcsR0FDekMsT0FBTkEsR0FDRmhXLEVBQUdnVyxNQUtUaFosRUFBT0QsUUFBVW9TLGdDQ2pEakIsSUFBSWhOLEVBQVE1QyxFQUFRLEdBQ2hCMFcsRUFBZ0IxVyxFQUFRLElBQ3hCbVAsRUFBV25QLEVBQVEsR0FDbkJtRCxFQUFXbkQsRUFBUSxHQUNuQjJXLEVBQWdCM1csRUFBUSxJQUN4QjRXLEVBQWM1VyxFQUFRLElBSzFCLFNBQVM2VyxFQUE2QnZOLEdBQ2hDQSxFQUFPdUMsYUFDVHZDLEVBQU91QyxZQUFZaUwsbUJBVXZCclosRUFBT0QsUUFBVSxTQUF5QjhMLEdBa0N4QyxPQWpDQXVOLEVBQTZCdk4sR0FHekJBLEVBQU95TixVQUFZSixFQUFjck4sRUFBT1UsT0FDMUNWLEVBQU9VLElBQU00TSxFQUFZdE4sRUFBT3lOLFFBQVN6TixFQUFPVSxNQUlsRFYsRUFBT3JHLFFBQVVxRyxFQUFPckcsU0FBVyxHQUduQ3FHLEVBQU9oRyxLQUFPb1QsRUFDWnBOLEVBQU9oRyxLQUNQZ0csRUFBT3JHLFFBQ1BxRyxFQUFPakcsa0JBSVRpRyxFQUFPckcsUUFBVUwsRUFBTVosTUFDckJzSCxFQUFPckcsUUFBUWlCLFFBQVUsR0FDekJvRixFQUFPckcsUUFBUXFHLEVBQU9sRixTQUFXLEdBQ2pDa0YsRUFBT3JHLFNBQVcsSUFHcEJMLEVBQU1yQyxRQUNKLENBQUMsU0FBVSxNQUFPLE9BQVEsT0FBUSxNQUFPLFFBQVMsVUFDbEQsU0FBMkI2RCxVQUNsQmtGLEVBQU9yRyxRQUFRbUIsTUFJWmtGLEVBQU9wRyxTQUFXQyxFQUFTRCxTQUUxQm9HLEdBQVF5QyxLQUFLLFNBQTZCaEIsR0FVdkQsT0FUQThMLEVBQTZCdk4sR0FHN0J5QixFQUFTekgsS0FBT29ULEVBQ2QzTCxFQUFTekgsS0FDVHlILEVBQVM5SCxRQUNUcUcsRUFBTzdGLG1CQUdGc0gsR0FDTixTQUE0QmlNLEdBYzdCLE9BYks3SCxFQUFTNkgsS0FDWkgsRUFBNkJ2TixHQUd6QjBOLEdBQVVBLEVBQU9qTSxXQUNuQmlNLEVBQU9qTSxTQUFTekgsS0FBT29ULEVBQ3JCTSxFQUFPak0sU0FBU3pILEtBQ2hCMFQsRUFBT2pNLFNBQVM5SCxRQUNoQnFHLEVBQU83RixxQkFLTjhGLFFBQVFFLE9BQU91TixvQ0NqRjFCLElBQUlwVSxFQUFRNUMsRUFBUSxHQVVwQnZDLEVBQU9ELFFBQVUsU0FBdUI4RixFQUFNTCxFQUFTZ1UsR0FNckQsT0FKQXJVLEVBQU1yQyxRQUFRMFcsRUFBSyxTQUFtQnhXLEdBQ3BDNkMsRUFBTzdDLEVBQUc2QyxFQUFNTCxLQUdYSyxpQ0NWVDdGLEVBQU9ELFFBQVUsU0FBdUJ3TSxHQUl0QyxNQUFPLGdDQUFnQ2dLLEtBQUtoSyxrQ0NIOUN2TSxFQUFPRCxRQUFVLFNBQXFCdVosRUFBU0csR0FDN0MsT0FBT0EsRUFDSEgsRUFBUXJVLFFBQVEsT0FBUSxJQUFNLElBQU13VSxFQUFZeFUsUUFBUSxPQUFRLElBQ2hFcVUsaUNDVk4sSUFBSXRLLEVBQVN6TSxFQUFRLEdBUXJCLFNBQVNrUCxFQUFZaUksR0FDbkIsR0FBd0IsbUJBQWJBLEVBQ1QsTUFBTSxJQUFJQyxVQUFVLGdDQUd0QixJQUFJQyxFQUNKM0ssS0FBS1osUUFBVSxJQUFJdkMsUUFBUSxTQUF5QkMsR0FDbEQ2TixFQUFpQjdOLElBR25CLElBQUk4TixFQUFRNUssS0FDWnlLLEVBQVMsU0FBZ0IvSyxHQUNuQmtMLEVBQU1OLFNBS1ZNLEVBQU1OLE9BQVMsSUFBSXZLLEVBQU9MLEdBQzFCaUwsRUFBZUMsRUFBTU4sV0FPekI5SCxFQUFZdFAsVUFBVWtYLGlCQUFtQixXQUN2QyxHQUFJcEssS0FBS3NLLE9BQ1AsTUFBTXRLLEtBQUtzSyxRQVFmOUgsRUFBWXFJLE9BQVMsV0FDbkIsSUFBSXZMLEVBSUosTUFBTyxDQUNMc0wsTUFKVSxJQUFJcEksRUFBWSxTQUFrQjdRLEdBQzVDMk4sRUFBUzNOLElBSVQyTixPQUFRQSxJQUladk8sRUFBT0QsUUFBVTBSLGdDQ2xDakJ6UixFQUFPRCxRQUFVLFNBQWdCZ2EsR0FDL0IsT0FBTyxTQUFjaFEsR0FDbkIsT0FBT2dRLEVBQVMxTyxNQUFNLEtBQU10Qix1QkN4QmhDLFNBQUFpUSxJQU1DLFNBQVVuYSxHQUNYLGFBTUEsSUFBSTZYLEVBQVEsQ0FDVnVDLFFBQVMsT0FDVHJMLEtBQU0sb0JBQ05zTCxPQUFRLGtGQUNSQyxHQUFJLHlEQUNKQyxRQUFTLGlEQUNUQyxXQUFZLDBDQUNaQyxLQUFNLG9FQUNOQyxLQUFNLG9aQVVOQyxJQUFLLG1GQUNMQyxRQUFTeEcsRUFDVHlHLE1BQU96RyxFQUNQMEcsU0FBVSxzQ0FHVkMsV0FBWSw0RUFDWkMsS0FBTSxXQWtHUixTQUFTQyxFQUFNN1AsR0FDYmdFLEtBQUs4TCxPQUFTLEdBQ2Q5TCxLQUFLOEwsT0FBT0MsTUFBUS9aLE9BQU9ZLE9BQU8sTUFDbENvTixLQUFLaEUsUUFBVUEsR0FBV2dRLEVBQU92VixTQUNqQ3VKLEtBQUtpTSxNQUFReEQsRUFBTXlELE9BRWZsTSxLQUFLaEUsUUFBUW1RLFNBQ2ZuTSxLQUFLaU0sTUFBUXhELEVBQU0wRCxTQUNWbk0sS0FBS2hFLFFBQVFvUSxNQUN0QnBNLEtBQUtpTSxNQUFReEQsRUFBTTJELEtBeEd2QjNELEVBQU00RCxPQUFTLGlDQUNmNUQsRUFBTTZELE9BQVMsK0RBQ2Y3RCxFQUFNOEMsSUFBTWdCLEVBQUs5RCxFQUFNOEMsS0FDcEJ2VixRQUFRLFFBQVN5UyxFQUFNNEQsUUFDdkJyVyxRQUFRLFFBQVN5UyxFQUFNNkQsUUFDdkJFLFdBRUgvRCxFQUFNZ0UsT0FBUyxzQkFDZmhFLEVBQU1pRSxLQUFPLCtDQUNiakUsRUFBTWlFLEtBQU9ILEVBQUs5RCxFQUFNaUUsS0FBTSxNQUMzQjFXLFFBQVEsUUFBU3lTLEVBQU1nRSxRQUN2QkQsV0FFSC9ELEVBQU00QyxLQUFPa0IsRUFBSzlELEVBQU00QyxNQUNyQnJWLFFBQVEsUUFBU3lTLEVBQU1nRSxRQUN2QnpXLFFBQVEsS0FBTSxtRUFDZEEsUUFBUSxNQUFPLFVBQVl5UyxFQUFNOEMsSUFBSVYsT0FBUyxLQUM5QzJCLFdBRUgvRCxFQUFNa0UsS0FBTyxnV0FNYmxFLEVBQU1tRSxTQUFXLHlCQUNqQm5FLEVBQU02QyxLQUFPaUIsRUFBSzlELEVBQU02QyxLQUFNLEtBQzNCdFYsUUFBUSxVQUFXeVMsRUFBTW1FLFVBQ3pCNVcsUUFBUSxNQUFPeVMsRUFBTWtFLE1BQ3JCM1csUUFBUSxZQUFhLDRFQUNyQndXLFdBRUgvRCxFQUFNb0UsVUFBWU4sRUFBSzlELEVBQU1rRCxZQUMxQjNWLFFBQVEsS0FBTXlTLEVBQU15QyxJQUNwQmxWLFFBQVEsVUFBVyxrQkFDbkJBLFFBQVEsWUFBYSxJQUNyQkEsUUFBUSxhQUFjLFdBQ3RCQSxRQUFRLFNBQVUsb0NBQ2xCQSxRQUFRLE9BQVEsMEJBQ2hCQSxRQUFRLE9BQVEsc0RBQ2hCQSxRQUFRLE1BQU95UyxFQUFNa0UsTUFDckJILFdBRUgvRCxFQUFNMkMsV0FBYW1CLEVBQUs5RCxFQUFNMkMsWUFDM0JwVixRQUFRLFlBQWF5UyxFQUFNb0UsV0FDM0JMLFdBTUgvRCxFQUFNeUQsT0FBUzVXLEVBQU0sR0FBSW1ULEdBTXpCQSxFQUFNMkQsSUFBTTlXLEVBQU0sR0FBSW1ULEVBQU15RCxPQUFRLENBQ2xDVixRQUFTLGdGQUNUQyxNQUFPLDBFQU9UaEQsRUFBTTBELFNBQVc3VyxFQUFNLEdBQUltVCxFQUFNeUQsT0FBUSxDQUN2Q1osS0FBTWlCLEVBQ0osOElBR0N2VyxRQUFRLFVBQVd5UyxFQUFNbUUsVUFDekI1VyxRQUFRLE9BQVEscUtBSWhCd1csV0FDSGpCLElBQUssb0VBQ0xKLFFBQVMsNkNBQ1RGLE9BQVFqRyxFQUNSNkgsVUFBV04sRUFBSzlELEVBQU15RCxPQUFPUCxZQUMxQjNWLFFBQVEsS0FBTXlTLEVBQU15QyxJQUNwQmxWLFFBQVEsVUFBVyxtQkFDbkJBLFFBQVEsV0FBWXlTLEVBQU1pRCxVQUMxQjFWLFFBQVEsYUFBYyxXQUN0QkEsUUFBUSxVQUFXLElBQ25CQSxRQUFRLFFBQVMsSUFDakJBLFFBQVEsUUFBUyxJQUNqQndXLGFBd0JMWCxFQUFNSSxNQUFReEQsRUFNZG9ELEVBQU1pQixJQUFNLFNBQVNDLEVBQUsvUSxHQUV4QixPQURZLElBQUk2UCxFQUFNN1AsR0FDVDhRLElBQUlDLElBT25CbEIsRUFBTTNZLFVBQVU0WixJQUFNLFNBQVNDLEdBTzdCLE9BTkFBLEVBQU1BLEVBQ0gvVyxRQUFRLFdBQVksTUFDcEJBLFFBQVEsTUFBTyxRQUNmQSxRQUFRLFVBQVcsS0FDbkJBLFFBQVEsVUFBVyxNQUVmZ0ssS0FBSzRLLE1BQU1tQyxHQUFLLElBT3pCbEIsRUFBTTNZLFVBQVUwWCxNQUFRLFNBQVNtQyxFQUFLbkwsR0FFcEMsSUFBSW9MLEVBQ0FDLEVBQ0FDLEVBQ0FDLEVBQ0F2WCxFQUNBOFcsRUFDQVUsRUFDQUMsRUFDQTdhLEVBQ0E4YSxFQUNBaGMsRUFDQWljLEVBQ0FoYyxFQUNBaWMsRUFDQUMsRUFDQUMsRUFFSixJQWxCQVgsRUFBTUEsRUFBSS9XLFFBQVEsU0FBVSxJQWtCckIrVyxHQVlMLElBVklHLEVBQU1sTixLQUFLaU0sTUFBTWpCLFFBQVEyQyxLQUFLWixNQUNoQ0EsRUFBTUEsRUFBSXRMLFVBQVV5TCxFQUFJLEdBQUdsWixRQUN2QmtaLEVBQUksR0FBR2xaLE9BQVMsR0FDbEJnTSxLQUFLOEwsT0FBT3hULEtBQUssQ0FDZnNWLEtBQU0sV0FNUlYsRUFBTWxOLEtBQUtpTSxNQUFNdE0sS0FBS2dPLEtBQUtaLEdBQS9CLENBQ0UsSUFBSWMsRUFBWTdOLEtBQUs4TCxPQUFPOUwsS0FBSzhMLE9BQU85WCxPQUFTLEdBQ2pEK1ksRUFBTUEsRUFBSXRMLFVBQVV5TCxFQUFJLEdBQUdsWixRQUV2QjZaLEdBQWdDLGNBQW5CQSxFQUFVRCxLQUN6QkMsRUFBVWpDLE1BQVEsS0FBT3NCLEVBQUksR0FBR1ksYUFFaENaLEVBQU1BLEVBQUksR0FBR2xYLFFBQVEsVUFBVyxJQUNoQ2dLLEtBQUs4TCxPQUFPeFQsS0FBSyxDQUNmc1YsS0FBTSxPQUNORyxlQUFnQixXQUNoQm5DLEtBQU81TCxLQUFLaEUsUUFBUW1RLFNBRWhCZSxFQURBYyxFQUFNZCxFQUFLLGNBUXJCLEdBQUlBLEVBQU1sTixLQUFLaU0sTUFBTWhCLE9BQU8wQyxLQUFLWixHQUMvQkEsRUFBTUEsRUFBSXRMLFVBQVV5TCxFQUFJLEdBQUdsWixRQUMzQmdNLEtBQUs4TCxPQUFPeFQsS0FBSyxDQUNmc1YsS0FBTSxPQUNOSyxLQUFNZixFQUFJLEdBQUtBLEVBQUksR0FBR3BYLE9BQVNvWCxFQUFJLEdBQ25DdEIsS0FBTXNCLEVBQUksSUFBTSxVQU1wQixHQUFJQSxFQUFNbE4sS0FBS2lNLE1BQU1kLFFBQVF3QyxLQUFLWixHQUNoQ0EsRUFBTUEsRUFBSXRMLFVBQVV5TCxFQUFJLEdBQUdsWixRQUMzQmdNLEtBQUs4TCxPQUFPeFQsS0FBSyxDQUNmc1YsS0FBTSxVQUNOTSxNQUFPaEIsRUFBSSxHQUFHbFosT0FDZDRYLEtBQU1zQixFQUFJLFVBTWQsSUFBSUEsRUFBTWxOLEtBQUtpTSxNQUFNVCxRQUFRbUMsS0FBS1osTUFDaENMLEVBQU8sQ0FDTGtCLEtBQU0sUUFDTk8sT0FBUUMsRUFBV2xCLEVBQUksR0FBR2xYLFFBQVEsZUFBZ0IsS0FDbERxWSxNQUFPbkIsRUFBSSxHQUFHbFgsUUFBUSxhQUFjLElBQUlpUixNQUFNLFVBQzlDcUgsTUFBT3BCLEVBQUksR0FBS0EsRUFBSSxHQUFHbFgsUUFBUSxNQUFPLElBQUlpUixNQUFNLE1BQVEsS0FHakRrSCxPQUFPbmEsU0FBVzBZLEVBQUsyQixNQUFNcmEsT0FSeEMsQ0FXSSxJQUZBK1ksRUFBTUEsRUFBSXRMLFVBQVV5TCxFQUFJLEdBQUdsWixRQUV0QjFDLEVBQUksRUFBR0EsRUFBSW9iLEVBQUsyQixNQUFNcmEsT0FBUTFDLElBQzdCLFlBQVlnVyxLQUFLb0YsRUFBSzJCLE1BQU0vYyxJQUM5Qm9iLEVBQUsyQixNQUFNL2MsR0FBSyxRQUNQLGFBQWFnVyxLQUFLb0YsRUFBSzJCLE1BQU0vYyxJQUN0Q29iLEVBQUsyQixNQUFNL2MsR0FBSyxTQUNQLFlBQVlnVyxLQUFLb0YsRUFBSzJCLE1BQU0vYyxJQUNyQ29iLEVBQUsyQixNQUFNL2MsR0FBSyxPQUVoQm9iLEVBQUsyQixNQUFNL2MsR0FBSyxLQUlwQixJQUFLQSxFQUFJLEVBQUdBLEVBQUlvYixFQUFLNEIsTUFBTXRhLE9BQVExQyxJQUNqQ29iLEVBQUs0QixNQUFNaGQsR0FBSzhjLEVBQVcxQixFQUFLNEIsTUFBTWhkLEdBQUlvYixFQUFLeUIsT0FBT25hLFFBR3hEZ00sS0FBSzhMLE9BQU94VCxLQUFLb1UsUUFPckIsR0FBSVEsRUFBTWxOLEtBQUtpTSxNQUFNZixHQUFHeUMsS0FBS1osR0FDM0JBLEVBQU1BLEVBQUl0TCxVQUFVeUwsRUFBSSxHQUFHbFosUUFDM0JnTSxLQUFLOEwsT0FBT3hULEtBQUssQ0FDZnNWLEtBQU0sWUFNVixHQUFJVixFQUFNbE4sS0FBS2lNLE1BQU1iLFdBQVd1QyxLQUFLWixHQUNuQ0EsRUFBTUEsRUFBSXRMLFVBQVV5TCxFQUFJLEdBQUdsWixRQUUzQmdNLEtBQUs4TCxPQUFPeFQsS0FBSyxDQUNmc1YsS0FBTSxxQkFHUlYsRUFBTUEsRUFBSSxHQUFHbFgsUUFBUSxXQUFZLElBS2pDZ0ssS0FBSzRLLE1BQU1zQyxFQUFLdEwsR0FFaEI1QixLQUFLOEwsT0FBT3hULEtBQUssQ0FDZnNWLEtBQU0sd0JBT1YsR0FBSVYsRUFBTWxOLEtBQUtpTSxNQUFNWixLQUFLc0MsS0FBS1osR0FBL0IsQ0FzQkUsSUFyQkFBLEVBQU1BLEVBQUl0TCxVQUFVeUwsRUFBSSxHQUFHbFosUUFJM0JvWixFQUFZLENBQ1ZRLEtBQU0sYUFDTlcsUUFKRmYsR0FEQUwsRUFBT0QsRUFBSSxJQUNNbFosT0FBUyxFQUt4QndhLE1BQU9oQixHQUFhTCxFQUFPLEdBQzNCRixPQUFPLEdBR1RqTixLQUFLOEwsT0FBT3hULEtBQUs4VSxHQUtqQkMsRUFBWSxHQUNaTCxHQUFPLEVBQ1B6YixHQUpBMmIsRUFBTUEsRUFBSSxHQUFHM0QsTUFBTXZKLEtBQUtpTSxNQUFNUyxPQUl0QjFZLE9BQ1IxQyxFQUFJLEVBRUdBLEVBQUlDLEVBQUdELElBS1pnYyxHQUpBWixFQUFPUSxFQUFJNWIsSUFJRTBDLFNBQ2IwWSxFQUFPQSxFQUFLMVcsUUFBUSxxQkFBc0IsS0FJaENvQyxRQUFRLFNBQ2hCa1YsR0FBU1osRUFBSzFZLE9BQ2QwWSxFQUFRMU0sS0FBS2hFLFFBQVFtUSxTQUVqQk8sRUFBSzFXLFFBQVEsWUFBYSxJQUQxQjBXLEVBQUsxVyxRQUFRLElBQUl3VCxPQUFPLFFBQVU4RCxFQUFRLElBQUssTUFBTyxLQU14RGhjLElBQU1DLEVBQUksSUFDWnFFLEVBQUk2UyxFQUFNZ0UsT0FBT2tCLEtBQUtULEVBQUk1YixFQUFJLElBQUksSUFDOUI2YixFQUFLblosT0FBUyxFQUFpQixJQUFiNEIsRUFBRTVCLE9BQ25CNEIsRUFBRTVCLE9BQVMsR0FBTWdNLEtBQUtoRSxRQUFReVMsWUFBYzdZLElBQU11WCxLQUNyREosRUFBTUcsRUFBSW5LLE1BQU16UixFQUFJLEdBQUd3VixLQUFLLE1BQVFpRyxFQUNwQ3piLEVBQUlDLEVBQUksSUFPWjBiLEVBQVFELEdBQVEsZUFBZTFGLEtBQUtvRixHQUNoQ3BiLElBQU1DLEVBQUksSUFDWnliLEVBQXdDLE9BQWpDTixFQUFLdkUsT0FBT3VFLEVBQUsxWSxPQUFTLEdBQzVCaVosSUFBT0EsRUFBUUQsSUFHbEJDLElBQ0ZHLEVBQVVILE9BQVEsR0FLcEJTLE9BQVk1VixHQURaMlYsRUFBUyxjQUFjbkcsS0FBS29GLE1BRzFCZ0IsRUFBd0IsTUFBWmhCLEVBQUssR0FDakJBLEVBQU9BLEVBQUsxVyxRQUFRLGVBQWdCLEtBR3RDeEQsRUFBSSxDQUNGb2IsS0FBTSxrQkFDTmMsS0FBTWpCLEVBQ05rQixRQUFTakIsRUFDVFQsTUFBT0EsR0FHVEksRUFBVS9VLEtBQUs5RixHQUNmd04sS0FBSzhMLE9BQU94VCxLQUFLOUYsR0FHakJ3TixLQUFLNEssTUFBTThCLEdBQU0sR0FFakIxTSxLQUFLOEwsT0FBT3hULEtBQUssQ0FDZnNWLEtBQU0sa0JBSVYsR0FBSVIsRUFBVUgsTUFHWixJQUZBMWIsRUFBSThiLEVBQVVyWixPQUNkMUMsRUFBSSxFQUNHQSxFQUFJQyxFQUFHRCxJQUNaK2IsRUFBVS9iLEdBQUcyYixPQUFRLEVBSXpCak4sS0FBSzhMLE9BQU94VCxLQUFLLENBQ2ZzVixLQUFNLGtCQU9WLEdBQUlWLEVBQU1sTixLQUFLaU0sTUFBTVgsS0FBS3FDLEtBQUtaLEdBQzdCQSxFQUFNQSxFQUFJdEwsVUFBVXlMLEVBQUksR0FBR2xaLFFBQzNCZ00sS0FBSzhMLE9BQU94VCxLQUFLLENBQ2ZzVixLQUFNNU4sS0FBS2hFLFFBQVE0UyxTQUNmLFlBQ0EsT0FDSkMsS0FBTTdPLEtBQUtoRSxRQUFROFMsWUFDRixRQUFYNUIsRUFBSSxJQUEyQixXQUFYQSxFQUFJLElBQThCLFVBQVhBLEVBQUksSUFDckR0QixLQUFNNUwsS0FBS2hFLFFBQVE0UyxTQUFZNU8sS0FBS2hFLFFBQVE4UyxVQUFZOU8sS0FBS2hFLFFBQVE4UyxVQUFVNUIsRUFBSSxJQUFNNkIsRUFBTzdCLEVBQUksSUFBT0EsRUFBSSxVQU1uSCxHQUFJdEwsSUFBUXNMLEVBQU1sTixLQUFLaU0sTUFBTVYsSUFBSW9DLEtBQUtaLElBQ3BDQSxFQUFNQSxFQUFJdEwsVUFBVXlMLEVBQUksR0FBR2xaLFFBQ3ZCa1osRUFBSSxLQUFJQSxFQUFJLEdBQUtBLEVBQUksR0FBR3pMLFVBQVUsRUFBR3lMLEVBQUksR0FBR2xaLE9BQVMsSUFDekR1WixFQUFNTCxFQUFJLEdBQUdwTyxjQUFjOUksUUFBUSxPQUFRLEtBQ3RDZ0ssS0FBSzhMLE9BQU9DLE1BQU13QixLQUNyQnZOLEtBQUs4TCxPQUFPQyxNQUFNd0IsR0FBTyxDQUN2QjdGLEtBQU13RixFQUFJLEdBQ1ZoSSxNQUFPZ0ksRUFBSSxVQU9qQixJQUFJQSxFQUFNbE4sS0FBS2lNLE1BQU1SLE1BQU1rQyxLQUFLWixNQUM5QkwsRUFBTyxDQUNMa0IsS0FBTSxRQUNOTyxPQUFRQyxFQUFXbEIsRUFBSSxHQUFHbFgsUUFBUSxlQUFnQixLQUNsRHFZLE1BQU9uQixFQUFJLEdBQUdsWCxRQUFRLGFBQWMsSUFBSWlSLE1BQU0sVUFDOUNxSCxNQUFPcEIsRUFBSSxHQUFLQSxFQUFJLEdBQUdsWCxRQUFRLE1BQU8sSUFBSWlSLE1BQU0sTUFBUSxLQUdqRGtILE9BQU9uYSxTQUFXMFksRUFBSzJCLE1BQU1yYSxPQVJ4QyxDQVdJLElBRkErWSxFQUFNQSxFQUFJdEwsVUFBVXlMLEVBQUksR0FBR2xaLFFBRXRCMUMsRUFBSSxFQUFHQSxFQUFJb2IsRUFBSzJCLE1BQU1yYSxPQUFRMUMsSUFDN0IsWUFBWWdXLEtBQUtvRixFQUFLMkIsTUFBTS9jLElBQzlCb2IsRUFBSzJCLE1BQU0vYyxHQUFLLFFBQ1AsYUFBYWdXLEtBQUtvRixFQUFLMkIsTUFBTS9jLElBQ3RDb2IsRUFBSzJCLE1BQU0vYyxHQUFLLFNBQ1AsWUFBWWdXLEtBQUtvRixFQUFLMkIsTUFBTS9jLElBQ3JDb2IsRUFBSzJCLE1BQU0vYyxHQUFLLE9BRWhCb2IsRUFBSzJCLE1BQU0vYyxHQUFLLEtBSXBCLElBQUtBLEVBQUksRUFBR0EsRUFBSW9iLEVBQUs0QixNQUFNdGEsT0FBUTFDLElBQ2pDb2IsRUFBSzRCLE1BQU1oZCxHQUFLOGMsRUFDZDFCLEVBQUs0QixNQUFNaGQsR0FBRzBFLFFBQVEsbUJBQW9CLElBQzFDMFcsRUFBS3lCLE9BQU9uYSxRQUdoQmdNLEtBQUs4TCxPQUFPeFQsS0FBS29VLFFBT3JCLEdBQUlRLEVBQU1sTixLQUFLaU0sTUFBTVAsU0FBU2lDLEtBQUtaLEdBQ2pDQSxFQUFNQSxFQUFJdEwsVUFBVXlMLEVBQUksR0FBR2xaLFFBQzNCZ00sS0FBSzhMLE9BQU94VCxLQUFLLENBQ2ZzVixLQUFNLFVBQ05NLE1BQTRCLE1BQXJCaEIsRUFBSSxHQUFHL0UsT0FBTyxHQUFhLEVBQUksRUFDdEN5RCxLQUFNc0IsRUFBSSxVQU1kLEdBQUl0TCxJQUFRc0wsRUFBTWxOLEtBQUtpTSxNQUFNWSxVQUFVYyxLQUFLWixJQUMxQ0EsRUFBTUEsRUFBSXRMLFVBQVV5TCxFQUFJLEdBQUdsWixRQUMzQmdNLEtBQUs4TCxPQUFPeFQsS0FBSyxDQUNmc1YsS0FBTSxZQUNOaEMsS0FBMkMsT0FBckNzQixFQUFJLEdBQUcvRSxPQUFPK0UsRUFBSSxHQUFHbFosT0FBUyxHQUNoQ2taLEVBQUksR0FBR25LLE1BQU0sR0FBSSxHQUNqQm1LLEVBQUksVUFNWixHQUFJQSxFQUFNbE4sS0FBS2lNLE1BQU1MLEtBQUsrQixLQUFLWixHQUU3QkEsRUFBTUEsRUFBSXRMLFVBQVV5TCxFQUFJLEdBQUdsWixRQUMzQmdNLEtBQUs4TCxPQUFPeFQsS0FBSyxDQUNmc1YsS0FBTSxPQUNOaEMsS0FBTXNCLEVBQUksVUFLZCxHQUFJSCxFQUNGLE1BQU0sSUFBSWxOLE1BQU0sMEJBQTRCa04sRUFBSWpFLFdBQVcsSUFJL0QsT0FBTzlJLEtBQUs4TCxRQU9kLElBQUlrRCxFQUFTLENBQ1hELE9BQVEsK0NBQ1JFLFNBQVUsc0NBQ1YzUixJQUFLMEgsRUFDTHVJLElBQUssMkpBTUwyQixLQUFNLGdEQUNOQyxRQUFTLHdEQUNUQyxPQUFRLGdFQUNSQyxPQUFRLGdIQUNSQyxHQUFJLG9PQUNKM1AsS0FBTSxzQ0FDTjRQLEdBQUksd0JBQ0pDLElBQUt4SyxFQUNMNEcsS0FBTSw4RUEyRlIsU0FBUzZELEVBQVkxRCxFQUFPL1AsR0FPMUIsR0FOQWdFLEtBQUtoRSxRQUFVQSxHQUFXZ1EsRUFBT3ZWLFNBQ2pDdUosS0FBSytMLE1BQVFBLEVBQ2IvTCxLQUFLaU0sTUFBUStDLEVBQU85QyxPQUNwQmxNLEtBQUswUCxTQUFXMVAsS0FBS2hFLFFBQVEwVCxVQUFZLElBQUlDLEVBQzdDM1AsS0FBSzBQLFNBQVMxVCxRQUFVZ0UsS0FBS2hFLFNBRXhCZ0UsS0FBSytMLE1BQ1IsTUFBTSxJQUFJbE0sTUFBTSw2Q0FHZEcsS0FBS2hFLFFBQVFtUSxTQUNmbk0sS0FBS2lNLE1BQVErQyxFQUFPN0MsU0FDWG5NLEtBQUtoRSxRQUFRb1EsTUFDbEJwTSxLQUFLaEUsUUFBUTRULE9BQ2Y1UCxLQUFLaU0sTUFBUStDLEVBQU9ZLE9BRXBCNVAsS0FBS2lNLE1BQVErQyxFQUFPNUMsS0E4UTFCLFNBQVN1RCxFQUFTM1QsR0FDaEJnRSxLQUFLaEUsUUFBVUEsR0FBV2dRLEVBQU92VixTQThKbkMsU0FBU29aLEtBeUJULFNBQVNDLEVBQU85VCxHQUNkZ0UsS0FBSzhMLE9BQVMsR0FDZDlMLEtBQUs0SyxNQUFRLEtBQ2I1SyxLQUFLaEUsUUFBVUEsR0FBV2dRLEVBQU92VixTQUNqQ3VKLEtBQUtoRSxRQUFRMFQsU0FBVzFQLEtBQUtoRSxRQUFRMFQsVUFBWSxJQUFJQyxFQUNyRDNQLEtBQUswUCxTQUFXMVAsS0FBS2hFLFFBQVEwVCxTQUM3QjFQLEtBQUswUCxTQUFTMVQsUUFBVWdFLEtBQUtoRSxRQUM3QmdFLEtBQUsrUCxRQUFVLElBQUlDLEVBdUxyQixTQUFTQSxJQUNQaFEsS0FBS2lRLEtBQU8sR0E4QmQsU0FBU2xCLEVBQU96RCxFQUFNOUUsR0FDcEIsR0FBSUEsR0FDRixHQUFJdUksRUFBT21CLFdBQVc1SSxLQUFLZ0UsR0FDekIsT0FBT0EsRUFBS3RWLFFBQVErWSxFQUFPb0IsY0FBZSxTQUFTQyxHQUFNLE9BQU9yQixFQUFPc0IsYUFBYUQsVUFHdEYsR0FBSXJCLEVBQU91QixtQkFBbUJoSixLQUFLZ0UsR0FDakMsT0FBT0EsRUFBS3RWLFFBQVErWSxFQUFPd0Isc0JBQXVCLFNBQVNILEdBQU0sT0FBT3JCLEVBQU9zQixhQUFhRCxLQUloRyxPQUFPOUUsRUFnQlQsU0FBU2tGLEVBQVNsRixHQUVoQixPQUFPQSxFQUFLdFYsUUFBUSw2Q0FBOEMsU0FBU3lhLEVBQUcxZCxHQUU1RSxNQUFVLFdBRFZBLEVBQUlBLEVBQUUrTCxlQUNvQixJQUNOLE1BQWhCL0wsRUFBRW9WLE9BQU8sR0FDWSxNQUFoQnBWLEVBQUVvVixPQUFPLEdBQ1pRLE9BQU8rSCxhQUFhcFAsU0FBU3ZPLEVBQUUwTyxVQUFVLEdBQUksS0FDN0NrSCxPQUFPK0gsY0FBYzNkLEVBQUUwTyxVQUFVLElBRWhDLEtBSVgsU0FBUzhLLEVBQUtvRSxFQUFPQyxHQUduQixPQUZBRCxFQUFRQSxFQUFNOUYsUUFBVThGLEVBQ3hCQyxFQUFNQSxHQUFPLEdBQ04sQ0FDTDVhLFFBQVMsU0FBU25FLEVBQU02QixHQUl0QixPQUZBQSxHQURBQSxFQUFNQSxFQUFJbVgsUUFBVW5YLEdBQ1ZzQyxRQUFRLGVBQWdCLE1BQ2xDMmEsRUFBUUEsRUFBTTNhLFFBQVFuRSxFQUFNNkIsR0FDckJzTSxNQUVUd00sU0FBVSxXQUNSLE9BQU8sSUFBSWhELE9BQU9tSCxFQUFPQyxLQUsvQixTQUFTQyxFQUFTakMsRUFBVWtDLEVBQU1wSixHQUNoQyxHQUFJa0gsRUFBVSxDQUNaLElBQ0UsSUFBSW1DLEVBQU90SCxtQkFBbUIrRyxFQUFTOUksSUFDcEMxUixRQUFRLFVBQVcsSUFDbkI4SSxjQUNILE1BQU83SCxHQUNQLE9BQU8sS0FFVCxHQUFvQyxJQUFoQzhaLEVBQUszWSxRQUFRLGdCQUFzRCxJQUE5QjJZLEVBQUszWSxRQUFRLGNBQWdELElBQTFCMlksRUFBSzNZLFFBQVEsU0FDdkYsT0FBTyxLQUdQMFksSUFBU0UsRUFBcUIxSixLQUFLSSxLQUNyQ0EsRUFVSixTQUFvQm9KLEVBQU1wSixHQUNuQnVKLEVBQVMsSUFBTUgsS0FJZCxvQkFBbUJ4SixLQUFLd0osR0FDMUJHLEVBQVMsSUFBTUgsR0FBUUEsRUFBTyxJQUU5QkcsRUFBUyxJQUFNSCxHQUFROUMsRUFBTThDLEVBQU0sS0FBSyxJQUs1QyxPQUZBQSxFQUFPRyxFQUFTLElBQU1ILEdBRUcsT0FBckJwSixFQUFLM0UsTUFBTSxFQUFHLEdBQ1QrTixFQUFLOWEsUUFBUSxXQUFZLEtBQU8wUixFQUNYLE1BQW5CQSxFQUFLUyxPQUFPLEdBQ2QySSxFQUFLOWEsUUFBUSxzQkFBc0IsTUFBUTBSLEVBRTNDb0osRUFBT3BKLEVBNUJQd0osQ0FBV0osRUFBTXBKLElBRTFCLElBQ0VBLEVBQU95SixVQUFVekosR0FBTTFSLFFBQVEsT0FBUSxLQUN2QyxNQUFPaUIsR0FDUCxPQUFPLEtBRVQsT0FBT3lRLEVBeDFCVHNILEVBQU9vQyxhQUFlLHFDQUN0QnBDLEVBQU9NLEdBQUsvQyxFQUFLeUMsRUFBT00sSUFBSXRaLFFBQVEsZUFBZ0JnWixFQUFPb0MsY0FBYzVFLFdBRXpFd0MsRUFBT3FDLFNBQVcsK0NBRWxCckMsRUFBT3NDLFFBQVUsK0JBQ2pCdEMsRUFBT3VDLE9BQVMsZ0pBQ2hCdkMsRUFBT0MsU0FBVzFDLEVBQUt5QyxFQUFPQyxVQUMzQmpaLFFBQVEsU0FBVWdaLEVBQU9zQyxTQUN6QnRiLFFBQVEsUUFBU2daLEVBQU91QyxRQUN4Qi9FLFdBRUh3QyxFQUFPd0MsV0FBYSw4RUFFcEJ4QyxFQUFPekIsSUFBTWhCLEVBQUt5QyxFQUFPekIsS0FDdEJ2WCxRQUFRLFVBQVd5UyxFQUFNbUUsVUFDekI1VyxRQUFRLFlBQWFnWixFQUFPd0MsWUFDNUJoRixXQUVId0MsRUFBTzNDLE9BQVMsNENBQ2hCMkMsRUFBT3lDLE1BQVEsMkNBQ2Z6QyxFQUFPMUMsT0FBUyw4REFFaEIwQyxFQUFPRSxLQUFPM0MsRUFBS3lDLEVBQU9FLE1BQ3ZCbFosUUFBUSxRQUFTZ1osRUFBTzNDLFFBQ3hCclcsUUFBUSxPQUFRZ1osRUFBT3lDLE9BQ3ZCemIsUUFBUSxRQUFTZ1osRUFBTzFDLFFBQ3hCRSxXQUVId0MsRUFBT0csUUFBVTVDLEVBQUt5QyxFQUFPRyxTQUMxQm5aLFFBQVEsUUFBU2daLEVBQU8zQyxRQUN4QkcsV0FNSHdDLEVBQU85QyxPQUFTNVcsRUFBTSxHQUFJMFosR0FNMUJBLEVBQU83QyxTQUFXN1csRUFBTSxHQUFJMFosRUFBTzlDLE9BQVEsQ0FDekNtRCxPQUFRLGlFQUNSQyxHQUFJLDJEQUNKSixLQUFNM0MsRUFBSywyQkFDUnZXLFFBQVEsUUFBU2daLEVBQU8zQyxRQUN4QkcsV0FDSDJDLFFBQVM1QyxFQUFLLGlDQUNYdlcsUUFBUSxRQUFTZ1osRUFBTzNDLFFBQ3hCRyxhQU9Md0MsRUFBTzVDLElBQU05VyxFQUFNLEdBQUkwWixFQUFPOUMsT0FBUSxDQUNwQzZDLE9BQVF4QyxFQUFLeUMsRUFBT0QsUUFBUS9ZLFFBQVEsS0FBTSxRQUFRd1csV0FDbERrRixnQkFBaUIsNEVBQ2pCcFUsSUFBSyxtRUFDTHFVLFdBQVkseUVBQ1puQyxJQUFLLDBCQUNMNUQsS0FBTSxzTkFHUm9ELEVBQU81QyxJQUFJOU8sSUFBTWlQLEVBQUt5QyxFQUFPNUMsSUFBSTlPLElBQUssS0FDbkN0SCxRQUFRLFFBQVNnWixFQUFPNUMsSUFBSXNGLGlCQUM1QmxGLFdBS0h3QyxFQUFPWSxPQUFTdGEsRUFBTSxHQUFJMFosRUFBTzVDLElBQUssQ0FDcENtRCxHQUFJaEQsRUFBS3lDLEVBQU9PLElBQUl2WixRQUFRLE9BQVEsS0FBS3dXLFdBQ3pDWixLQUFNVyxFQUFLeUMsRUFBTzVDLElBQUlSLE1BQ25CNVYsUUFBUSxPQUFRLGlCQUNoQkEsUUFBUSxVQUFXLEtBQ25Cd1csYUFpQ0xpRCxFQUFZeEQsTUFBUStDLEVBTXBCUyxFQUFZN0csT0FBUyxTQUFTbUUsRUFBS2hCLEVBQU8vUCxHQUV4QyxPQURhLElBQUl5VCxFQUFZMUQsRUFBTy9QLEdBQ3RCNE0sT0FBT21FLElBT3ZCMEMsRUFBWXZjLFVBQVUwVixPQUFTLFNBQVNtRSxHQVN0QyxJQVJBLElBQ0ltQyxFQUNBdEQsRUFDQWxFLEVBQ0F4QyxFQUNBZ0ksRUFDQTBFLEVBTkFDLEVBQU0sR0FRSDlFLEdBRUwsR0FBSUcsRUFBTWxOLEtBQUtpTSxNQUFNOEMsT0FBT3BCLEtBQUtaLEdBQy9CQSxFQUFNQSxFQUFJdEwsVUFBVXlMLEVBQUksR0FBR2xaLFFBQzNCNmQsR0FBTzlDLEVBQU83QixFQUFJLFNBS3BCLEdBQUlBLEVBQU1sTixLQUFLaU0sTUFBTXNCLElBQUlJLEtBQUtaLElBQ3ZCL00sS0FBSzhSLFFBQVUsUUFBUXhLLEtBQUs0RixFQUFJLElBQ25DbE4sS0FBSzhSLFFBQVMsRUFDTDlSLEtBQUs4UixRQUFVLFVBQVV4SyxLQUFLNEYsRUFBSSxNQUMzQ2xOLEtBQUs4UixRQUFTLElBRVg5UixLQUFLK1IsWUFBYyxpQ0FBaUN6SyxLQUFLNEYsRUFBSSxJQUNoRWxOLEtBQUsrUixZQUFhLEVBQ1QvUixLQUFLK1IsWUFBYyxtQ0FBbUN6SyxLQUFLNEYsRUFBSSxNQUN4RWxOLEtBQUsrUixZQUFhLEdBR3BCaEYsRUFBTUEsRUFBSXRMLFVBQVV5TCxFQUFJLEdBQUdsWixRQUMzQjZkLEdBQU83UixLQUFLaEUsUUFBUTRTLFNBQ2hCNU8sS0FBS2hFLFFBQVE4UyxVQUNYOU8sS0FBS2hFLFFBQVE4UyxVQUFVNUIsRUFBSSxJQUMzQjZCLEVBQU83QixFQUFJLElBQ2JBLEVBQUksUUFLVixHQUFJQSxFQUFNbE4sS0FBS2lNLE1BQU1pRCxLQUFLdkIsS0FBS1osR0FBL0IsQ0FDRSxJQUFJaUYsRUFBaUJDLEVBQW1CL0UsRUFBSSxHQUFJLE1BQ2hELEdBQUk4RSxHQUFrQixFQUFHLENBQ3ZCLElBQUlFLEVBQVUsRUFBSWhGLEVBQUksR0FBR2xaLE9BQVNnZSxFQUNsQzlFLEVBQUksR0FBS0EsRUFBSSxHQUFHekwsVUFBVSxFQUFHdVEsR0FDN0I5RSxFQUFJLEdBQUtBLEVBQUksR0FBR3pMLFVBQVUsRUFBR3lRLEdBQVNwYyxPQUN0Q29YLEVBQUksR0FBSyxHQUVYSCxFQUFNQSxFQUFJdEwsVUFBVXlMLEVBQUksR0FBR2xaLFFBQzNCZ00sS0FBSzhSLFFBQVMsRUFDZHBLLEVBQU93RixFQUFJLEdBQ1BsTixLQUFLaEUsUUFBUW1RLFVBQ2YrQyxFQUFPLGdDQUFnQ3ZCLEtBQUtqRyxLQUcxQ0EsRUFBT3dILEVBQUssR0FDWmhLLEVBQVFnSyxFQUFLLElBRWJoSyxFQUFRLEdBR1ZBLEVBQVFnSSxFQUFJLEdBQUtBLEVBQUksR0FBR25LLE1BQU0sR0FBSSxHQUFLLEdBRXpDMkUsRUFBT0EsRUFBSzVSLE9BQU9FLFFBQVEsZ0JBQWlCLE1BQzVDNmIsR0FBTzdSLEtBQUttUyxXQUFXakYsRUFBSyxDQUMxQnhGLEtBQU0rSCxFQUFZMkMsUUFBUTFLLEdBQzFCeEMsTUFBT3VLLEVBQVkyQyxRQUFRbE4sS0FFN0JsRixLQUFLOFIsUUFBUyxPQUtoQixJQUFLNUUsRUFBTWxOLEtBQUtpTSxNQUFNa0QsUUFBUXhCLEtBQUtaLE1BQzNCRyxFQUFNbE4sS0FBS2lNLE1BQU1tRCxPQUFPekIsS0FBS1osSUFEckMsQ0FLRSxHQUhBQSxFQUFNQSxFQUFJdEwsVUFBVXlMLEVBQUksR0FBR2xaLFFBQzNCa2IsR0FBUWhDLEVBQUksSUFBTUEsRUFBSSxJQUFJbFgsUUFBUSxPQUFRLE9BQzFDa1osRUFBT2xQLEtBQUsrTCxNQUFNbUQsRUFBS3BRLGtCQUNUb1EsRUFBS3hILEtBQU0sQ0FDdkJtSyxHQUFPM0UsRUFBSSxHQUFHL0UsT0FBTyxHQUNyQjRFLEVBQU1HLEVBQUksR0FBR3pMLFVBQVUsR0FBS3NMLEVBQzVCLFNBRUYvTSxLQUFLOFIsUUFBUyxFQUNkRCxHQUFPN1IsS0FBS21TLFdBQVdqRixFQUFLZ0MsR0FDNUJsUCxLQUFLOFIsUUFBUyxPQUtoQixHQUFJNUUsRUFBTWxOLEtBQUtpTSxNQUFNb0QsT0FBTzFCLEtBQUtaLEdBQy9CQSxFQUFNQSxFQUFJdEwsVUFBVXlMLEVBQUksR0FBR2xaLFFBQzNCNmQsR0FBTzdSLEtBQUswUCxTQUFTTCxPQUFPclAsS0FBSzRJLE9BQU9zRSxFQUFJLElBQU1BLEVBQUksSUFBTUEsRUFBSSxJQUFNQSxFQUFJLFVBSzVFLEdBQUlBLEVBQU1sTixLQUFLaU0sTUFBTXFELEdBQUczQixLQUFLWixHQUMzQkEsRUFBTUEsRUFBSXRMLFVBQVV5TCxFQUFJLEdBQUdsWixRQUMzQjZkLEdBQU83UixLQUFLMFAsU0FBU0osR0FBR3RQLEtBQUs0SSxPQUFPc0UsRUFBSSxJQUFNQSxFQUFJLElBQU1BLEVBQUksSUFBTUEsRUFBSSxJQUFNQSxFQUFJLElBQU1BLEVBQUksVUFLNUYsR0FBSUEsRUFBTWxOLEtBQUtpTSxNQUFNdE0sS0FBS2dPLEtBQUtaLEdBQzdCQSxFQUFNQSxFQUFJdEwsVUFBVXlMLEVBQUksR0FBR2xaLFFBQzNCNmQsR0FBTzdSLEtBQUswUCxTQUFTMkMsU0FBU3RELEVBQU83QixFQUFJLEdBQUdwWCxRQUFRLFNBS3RELEdBQUlvWCxFQUFNbE4sS0FBS2lNLE1BQU1zRCxHQUFHNUIsS0FBS1osR0FDM0JBLEVBQU1BLEVBQUl0TCxVQUFVeUwsRUFBSSxHQUFHbFosUUFDM0I2ZCxHQUFPN1IsS0FBSzBQLFNBQVNILFVBS3ZCLEdBQUlyQyxFQUFNbE4sS0FBS2lNLE1BQU11RCxJQUFJN0IsS0FBS1osR0FDNUJBLEVBQU1BLEVBQUl0TCxVQUFVeUwsRUFBSSxHQUFHbFosUUFDM0I2ZCxHQUFPN1IsS0FBSzBQLFNBQVNGLElBQUl4UCxLQUFLNEksT0FBT3NFLEVBQUksVUFLM0MsR0FBSUEsRUFBTWxOLEtBQUtpTSxNQUFNZ0QsU0FBU3RCLEtBQUtaLEdBQ2pDQSxFQUFNQSxFQUFJdEwsVUFBVXlMLEVBQUksR0FBR2xaLFFBR3pCMFQsRUFGYSxNQUFYd0YsRUFBSSxHQUVDLFdBRFB0QixFQUFPbUQsRUFBTy9PLEtBQUtzUyxPQUFPcEYsRUFBSSxNQUc5QnRCLEVBQU9tRCxFQUFPN0IsRUFBSSxJQUdwQjJFLEdBQU83UixLQUFLMFAsU0FBU1IsS0FBS3hILEVBQU0sS0FBTWtFLFFBS3hDLEdBQUs1TCxLQUFLOFIsVUFBVzVFLEVBQU1sTixLQUFLaU0sTUFBTTNPLElBQUlxUSxLQUFLWixLQXVCL0MsR0FBSUcsRUFBTWxOLEtBQUtpTSxNQUFNTCxLQUFLK0IsS0FBS1osR0FDN0JBLEVBQU1BLEVBQUl0TCxVQUFVeUwsRUFBSSxHQUFHbFosUUFDdkJnTSxLQUFLK1IsV0FDUEYsR0FBTzdSLEtBQUswUCxTQUFTOUQsS0FBSzVMLEtBQUtoRSxRQUFRNFMsU0FBWTVPLEtBQUtoRSxRQUFROFMsVUFBWTlPLEtBQUtoRSxRQUFROFMsVUFBVTVCLEVBQUksSUFBTTZCLEVBQU83QixFQUFJLElBQU9BLEVBQUksSUFFbkkyRSxHQUFPN1IsS0FBSzBQLFNBQVM5RCxLQUFLbUQsRUFBTy9PLEtBQUt1UyxZQUFZckYsRUFBSSxXQUsxRCxHQUFJSCxFQUNGLE1BQU0sSUFBSWxOLE1BQU0sMEJBQTRCa04sRUFBSWpFLFdBQVcsUUFsQzdELENBQ0UsR0FBZSxNQUFYb0UsRUFBSSxHQUVOeEYsRUFBTyxXQURQa0UsRUFBT21ELEVBQU83QixFQUFJLFNBRWIsQ0FFTCxHQUNFMEUsRUFBYzFFLEVBQUksR0FDbEJBLEVBQUksR0FBS2xOLEtBQUtpTSxNQUFNMEYsV0FBV2hFLEtBQUtULEVBQUksSUFBSSxTQUNyQzBFLElBQWdCMUUsRUFBSSxJQUM3QnRCLEVBQU9tRCxFQUFPN0IsRUFBSSxJQUVoQnhGLEVBRGEsU0FBWHdGLEVBQUksR0FDQyxVQUFZdEIsRUFFWkEsRUFHWG1CLEVBQU1BLEVBQUl0TCxVQUFVeUwsRUFBSSxHQUFHbFosUUFDM0I2ZCxHQUFPN1IsS0FBSzBQLFNBQVNSLEtBQUt4SCxFQUFNLEtBQU1rRSxHQW9CMUMsT0FBT2lHLEdBR1RwQyxFQUFZMkMsUUFBVSxTQUFTeEcsR0FDN0IsT0FBT0EsRUFBT0EsRUFBSzVWLFFBQVF5WixFQUFZeEQsTUFBTW9GLFNBQVUsTUFBUXpGLEdBT2pFNkQsRUFBWXZjLFVBQVVpZixXQUFhLFNBQVNqRixFQUFLZ0MsR0FDL0MsSUFBSXhILEVBQU93SCxFQUFLeEgsS0FDWnhDLEVBQVFnSyxFQUFLaEssTUFBUTZKLEVBQU9HLEVBQUtoSyxPQUFTLEtBRTlDLE1BQTRCLE1BQXJCZ0ksRUFBSSxHQUFHL0UsT0FBTyxHQUNqQm5JLEtBQUswUCxTQUFTUixLQUFLeEgsRUFBTXhDLEVBQU9sRixLQUFLNEksT0FBT3NFLEVBQUksS0FDaERsTixLQUFLMFAsU0FBUzhDLE1BQU05SyxFQUFNeEMsRUFBTzZKLEVBQU83QixFQUFJLE1BT2xEdUMsRUFBWXZjLFVBQVVxZixZQUFjLFNBQVMzRyxHQUMzQyxPQUFLNUwsS0FBS2hFLFFBQVF1VyxZQUNYM0csRUFFSjVWLFFBQVEsT0FBUSxLQUVoQkEsUUFBUSxNQUFPLEtBRWZBLFFBQVEsMkJBQTJCLE9BRW5DQSxRQUFRLEtBQU0sS0FFZEEsUUFBUSxnQ0FBZ0MsT0FFeENBLFFBQVEsS0FBTSxLQUVkQSxRQUFRLFNBQVUsS0FmaUI0VixHQXNCeEM2RCxFQUFZdmMsVUFBVW9mLE9BQVMsU0FBUzFHLEdBQ3RDLElBQUs1TCxLQUFLaEUsUUFBUXNXLE9BQVEsT0FBTzFHLEVBTWpDLElBTEEsSUFHSXdFLEVBSEF5QixFQUFNLEdBQ050Z0IsRUFBSXFhLEVBQUs1WCxPQUNUMUMsRUFBSSxFQUdEQSxFQUFJQyxFQUFHRCxJQUNaOGUsRUFBS3hFLEVBQUs5QyxXQUFXeFgsR0FDakJpSyxLQUFLa1gsU0FBVyxLQUNsQnJDLEVBQUssSUFBTUEsRUFBRzVjLFNBQVMsS0FFekJxZSxHQUFPLEtBQU96QixFQUFLLElBR3JCLE9BQU95QixHQVdUbEMsRUFBU3pjLFVBQVV5TSxLQUFPLFNBQVNBLEVBQU0rUyxFQUFZQyxHQUNuRCxJQUFJMUUsR0FBUXlFLEdBQWMsSUFBSW5KLE1BQU0sT0FBTyxHQUMzQyxHQUFJdkosS0FBS2hFLFFBQVE0VyxVQUFXLENBQzFCLElBQUlmLEVBQU03UixLQUFLaEUsUUFBUTRXLFVBQVVqVCxFQUFNc08sR0FDNUIsTUFBUDRELEdBQWVBLElBQVFsUyxJQUN6QmdULEdBQVUsRUFDVmhULEVBQU9rUyxHQUlYLE9BQUs1RCxFQU1FLHFCQUNIak8sS0FBS2hFLFFBQVE2VyxXQUNiOUQsRUFBT2QsR0FBTSxHQUNiLE1BQ0MwRSxFQUFVaFQsRUFBT29QLEVBQU9wUCxHQUFNLElBQy9CLGtCQVZLLGVBQ0ZnVCxFQUFVaFQsRUFBT29QLEVBQU9wUCxHQUFNLElBQy9CLGlCQVdSZ1EsRUFBU3pjLFVBQVVrWSxXQUFhLFNBQVMwSCxHQUN2QyxNQUFPLGlCQUFtQkEsRUFBUSxtQkFHcENuRCxFQUFTemMsVUFBVW9ZLEtBQU8sU0FBU0EsR0FDakMsT0FBT0EsR0FHVHFFLEVBQVN6YyxVQUFVaVksUUFBVSxTQUFTUyxFQUFNbUgsRUFBT0MsRUFBS2pELEdBQ3RELE9BQUkvUCxLQUFLaEUsUUFBUWlYLFVBQ1IsS0FDSEYsRUFDQSxRQUNBL1MsS0FBS2hFLFFBQVFrWCxhQUNibkQsRUFBUW9ELEtBQUtILEdBQ2IsS0FDQXBILEVBQ0EsTUFDQW1ILEVBQ0EsTUFHQyxLQUFPQSxFQUFRLElBQU1uSCxFQUFPLE1BQVFtSCxFQUFRLE9BR3JEcEQsRUFBU3pjLFVBQVVnWSxHQUFLLFdBQ3RCLE9BQU9sTCxLQUFLaEUsUUFBUW9YLE1BQVEsVUFBWSxVQUcxQ3pELEVBQVN6YyxVQUFVbVksS0FBTyxTQUFTdkssRUFBTXlOLEVBQVNDLEdBQ2hELElBQUlaLEVBQU9XLEVBQVUsS0FBTyxLQUU1QixNQUFPLElBQU1YLEdBREdXLEdBQXFCLElBQVZDLEVBQWdCLFdBQWFBLEVBQVEsSUFBTyxJQUN4QyxNQUFRMU4sRUFBTyxLQUFPOE0sRUFBTyxPQUc5RCtCLEVBQVN6YyxVQUFVbWdCLFNBQVcsU0FBU3pILEdBQ3JDLE1BQU8sT0FBU0EsRUFBTyxXQUd6QitELEVBQVN6YyxVQUFVb2dCLFNBQVcsU0FBUzNFLEdBQ3JDLE1BQU8sV0FDRkEsRUFBVSxjQUFnQixJQUMzQiwrQkFDQzNPLEtBQUtoRSxRQUFRb1gsTUFBUSxLQUFPLElBQzdCLE1BR056RCxFQUFTemMsVUFBVTJaLFVBQVksU0FBU2pCLEdBQ3RDLE1BQU8sTUFBUUEsRUFBTyxVQUd4QitELEVBQVN6YyxVQUFVdVksTUFBUSxTQUFTMEMsRUFBUXJOLEdBRzFDLE9BRklBLElBQU1BLEVBQU8sVUFBWUEsRUFBTyxZQUU3QixxQkFFSHFOLEVBQ0EsYUFDQXJOLEVBQ0EsY0FHTjZPLEVBQVN6YyxVQUFVcWdCLFNBQVcsU0FBU0MsR0FDckMsTUFBTyxTQUFXQSxFQUFVLFdBRzlCN0QsRUFBU3pjLFVBQVV1Z0IsVUFBWSxTQUFTRCxFQUFTRSxHQUMvQyxJQUFJOUYsRUFBTzhGLEVBQU12RixPQUFTLEtBQU8sS0FJakMsT0FIVXVGLEVBQU1yRixNQUNaLElBQU1ULEVBQU8sV0FBYThGLEVBQU1yRixNQUFRLEtBQ3hDLElBQU1ULEVBQU8sS0FDSjRGLEVBQVUsS0FBTzVGLEVBQU8sT0FJdkMrQixFQUFTemMsVUFBVW1jLE9BQVMsU0FBU3pELEdBQ25DLE1BQU8sV0FBYUEsRUFBTyxhQUc3QitELEVBQVN6YyxVQUFVb2MsR0FBSyxTQUFTMUQsR0FDL0IsTUFBTyxPQUFTQSxFQUFPLFNBR3pCK0QsRUFBU3pjLFVBQVVtZixTQUFXLFNBQVN6RyxHQUNyQyxNQUFPLFNBQVdBLEVBQU8sV0FHM0IrRCxFQUFTemMsVUFBVXFjLEdBQUssV0FDdEIsT0FBT3ZQLEtBQUtoRSxRQUFRb1gsTUFBUSxRQUFVLFFBR3hDekQsRUFBU3pjLFVBQVVzYyxJQUFNLFNBQVM1RCxHQUNoQyxNQUFPLFFBQVVBLEVBQU8sVUFHMUIrRCxFQUFTemMsVUFBVWdjLEtBQU8sU0FBU3hILEVBQU14QyxFQUFPMEcsR0FFOUMsR0FBYSxRQURibEUsRUFBT21KLEVBQVM3USxLQUFLaEUsUUFBUTRTLFNBQVU1TyxLQUFLaEUsUUFBUTJYLFFBQVNqTSxJQUUzRCxPQUFPa0UsRUFFVCxJQUFJaUcsRUFBTSxZQUFjOUMsRUFBT3JILEdBQVEsSUFLdkMsT0FKSXhDLElBQ0YyTSxHQUFPLFdBQWEzTSxFQUFRLEtBRTlCMk0sR0FBTyxJQUFNakcsRUFBTyxRQUl0QitELEVBQVN6YyxVQUFVc2YsTUFBUSxTQUFTOUssRUFBTXhDLEVBQU8wRyxHQUUvQyxHQUFhLFFBRGJsRSxFQUFPbUosRUFBUzdRLEtBQUtoRSxRQUFRNFMsU0FBVTVPLEtBQUtoRSxRQUFRMlgsUUFBU2pNLElBRTNELE9BQU9rRSxFQUdULElBQUlpRyxFQUFNLGFBQWVuSyxFQUFPLFVBQVlrRSxFQUFPLElBS25ELE9BSkkxRyxJQUNGMk0sR0FBTyxXQUFhM00sRUFBUSxLQUU5QjJNLEdBQU83UixLQUFLaEUsUUFBUW9YLE1BQVEsS0FBTyxLQUlyQ3pELEVBQVN6YyxVQUFVMFksS0FBTyxTQUFTQSxHQUNqQyxPQUFPQSxHQVlUaUUsRUFBYTNjLFVBQVVtYyxPQUN2QlEsRUFBYTNjLFVBQVVvYyxHQUN2Qk8sRUFBYTNjLFVBQVVtZixTQUN2QnhDLEVBQWEzYyxVQUFVc2MsSUFDdkJLLEVBQWEzYyxVQUFVMFksS0FBTyxTQUFTQSxHQUNyQyxPQUFPQSxHQUdUaUUsRUFBYTNjLFVBQVVnYyxLQUN2QlcsRUFBYTNjLFVBQVVzZixNQUFRLFNBQVM5SyxFQUFNeEMsRUFBTzBHLEdBQ25ELE1BQU8sR0FBS0EsR0FHZGlFLEVBQWEzYyxVQUFVcWMsR0FBSyxXQUMxQixNQUFPLElBcUJUTyxFQUFPOVksTUFBUSxTQUFTK1YsRUFBSy9RLEdBRTNCLE9BRGEsSUFBSThULEVBQU85VCxHQUNWaEYsTUFBTStWLElBT3RCK0MsRUFBTzVjLFVBQVU4RCxNQUFRLFNBQVMrVixHQUNoQy9NLEtBQUtnUCxPQUFTLElBQUlTLEVBQVkxQyxFQUFJaEIsTUFBTy9MLEtBQUtoRSxTQUU5Q2dFLEtBQUs0VCxXQUFhLElBQUluRSxFQUNwQjFDLEVBQUloQixNQUNKelcsRUFBTSxHQUFJMEssS0FBS2hFLFFBQVMsQ0FBRTBULFNBQVUsSUFBSUcsS0FFMUM3UCxLQUFLOEwsT0FBU2lCLEVBQUk4RyxVQUdsQixJQURBLElBQUloQyxFQUFNLEdBQ0g3UixLQUFLZ04sUUFDVjZFLEdBQU83UixLQUFLOFQsTUFHZCxPQUFPakMsR0FPVC9CLEVBQU81YyxVQUFVOFosS0FBTyxXQUV0QixPQURBaE4sS0FBSzRLLE1BQVE1SyxLQUFLOEwsT0FBT2lJLE1BQ2xCL1QsS0FBSzRLLE9BT2RrRixFQUFPNWMsVUFBVThnQixLQUFPLFdBQ3RCLE9BQU9oVSxLQUFLOEwsT0FBTzlMLEtBQUs4TCxPQUFPOVgsT0FBUyxJQUFNLEdBT2hEOGIsRUFBTzVjLFVBQVUrZ0IsVUFBWSxXQUczQixJQUZBLElBQUluVCxFQUFPZCxLQUFLNEssTUFBTWdCLEtBRU0sU0FBckI1TCxLQUFLZ1UsT0FBT3BHLE1BQ2pCOU0sR0FBUSxLQUFPZCxLQUFLZ04sT0FBT3BCLEtBRzdCLE9BQU81TCxLQUFLZ1AsT0FBT3BHLE9BQU85SCxJQU81QmdQLEVBQU81YyxVQUFVNGdCLElBQU0sV0FDckIsT0FBUTlULEtBQUs0SyxNQUFNZ0QsTUFDakIsSUFBSyxRQUNILE1BQU8sR0FFVCxJQUFLLEtBQ0gsT0FBTzVOLEtBQUswUCxTQUFTeEUsS0FFdkIsSUFBSyxVQUNILE9BQU9sTCxLQUFLMFAsU0FBU3ZFLFFBQ25CbkwsS0FBS2dQLE9BQU9wRyxPQUFPNUksS0FBSzRLLE1BQU1nQixNQUM5QjVMLEtBQUs0SyxNQUFNc0QsTUFDWHNDLEVBQVN4USxLQUFLNFQsV0FBV2hMLE9BQU81SSxLQUFLNEssTUFBTWdCLE9BQzNDNUwsS0FBSytQLFNBRVQsSUFBSyxPQUNILE9BQU8vUCxLQUFLMFAsU0FBUy9QLEtBQUtLLEtBQUs0SyxNQUFNZ0IsS0FDbkM1TCxLQUFLNEssTUFBTXFELEtBQ1hqTyxLQUFLNEssTUFBTStILFNBRWYsSUFBSyxRQUNILElBRUlyaEIsRUFDQTRpQixFQUNBQyxFQUNBQyxFQUxBakcsRUFBUyxHQUNUck4sRUFBTyxHQVFYLElBREFxVCxFQUFPLEdBQ0Y3aUIsRUFBSSxFQUFHQSxFQUFJME8sS0FBSzRLLE1BQU11RCxPQUFPbmEsT0FBUTFDLElBQ3hDNmlCLEdBQVFuVSxLQUFLMFAsU0FBUytELFVBQ3BCelQsS0FBS2dQLE9BQU9wRyxPQUFPNUksS0FBSzRLLE1BQU11RCxPQUFPN2MsSUFDckMsQ0FBRTZjLFFBQVEsRUFBTUUsTUFBT3JPLEtBQUs0SyxNQUFNeUQsTUFBTS9jLEtBSzVDLElBRkE2YyxHQUFVbk8sS0FBSzBQLFNBQVM2RCxTQUFTWSxHQUU1QjdpQixFQUFJLEVBQUdBLEVBQUkwTyxLQUFLNEssTUFBTTBELE1BQU10YSxPQUFRMUMsSUFBSyxDQUk1QyxJQUhBNGlCLEVBQU1sVSxLQUFLNEssTUFBTTBELE1BQU1oZCxHQUV2QjZpQixFQUFPLEdBQ0ZDLEVBQUksRUFBR0EsRUFBSUYsRUFBSWxnQixPQUFRb2dCLElBQzFCRCxHQUFRblUsS0FBSzBQLFNBQVMrRCxVQUNwQnpULEtBQUtnUCxPQUFPcEcsT0FBT3NMLEVBQUlFLElBQ3ZCLENBQUVqRyxRQUFRLEVBQU9FLE1BQU9yTyxLQUFLNEssTUFBTXlELE1BQU0rRixLQUk3Q3RULEdBQVFkLEtBQUswUCxTQUFTNkQsU0FBU1ksR0FFakMsT0FBT25VLEtBQUswUCxTQUFTakUsTUFBTTBDLEVBQVFyTixHQUVyQyxJQUFLLG1CQUdILElBRkFBLEVBQU8sR0FFcUIsbUJBQXJCZCxLQUFLZ04sT0FBT1ksTUFDakI5TSxHQUFRZCxLQUFLOFQsTUFHZixPQUFPOVQsS0FBSzBQLFNBQVN0RSxXQUFXdEssR0FFbEMsSUFBSyxhQUNIQSxFQUFPLEdBSVAsSUFIQSxJQUFJeU4sRUFBVXZPLEtBQUs0SyxNQUFNMkQsUUFDckJDLEVBQVF4TyxLQUFLNEssTUFBTTRELE1BRUssYUFBckJ4TyxLQUFLZ04sT0FBT1ksTUFDakI5TSxHQUFRZCxLQUFLOFQsTUFHZixPQUFPOVQsS0FBSzBQLFNBQVNyRSxLQUFLdkssRUFBTXlOLEVBQVNDLEdBRTNDLElBQUssa0JBQ0gxTixFQUFPLEdBQ1AsSUFBSW1NLEVBQVFqTixLQUFLNEssTUFBTXFDLE1BQ25CMEIsRUFBVTNPLEtBQUs0SyxNQUFNK0QsUUFDckJELEVBQU8xTyxLQUFLNEssTUFBTThELEtBTXRCLElBSkkxTyxLQUFLNEssTUFBTThELE9BQ2I1TixHQUFRZCxLQUFLMFAsU0FBUzRELFNBQVMzRSxJQUdMLGtCQUFyQjNPLEtBQUtnTixPQUFPWSxNQUNqQjlNLEdBQVNtTSxHQUE2QixTQUFwQmpOLEtBQUs0SyxNQUFNZ0QsS0FFekI1TixLQUFLOFQsTUFETDlULEtBQUtpVSxZQUdYLE9BQU9qVSxLQUFLMFAsU0FBUzJELFNBQVN2UyxFQUFNNE4sRUFBTUMsR0FFNUMsSUFBSyxPQUVILE9BQU8zTyxLQUFLMFAsU0FBU3BFLEtBQUt0TCxLQUFLNEssTUFBTWdCLE1BRXZDLElBQUssWUFDSCxPQUFPNUwsS0FBSzBQLFNBQVM3QyxVQUFVN00sS0FBS2dQLE9BQU9wRyxPQUFPNUksS0FBSzRLLE1BQU1nQixPQUUvRCxJQUFLLE9BQ0gsT0FBTzVMLEtBQUswUCxTQUFTN0MsVUFBVTdNLEtBQUtpVSxhQUV0QyxRQUNFLElBQUlJLEVBQVMsZUFBaUJyVSxLQUFLNEssTUFBTWdELEtBQU8sd0JBQ2hELElBQUk1TixLQUFLaEUsUUFBUXNZLE9BR2YsTUFBTSxJQUFJelUsTUFBTXdVLEdBRmhCRSxRQUFRQyxJQUFJSCxLQW9CcEJyRSxFQUFROWMsVUFBVWlnQixLQUFPLFNBQVM1Z0IsR0FDaEMsSUFBSTRnQixFQUFPNWdCLEVBQ1J1TSxjQUNBaEosT0FDQUUsUUFBUSxpRUFBaUUsSUFDekVBLFFBQVEsTUFBTyxLQUVsQixHQUFJZ0ssS0FBS2lRLEtBQUs5YyxlQUFlZ2dCLEdBQU8sQ0FDbEMsSUFBSXNCLEVBQWV0QixFQUNuQixHQUNFblQsS0FBS2lRLEtBQUt3RSxLQUNWdEIsRUFBT3NCLEVBQWUsSUFBTXpVLEtBQUtpUSxLQUFLd0UsU0FDL0J6VSxLQUFLaVEsS0FBSzljLGVBQWVnZ0IsSUFJcEMsT0FGQW5ULEtBQUtpUSxLQUFLa0QsR0FBUSxFQUVYQSxHQXFCVHBFLEVBQU9tQixXQUFhLFVBQ3BCbkIsRUFBT29CLGNBQWdCLFdBQ3ZCcEIsRUFBT3NCLGFBQWUsQ0FDcEJxRSxJQUFLLFFBQ0xDLElBQUssT0FDTEMsSUFBSyxPQUNMQyxJQUFLLFNBQ0xDLElBQUssU0FHUC9GLEVBQU91QixtQkFBcUIscUJBQzVCdkIsRUFBT3dCLHNCQUF3QixzQkE2RS9CLElBQUlVLEVBQVcsR0FDWEQsRUFBdUIsZ0NBRTNCLFNBQVNoTSxLQUdULFNBQVMxUCxFQUFNeEIsR0FLYixJQUpBLElBQ0lpaEIsRUFDQWxpQixFQUZBdkIsRUFBSSxFQUlEQSxFQUFJbUUsVUFBVXpCLE9BQVExQyxJQUUzQixJQUFLdUIsS0FETGtpQixFQUFTdGYsVUFBVW5FLEdBRWJVLE9BQU9rQixVQUFVQyxlQUFlMUIsS0FBS3NqQixFQUFRbGlCLEtBQy9DaUIsRUFBSWpCLEdBQU9raUIsRUFBT2xpQixJQUt4QixPQUFPaUIsRUFHVCxTQUFTc2EsRUFBVzRHLEVBQVVDLEdBRzVCLElBYUkzRyxFQWJNMEcsRUFBU2hmLFFBQVEsTUFBTyxTQUFTdVQsRUFBTzJMLEVBQVFuZixHQUdwRCxJQUZBLElBQUk0YyxHQUFVLEVBQ1Z3QyxFQUFPRCxJQUNGQyxHQUFRLEdBQW1CLE9BQWRwZixFQUFJb2YsSUFBZ0J4QyxHQUFXQSxFQUNyRCxPQUFJQSxFQUdLLElBR0EsT0FHQzFMLE1BQU0sT0FDbEIzVixFQUFJLEVBRVIsR0FBSWdkLEVBQU10YSxPQUFTaWhCLEVBQ2pCM0csRUFBTTdWLE9BQU93YyxRQUViLEtBQU8zRyxFQUFNdGEsT0FBU2loQixHQUFPM0csRUFBTWhXLEtBQUssSUFHMUMsS0FBT2hILEVBQUlnZCxFQUFNdGEsT0FBUTFDLElBRXZCZ2QsRUFBTWhkLEdBQUtnZCxFQUFNaGQsR0FBR3dFLE9BQU9FLFFBQVEsUUFBUyxLQUU5QyxPQUFPc1ksRUFNVCxTQUFTTixFQUFNalksRUFBS3BFLEVBQUd5akIsR0FDckIsR0FBbUIsSUFBZnJmLEVBQUkvQixPQUNOLE1BQU8sR0FPVCxJQUhBLElBQUlxaEIsRUFBVSxFQUdQQSxFQUFVdGYsRUFBSS9CLFFBQVEsQ0FDM0IsSUFBSXNoQixFQUFXdmYsRUFBSW9TLE9BQU9wUyxFQUFJL0IsT0FBU3FoQixFQUFVLEdBQ2pELEdBQUlDLElBQWEzakIsR0FBTXlqQixFQUVoQixJQUFJRSxJQUFhM2pCLElBQUt5akIsRUFHM0IsTUFGQUMsU0FGQUEsSUFRSixPQUFPdGYsRUFBSW9SLE9BQU8sRUFBR3BSLEVBQUkvQixPQUFTcWhCLEdBR3BDLFNBQVNwRCxFQUFtQmxjLEVBQUtILEdBQy9CLElBQTJCLElBQXZCRyxFQUFJcUMsUUFBUXhDLEVBQUUsSUFDaEIsT0FBUSxFQUdWLElBREEsSUFBSW1kLEVBQVEsRUFDSHpoQixFQUFJLEVBQUdBLEVBQUl5RSxFQUFJL0IsT0FBUTFDLElBQzlCLEdBQWUsT0FBWHlFLEVBQUl6RSxHQUNOQSxTQUNLLEdBQUl5RSxFQUFJekUsS0FBT3NFLEVBQUUsR0FDdEJtZCxTQUNLLEdBQUloZCxFQUFJekUsS0FBT3NFLEVBQUUsTUFDdEJtZCxFQUNZLEVBQ1YsT0FBT3poQixFQUliLE9BQVEsRUFHVixTQUFTaWtCLEVBQXlCM0UsR0FDNUJBLEdBQU9BLEVBQUloQyxXQUFhZ0MsRUFBSTBELFFBQzlCQyxRQUFRaUIsS0FBSywyTUFRakIsU0FBU3hKLEVBQU9lLEVBQUs2RCxFQUFLOUYsR0FFeEIsR0FBSSxNQUFPaUMsRUFDVCxNQUFNLElBQUlsTixNQUFNLGtEQUVsQixHQUFtQixpQkFBUmtOLEVBQ1QsTUFBTSxJQUFJbE4sTUFBTSx3Q0FDWjdOLE9BQU9rQixVQUFVTSxTQUFTL0IsS0FBS3NiLEdBQU8scUJBRzVDLEdBQUlqQyxHQUEyQixtQkFBUjhGLEVBQXZCLENBQ085RixJQUNIQSxFQUFXOEYsRUFDWEEsRUFBTSxNQUlSMkUsRUFEQTNFLEVBQU10YixFQUFNLEdBQUkwVyxFQUFPdlYsU0FBVW1hLEdBQU8sS0FHeEMsSUFDSTlFLEVBQ0EySixFQUZBN0MsRUFBWWhDLEVBQUlnQyxVQUdoQnRoQixFQUFJLEVBRVIsSUFDRXdhLEVBQVNELEVBQU1pQixJQUFJQyxFQUFLNkQsR0FDeEIsTUFBTzNaLEdBQ1AsT0FBTzZULEVBQVM3VCxHQUdsQndlLEVBQVUzSixFQUFPOVgsT0FFakIsSUFBSTBoQixFQUFPLFNBQVM3WixHQUNsQixHQUFJQSxFQUVGLE9BREErVSxFQUFJZ0MsVUFBWUEsRUFDVDlILEVBQVNqUCxHQUdsQixJQUFJZ1csRUFFSixJQUNFQSxFQUFNL0IsRUFBTzlZLE1BQU04VSxFQUFROEUsR0FDM0IsTUFBTzNaLEdBQ1A0RSxFQUFNNUUsRUFLUixPQUZBMlosRUFBSWdDLFVBQVlBLEVBRVQvVyxFQUNIaVAsRUFBU2pQLEdBQ1RpUCxFQUFTLEtBQU0rRyxJQUdyQixJQUFLZSxHQUFhQSxFQUFVNWUsT0FBUyxFQUNuQyxPQUFPMGhCLElBS1QsVUFGTzlFLEVBQUlnQyxXQUVONkMsRUFBUyxPQUFPQyxJQUVyQixLQUFPcGtCLEVBQUl3YSxFQUFPOVgsT0FBUTFDLEtBQ3hCLFNBQVVzWixHQUNXLFNBQWZBLEVBQU1nRCxPQUNDNkgsR0FBV0MsSUFFZjlDLEVBQVVoSSxFQUFNZ0IsS0FBTWhCLEVBQU1xRCxLQUFNLFNBQVNwUyxFQUFLOEQsR0FDckQsT0FBSTlELEVBQVk2WixFQUFLN1osR0FDVCxNQUFSOEQsR0FBZ0JBLElBQVNpTCxFQUFNZ0IsT0FDeEI2SixHQUFXQyxLQUV0QjlLLEVBQU1nQixLQUFPak0sRUFDYmlMLEVBQU0rSCxTQUFVLFNBQ2Q4QyxHQUFXQyxRQVhqQixDQWFHNUosRUFBT3hhLFNBS2QsSUFHRSxPQUZJc2YsSUFBS0EsRUFBTXRiLEVBQU0sR0FBSTBXLEVBQU92VixTQUFVbWEsSUFDMUMyRSxFQUF5QjNFLEdBQ2xCZCxFQUFPOVksTUFBTTZVLEVBQU1pQixJQUFJQyxFQUFLNkQsR0FBTUEsR0FDekMsTUFBTzNaLEdBRVAsR0FEQUEsRUFBRXlJLFNBQVcsK0RBQ1JrUixHQUFPNUUsRUFBT3ZWLFVBQVU2ZCxPQUMzQixNQUFPLGlDQUNIdkYsRUFBTzlYLEVBQUV5SSxRQUFVLElBQUksR0FDdkIsU0FFTixNQUFNekksR0F0TVYrTixFQUFLMkksS0FBTzNJLEVBOE1aZ0gsRUFBT2hRLFFBQ1BnUSxFQUFPMkosV0FBYSxTQUFTL0UsR0FFM0IsT0FEQXRiLEVBQU0wVyxFQUFPdlYsU0FBVW1hLEdBQ2hCNUUsR0FHVEEsRUFBTzRKLFlBQWMsV0FDbkIsTUFBTyxDQUNMakMsUUFBUyxLQUNUL0QsUUFBUSxFQUNSeEQsS0FBSyxFQUNMNkcsV0FBVyxFQUNYQyxhQUFjLEdBQ2ROLFVBQVcsS0FDWEMsV0FBWSxZQUNaUCxRQUFRLEVBQ1JuRyxVQUFVLEVBQ1Z1RCxTQUFVLElBQUlDLEVBQ2RmLFVBQVUsRUFDVkUsVUFBVyxLQUNYd0YsUUFBUSxFQUNSN0YsWUFBWSxFQUNaOEQsYUFBYSxFQUNiYSxPQUFPLElBSVhwSCxFQUFPdlYsU0FBV3VWLEVBQU80SixjQU16QjVKLEVBQU84RCxPQUFTQSxFQUNoQjlELEVBQU82SixPQUFTL0YsRUFBTzlZLE1BRXZCZ1YsRUFBTzJELFNBQVdBLEVBQ2xCM0QsRUFBTzZELGFBQWVBLEVBRXRCN0QsRUFBT0gsTUFBUUEsRUFDZkcsRUFBTzhKLE1BQVFqSyxFQUFNaUIsSUFFckJkLEVBQU95RCxZQUFjQSxFQUNyQnpELEVBQU8rSixZQUFjdEcsRUFBWTdHLE9BRWpDb0QsRUFBT2dFLFFBQVVBLEVBRWpCaEUsRUFBT2hWLE1BQVFnVixFQUdiamIsRUFBT0QsUUFBVWtiLEVBM3BEbEIsQ0FpcURFaE0sTUFBMkIsb0JBQVg5TyxRQUF5QkEsMENDdnFENUMsSUFBSThrQixFQUdKQSxFQUFLLFdBQ0osT0FBT2hXLEtBREgsR0FJTCxJQUVDZ1csRUFBSUEsR0FBSyxJQUFJQyxTQUFTLGNBQWIsR0FDUixNQUFPaGYsR0FFYyxpQkFBWC9GLFNBQXFCOGtCLEVBQUk5a0IsUUFPckNILEVBQU9ELFFBQVVrbEIsdUNDQ2pCLE1BQU1FLEVBQWEsSUFBSUMsUUErQ1ZDLEVBQXlDQyxJQUNqRCxXQUNDLE1BQU16a0IsRUFBSXlrQixLQUFFNWdCLFdBRVosT0FEQXlnQixFQUFXN2QsSUFBSXpHLEdBQUcsR0FDWEEsSUFHQTBrQixFQUFldmtCLEdBQ04sbUJBQU5BLEdBQW9CbWtCLEVBQVcvZCxJQUFJcEcsR0NsRHRDd2tCLE9BQXlDemUsSUFBMUI1RyxPQUFPc2xCLHFCQUUzQjFlLElBREg1RyxPQUFPc2xCLGVBQXFDQywwQkF3QnBDQyxFQUNULFNBQUNDLEVBQWlCbkksR0FBaUQsSUFBL0JvSSxFQUErQm5oQixVQUFBekIsT0FBQSxRQUFBOEQsSUFBQXJDLFVBQUEsR0FBQUEsVUFBQSxHQUFkLEtBQ25ELEtBQU8rWSxJQUFVb0ksR0FBSyxDQUNwQixNQUFNN2pCLEVBQUl5YixFQUFPcUksWUFDakJGLEVBQVVqVyxZQUFZOE4sR0FDdEJBLEVBQVF6YixJQ1BIK2pCLEVBQVcsR0FLWEMsRUFBVSxHQzdCVm5TLEVBQU0sU0FBQUosT0FBWW1FLE9BQU9wTixLQUFLa1gsVUFBVTFQLE1BQU0sR0FBeEMsTUFNTmlVLEVBQVUsVUFBQXhTLE9BQVVJLEVBQVYsVUFFVnFTLEVBQWMsSUFBSXpOLE9BQUosR0FBQWhGLE9BQWNJLEVBQWQsS0FBQUosT0FBd0J3UyxJQUt0Q0UsRUFBdUIsUUFLOUIsTUFBT0MsRUFJWEMsWUFBWTdoQixFQUF3QitLLEdBSDNCTixLQUFBMkcsTUFBd0IsR0FJL0IzRyxLQUFLTSxRQUFVQSxFQUVmLE1BQU0rVyxFQUF3QixHQUN4QkMsRUFBZ0IsR0FFaEJDLEVBQVNsaUIsU0FBU21pQixpQkFDcEJsWCxFQUFRa1QsUUFDUixJQUNBLE1BQ0EsR0FJSixJQUFJaUUsRUFBZ0IsRUFDaEJqZixHQUFTLEVBQ1RrZixFQUFZLEVBQ2hCLE1BQU1DLFFBQUNBLEVBQVMzZixRQUFRaEUsT0FBQ0EsSUFBV3VCLEVBQ3BDLEtBQU9taUIsRUFBWTFqQixHQUFRLENBQ3pCLE1BQU1rSCxFQUFPcWMsRUFBT0ssV0FDcEIsR0FBYSxPQUFUMWMsR0FVSixHQUZBMUMsSUFFc0IsSUFBbEIwQyxFQUFLMmMsU0FBd0MsQ0FDL0MsR0FBSzNjLEVBQWlCNGMsZ0JBQWlCLENBQ3JDLE1BQU1DLEVBQWM3YyxFQUFpQjZjLFlBQy9CL2pCLE9BQUNBLEdBQVUrakIsRUFNakIsSUFBSTlDLEVBQVEsRUFDWixJQUFLLElBQUkzakIsRUFBSSxFQUFHQSxFQUFJMEMsRUFBUTFDLElBQ3RCMG1CLEVBQVNELEVBQVd6bUIsR0FBR08sS0FBTXFsQixJQUMvQmpDLElBR0osS0FBT0EsS0FBVSxHQUFHLENBR2xCLE1BQU1nRCxFQUFnQk4sRUFBUUQsR0FFeEI3bEIsRUFBT3FtQixFQUF1QnZLLEtBQUtzSyxHQUFnQixHQU1uREUsRUFDRnRtQixFQUFLaU4sY0FBZ0JvWSxFQUNuQmtCLEVBQ0RsZCxFQUFpQm1kLGFBQWFGLEdBQ2xDamQsRUFBaUJvZCxnQkFBZ0JILEdBQ2xDLE1BQU1JLEVBQVVILEVBQWVuUixNQUFNZ1EsR0FDckNqWCxLQUFLMkcsTUFBTXJPLEtBQUssQ0FBQ3NWLEtBQU0sWUFBYXBWLFFBQU8zRyxPQUFNOGxCLFFBQVNZLElBQzFEYixHQUFhYSxFQUFRdmtCLE9BQVMsR0FHQSxhQUE3QmtILEVBQWlCc2QsVUFDcEJsQixFQUFNaGYsS0FBSzRDLEdBQ1hxYyxFQUFPa0IsWUFBZXZkLEVBQTZCc1ksY0FFaEQsR0FBc0IsSUFBbEJ0WSxFQUFLMmMsU0FBcUMsQ0FDbkQsTUFBTWpoQixFQUFRc0UsRUFBY3RFLEtBQzVCLEdBQUlBLEVBQUt3QixRQUFRd00sSUFBVyxFQUFHLENBQzdCLE1BQU04VCxFQUFTeGQsRUFBS0gsV0FDZDRjLEVBQVUvZ0IsRUFBS3FRLE1BQU1nUSxHQUNyQjBCLEVBQVloQixFQUFRM2pCLE9BQVMsRUFHbkMsSUFBSyxJQUFJMUMsRUFBSSxFQUFHQSxFQUFJcW5CLEVBQVdybkIsSUFBSyxDQUNsQyxJQUFJc25CLEVBQ0F2bEIsRUFBSXNrQixFQUFRcm1CLEdBQ2hCLEdBQVUsS0FBTitCLEVBQ0Z1bEIsRUFBU0MsUUFDSixDQUNMLE1BQU10UCxFQUFRMk8sRUFBdUJ2SyxLQUFLdGEsR0FDNUIsT0FBVmtXLEdBQWtCeU8sRUFBU3pPLEVBQU0sR0FBSTJOLEtBQ3ZDN2pCLEVBQUlBLEVBQUUwUCxNQUFNLEVBQUd3RyxFQUFNL1EsT0FBUytRLEVBQU0sR0FDaENBLEVBQU0sR0FBR3hHLE1BQU0sR0FBSW1VLEVBQXFCbGpCLFFBQVV1VixFQUFNLElBRTlEcVAsRUFBU3ZqQixTQUFTeWpCLGVBQWV6bEIsR0FFbkNxbEIsRUFBT0ssYUFBYUgsRUFBUTFkLEdBQzVCOEUsS0FBSzJHLE1BQU1yTyxLQUFLLENBQUNzVixLQUFNLE9BQVFwVixRQUFTQSxJQUlmLEtBQXZCbWYsRUFBUWdCLElBQ1ZELEVBQU9LLGFBQWFGLElBQWdCM2QsR0FDcENtYyxFQUFjL2UsS0FBSzRDLElBRWxCQSxFQUFjdEUsS0FBTytnQixFQUFRZ0IsR0FHaENqQixHQUFhaUIsUUFFVixHQUFzQixJQUFsQnpkLEVBQUsyYyxTQUNkLEdBQUszYyxFQUFpQnRFLE9BQVNnTyxFQUFRLENBQ3JDLE1BQU04VCxFQUFTeGQsRUFBS0gsV0FLUyxPQUF6QkcsRUFBSzhkLGlCQUE0QnhnQixJQUFVaWYsSUFDN0NqZixJQUNBa2dCLEVBQU9LLGFBQWFGLElBQWdCM2QsSUFFdEN1YyxFQUFnQmpmLEVBQ2hCd0gsS0FBSzJHLE1BQU1yTyxLQUFLLENBQUNzVixLQUFNLE9BQVFwVixVQUdOLE9BQXJCMEMsRUFBSzJiLFlBQ04zYixFQUFpQnRFLEtBQU8sSUFFekJ5Z0IsRUFBYy9lLEtBQUs0QyxHQUNuQjFDLEtBRUZrZixRQUNLLENBQ0wsSUFBSXBtQixHQUFLLEVBQ1QsTUFBZ0UsS0FBeERBLEVBQUs0SixFQUFpQnRFLEtBQUt3QixRQUFRd00sRUFBUXRULEVBQUksS0FLckQwTyxLQUFLMkcsTUFBTXJPLEtBQUssQ0FBQ3NWLEtBQU0sT0FBUXBWLE9BQVEsSUFDdkNrZixVQTlHSkgsRUFBT2tCLFlBQWNuQixFQUFNdkQsTUFxSC9CLElBQUssTUFBTWhoQixLQUFLc2tCLEVBQ2R0a0IsRUFBRWdJLFdBQVkyRixZQUFZM04sSUFLaEMsTUFBTWlsQixFQUFXLENBQUNqaUIsRUFBYWtqQixLQUM3QixNQUFNemdCLEVBQVF6QyxFQUFJL0IsT0FBU2lsQixFQUFPamxCLE9BQ2xDLE9BQU93RSxHQUFTLEdBQUt6QyxFQUFJZ04sTUFBTXZLLEtBQVd5Z0IsR0F3Qi9CQyxFQUF3QkMsSUFBdUMsSUFBaEJBLEVBQUszZ0IsTUFJcERxZ0IsRUFBZSxJQUFNeGpCLFNBQVMrakIsY0FBYyxJQTRCNUNsQixFQUNULDhJQ2pPRSxNQUFPbUIsRUFNWGpDLFlBQ0lrQyxFQUFvQkMsRUFDcEJ2ZCxHQVBhZ0UsS0FBQXdaLFFBQWlDLEdBUWhEeFosS0FBS3NaLFNBQVdBLEVBQ2hCdFosS0FBS3VaLFVBQVlBLEVBQ2pCdlosS0FBS2hFLFFBQVVBLEVBR2pCb2IsT0FBT3BmLEdBQ0wsSUFBSTFHLEVBQUksRUFDUixJQUFLLE1BQU02bkIsS0FBUW5aLEtBQUt3WixhQUNUMWhCLElBQVRxaEIsR0FDRkEsRUFBS00sU0FBU3poQixFQUFPMUcsSUFFdkJBLElBRUYsSUFBSyxNQUFNNm5CLEtBQVFuWixLQUFLd1osYUFDVDFoQixJQUFUcWhCLEdBQ0ZBLEVBQUtPLFNBS1h0QyxTQXVDRSxNQUFNdUMsRUFBV3BELEVBQ2J2VyxLQUFLc1osU0FBU2haLFFBQVFrVCxRQUFRb0csV0FBVSxHQUN4Q3ZrQixTQUFTd2tCLFdBQVc3WixLQUFLc1osU0FBU2haLFFBQVFrVCxTQUFTLEdBRWpEOEQsRUFBZ0IsR0FDaEIzUSxFQUFRM0csS0FBS3NaLFNBQVMzUyxNQUV0QjRRLEVBQVNsaUIsU0FBU21pQixpQkFDcEJtQyxFQUNBLElBQ0EsTUFDQSxHQUNKLElBRUlSLEVBRkF6QixFQUFZLEVBQ1pvQyxFQUFZLEVBRVo1ZSxFQUFPcWMsRUFBT0ssV0FFbEIsS0FBT0YsRUFBWS9RLEVBQU0zUyxRQUV2QixHQURBbWxCLEVBQU94UyxFQUFNK1EsR0FDUndCLEVBQXFCQyxHQUExQixDQVNBLEtBQU9XLEVBQVlYLEVBQUszZ0IsT0FDdEJzaEIsSUFDdUIsYUFBbkI1ZSxFQUFNakMsV0FDUnFlLEVBQU1oZixLQUFLNEMsR0FDWHFjLEVBQU9rQixZQUFldmQsRUFBNkJzWSxTQUVsQixRQUE5QnRZLEVBQU9xYyxFQUFPSyxjQUtqQkwsRUFBT2tCLFlBQWNuQixFQUFNdkQsTUFDM0I3WSxFQUFPcWMsRUFBT0ssWUFLbEIsR0FBa0IsU0FBZHVCLEVBQUt2TCxLQUFpQixDQUN4QixNQUFNdUwsRUFBT25aLEtBQUt1WixVQUFVUSxxQkFBcUIvWixLQUFLaEUsU0FDdERtZCxFQUFLYSxnQkFBZ0I5ZSxFQUFNOGQsaUJBQzNCaFosS0FBS3daLFFBQVFsaEIsS0FBSzZnQixRQUVsQm5aLEtBQUt3WixRQUFRbGhCLFFBQVEwSCxLQUFLdVosVUFBVVUsMkJBQ2hDL2UsRUFBaUJpZSxFQUFLdG5CLEtBQU1zbkIsRUFBS3hCLFFBQVMzWCxLQUFLaEUsVUFFckQwYixTQWpDRTFYLEtBQUt3WixRQUFRbGhCLFVBQUtSLEdBQ2xCNGYsSUF1Q0osT0FKSW5CLElBQ0ZsaEIsU0FBUzZrQixVQUFVUCxHQUNuQm5ELGVBQWUyRCxRQUFRUixJQUVsQkEsR0NsSUwsTUFBT1MsRUFNWGhELFlBQ0lPLEVBQStCM2YsRUFDL0I0VixFQUFjMkwsR0FDaEJ2WixLQUFLMlgsUUFBVUEsRUFDZjNYLEtBQUtoSSxPQUFTQSxFQUNkZ0ksS0FBSzROLEtBQU9BLEVBQ1o1TixLQUFLdVosVUFBWUEsRUFNbkJuQyxVQUNFLE1BQU03bEIsRUFBSXlPLEtBQUsyWCxRQUFRM2pCLE9BQVMsRUFDaEMsSUFBSXNYLEVBQU8sR0FDUCtPLEdBQW1CLEVBRXZCLElBQUssSUFBSS9vQixFQUFJLEVBQUdBLEVBQUlDLEVBQUdELElBQUssQ0FDMUIsTUFBTStCLEVBQUkyTSxLQUFLMlgsUUFBUXJtQixHQWtCakJncEIsRUFBY2puQixFQUFFa25CLFlBQVksV0FJbENGLEdBQW9CQyxHQUFlLEdBQUtELEtBQ0csSUFBdkNobkIsRUFBRStFLFFBQVEsU0FBT2tpQixFQUFjLEdBSW5DLE1BQU1FLEVBQWlCdEMsRUFBdUJ2SyxLQUFLdGEsR0FPakRpWSxHQU5xQixPQUFuQmtQLEVBTU1ubkIsR0FBS2duQixFQUFtQnpWLEVBQVNvUyxHQUtqQzNqQixFQUFFOFQsT0FBTyxFQUFHcVQsRUFBZWhpQixPQUFTZ2lCLEVBQWUsR0FDdkRBLEVBQWUsR0FBS3RELEVBQXVCc0QsRUFBZSxHQUMxRDVWLEVBSVIsT0FEQTBHLEdBQVF0TCxLQUFLMlgsUUFBUXBtQixHQUl2QjZsQixxQkFDRSxNQUFNa0MsRUFBV2prQixTQUFTdUwsY0FBYyxZQUV4QyxPQURBMFksRUFBU21CLFVBQVl6YSxLQUFLMGEsVUFDbkJwQixHQ3pFSixNQUFNcUIsRUFBZXBvQixHQUVaLE9BQVZBLEtBQ21CLGlCQUFWQSxHQUF1QyxtQkFBVkEsR0FFL0Jxb0IsRUFBY3JvQixHQUNsQjBKLE1BQU14SSxRQUFRbEIsT0FFZEEsSUFBVUEsRUFBY0YsT0FBT3dvQixXQVFsQyxNQUFPQyxFQU9YMUQsWUFBWTlXLEVBQWtCek8sRUFBYzhsQixHQUY1QzNYLEtBQUErYSxPQUFRLEVBR04vYSxLQUFLTSxRQUFVQSxFQUNmTixLQUFLbk8sS0FBT0EsRUFDWm1PLEtBQUsyWCxRQUFVQSxFQUNmM1gsS0FBSzJHLE1BQVEsR0FDYixJQUFLLElBQUlyVixFQUFJLEVBQUdBLEVBQUlxbUIsRUFBUTNqQixPQUFTLEVBQUcxQyxJQUNyQzBPLEtBQUsyRyxNQUEwQnJWLEdBQUswTyxLQUFLZ2IsY0FPcEM1RCxjQUNSLE9BQU8sSUFBSTZELEVBQWNqYixNQUdqQm9YLFlBQ1IsTUFBTU8sRUFBVTNYLEtBQUsyWCxRQUNmcG1CLEVBQUlvbUIsRUFBUTNqQixPQUFTLEVBQzNCLElBQUk0WCxFQUFPLEdBRVgsSUFBSyxJQUFJdGEsRUFBSSxFQUFHQSxFQUFJQyxFQUFHRCxJQUFLLENBQzFCc2EsR0FBUStMLEVBQVFybUIsR0FDaEIsTUFBTTZuQixFQUFPblosS0FBSzJHLE1BQU1yVixHQUN4QixRQUFhd0csSUFBVHFoQixFQUFvQixDQUN0QixNQUFNdlMsRUFBSXVTLEVBQUs1bUIsTUFDZixHQUFJb29CLEVBQVkvVCxLQUFPZ1UsRUFBV2hVLEdBQ2hDZ0YsR0FBcUIsaUJBQU5oRixFQUFpQkEsRUFBSStCLE9BQU8vQixRQUUzQyxJQUFLLE1BQU1wVSxLQUFLb1UsRUFDZGdGLEdBQXFCLGlCQUFOcFosRUFBaUJBLEVBQUltVyxPQUFPblcsSUFPbkQsT0FEQW9aLEdBQVErTCxFQUFRcG1CLEdBSWxCNmxCLFNBQ01wWCxLQUFLK2EsUUFDUC9hLEtBQUsrYSxPQUFRLEVBQ2IvYSxLQUFLTSxRQUFRcUgsYUFBYTNILEtBQUtuTyxLQUFNbU8sS0FBS2tiLGVBUTFDLE1BQU9ELEVBSVg3RCxZQUFZK0QsR0FGWm5iLEtBQUF6TixXQUFpQnVGLEVBR2ZrSSxLQUFLbWIsVUFBWUEsRUFHbkIvRCxTQUFTN2tCLEdBQ0hBLElBQVV1a0IsR0FBYzZELEVBQVlwb0IsSUFBVUEsSUFBVXlOLEtBQUt6TixRQUMvRHlOLEtBQUt6TixNQUFRQSxFQUlSK2pCLEVBQVkvakIsS0FDZnlOLEtBQUttYixVQUFVSixPQUFRLElBSzdCM0QsU0FDRSxLQUFPZCxFQUFZdFcsS0FBS3pOLFFBQVEsQ0FDOUIsTUFBTTZvQixFQUFZcGIsS0FBS3pOLE1BQ3ZCeU4sS0FBS3pOLE1BQVF1a0IsRUFDYnNFLEVBQVVwYixNQUVSQSxLQUFLek4sUUFBVXVrQixHQUduQjlXLEtBQUttYixVQUFVekIsVUFZYixNQUFPMkIsRUFPWGpFLFlBQVlwYixHQUhaZ0UsS0FBQXpOLFdBQWlCdUYsRUFDVGtJLEtBQUFzYixvQkFBMEJ4akIsRUFHaENrSSxLQUFLaEUsUUFBVUEsRUFRakJvYixXQUFXVCxHQUNUM1csS0FBS3ViLFVBQVk1RSxFQUFVNVYsWUFBWThYLEtBQ3ZDN1ksS0FBS3diLFFBQVU3RSxFQUFVNVYsWUFBWThYLEtBVXZDekIsZ0JBQWdCcUUsR0FDZHpiLEtBQUt1YixVQUFZRSxFQUNqQnpiLEtBQUt3YixRQUFVQyxFQUFJNUUsWUFRckJPLGVBQWUrQixHQUNiQSxFQUFLdUMsU0FBUzFiLEtBQUt1YixVQUFZMUMsS0FDL0JNLEVBQUt1QyxTQUFTMWIsS0FBS3diLFFBQVUzQyxLQVEvQnpCLGdCQUFnQnFFLEdBQ2RBLEVBQUlDLFNBQVMxYixLQUFLdWIsVUFBWTFDLEtBQzlCN1ksS0FBS3diLFFBQVVDLEVBQUlELFFBQ25CQyxFQUFJRCxRQUFVeGIsS0FBS3ViLFVBR3JCbkUsU0FBUzdrQixHQUNQeU4sS0FBS3NiLGVBQWlCL29CLEVBR3hCNmtCLFNBQ0UsS0FBT2QsRUFBWXRXLEtBQUtzYixpQkFBaUIsQ0FDdkMsTUFBTUYsRUFBWXBiLEtBQUtzYixlQUN2QnRiLEtBQUtzYixlQUFpQnhFLEVBQ3RCc0UsRUFBVXBiLE1BRVosTUFBTXpOLEVBQVF5TixLQUFLc2IsZUFDZi9vQixJQUFVdWtCLElBR1Y2RCxFQUFZcG9CLEdBQ1ZBLElBQVV5TixLQUFLek4sT0FDakJ5TixLQUFLMmIsYUFBYXBwQixHQUVYQSxhQUFpQjZuQixFQUMxQnBhLEtBQUs0Yix1QkFBdUJycEIsR0FDbkJBLGFBQWlCc3BCLEtBQzFCN2IsS0FBSzhiLGFBQWF2cEIsR0FDVHFvQixFQUFXcm9CLEdBQ3BCeU4sS0FBSytiLGlCQUFpQnhwQixHQUNiQSxJQUFVd2tCLEdBQ25CL1csS0FBS3pOLE1BQVF3a0IsRUFDYi9XLEtBQUtnYyxTQUdMaGMsS0FBSzJiLGFBQWFwcEIsSUFJZDZrQixTQUFTbGMsR0FDZjhFLEtBQUt3YixRQUFRemdCLFdBQVlnZSxhQUFhN2QsRUFBTThFLEtBQUt3YixTQUczQ3BFLGFBQWE3a0IsR0FDZnlOLEtBQUt6TixRQUFVQSxJQUduQnlOLEtBQUtnYyxRQUNMaGMsS0FBSzBiLFNBQVNucEIsR0FDZHlOLEtBQUt6TixNQUFRQSxHQUdQNmtCLGFBQWE3a0IsR0FDbkIsTUFBTTJJLEVBQU84RSxLQUFLdWIsVUFBVTFFLFlBQzVCdGtCLEVBQWlCLE1BQVRBLEVBQWdCLEdBQUtBLEVBQ3pCMkksSUFBUzhFLEtBQUt3YixRQUFReEMsaUJBQ0osSUFBbEI5ZCxFQUFLMmMsU0FJTjNjLEVBQWN0RSxLQUFPckUsRUFFdEJ5TixLQUFLOGIsYUFBYXptQixTQUFTeWpCLGVBQ04saUJBQVZ2bUIsRUFBcUJBLEVBQVFvVyxPQUFPcFcsS0FFakR5TixLQUFLek4sTUFBUUEsRUFHUDZrQix1QkFBdUI3a0IsR0FDN0IsTUFBTSttQixFQUFXdFosS0FBS2hFLFFBQVFpZ0IsZ0JBQWdCMXBCLEdBQzlDLEdBQUl5TixLQUFLek4saUJBQWlCOG1CLEdBQ3RCclosS0FBS3pOLE1BQU0rbUIsV0FBYUEsRUFDMUJ0WixLQUFLek4sTUFBTStHLE9BQU8vRyxFQUFNeUYsWUFDbkIsQ0FLTCxNQUFNcUssRUFDRixJQUFJZ1gsRUFBaUJDLEVBQVUvbUIsRUFBTWduQixVQUFXdlosS0FBS2hFLFNBQ25EMmQsRUFBV3RYLEVBQVM2WixTQUMxQjdaLEVBQVMvSSxPQUFPL0csRUFBTXlGLFFBQ3RCZ0ksS0FBSzhiLGFBQWFuQyxHQUNsQjNaLEtBQUt6TixNQUFROFAsR0FJVCtVLGlCQUFpQjdrQixHQVdsQjBKLE1BQU14SSxRQUFRdU0sS0FBS3pOLFNBQ3RCeU4sS0FBS3pOLE1BQVEsR0FDYnlOLEtBQUtnYyxTQUtQLE1BQU1HLEVBQVluYyxLQUFLek4sTUFDdkIsSUFDSTZwQixFQURBMUUsRUFBWSxFQUdoQixJQUFLLE1BQU1oTCxLQUFRbmEsT0FLQXVGLEtBSGpCc2tCLEVBQVdELEVBQVV6RSxNQUluQjBFLEVBQVcsSUFBSWYsRUFBU3JiLEtBQUtoRSxTQUM3Qm1nQixFQUFVN2pCLEtBQUs4akIsR0FDRyxJQUFkMUUsRUFDRjBFLEVBQVNDLGVBQWVyYyxNQUV4Qm9jLEVBQVNFLGdCQUFnQkgsRUFBVXpFLEVBQVksS0FHbkQwRSxFQUFTM0MsU0FBUy9NLEdBQ2xCMFAsRUFBUzFDLFNBQ1RoQyxJQUdFQSxFQUFZeUUsRUFBVW5vQixTQUV4Qm1vQixFQUFVbm9CLE9BQVMwakIsRUFDbkIxWCxLQUFLZ2MsTUFBTUksR0FBWUEsRUFBU1osVUFJcENwRSxRQUFzQyxJQUFoQ21FLEVBQWdDOWxCLFVBQUF6QixPQUFBLFFBQUE4RCxJQUFBckMsVUFBQSxHQUFBQSxVQUFBLEdBQWR1SyxLQUFLdWIsVUFDM0I3RSxFQUNJMVcsS0FBS3ViLFVBQVV4Z0IsV0FBYXdnQixFQUFVMUUsWUFBYzdXLEtBQUt3YixVQVczRCxNQUFPZSxFQU9YbkYsWUFBWTlXLEVBQWtCek8sRUFBYzhsQixHQUMxQyxHQUpGM1gsS0FBQXpOLFdBQWlCdUYsRUFDVGtJLEtBQUFzYixvQkFBMEJ4akIsRUFHVCxJQUFuQjZmLEVBQVEzakIsUUFBK0IsS0FBZjJqQixFQUFRLElBQTRCLEtBQWZBLEVBQVEsR0FDdkQsTUFBTSxJQUFJOVgsTUFDTiwyREFFTkcsS0FBS00sUUFBVUEsRUFDZk4sS0FBS25PLEtBQU9BLEVBQ1ptTyxLQUFLMlgsUUFBVUEsRUFHakJQLFNBQVM3a0IsR0FDUHlOLEtBQUtzYixlQUFpQi9vQixFQUd4QjZrQixTQUNFLEtBQU9kLEVBQVl0VyxLQUFLc2IsaUJBQWlCLENBQ3ZDLE1BQU1GLEVBQVlwYixLQUFLc2IsZUFDdkJ0YixLQUFLc2IsZUFBaUJ4RSxFQUN0QnNFLEVBQVVwYixNQUVaLEdBQUlBLEtBQUtzYixpQkFBbUJ4RSxFQUMxQixPQUVGLE1BQU12a0IsSUFBVXlOLEtBQUtzYixlQUNqQnRiLEtBQUt6TixRQUFVQSxJQUNiQSxFQUNGeU4sS0FBS00sUUFBUXFILGFBQWEzSCxLQUFLbk8sS0FBTSxJQUVyQ21PLEtBQUtNLFFBQVFnWSxnQkFBZ0J0WSxLQUFLbk8sTUFFcENtTyxLQUFLek4sTUFBUUEsR0FFZnlOLEtBQUtzYixlQUFpQnhFLEdBYXBCLE1BQU8wRixVQUEwQjFCLEVBR3JDMUQsWUFBWTlXLEVBQWtCek8sRUFBYzhsQixHQUMxQzhFLE1BQU1uYyxFQUFTek8sRUFBTThsQixHQUNyQjNYLEtBQUswYyxPQUNtQixJQUFuQi9FLEVBQVEzakIsUUFBK0IsS0FBZjJqQixFQUFRLElBQTRCLEtBQWZBLEVBQVEsR0FHbERQLGNBQ1IsT0FBTyxJQUFJdUYsRUFBYTNjLE1BR2hCb1gsWUFDUixPQUFJcFgsS0FBSzBjLE9BQ0ExYyxLQUFLMkcsTUFBTSxHQUFHcFUsTUFFaEJrcUIsTUFBTXZCLFlBR2Y5RCxTQUNNcFgsS0FBSythLFFBQ1AvYSxLQUFLK2EsT0FBUSxFQUVaL2EsS0FBS00sUUFBZ0JOLEtBQUtuTyxNQUFRbU8sS0FBS2tiLGNBS3hDLE1BQU95QixVQUFxQjFCLEdBTWxDLElBQUkyQixHQUF3QixFQUU1QixJQUNFLE1BQU01Z0IsRUFBVSxDQUNkNmdCLGNBRUUsT0FEQUQsR0FBd0IsR0FDakIsSUFJWDFyQixPQUFPNkksaUJBQWlCLE9BQVFpQyxFQUFnQkEsR0FFaEQ5SyxPQUFPdUksb0JBQW9CLE9BQVF1QyxFQUFnQkEsR0FDbkQsTUFBTzhnQixJQU1ILE1BQU9DLEVBU1gzRixZQUFZOVcsRUFBa0IwYyxFQUFtQkMsR0FMakRqZCxLQUFBek4sV0FBMkN1RixFQUVuQ2tJLEtBQUFzYixvQkFBb0R4akIsRUFJMURrSSxLQUFLTSxRQUFVQSxFQUNmTixLQUFLZ2QsVUFBWUEsRUFDakJoZCxLQUFLaWQsYUFBZUEsRUFDcEJqZCxLQUFLa2QsbUJBQXNCam1CLElBQU0rSSxLQUFLbWQsWUFBWWxtQixJQUdwRG1nQixTQUFTN2tCLEdBQ1B5TixLQUFLc2IsZUFBaUIvb0IsRUFHeEI2a0IsU0FDRSxLQUFPZCxFQUFZdFcsS0FBS3NiLGlCQUFpQixDQUN2QyxNQUFNRixFQUFZcGIsS0FBS3NiLGVBQ3ZCdGIsS0FBS3NiLGVBQWlCeEUsRUFDdEJzRSxFQUFVcGIsTUFFWixHQUFJQSxLQUFLc2IsaUJBQW1CeEUsRUFDMUIsT0FHRixNQUFNc0csRUFBY3BkLEtBQUtzYixlQUNuQitCLEVBQWNyZCxLQUFLek4sTUFDbkIrcUIsRUFBc0MsTUFBZkYsR0FDVixNQUFmQyxJQUNLRCxFQUFZUCxVQUFZUSxFQUFZUixTQUNwQ08sRUFBWTFYLE9BQVMyWCxFQUFZM1gsTUFDakMwWCxFQUFZRyxVQUFZRixFQUFZRSxTQUN2Q0MsRUFDYSxNQUFmSixJQUF1QyxNQUFmQyxHQUF1QkMsR0FFL0NBLEdBQ0Z0ZCxLQUFLTSxRQUFRN0csb0JBQ1R1RyxLQUFLZ2QsVUFBV2hkLEtBQUtrZCxtQkFBb0JsZCxLQUFLeWQsV0FFaERELElBQ0Z4ZCxLQUFLeWQsVUFBWUMsRUFBV04sR0FDNUJwZCxLQUFLTSxRQUFRdkcsaUJBQ1RpRyxLQUFLZ2QsVUFBV2hkLEtBQUtrZCxtQkFBb0JsZCxLQUFLeWQsWUFFcER6ZCxLQUFLek4sTUFBUTZxQixFQUNicGQsS0FBS3NiLGVBQWlCeEUsRUFHeEJNLFlBQVl1RyxHQUNnQixtQkFBZjNkLEtBQUt6TixNQUNkeU4sS0FBS3pOLE1BQU1kLEtBQUt1TyxLQUFLaWQsY0FBZ0JqZCxLQUFLTSxRQUFTcWQsR0FFbEQzZCxLQUFLek4sTUFBOEI0cUIsWUFBWVEsSUFRdEQsTUFBTUQsRUFBYzNyQixHQUF5Q0EsSUFDeEQ2cUIsRUFDSSxDQUFDQyxRQUFTOXFCLEVBQUU4cUIsUUFBU1UsUUFBU3hyQixFQUFFd3JCLFFBQVM3WCxLQUFNM1QsRUFBRTJULE1BQ2pEM1QsRUFBRThxQixTQ3BjSixNQUFNZSxFQUEyQixJQXBDbEMsTUFVSnhHLDJCQUNJOVcsRUFBa0J6TyxFQUFjOGxCLEVBQ2hDM2IsR0FDRixNQUFNNmhCLEVBQVNoc0IsRUFBSyxHQUNwQixNQUFlLE1BQVhnc0IsRUFDZ0IsSUFBSXJCLEVBQWtCbGMsRUFBU3pPLEVBQUtrUixNQUFNLEdBQUk0VSxHQUMvQ2hSLE1BRUosTUFBWGtYLEVBQ0ssQ0FBQyxJQUFJZCxFQUFVemMsRUFBU3pPLEVBQUtrUixNQUFNLEdBQUkvRyxFQUFRaWhCLGVBRXpDLE1BQVhZLEVBQ0ssQ0FBQyxJQUFJdEIsRUFBcUJqYyxFQUFTek8sRUFBS2tSLE1BQU0sR0FBSTRVLElBRXpDLElBQUltRCxFQUFtQnhhLEVBQVN6TyxFQUFNOGxCLEdBQ3ZDaFIsTUFNbkJ5USxxQkFBcUJwYixHQUNuQixPQUFPLElBQUlxZixFQUFTcmYsS0NYbEIsU0FBVWlnQixFQUFnQjFtQixHQUM5QixJQUFJdW9CLEVBQWdCQyxFQUFlNXJCLElBQUlvRCxFQUFPcVksV0FDeEI5VixJQUFsQmdtQixJQUNGQSxFQUFnQixDQUNkRSxhQUFjLElBQUk3SCxRQUNsQjhILFVBQVcsSUFBSS9sQixLQUVqQjZsQixFQUFlMWxCLElBQUk5QyxFQUFPcVksS0FBTWtRLElBR2xDLElBQUl4RSxFQUFXd0UsRUFBY0UsYUFBYTdyQixJQUFJb0QsRUFBT29pQixTQUNyRCxRQUFpQjdmLElBQWJ3aEIsRUFDRixPQUFPQSxFQUtULE1BQU16bUIsRUFBTTBDLEVBQU9vaUIsUUFBUTdRLEtBQUtsQyxHQWFoQyxZQVRpQjlNLEtBRGpCd2hCLEVBQVd3RSxFQUFjRyxVQUFVOXJCLElBQUlVLE1BR3JDeW1CLEVBQVcsSUFBSW5DLEVBQVM1aEIsRUFBUUEsRUFBTzJvQixzQkFFdkNKLEVBQWNHLFVBQVU1bEIsSUFBSXhGLEVBQUt5bUIsSUFJbkN3RSxFQUFjRSxhQUFhM2xCLElBQUk5QyxFQUFPb2lCLFFBQVMyQixHQUN4Q0EsRUFrQkYsTUFBTXlFLEVBQWlCLElBQUk3bEIsSUN2RXJCaW1CLEVBQVEsSUFBSWhJLFNDa0N4QmpsQixPQUFNLGtCQUF3QkEsT0FBTSxnQkFBc0IsS0FBS29ILEtBQUssU0FNOUQsTUFBTThsQixFQUFPLFNBQUN6RyxHQUFELFFBQUEwRyxFQUFBNW9CLFVBQUF6QixPQUFtQ2dFLEVBQW5DLElBQUFpRSxNQUFBb2lCLEVBQUEsRUFBQUEsRUFBQSxLQUFBQyxFQUFBLEVBQUFBLEVBQUFELEVBQUFDLElBQW1DdG1CLEVBQW5Dc21CLEVBQUEsR0FBQTdvQixVQUFBNm9CLEdBQUEsT0FDaEIsSUFBSWxFLEVBQWV6QyxFQUFTM2YsRUFBUSxPQUFRNGxCLElDN0MxQ1csRUFBbUIsSUFrQm5CLFNBQVVDLEVBQ1psRixFQUFvQmpDLEdBQ3RCLE1BQU8vVyxTQUFTa1QsUUFBQ0EsR0FBWDdNLE1BQXFCQSxHQUFTMlMsRUFDOUIvQixFQUNGbGlCLFNBQVNtaUIsaUJBQWlCaEUsRUFBUytLLEVBQWtCLE1BQU0sR0FDL0QsSUFBSTdHLEVBQVkrRyxFQUErQjlYLEdBQzNDd1MsRUFBT3hTLEVBQU0rUSxHQUNib0MsR0FBYSxFQUNiNEUsRUFBYyxFQUNsQixNQUFNQyxFQUEwQixHQUNoQyxJQUFJQyxFQUFpQyxLQUNyQyxLQUFPckgsRUFBT0ssWUFBWSxDQUN4QmtDLElBQ0EsTUFBTTVlLEVBQU9xYyxFQUFPa0IsWUFpQnBCLElBZkl2ZCxFQUFLOGQsa0JBQW9CNEYsSUFDM0JBLEVBQXNCLE1BR3BCdkgsRUFBY2xmLElBQUkrQyxLQUNwQnlqQixFQUF3QnJtQixLQUFLNEMsR0FFRCxPQUF4QjBqQixJQUNGQSxFQUFzQjFqQixJQUlFLE9BQXhCMGpCLEdBQ0ZGLFNBRWM1bUIsSUFBVHFoQixHQUFzQkEsRUFBSzNnQixRQUFVc2hCLEdBRzFDWCxFQUFLM2dCLE1BQWdDLE9BQXhCb21CLEdBQWdDLEVBQUl6RixFQUFLM2dCLE1BQVFrbUIsRUFHOUR2RixFQUFPeFMsRUFEUCtRLEVBQVkrRyxFQUErQjlYLEVBQU8rUSxJQUl0RGlILEVBQXdCOXFCLFFBQVNkLEdBQU1BLEVBQUVnSSxXQUFZMkYsWUFBWTNOLElBR25FLE1BQU04ckIsRUFBYzNqQixJQUNsQixJQUFJK1osRUFBMkIsS0FBbEIvWixFQUFLMmMsU0FBcUQsRUFBSSxFQUMzRSxNQUFNTixFQUFTbGlCLFNBQVNtaUIsaUJBQWlCdGMsRUFBTXFqQixFQUFrQixNQUFNLEdBQ3ZFLEtBQU9oSCxFQUFPSyxZQUNaM0MsSUFFRixPQUFPQSxHQUdId0osRUFDRixTQUFDOVgsR0FDQyxJQUFLLElBQUlyVixHQUR3Q21FLFVBQUF6QixPQUFBLFFBQUE4RCxJQUFBckMsVUFBQSxHQUFBQSxVQUFBLElBQUwsR0FDbEIsRUFBR25FLEVBQUlxVixFQUFNM1MsT0FBUTFDLElBQUssQ0FDbEQsTUFBTTZuQixFQUFPeFMsRUFBTXJWLEdBQ25CLEdBQUk0bkIsRUFBcUJDLEdBQ3ZCLE9BQU83bkIsRUFHWCxPQUFRLEdDM0RkLE1BQU13dEIsRUFBc0IsQ0FBQ2xSLEVBQWNtUixJQUFmLEdBQUF2YSxPQUNyQm9KLEVBRHFCLE1BQUFwSixPQUNadWEsR0FFaEIsSUFBSUMsR0FBNEIsT0FFRCxJQUFwQjl0QixPQUFPK3RCLFNBQ2hCRCxHQUE0QixPQUMyQixJQUF2Qzl0QixPQUFPK3RCLFNBQVNDLHFCQUNoQzNLLFFBQVFpQixLQUNKLDZJQUdKd0osR0FBNEIsR0FPOUIsTUFBTUcsRUFBd0JKLEdBQ3pCeHBCLElBQ0MsTUFBTTZwQixFQUFXTixFQUFvQnZwQixFQUFPcVksS0FBTW1SLEdBQ2xELElBQUlqQixFQUFnQkMsRUFBZTVyQixJQUFJaXRCLFFBQ2pCdG5CLElBQWxCZ21CLElBQ0ZBLEVBQWdCLENBQ2RFLGFBQWMsSUFBSTdILFFBQ2xCOEgsVUFBVyxJQUFJL2xCLEtBRWpCNmxCLEVBQWUxbEIsSUFBSSttQixFQUFVdEIsSUFHL0IsSUFBSXhFLEVBQVd3RSxFQUFjRSxhQUFhN3JCLElBQUlvRCxFQUFPb2lCLFNBQ3JELFFBQWlCN2YsSUFBYndoQixFQUNGLE9BQU9BLEVBR1QsTUFBTXptQixFQUFNMEMsRUFBT29pQixRQUFRN1EsS0FBS2xDLEdBRWhDLFFBQWlCOU0sS0FEakJ3aEIsRUFBV3dFLEVBQWNHLFVBQVU5ckIsSUFBSVUsSUFDWCxDQUMxQixNQUFNeU4sRUFBVS9LLEVBQU8yb0IscUJBQ25CYyxHQUNGOXRCLE9BQU8rdEIsU0FBVUMsbUJBQW1CNWUsRUFBU3llLEdBRS9DekYsRUFBVyxJQUFJbkMsRUFBUzVoQixFQUFRK0ssR0FDaEN3ZCxFQUFjRyxVQUFVNWxCLElBQUl4RixFQUFLeW1CLEdBR25DLE9BREF3RSxFQUFjRSxhQUFhM2xCLElBQUk5QyxFQUFPb2lCLFFBQVMyQixHQUN4Q0EsR0FHUCtGLEVBQWlCLENBQUMsT0FBUSxPQXNCMUJDLEVBQWlCLElBQUlDLElBZ0JyQkMsRUFDRixDQUFDQyxFQUErQm5HLEVBQW9CeUYsS0FDbERPLEVBQWVJLElBQUlYLEdBRW5CLE1BQU1ZLEVBQVNGLEVBQVlHLGlCQUFpQixVQUN0QzVyQixPQUFDQSxHQUFVMnJCLEVBRWpCLEdBQWUsSUFBWDNyQixFQUtGLFlBREE5QyxPQUFPK3RCLFNBQVVPLHNCQUFzQmxHLEVBQVNoWixRQUFTeWUsR0FHM0QsTUFBTWMsRUFBaUJ4cUIsU0FBU3VMLGNBQWMsU0FNOUMsSUFBSyxJQUFJdFAsRUFBSSxFQUFHQSxFQUFJMEMsRUFBUTFDLElBQUssQ0FDL0IsTUFBTWtJLEVBQVFtbUIsRUFBT3J1QixHQUNyQmtJLEVBQU11QixXQUFZMkYsWUFBWWxILEdBQzlCcW1CLEVBQWVyZSxhQUFnQmhJLEVBQU1nSSxZQXhEUHVkLEtBQ3BDTSxFQUFleHJCLFFBQVMrWixJQUN0QixNQUFNa1MsRUFBWS9CLEVBQWU1ckIsSUFBSTJzQixFQUFvQmxSLEVBQU1tUixTQUM3Q2puQixJQUFkZ29CLEdBQ0ZBLEVBQVU3QixVQUFVcHFCLFFBQVN5bEIsSUFDM0IsTUFBT2haLFNBQVNrVCxRQUFDQSxJQUFZOEYsRUFFdkJxRyxFQUFTLElBQUlKLElBQ25CdGpCLE1BQU04akIsS0FBS3ZNLEVBQVFvTSxpQkFBaUIsVUFBVS9yQixRQUFTUixJQUNyRHNzQixFQUFPRCxJQUFJcnNCLEtBRWJtckIsRUFBd0JsRixFQUFVcUcsUUFnRHBDSyxDQUE2QmpCLEdBRzdCLE1BQU12TCxFQUFVOEYsRUFBU2haLFFBQVFrVCxTRGxEakMsU0FDRjhGLEVBQW9CcGUsR0FBcUMsSUFBekIra0IsRUFBeUJ4cUIsVUFBQXpCLE9BQUEsUUFBQThELElBQUFyQyxVQUFBLEdBQUFBLFVBQUEsR0FBSixLQUN2RCxNQUFPNkssU0FBU2tULFFBQUNBLEdBQVg3TSxNQUFxQkEsR0FBUzJTLEVBR3BDLEdBQUkyRyxRQUVGLFlBREF6TSxFQUFRelMsWUFBWTdGLEdBR3RCLE1BQU1xYyxFQUNGbGlCLFNBQVNtaUIsaUJBQWlCaEUsRUFBUytLLEVBQWtCLE1BQU0sR0FDL0QsSUFBSTdHLEVBQVkrRyxFQUErQjlYLEdBQzNDdVosRUFBYyxFQUNkQyxHQUFlLEVBQ25CLEtBQU81SSxFQUFPSyxZQU9aLElBTkF1SSxJQUNtQjVJLEVBQU9rQixjQUNQd0gsSUFDakJDLEVBQWNyQixFQUFXM2pCLEdBQ3pCK2tCLEVBQVFsbEIsV0FBWWdlLGFBQWE3ZCxFQUFNK2tCLEtBRW5CLElBQWZ2SSxHQUFvQi9RLEVBQU0rUSxHQUFXbGYsUUFBVTJuQixHQUFhLENBRWpFLEdBQUlELEVBQWMsRUFBRyxDQUNuQixNQUFzQixJQUFmeEksR0FDTC9RLEVBQU0rUSxHQUFXbGYsT0FBUzBuQixFQUMxQnhJLEVBQVkrRyxFQUErQjlYLEVBQU8rUSxHQUVwRCxPQUVGQSxFQUFZK0csRUFBK0I5WCxFQUFPK1EsSUNxQmxEMEksQ0FBdUI5RyxFQUFVdUcsRUFBZ0JyTSxFQUFRNk0sWUFJekRudkIsT0FBTyt0QixTQUFVTyxzQkFBc0JsRyxFQUFTaFosUUFBU3llLEdBQ3pELE1BQU12bEIsRUFBUWdhLEVBQVEvUyxjQUFjLFNBQ3BDLEdBQUl2UCxPQUFPK3RCLFNBQVVxQixjQUEwQixPQUFWOW1CLEVBR25DaW1CLEVBQVkxRyxhQUFhdmYsRUFBTW9nQixXQUFVLEdBQU82RixFQUFZWSxnQkFDdkQsQ0FTTDdNLEVBQVF1RixhQUFhOEcsRUFBZ0JyTSxFQUFRNk0sWUFDN0MsTUFBTUUsRUFBVSxJQUFJaEIsSUFDcEJnQixFQUFRYixJQUFJRyxHQUNackIsRUFBd0JsRixFQUFVaUgsS0M5SjFDcnZCLE9BQU9zdkIsMEJBQ0gsRUFBd0JwZixFQUFTcWYsSUFBcUJyZixHQThHbkQsTUFBTXNmLEVBQThDLENBRXpEdEosWUFBWTdrQixFQUFnQnFiLEdBQzFCLE9BQVFBLEdBQ04sS0FBSytTLFFBQ0gsT0FBT3B1QixFQUFRLEdBQUssS0FDdEIsS0FBS1AsT0FDTCxLQUFLaUssTUFHSCxPQUFnQixNQUFUMUosRUFBZ0JBLEVBQVFzRSxLQUFLQyxVQUFVdkUsR0FFbEQsT0FBT0EsR0FHVDZrQixjQUFjN2tCLEVBQW9CcWIsR0FDaEMsT0FBUUEsR0FDTixLQUFLK1MsUUFDSCxPQUFpQixPQUFWcHVCLEVBQ1QsS0FBS3F1QixPQUNILE9BQWlCLE9BQVZydUIsRUFBaUIsS0FBT3F1QixPQUFPcnVCLEdBQ3hDLEtBQUtQLE9BQ0wsS0FBS2lLLE1BQ0gsT0FBT3BGLEtBQUtHLE1BQU16RSxHQUV0QixPQUFPQSxJQWFFc3VCLEVBQXVCLENBQUN0dUIsRUFBZ0J1dUIsSUFFNUNBLElBQVF2dUIsSUFBVXV1QixHQUFRQSxHQUFPdnVCLEdBQVVBLEdBRzlDd3VCLEVBQWtELENBQ3REQyxXQUFXLEVBQ1hwVCxLQUFNakYsT0FDTnNZLFVBQVdQLEVBQ1hRLFNBQVMsRUFDVEMsV0FBWU4sR0FHUk8sRUFBbUJ2a0IsUUFBUUMsU0FBUSxHQUVuQ3VrQixFQUFvQixFQUNwQkMsRUFBeUIsRUFDekJDLEVBQW1DLEVBQ25DQyxHQUFrQyxHQUNsQ0MsR0FBc0IsR0FVdEIsTUFBZ0JDLFdBQXdCQyxZQTBPNUN2SyxjQUNFcUYsUUFsQk16YyxLQUFBNGhCLGFBQTRCLEVBQzVCNWhCLEtBQUE2aEIseUJBQWdEL3BCLEVBQ2hEa0ksS0FBQThoQixlQUFtQ1YsRUFDbkNwaEIsS0FBQStoQiwyQkFBZ0RqcUIsRUFNaERrSSxLQUFBZ2lCLG1CQUFxQyxJQUFJOXBCLElBS3pDOEgsS0FBQWlpQiwyQkFDUW5xQixFQUlka0ksS0FBS2tpQixhQXpNUEMsZ0NBRUVuaUIsS0FBS29pQixXQUNMLE1BQU1ySyxFQUF1QixHQVU3QixPQVBBL1gsS0FBS3FpQixpQkFBa0J4dUIsUUFBUSxDQUFDK1MsRUFBR3hULEtBQ2pDLE1BQU1rdkIsRUFBT3RpQixLQUFLdWlCLDBCQUEwQm52QixFQUFHd1QsUUFDbEM5TyxJQUFUd3FCLElBQ0Z0aUIsS0FBS3dpQix3QkFBd0JucUIsSUFBSWlxQixFQUFNbHZCLEdBQ3ZDMmtCLEVBQVd6ZixLQUFLZ3FCLE1BR2J2SyxFQVNEWCxnQ0FFTixJQUFLcFgsS0FBSzdNLGVBQ0ZxdEIsMEJBQTBCLG1CQUFvQnhnQixPQUFRLENBQzVEQSxLQUFLcWlCLGlCQUFtQixJQUFJbnFCLElBRTVCLE1BQU11cUIsRUFDRnp3QixPQUFPMHdCLGVBQWUxaUIsTUFBTXFpQixzQkFDUnZxQixJQUFwQjJxQixHQUNGQSxFQUFnQjV1QixRQUNaLENBQUMrUyxFQUF3QitiLElBQ3JCM2lCLEtBQUtxaUIsaUJBQWtCaHFCLElBQUlzcUIsRUFBRy9iLEtBWTVDd1Esc0JBQ0l2bEIsR0FDeUQsSUFBekRtSyxFQUF5RHZHLFVBQUF6QixPQUFBLFFBQUE4RCxJQUFBckMsVUFBQSxHQUFBQSxVQUFBLEdBQTFCc3JCLEVBV2pDLEdBUEEvZ0IsS0FBSzRpQix5QkFDTDVpQixLQUFLcWlCLGlCQUFrQmhxQixJQUFJeEcsRUFBTW1LLEdBTTdCQSxFQUFRNm1CLFlBQWM3aUIsS0FBSzlNLFVBQVVDLGVBQWV0QixHQUN0RCxPQUVGLE1BQU1nQixFQUFzQixpQkFBVGhCLEVBQW9CUSxTQUEzQixLQUFBbVMsT0FBMkMzUyxHQUN2REcsT0FBT0MsZUFBZStOLEtBQUs5TSxVQUFXckIsRUFBTSxDQUUxQ3VsQixNQUNFLE9BQU9wWCxLQUFLbk4sSUFFZHVrQixJQUEyQjdrQixHQUV6QixNQUFNdXdCLEVBQVk5aUIsS0FBYW5PLEdBRTlCbU8sS0FBYW5OLEdBQU9OLEVBQ3JCeU4sS0FBSytpQixlQUFlbHhCLEVBQU1peEIsSUFFNUJFLGNBQWMsRUFDZDl3QixZQUFZLElBU05rbEIsa0JBQ1IsR0FBSXBYLEtBQUs3TSxlQUFlcXRCLDBCQUEwQixZQUFheGdCLFFBQzNEQSxLQUFLaWpCLFVBQ1AsT0FHRixNQUFNQyxFQUFZbHhCLE9BQU8wd0IsZUFBZTFpQixNQVl4QyxHQVhrQyxtQkFBdkJrakIsRUFBVWQsVUFDbkJjLEVBQVVkLFdBRVpwaUIsS0FBS2lqQixXQUFZLEVBQ2pCampCLEtBQUs0aUIseUJBRUw1aUIsS0FBS3dpQix3QkFBMEIsSUFBSXRxQixJQUsvQjhILEtBQUs3TSxlQUFlcXRCLDBCQUEwQixhQUFjeGdCLE9BQVEsQ0FDdEUsTUFBTW1qQixFQUFRbmpCLEtBQUtDLFdBRWJtakIsRUFBVyxJQUNacHhCLE9BQU9xeEIsb0JBQW9CRixNQUNjLG1CQUFqQ254QixPQUFPc3hCLHNCQUNkdHhCLE9BQU9zeEIsc0JBQXNCSCxHQUM3QixJQUdOLElBQUssTUFBTS92QixLQUFLZ3dCLEVBSWRwakIsS0FBS3VqQixlQUFlbndCLEVBQUkrdkIsRUFBYy92QixLQVNwQ2drQixpQ0FDSnZsQixFQUFtQm1LLEdBQ3JCLE1BQU1nbEIsRUFBWWhsQixFQUFRZ2xCLFVBQzFCLE9BQXFCLElBQWRBLE9BQ0hscEIsRUFDc0IsaUJBQWRrcEIsRUFDSEEsRUFDaUIsaUJBQVRudkIsRUFBb0JBLEVBQUtpTixtQkFBZ0JoSCxFQVNwRHNmLHdCQUNKN2tCLEVBQWdCdXVCLEdBQ2xCLE9BRGlFcnJCLFVBQUF6QixPQUFBLFFBQUE4RCxJQUFBckMsVUFBQSxHQUFBQSxVQUFBLEdBQVJvckIsR0FDdkN0dUIsRUFBT3V1QixHQVNuQjFKLG1DQUNKN2tCLEVBQW9CeUosR0FDdEIsTUFBTTRSLEVBQU81UixFQUFRNFIsS0FDZnFULEVBQVlqbEIsRUFBUWlsQixXQUFhUCxFQUNqQzhDLEVBQ29CLG1CQUFkdkMsRUFBMkJBLEVBQVlBLEVBQVV1QyxjQUM3RCxPQUFPQSxFQUFnQkEsRUFBY2p4QixFQUFPcWIsR0FBUXJiLEVBVzlDNmtCLGlDQUNKN2tCLEVBQWdCeUosR0FDbEIsUUFBd0JsRSxJQUFwQmtFLEVBQVFrbEIsUUFDVixPQUVGLE1BQU10VCxFQUFPNVIsRUFBUTRSLEtBQ2ZxVCxFQUFZamxCLEVBQVFpbEIsVUFJMUIsT0FGSUEsR0FBY0EsRUFBd0N3QyxhQUN0RC9DLEVBQWlCK0MsYUFDRGx4QixFQUFPcWIsR0E2Qm5Cd0osYUFDUnBYLEtBQUswakIsMEJBRUwxakIsS0FBSytpQixpQkFlQzNMLDBCQUdMcFgsS0FBSzZDLFlBQ0R3ZixpQkFBa0J4dUIsUUFBUSxDQUFDOHZCLEVBQUl2d0IsS0FDOUIsR0FBSTRNLEtBQUs3TSxlQUFlQyxHQUFJLENBQzFCLE1BQU1iLEVBQVF5TixLQUFLNU0sVUFDWjRNLEtBQUs1TSxHQUNQNE0sS0FBSzZoQixzQkFDUjdoQixLQUFLNmhCLG9CQUFzQixJQUFJM3BCLEtBRWpDOEgsS0FBSzZoQixvQkFBb0J4cEIsSUFBSWpGLEVBQUdiLE1BUWxDNmtCLDJCQUlOcFgsS0FBSzZoQixvQkFBcUJodUIsUUFBUSxDQUFDK1MsRUFBR3hULElBQU80TSxLQUFhNU0sR0FBS3dULEdBQy9ENUcsS0FBSzZoQix5QkFBc0IvcEIsRUFHN0JzZixvQkFDRXBYLEtBQUs0aEIsYUFBZTVoQixLQUFLNGhCLGFBQWVILEdBS3BDemhCLEtBQUsraEIsd0JBQ1AvaEIsS0FBSytoQix3QkFDTC9oQixLQUFLK2hCLDJCQUF3QmpxQixHQVNqQ3NmLHdCQU1BQSx5QkFBeUJ2bEIsRUFBY2l2QixFQUFrQnZ1QixHQUNuRHV1QixJQUFRdnVCLEdBQ1Z5TixLQUFLNGpCLHFCQUFxQi94QixFQUFNVSxHQUk1QjZrQixxQkFDSnZsQixFQUFtQlUsR0FDc0MsSUFBekR5SixFQUF5RHZHLFVBQUF6QixPQUFBLFFBQUE4RCxJQUFBckMsVUFBQSxHQUFBQSxVQUFBLEdBQTFCc3JCLEVBQ2pDLE1BQU04QyxFQUFRN2pCLEtBQUs2QyxZQUNieWYsRUFBT3VCLEVBQUt0QiwwQkFBMEIxd0IsRUFBTW1LLEdBQ2xELFFBQWFsRSxJQUFUd3FCLEVBQW9CLENBQ3RCLE1BQU13QixFQUFZRCxFQUFLRSwwQkFBMEJ4eEIsRUFBT3lKLEdBRXhELFFBQWtCbEUsSUFBZGdzQixFQUNGLE9BVUY5akIsS0FBSzRoQixhQUFlNWhCLEtBQUs0aEIsYUFBZUwsRUFDdkIsTUFBYnVDLEVBQ0Y5akIsS0FBS3NZLGdCQUFnQmdLLEdBRXJCdGlCLEtBQUsySCxhQUFhMmEsRUFBTXdCLEdBRzFCOWpCLEtBQUs0aEIsYUFBZTVoQixLQUFLNGhCLGNBQWdCTCxHQUlyQ25LLHFCQUFxQnZsQixFQUFjVSxHQUd6QyxHQUFJeU4sS0FBSzRoQixhQUFlTCxFQUN0QixPQUVGLE1BQU1zQyxFQUFRN2pCLEtBQUs2QyxZQUNibWhCLEVBQVdILEVBQUtyQix3QkFBd0Jyd0IsSUFBSU4sR0FDbEQsUUFBaUJpRyxJQUFia3NCLEVBQXdCLENBQzFCLE1BQU1ob0IsRUFDRjZuQixFQUFLeEIsaUJBQWtCbHdCLElBQUk2eEIsSUFBYWpELEVBRTVDL2dCLEtBQUs0aEIsYUFBZTVoQixLQUFLNGhCLGFBQWVKLEdBQ3hDeGhCLEtBQUtna0IsR0FFREgsRUFBS0ksNEJBQTRCMXhCLEVBQU95SixHQUU1Q2dFLEtBQUs0aEIsYUFBZTVoQixLQUFLNGhCLGNBQWdCSixJQVNyQ3BLLGVBQWV2bEIsRUFBb0JpeEIsR0FDekMsSUFBSW9CLEdBQXNCLEVBRTFCLFFBQWFwc0IsSUFBVGpHLEVBQW9CLENBQ3RCLE1BQU1neUIsRUFBTzdqQixLQUFLNkMsWUFDWjdHLEVBQ0Y2bkIsRUFBS3hCLGlCQUFrQmx3QixJQUFJTixJQUFTa3ZCLEVBQ3BDOEMsRUFBS00saUJBQ0Rua0IsS0FBS25PLEdBQXFCaXhCLEVBQVU5bUIsRUFBUW1sQixhQUM3Q25oQixLQUFLZ2lCLG1CQUFtQjdwQixJQUFJdEcsSUFDL0JtTyxLQUFLZ2lCLG1CQUFtQjNwQixJQUFJeEcsRUFBTWl4QixJQU1aLElBQXBCOW1CLEVBQVFrbEIsU0FDTmxoQixLQUFLNGhCLGFBQWVKLFVBQ1cxcEIsSUFBL0JrSSxLQUFLaWlCLHdCQUNQamlCLEtBQUtpaUIsc0JBQXdCLElBQUkvcEIsS0FFbkM4SCxLQUFLaWlCLHNCQUFzQjVwQixJQUFJeEcsRUFBTW1LLEtBSXZDa29CLEdBQXNCLEdBR3JCbGtCLEtBQUtva0IscUJBQXVCRixHQUMvQmxrQixLQUFLcWtCLGlCQWlCVGpOLGNBQWN2bEIsRUFBb0JpeEIsR0FFaEMsT0FEQTlpQixLQUFLK2lCLGVBQWVseEIsRUFBTWl4QixHQUNuQjlpQixLQUFLc2tCLGVBTU5sTix1QkFHTixJQUFJdGEsRUFDQUMsRUFGSmlELEtBQUs0aEIsYUFBZTVoQixLQUFLNGhCLGFBQWVOLEVBR3hDLE1BQU1pRCxFQUF3QnZrQixLQUFLOGhCLGVBQ25DOWhCLEtBQUs4aEIsZUFBaUIsSUFBSWpsQixRQUFRLENBQUMybkIsRUFBS0MsS0FDdEMzbkIsRUFBVTBuQixFQUNWem5CLEVBQVMwbkIsSUFFWCxVQUdRRixFQUNOLE1BQU90dEIsSUFLSitJLEtBQUswa0IscUJBQ0YsSUFBSTduQixRQUFTMm5CLEdBQVF4a0IsS0FBSytoQixzQkFBd0J5QyxHQUUxRCxJQUNFLE1BQU1qdkIsRUFBU3lLLEtBQUsya0IsZ0JBSU4sTUFBVnB2QixTQUNJQSxFQUVSLE1BQU8wQixHQUNQOEYsRUFBTzlGLEdBRVQ2RixHQUFTa0QsS0FBS29rQixxQkFHaEJNLG9CQUNFLE9BQVExa0IsS0FBSzRoQixhQUFlSCxHQUc5QjJDLDBCQUNFLE9BQVFwa0IsS0FBSzRoQixhQUFlTixFQUc5QnNELGlCQUNFLE9BQVE1a0IsS0FBSzRoQixhQUFlUCxFQW1CcEJqSyxnQkFFSnBYLEtBQUs2aEIscUJBQ1A3aEIsS0FBSzZrQiwyQkFFUCxJQUFJQyxHQUFlLEVBQ25CLE1BQU1DLEVBQW9CL2tCLEtBQUtnaUIsbUJBQy9CLEtBQ0U4QyxFQUFlOWtCLEtBQUs4a0IsYUFBYUMsS0FFL0Iva0IsS0FBSzFHLE9BQU95ckIsR0FFZCxNQUFPOXRCLEdBSVAsTUFEQTZ0QixHQUFlLEVBQ1Q3dEIsRUFUUixRQVlFK0ksS0FBS2dsQixlQUVIRixJQUNJOWtCLEtBQUs0aEIsYUFBZVAsSUFDeEJyaEIsS0FBSzRoQixhQUFlNWhCLEtBQUs0aEIsYUFBZVAsRUFDeENyaEIsS0FBS2lsQixhQUFhRixJQUVwQi9rQixLQUFLa2xCLFFBQVFILElBSVQzTixlQUNOcFgsS0FBS2dpQixtQkFBcUIsSUFBSTlwQixJQUM5QjhILEtBQUs0aEIsYUFBZTVoQixLQUFLNGhCLGNBQWdCTixFQWdCM0NnRCxxQkFDRSxPQUFPdGtCLEtBQUs4aEIsZUFVSjFLLGFBQWE0SyxHQUNyQixPQUFPLEVBV0M1SyxPQUFPNEssUUFDb0JscUIsSUFBL0JrSSxLQUFLaWlCLHVCQUNMamlCLEtBQUtpaUIsc0JBQXNCa0QsS0FBTyxJQUdwQ25sQixLQUFLaWlCLHNCQUFzQnB1QixRQUN2QixDQUFDK1MsRUFBRytiLElBQU0zaUIsS0FBS29sQixxQkFBcUJ6QyxFQUFHM2lCLEtBQUsyaUIsR0FBa0IvYixJQUNsRTVHLEtBQUtpaUIsMkJBQXdCbnFCLEdBYXZCc2YsUUFBUTRLLElBWVI1SyxhQUFhNEssS0Fqa0JOTixHQUFBdUIsV0FBWSxFQy9LL0IsTUE4QmFvQyxHQUFpQjdNLEdBQ3pCOE0sR0FDaUMsbUJBQXRCQSxFQS9CWixFQUFDOU0sRUFBaUIrTSxLQUNoQnIwQixPQUFPc2xCLGVBQWV4bEIsT0FBT3duQixFQUFTK00sR0FPL0JBLEdBd0JUQyxDQUFvQmhOLEVBQVM4TSxHQXBCN0IsRUFBQzlNLEVBQWlCaU4sS0FDaEIsTUFBTUMsS0FBQ0EsRUFBREMsU0FBT0EsR0FBWUYsRUFDekIsTUFBTyxDQUNMQyxPQUNBQyxXQUVBdk8sU0FBU21PLEdBQ1ByMEIsT0FBT3NsQixlQUFleGxCLE9BQU93bkIsRUFBUytNLE1BYzVDSyxDQUFzQnBOLEVBQVM4TSxHQUU3Qk8sR0FDRixDQUFDN3BCLEVBQThCc0UsSUFJUixXQUFqQkEsRUFBUW9sQixPQUFxQnBsQixFQUFRbWxCLFlBQ25DLFVBQVdubEIsRUFBUW1sQixXQVdoQixDQUNMQyxLQUFNLFFBQ043eUIsSUFBS1IsU0FDTHl6QixVQUFXLE1BQ1hMLFdBQVksR0FXWnJPLGNBQ3FDLG1CQUF4QjlXLEVBQVF5bEIsY0FDakIvbEIsS0FBS00sRUFBUXpOLEtBQU95TixFQUFReWxCLFlBQVl0MEIsS0FBS3VPLFFBR2pEb1gsU0FBU21PLEdBQ1BBLEVBQU1oQyxlQUFlampCLEVBQVF6TixJQUFLbUosS0EvQnRDaEssT0FBQStHLE9BQUEsR0FDS3VILEVBQU8sQ0FDVjhXLFNBQVNtTyxHQUNQQSxFQUFNaEMsZUFBZWpqQixFQUFRek4sSUFBS21KLE1Ba0N4Q2dxQixHQUNGLENBQUNocUIsRUFBOEJpcUIsRUFBZXAwQixLQUMzQ28wQixFQUFNcGpCLFlBQ0YwZ0IsZUFBZTF4QixFQUFNbUssSUFVMUIsU0FBVS9JLEdBQVMrSSxHQUV2QixNQUFPLENBQUNrcUIsRUFBd0NyMEIsU0FDM0JpRyxJQUFUakcsRUFDUm0wQixHQUFlaHFCLEVBQVVrcUIsRUFBNkJyMEIsR0FDdERnMEIsR0FBaUI3cEIsRUFBVWtxQixHQWlEakMsTUNoTGFDLEdBQ1IsdUJBQXdCQyxTQUFTbHpCLFdBQ2pDLFlBQWFtekIsY0FBY256QixVQUUxQm96QixHQUFvQmowQixTQUVwQixNQUFPazBCLEdBS1huUCxZQUFZb1AsRUFBaUJDLEdBQzNCLEdBQUlBLElBQWNILEdBQ2hCLE1BQU0sSUFBSXptQixNQUNOLHFFQUVORyxLQUFLd21CLFFBQVVBLEVBS2pCRSxpQkFXRSxZQVZ5QjV1QixJQUFyQmtJLEtBQUsybUIsY0FHSFIsSUFDRm5tQixLQUFLMm1CLFlBQWMsSUFBSU4sY0FDdkJybUIsS0FBSzJtQixZQUFZQyxZQUFZNW1CLEtBQUt3bUIsVUFFbEN4bUIsS0FBSzJtQixZQUFjLE1BR2hCM21CLEtBQUsybUIsWUFHZHZQLFdBQ0UsT0FBT3BYLEtBQUt3bUIsU0FXVCxNQXFCTUssR0FBTSxTQUFDbFAsR0FBeUQsUUFBQTBHLEVBQUE1b0IsVUFBQXpCLE9BQXZCZ0UsRUFBdUIsSUFBQWlFLE1BQUFvaUIsRUFBQSxFQUFBQSxFQUFBLEtBQUFDLEVBQUEsRUFBQUEsRUFBQUQsRUFBQUMsSUFBdkJ0bUIsRUFBdUJzbUIsRUFBQSxHQUFBN29CLFVBQUE2b0IsR0FDM0UsTUFBTWtJLEVBQVV4dUIsRUFBTzh1QixPQUNuQixDQUFDQyxFQUFLbmdCLEVBQUdpQyxJQUFRa2UsRUFuQkl4MEIsS0FDekIsR0FBSUEsYUFBaUJnMEIsR0FDbkIsT0FBT2gwQixFQUFNaTBCLFFBRWIsTUFBTSxJQUFJM21CLE1BQUosbUVBQUEyRSxPQUVFalMsRUFGRix1R0FlbUJ5MEIsQ0FBa0JwZ0IsR0FBSytRLEVBQVE5TyxFQUFNLEdBQzVEOE8sRUFBUSxJQUNaLE9BQU8sSUFBSTRPLEdBQVVDLEVBQVNGLE1DbEQvQnAxQixPQUFNLHFCQUEyQkEsT0FBTSxtQkFBeUIsS0FDNURvSCxLQUFLLFNBdUJWLE1BQU0ydUIsR0FBaUJ0SCxHQUNuQkEsRUFBT3VILEtBQU92SCxFQUFPdUgsS0FBS0MsS0FmOUIsU0FBU0MsRUFDTHpILEdBQWdELElBQXhCcHFCLEVBQXdCRSxVQUFBekIsT0FBQSxRQUFBOEQsSUFBQXJDLFVBQUEsR0FBQUEsVUFBQSxHQUFGLEdBQ2hELElBQUssSUFBSW5FLEVBQUksRUFBRzBDLEVBQVMyckIsRUFBTzNyQixPQUFRMUMsRUFBSTBDLEVBQVExQyxJQUFLLENBQ3ZELE1BQU1pQixFQUFRb3RCLEVBQU9ydUIsR0FDakIySyxNQUFNeEksUUFBUWxCLEdBQ2hCNjBCLEVBQVU3MEIsRUFBT2dELEdBRWpCQSxFQUFPK0MsS0FBSy9GLEdBR2hCLE9BQU9nRCxFQUtpQzZ4QixDQUFVekgsR0FFOUMsTUFBTzBILFdBQW1CM0YsR0EwQnBCdEssa0JBQ1JxRixNQUFNMkYsV0FHTnBpQixLQUFLc25CLFFBQ0R0bkIsS0FBSzdNLGVBQWVxdEIsMEJBQTBCLFNBQVV4Z0IsT0FDeERBLEtBQUt1bkIsbUJBQ0x2bkIsS0FBS3NuQixTQUFXLEdBSWRsUSwwQkFPTixNQUFNb1EsRUFBYXhuQixLQUFLMmYsT0FDbEJBLEVBQXNCLEdBQzVCLEdBQUkxakIsTUFBTXhJLFFBQVErekIsR0FBYSxDQUNWUCxHQUFjTyxHQU1MQyxZQUFZLENBQUNwdkIsRUFBS2hGLEtBQzVDZ0YsRUFBSXFuQixJQUFJcnNCLEdBRURnRixHQUNOLElBQUlrbkIsS0FFRTFyQixRQUFTK1MsR0FBTStZLEVBQU9wYyxRQUFRcUQsU0FDOUI0Z0IsR0FDVDdILEVBQU9ybkIsS0FBS2t2QixHQUVkLE9BQU83SCxFQWdCQ3ZJLGFBQ1JxRixNQUFNeUYsYUFDTGxpQixLQUFrRDBuQixXQUMvQzFuQixLQUFLMm5CLG1CQUlMejJCLE9BQU8wMkIsWUFBYzVuQixLQUFLMG5CLHNCQUFzQngyQixPQUFPMDJCLFlBQ3pENW5CLEtBQUs2bkIsY0FXQ3pRLG1CQUNSLE9BQU9wWCxLQUFLOG5CLGFBQWEsQ0FBQ3IxQixLQUFNLFNBWXhCMmtCLGNBQ1IsTUFBTXVJLEVBQVUzZixLQUFLNkMsWUFBa0N5a0IsUUFDakMsSUFBbEIzSCxFQUFPM3JCLGNBUWE4RCxJQUFwQjVHLE9BQU8rdEIsVUFBMkIvdEIsT0FBTyt0QixTQUFTcUIsYUFHM0M2RixHQUNSbm1CLEtBQUswbkIsV0FBMEJLLG1CQUM1QnBJLEVBQU8xbkIsSUFBSzVFLEdBQU1BLEVBQUVxekIsWUFJeEIxbUIsS0FBS2dvQiw4QkFBK0IsRUFScEM5MkIsT0FBTyt0QixTQUFTZ0osWUFBWUMsc0JBQ3hCdkksRUFBTzFuQixJQUFLNUUsR0FBTUEsRUFBRW16QixTQUFVeG1CLEtBQUttb0IsWUFXM0MvUSxvQkFDRXFGLE1BQU0yTCxvQkFHRnBvQixLQUFLNGtCLGlCQUFrQzlzQixJQUFwQjVHLE9BQU8rdEIsVUFDNUIvdEIsT0FBTyt0QixTQUFTb0osYUFBYXJvQixNQVV2Qm9YLE9BQU8yTixHQUNmdEksTUFBTW5qQixPQUFPeXJCLEdBQ2IsTUFBTXVELEVBQWlCdG9CLEtBQUt1b0IsU0FDeEJELGFBQTBCbE8sR0FDM0JwYSxLQUFLNkMsWUFDRDBsQixPQUNHRCxFQUNBdG9CLEtBQUswbkIsV0FDTCxDQUFDM0ksVUFBVy9lLEtBQUttb0IsVUFBV2xMLGFBQWNqZCxPQUtoREEsS0FBS2dvQiwrQkFDUGhvQixLQUFLZ29CLDhCQUErQixFQUNuQ2hvQixLQUFLNkMsWUFBa0N5a0IsUUFBU3p6QixRQUFTUixJQUN4RCxNQUFNbUcsRUFBUW5FLFNBQVN1TCxjQUFjLFNBQ3JDcEgsRUFBTWdJLFlBQWNuTyxFQUFFbXpCLFFBQ3RCeG1CLEtBQUswbkIsV0FBVzNtQixZQUFZdkgsTUFVeEI0ZCxXQTVLT2lRLEdBQUFwRSxXQUFZLEVBVXRCb0UsR0FBQWtCLE9Kd0tMLEVBQUNoekIsRUFDQW9oQixFQUNBM2EsS0FDQyxNQUFNK2lCLEVBQVkvaUIsRUFBUStpQixVQUNwQnlKLEVBQWNySyxFQUFNaG1CLElBQUl3ZSxHQUN4QjhSLEVBQWV6SixHQUNNLEtBQXZCckksRUFBVWtCLFlBQ1BsQixFQUF5QjlPLE1BQVF0UyxhQUFrQjZrQixFQUVwRHNPLEVBQW1CRCxJQUFpQm5KLEVBQWVubkIsSUFBSTRtQixHQUd2RDRKLEVBQ0ZELEVBQW1CcnpCLFNBQVN1ekIseUJBQTJCalMsRUFlM0QsR0hyT0YsRUFBQ3BoQixFQUNBb2hCLEVBQ0EzYSxLQUNDLElBQUltZCxFQUFPZ0YsRUFBTWhzQixJQUFJd2tCLFFBQ1I3ZSxJQUFUcWhCLElBQ0Z6QyxFQUFZQyxFQUFXQSxFQUFVMEosWUFDakNsQyxFQUFNOWxCLElBQUlzZSxFQUFXd0MsRUFBTyxJQUFJa0MsRUFBUXJwQixPQUFBK0csT0FBQSxDQUNqQmtqQixtQkFDR2pnQixLQUUxQm1kLEVBQUswUCxXQUFXbFMsSUFFbEJ3QyxFQUFLTSxTQUFTbGtCLEdBQ2Q0akIsRUFBS08sVUcwTUw2TyxDQUNJaHpCLEVBQ0FvekIsRUFDQTMyQixPQUFBK0csT0FBQSxDQUFDa2pCLGdCQUFpQmtELEVBQXFCSixJQUFlL2lCLElBV3REMHNCLEVBQWtCLENBQ3BCLE1BQU12UCxFQUFPZ0YsRUFBTWhzQixJQUFJdzJCLEdBQ3ZCeEssRUFBTTVsQixPQUFPb3dCLEdBQ1R4UCxFQUFLNW1CLGlCQUFpQjhtQixHQUN4Qm1HLEVBQ0ltSixFQUNBeFAsRUFBSzVtQixNQUFNK21CLFNBQ1h5RixHQUVOckksRUFBWUMsRUFBV0EsRUFBVTBKLFlBQ2pDMUosRUFBVTVWLFlBQVk0bkIsR0FDdEJ4SyxFQUFNOWxCLElBQUlzZSxFQUFXd0MsSUFRbEJxUCxHQUFlQyxHQUNsQnYzQixPQUFPK3RCLFNBQVVvSixhQUFjMVIsRUFBeUI5TywrQkt0UnpELE1BQU1paEIsR0FBYWozQixJQUN0QixJQUFLLE1BQU11WCxLQUFVL1QsU0FBUytULE9BQU9uQyxNQUFNLEtBQU0sQ0FDN0MsTUFBTTRCLEVBQU1PLEVBQU9oUixRQUFRLEtBQzNCLElBQUl2RixFQUFNdVcsRUFBT2pDLE9BQU8sRUFBRzBCLEdBQ3ZCdFcsRUFBUTZXLEVBQU9qQyxPQUFPMEIsRUFBTSxHQU1oQyxHQUhBaFcsRUFBTUEsRUFBSWlELE9BQ1Z2RCxFQUFRQSxFQUFNdUQsT0FFVmpELElBQVFoQixFQUNSLE9BQU9VLEVBR2YsT0FBTyxNQU9FdzJCLEdBQWM5d0IsSUFDdkIsTUFBTSt3QixFQUF1QixHQUM3QmgzQixPQUFPK0YsS0FBS0UsR0FBS3BFLFFBQVNvMUIsSUFDbEJoeEIsRUFBSWd4QixJQUNKRCxFQUFXMXdCLEtBQUsyd0IsS0FJeEIsSUFBSTF6QixFQUFTeXpCLEVBQVdsaUIsS0FBSyxLQUk3QixPQUhJdlIsRUFBT08sT0FBTzlCLE9BQVMsSUFDdkJ1QixFQUFTLElBQU1BLEdBRVpBLEdBR0UyekIsR0FBZ0I1ckIsR0FDbEIsSUFBSVQsUUFBbUIsQ0FBQ0MsRUFBU0MsS0FDcENvc0IsR0FBTzdyQixHQUNGK0IsS0FBTWhCLElBQ0h2QixFQUFRLENBQ0pzc0IsT0FBUS9xQixFQUFTekgsS0FBS3l5QixRQUN0QnJjLEtBQU0zTyxFQUFTekgsS0FBS29XLFNBRzNCc2MsTUFBTTFwQixHQUFTN0MsRUFBTzZDLE1BbUJ0QnVwQixHQUFTLFNBQ2xCN3JCLEdBRXdCLElBRHhCNkIsRUFDd0IxSixVQUFBekIsT0FBQSxRQUFBOEQsSUFBQXJDLFVBQUEsR0FBQUEsVUFBQSxHQURHLEtBRTNCLE1BQU04ekIsRUFBT1QsR0FBVSxhQUVqQmxzQixFQUE2QixDQUFFckcsUUFEckJnekIsRUFBTyxDQUFFQyxjQUFlRCxHQUFTLElBS2pELE9BSElwcUIsSUFDQXZDLEVBQU91QyxZQUFjQSxHQUVsQnNxQixHQUFBOXpCLEVBQU14RCxJQUFJbUwsRUFBS1Ysb2pKQzlFMUIsSUFBcUI4c0IsR0FBckIsY0FBeUNyQyxHQXVKdkNqUSxjQUNFcUYsUUFmRnpjLEtBQUFpSixLQUE0QixHQXZJNUIwVyxvQkFDRSxPQUFPa0gsR0FBUDhDLE1Bd0pLdlMsUUFBUTJOLEdBRWIsR0FBSUEsRUFBa0I1c0IsSUFBSSxTQUFVLENBRWxDLE1BQU15eEIsRUFBVSxHQUNoQixJQUFLLElBQUlDLEtBQVc3cEIsS0FBS2lKLEtBRXZCLEdBREEyZ0IsRUFBUXR4QixLQUFLdXhCLEdBQ1RBLEVBQVFDLFNBQVc5cEIsS0FBSytwQixNQUcxQixPQUZBL3BCLEtBQUtpSixLQUFPLElBQUkyZ0IsUUFDaEI1cEIsS0FBS2dxQixrQkFLVGhxQixLQUFLaXFCLGdCQUlEN1MsZUFDTitSLEdBQU9ucEIsS0FBS2txQixjQUFnQixjQUFnQmxxQixLQUFLK3BCLE1BQVEsS0FBSzFxQixLQUFNaEIsSUFDbEUyQixLQUFLaUosS0FBTzVLLEVBQVN6SCxLQUNyQm9KLEtBQUtncUIsb0JBT0Q1Uyx1QkFDTmxtQixPQUFPK1MsV0FBVyxLQUNoQmttQixLQUFTbnFCLEtBQUtvcUIsV0FBVzNwQixjQUFjLGFBQ3ZDMHBCLEdBQUF4MEIsRUFBUzJELE9BQU8wRyxLQUFLb3FCLFdBQVczcEIsY0FBYyxjQUM3QyxHQUdHMlcsaUJBQWlCeVMsR0FDdkI3cEIsS0FBS3FxQixRQUFVLEtBQ1ZSLEdBQVdBLEVBQVFDLFNBQVc5cEIsS0FBSytwQixRQUN0Qy9wQixLQUFLK3BCLE1BQVFGLEVBQVFDLFFBSWpCMVMsbUJBQW1CeVMsR0FDekI3cEIsS0FBSytwQixNQUFRRixFQUFRQyxPQUdmMVMsc0JBQXNCdmUsR0FDNUIsTUFBTXl4QixFQUFZenhCLEVBQUkweEIsT0FBT0MsU0FDN0J4cUIsS0FBS3lxQixnQkFBZ0JILEdBR2ZsVCxjQUFjeVMsRUFBNEJhLEdBQ2hELE1BQU1DLEVBQWtCM3FCLEtBQUtpSixLQUFLakosS0FBS2lKLEtBQUtqVixPQUFTLEdBQy9DNDJCLEdBQWNmLEVBQVFnQixjQUFrQyxJQUFsQmhCLEVBQVE5VyxRQUFnQjhXLElBQVljLEVBQzFFRyxFQUFrQjFNLEVBQUgyTSxLQUdGLEtBQVlsQixFQUFROVcsTUFBUSxJQUFLL1MsS0FBS3FxQixRQUFVUixJQUNqRCxLQUFRN3BCLEtBQUtxcUIsUUFBVSxNQUNwQlIsRUFBUTlXLE1BS0c2WCxFQUFZLFlBQWMsR0FDM0MsS0FBWUEsR0FBWTVxQixLQUFLZ3JCLG1CQUFtQm5CLElBQ3ZEQSxFQUFRaDRCLEtBSVJnNEIsRUFBUW9CLFFBQVFoa0IsTUFBTSxNQUFNaFAsSUFBS2l6QixHQUFnQkEsRUFBTXAxQixPQUFPOUIsT0FBUyxFQUFJb3FCLEVBQTFCK00sS0FDaEIsS0FBS25yQixLQUFLeXFCLGdCQUFnQlosSUFBOEJxQixHQUN4RixNQUVEckIsRUFBUTlXLE1BQVEsRUFBSXFMLEVBQXBCZ04sS0FDZ0R2eUIsSUFBcUJtSCxLQUFLeXFCLGdCQUFnQlosR0FBVWh4QixFQUFJd3lCLGlCQUFrQnh5QixFQUFJeXlCLG9CQUV2SCxJQVFUQyxHQUFvQjFCLEVBQVEyQixVQUFZLElBQUl2ekIsSUFBS3d6QixHQUVqRGYsRUFBYzEyQixPQUFTLEdBQU0wMkIsRUFBYyxHQUFHWixTQUFXMkIsRUFBTTNCLE9BQzFEOXBCLEtBQUswckIsY0FBY2hCLEVBQWMsR0FBSUEsRUFBYzNuQixNQUFNLElBR3JDLElBQXpCMm5CLEVBQWMxMkIsUUFBcUQsSUFBckMwMkIsRUFBYyxHQUFHYyxTQUFTeDNCLE9BQ25EZ00sS0FBSzByQixjQUFjRCxFQUFPZixHQUc1QixNQUlULE9BQU90TSxFQUFQdU4sS0FDSWIsRUFDQVMsR0FJQ25VLGdCQUFnQnlTLEdBQ3JCN3BCLEtBQUs0ckIsWUFBYy9CLEVBQ25CLE1BQU1nQyxFQUFjN3JCLEtBQUtvcUIsV0FBVzBCLGVBQWUsZ0JBQy9DRCxJQUNGN3JCLEtBQUsrckIsdUJBQ0xGLEVBQVlsa0IsYUFBYSxPQUFRLEtBSTlCeVAsa0JBQ0wsTUFBTXlVLEVBQWM3ckIsS0FBS29xQixXQUFXMEIsZUFBZSxnQkFDL0NELEdBQ0ZBLEVBQVl2VCxnQkFBZ0IsUUFHOUJ0WSxLQUFLZ3NCLGdCQUdDNVUsY0FDTixPQUFPcFgsS0FBS2lzQixVQUFhanNCLEtBQUtpc0IsU0FBU2pVLFNBQVMsS0FBYSxHQUFOLEtBR2pEWixrQkFBa0I4VSxHQUN4QixHQUFvQixTQUFoQkEsRUFBT3I2QixLQUFpQixDQUMxQnE2QixFQUFPQyxhQUFZLEdBQ25CLE1BQ01sQixFQURXanJCLEtBQUtvcUIsV0FBVzBCLGVBQWU5ckIsS0FBSzRyQixZQUFZOUIsUUFDeEN2M0IsTUFDbkI2NUIsRUFBVSxDQUFFdEMsT0FBVzlwQixLQUFLNHJCLFlBQVk5QixPQUFRbUIsV0Q5TXJDLEVBQUMzdEIsRUFBYTh1QixLQUNqQyxNQUFNN0MsRUFBT1QsR0FBVSxhQUNqQnZ5QixFQUFVZ3pCLEVBQU8sQ0FBRUMsY0FBZUQsR0FBUyxHQUNqRCxPQUFPRSxHQUFBOXpCLEVBQU0wMkIsS0FBSy91QixFQUFLOHVCLEVBQVMsQ0FBRTcxQixhQzRNaEMrMUIsQ0FBUXRzQixLQUFLa3FCLGNBQWdCLGNBQWlCbHFCLEtBQUs0ckIsWUFBWTlCLE9BQVMsSUFBS3NDLEdBQVMvc0IsS0FBTWhCLElBQzFGMkIsS0FBS2lxQixpQkFJVSxXQUFoQmlDLEVBQU9yNkIsTUFDUm1PLEtBQUtncUIsa0JBSUQ1UyxtQkFBbUJtVixFQUEyQi9CLEdBQ3BELE1BQU1oeEIsRUFBUTRrQixFQUFIb08sTUFVTHZCLEVBRFlzQixFQUFPdEIsUUFBUWhrQixNQUFNLE1BQ2JoUCxJQUFLaXpCLEdBQWdCQSxFQUFNcDFCLE9BQU85QixPQUFTLEVBQUlvcUIsRUFBMUJxTyxLQUE4RHZCLEdBQW9CLE1BQ2pJLE9BQU85TSxFQUFQc08sS0FBY2x6QixFQUEwQit5QixFQUFPdGpCLEtBQUtqVCxRQUFRLE1BQU8sS0FBa0NpMUIsR0FHaEc3VCxTQUNMLEdBQXlCLElBQXJCcFgsS0FBS2lKLEtBQUtqVixPQUNaLE9BQU9vcUIsRUFBUHVPLE1BSUYsTUFBTWhDLEVBQWtCM3FCLEtBQUtpSixLQUFLakosS0FBS2lKLEtBQUtqVixPQUFTLEdBQy9DNDRCLEVBQWlELElBQXBDakMsRUFBZ0JhLFNBQVN4M0IsT0FBZWdNLEtBQUtpSixLQUFLakosS0FBS2lKLEtBQUtqVixPQUFTLEdBQUsyMkIsRUFFdkZrQyxFQUFnQjdzQixLQUFLNHJCLFlBQWM1ckIsS0FBSzRyQixZQUFZOUIsT0FBUyxLQUM3RGdELEVBQWtCOXNCLEtBQUs0ckIsWUFBYzVyQixLQUFLNHJCLFlBQVkvNUIsS0FBTyxLQUM3RGs3QixFQUFxQi9zQixLQUFLNHJCLFlBQWM1ckIsS0FBSzRyQixZQUFZWCxRQUFVLEtBQ3pFLE9BQU83TSxFQUFQNE8sS0FLb0JodEIsS0FBS2txQixjQUEyQmxxQixLQUFLaUosS0FBSyxHQUFHNmdCLE9BQ25DOXBCLEtBQUtpdEIsbUJBQ1hqdEIsS0FBS2t0QixzQkFBc0JwNkIsS0FBS2tOLE1BSWhEQSxLQUFLMHJCLGNBQWMxckIsS0FBS2lKLEtBQUssR0FBSWpKLEtBQUtpSixLQUFLbEcsTUFBTSxJQU14Qy9DLEtBQUtrcUIsY0FDTDBDLEVBQ0ZBLEVBQVc5QyxPQUNUOXBCLEtBQUtxcUIsUUFDSXJxQixLQUFLbXRCLGlCQUFpQnI2QixLQUFLa04sTUFLNUI4c0IsRUFFRjlzQixLQUFLb3RCLGtCQUFrQnQ2QixLQUFLa04sTUFHN0I2c0IsRUFBeUJFLEVBRWJELEtBN05wQ08sR0FBQSxDQURDcDZCLEdBQVMsQ0FBQzJhLEtBQU0zUixNQUFPK2tCLFdBQVcsaUNBSW5DcU0sR0FBQSxDQURDcDZCLHNDQUlEbzZCLEdBQUEsQ0FEQ3A2QixtQ0FJRG82QixHQUFBLENBRENwNkIsR0FBUyxDQUFDMmEsS0FBTTViLHlDQUlqQnE3QixHQUFBLENBRENwNkIsR0FBUyxDQUFDMmEsS0FBTTViLDZDQXBKRTAzQixHQUFXMkQsR0FBQSxDQUQvQmhJLEdBQWMsaUJBQ01xRSxzaEVDTHJCLElBQXFCNEQsR0FBckIsY0FBb0NqRyxHQUVsQzFILG9CQUNFLE9BQU9rSCxHQUFQMEcsTUFnRktuVyxZQUFZb1csR0FDakJ4dEIsS0FBS3l0QixXQUFhRCxFQUdacFcsWUFBWXVHLEdBQ0EsVUFBZEEsRUFBTTlxQixLQUNSbU4sS0FBSzB0QixRQUlGdFcsU0FDSCxPQUFPZ0gsRUFBUHVQLEtBRU01RSxHQUFXLENBQ2J5RSxTQUFZeHRCLEtBQUt5dEIsV0FDakJHLFFBQVc1dEIsS0FBSzR0QixRQUNoQkMsVUFBYTd0QixLQUFLNnRCLFlBR1Q3dEIsS0FBSzh0QixZQUdWOXRCLEtBQUt5dEIsWUFBYXp0QixLQUFLK3RCLGVBQTZCL3RCLEtBQUtuTyxRQXBDckVtOEIsR0FBQSxDQURDLzZCLEdBQVMsQ0FBQzJhLEtBQU0rUywwQ0FJakJxTixHQUFBLENBREMvNkIsR0FBUyxDQUFDMmEsS0FBTStTLDRDQUlqQnFOLEdBQUEsQ0FEQy82QixrQ0FJRCs2QixHQUFBLENBREMvNkIsMkNBSUQrNkIsR0FBQSxDQURDLzZCLEdBQVMsQ0FBQzJhLEtBQU0rUyw2Q0FoRkUyTSxHQUFNVSxHQUFBLENBRDFCM0ksR0FBYyxjQUNNaUksZ25FQ0NyQixJQUFxQlcsR0FBckIsY0FBb0M1RyxHQTRFbENqUSxjQUNFcUYsUUFaRnpjLEtBQUFrdUIsa0JBQTRCLEtBRzVCbHVCLEtBQUFtdUIsaUJBQTJCLFNBRzNCbnVCLEtBQUFvdUIsZUFBeUIsU0FyRXpCek8sb0JBQ0UsT0FBT2tILEdBQVB3SCxNQTZFS2pYLFFBQVEyTixHQUNiLEdBQUlBLEVBQWtCNXNCLElBQUksU0FFcEI2SCxLQUFLbkMsS0FBTSxDQUNibUMsS0FBS29xQixXQUFXeEssaUJBQWlCLGFBQWEvckIsUUFBU3E0QixHQUFpQkEsRUFBT0MsYUFBWSxJQUMzRixNQUFNbUMsRUFBU3R1QixLQUFLNGYsaUJBQWlCLGtCQUNqQzBPLEVBQU90NkIsT0FBUyxHQUNsQjlDLE9BQU8rUyxXQUFXLEtBQ2ZxcUIsRUFBTyxHQUFXQyxTQUNsQixNQU1KblgsWUFBWXZlLEdBQ2pCLE1BQU1xekIsRUFBU3J6QixFQUFJMjFCLGNBQ2R0QyxFQUFPdUIsWUFDVnp0QixLQUFLeXVCLGdCQUFnQnZDLEdBSWpCOVUsb0JBQ04sTUFBTXRXLEVBQU96TCxTQUFTeUwsS0FDaEJ3SyxFQUFPalcsU0FBU2dHLGdCQUN0QixPQUFPRSxLQUFLbXpCLElBQUk1dEIsRUFBS25HLGFBQWNtRyxFQUFLbkYsYUFBYzJQLEVBQUtxakIsYUFBY3JqQixFQUFLM1EsYUFBYzJRLEVBQUszUCxjQUczRnliLFlBQVl1RyxHQUNBLFdBQWRBLEVBQU05cUIsS0FFUm1OLEtBQUtvcUIsV0FBV3hLLGlCQUFpQixhQUFhL3JCLFFBQzNDcTRCLElBQXVCQSxFQUFPcjZCLE9BQVNtTyxLQUFLbXVCLGtCQUFtQmpDLEVBQU93QixVQUt0RXRXLFNBRUwsTUFBTTFkLEVBQVNzRyxLQUFLNHVCLG9CQUVwQixPQUFPeFEsRUFBUHlRLEtBR2tCbjFCLEVBQVMsSUFNSnNHLEtBQUtuQyxLQUFPLE9BQVMsR0FDeEJtQyxLQUFLOHRCLFlBRU05dEIsS0FBS2tGLE1BRUVsRixLQUFLOHRCLFlBQWU5dEIsS0FBS2MsS0FBT2QsS0FBS2MsS0FBT3NkLEVBQXhCMFEsTUFFNUI5dUIsS0FBSyt1QixZQUFvQi91QixLQUFLa3VCLGtCQUFtQ2x1QixLQUFLb3VCLGVBQ3RFcHVCLEtBQUsrdUIsWUFBb0IvdUIsS0FBS211QixvQkFsRjlEYSxHQUFBLENBREMvN0IsR0FBUyxDQUFDMmEsS0FBTytTLHVDQUlsQnFPLEdBQUEsQ0FEQy83QixtQ0FJRCs3QixHQUFBLENBREMvN0Isa0NBSUQrN0IsR0FBQSxDQURDLzdCLCtDQUlEKzdCLEdBQUEsQ0FEQy83QixHQUFTLENBQUMyYSxLQUFNakYsa0RBSWpCcW1CLEdBQUEsQ0FEQy83Qiw0Q0FJRCs3QixHQUFBLENBREMvN0IsR0FBUyxDQUFDK3RCLFdBQVcsNENBekVIaU4sR0FBTWUsR0FBQSxDQUQxQjNKLEdBQWMsY0FDTTRJLElDR1AsTUFBT2dCLFdBQXFCNUgsR0FFakNqUSxtQkFDTCxNQUFPLEdBR1RBLG9CQUNFcUYsTUFBTTJMLG9CQUNOLElBQUssTUFBTThHLEtBQVdsdkIsS0FBS212QixtQkFDekI5NUIsU0FBUzBFLGlCQUFpQm0xQixFQUFRdlIsTUFBT3VSLEVBQVF4M0IsT0FBTzVFLEtBQUtrTixPQUlqRW9YLHVCQUNFLElBQUssTUFBTThYLEtBQVdsdkIsS0FBS212QixtQkFDekI5NUIsU0FBU29FLG9CQUFvQnkxQixFQUFRdlIsTUFBT3VSLEVBQVF4M0IsUUFFdEQra0IsTUFBTTJTLHVCQUdEaFksVUFBVXhKLEdBQXVDLElBQWhCMmMsRUFBZ0I5MEIsVUFBQXpCLE9BQUEsUUFBQThELElBQUFyQyxVQUFBLEdBQUFBLFVBQUEsR0FBRixHQUNwRCxNQUFNa29CLEVBQVEsSUFBSTBSLFlBQVl6aEIsRUFBTSxDQUNoQzJjLFNBQ0EzeEIsU0FBUyxFQUNUMDJCLFVBQVUsSUFFZHR2QixLQUFLcEUsY0FBYytoQixzZ0VDOUJ2QixJQUFxQjRSLEdBQXJCLGNBQXVDTixHQUR2QzdYLGtDQXdERXBYLEtBQUF3dkIsWUFBc0IsR0FHdEJ4dkIsS0FBQXpOLE1BQWdCLEdBekRoQm90QixvQkFDRSxPQUFPa0gsR0FBUDRJLE1BNkRLclksYUFBYXNZLEdBQ2xCalQsTUFBTXdJLGFBQWF5SyxHQUNuQjF2QixLQUFLMnZCLGFBQWUzdkIsS0FBS29xQixXQUFXM3BCLGNBQWMsY0FHN0MyVyxTQUNMLE9BQU9nSCxFQUFQd1IsS0FHYzV2QixLQUFLNnZCLFNBQVcsT0FBUyxPQUdELEtBQU83dkIsS0FBS29xQixXQUFXM3BCLGNBQWMsY0FBbUM4dEIsU0FDMUd2dUIsS0FBSzZ2QixTQUFXelIsRUFBaEIwUixLQUVXOXZCLEtBQUt6TixNQUNBeU4sS0FBS3d2QixhQUVuQnBSLEVBTEYyUixLQU9XL3ZCLEtBQUt6TixNQUNBeU4sS0FBS3d2QixnQkFoQzNCUSxHQUFBLENBREMvOEIsR0FBUyxDQUFDMmEsS0FBTStTLDJDQUlqQnFQLEdBQUEsQ0FEQy84QixHQUFTLENBQUMyYSxLQUFNakYsNkNBSWpCcW5CLEdBQUEsQ0FEQy84QixHQUFTLENBQUMyYSxLQUFNakYsdUNBSWpCcW5CLEdBQUEsQ0FEQy84QixHQUFTLENBQUMyYSxLQUFNNWIsOENBNURFdTlCLEdBQVNTLEdBQUEsQ0FEN0IzSyxHQUFjLGlCQUNNa0ssZzVEQ0NyQixJQUFxQlUsR0FBckIsY0FBbUM1SSxHQUVqQzFILG9CQUNFLE9BQU9rSCxHQUFQcUosTUEyRUs5WSxTQUNMLE9BQU9nSCxFQUFQK1IsS0FDSW53QixLQUFLZ0MsaUJBQW1CaEMsS0FBS293QixVQUFZaFMsRUFBekNpUyxLQUdrQnJ3QixLQUFLZ0MsZ0JBQ1ZoQyxLQUFLb3dCLFdBR2pCLEtBRWlCckgsR0FBVyxDQUM3QjZCLFVBQWE1cUIsS0FBSzRxQixVQUNsQmdELFFBQVc1dEIsS0FBSzR0QixRQUNoQkMsVUFBYTd0QixLQUFLNnRCLFVBQ2xCeUMsTUFBU3R3QixLQUFLc3dCLE1BQ2RDLEtBQVF2d0IsS0FBS3V3QixVQXBDbkJDLEdBQUEsQ0FEQ3Y5QixHQUFTLENBQUMyYSxLQUFNK1MsNENBSWpCNlAsR0FBQSxDQURDdjlCLEdBQVMsQ0FBQzJhLEtBQU0rUywwQ0FJakI2UCxHQUFBLENBREN2OUIsR0FBUyxDQUFDMmEsS0FBTStTLDRDQUlqQjZQLEdBQUEsQ0FEQ3Y5QixHQUFTLENBQUMyYSxLQUFNK1Msd0NBSWpCNlAsR0FBQSxDQURDdjlCLEdBQVMsQ0FBQzJhLEtBQU0rUyx1Q0FJakI2UCxHQUFBLENBREN2OUIsNkNBSUR1OUIsR0FBQSxDQURDdjlCLHVDQTNFa0IsSUNPVHc5QixHRFBTUixHQUFLTyxHQUFBLENBRHpCbkwsR0FBYyxhQUNNNEsscytEQ09yQixTQUFZUSxHQUNSQSxFQUFBLHVCQUNBQSxFQUFBLGtDQUNBQSxFQUFBLHlCQUhKLENBQVlBLFFBQWUsZ1ZDUDNCLElBQXFCQyxHQUFyQixjQUFxQ3pCLEdBRHJDN1gsa0NBc0VFcFgsS0FBQTJ3QixZQUFzQixFQW5FdEJoUixvQkFDRSxPQUFPa0gsR0FBUCtKLE1BZ0ZLeFosUUFBUTJOLEdBSWIsR0FIQXRJLE1BQU15SSxRQUFRSCxHQUdYQSxFQUFrQjVzQixJQUFJLGVBQWdCLENBQ3ZDLE1BQU0wNEIsRUFBYTd3QixLQUFLb3FCLFdBQVczcEIsY0FBYyxZQUNqRCxHQUFJb3dCLEVBQVksQ0FDZCxNQUFNQyxFQUFhOXdCLEtBQUtvcUIsV0FBVzNwQixjQUFjLFlBQzNDc3dCLEVBQWtCRCxFQUFVRSx3QkFBd0J0M0IsT0FDcER1M0IsRUFBbUJKLEVBQVdHLHdCQUF3QnQzQixPQUU1RCxHQUFJbTNCLEVBQVdodkIsVUFBWW92QixFQUFtQkgsRUFBVTcxQixVQUFZODFCLEVBQWtCLEVBQUcsQ0FDdkYsTUFBTUcsRUFBV0wsRUFBV2h2QixVQUFZa3ZCLEVBQWtCRSxFQUFtQixFQUM3RUgsRUFBVTcxQixVQUFZaTJCLE9BQ2pCLEdBQUlMLEVBQVdodkIsVUFBWWl2QixFQUFVNzFCLFVBQVcsQ0FDckQsTUFBTWkyQixFQUFXTCxFQUFXaHZCLFVBQVksRUFDeENpdkIsRUFBVTcxQixVQUFZaTJCLElBS3pCbk0sRUFBa0I1c0IsSUFBSSxhQUN2QjZILEtBQUtteEIsb0JBQ0xueEIsS0FBSzJ3QixZQUFjLEdBSWZ2WixvQkFBb0JtVixFQUFhL0IsR0FDdkMsTUFBTTRHLEVBQW9CcHhCLEtBQUtveEIsa0JBQW9CcHhCLEtBQUtxeEIsd0JBQ2xEcEUsRUFBc0JqdEIsS0FBS2l0QixvQkFBc0JqdEIsS0FBS3N4QiwwQkFDNUQsT0FBSTlHLEVBQ0twTSxFQUFQbVQsS0FBZ0NILEVBQWlCN0UsRUFBUS9CLEdBQXNDeUMsRUFBbUJWLEVBQVEvQixJQUVuSHBNLEVBQVBvVCxLQUFnQ0osRUFBaUI3RSxFQUFRL0IsSUFJckRwVCx3QkFBd0JtVixFQUFhL0IsR0FDM0MsT0FBT3BNLEVBQVBxVCxLQUFjbEYsRUFBTzE2QixNQUdmdWxCLDBCQUEwQm1WLEVBQWEvQixHQUM3QyxPQUFPcE0sRUFBUHNULEtBQWNuRixFQUFPaEMsUUFHZm5ULGtCQUF1QyxJQUF2QnVhLEVBQXVCbDhCLFVBQUF6QixPQUFBLFFBQUE4RCxJQUFBckMsVUFBQSxJQUFBQSxVQUFBLEdBQzdDLE1BQU0rMEIsRUFBV3hxQixLQUFLaEUsUUFBUWdFLEtBQUsyd0IsYUFDbkMzd0IsS0FBSzR4QixVQUFVbkIsR0FBZ0JvQixVQUFXLENBQUVySCxXQUFVbUgsV0FHaER2YSxXQUFXMGEsR0FDakIsTUFBTUMsRUFBV3gyQixLQUFLbXpCLElBQUluekIsS0FBS3kyQixJQUFJaHlCLEtBQUsyd0IsWUFBY21CLEVBQVc5eEIsS0FBS2hFLFFBQVFoSSxPQUFTLEdBQUksR0FDM0ZnTSxLQUFLaXlCLFVBQVVGLEdBR1QzYSxVQUFVMmEsR0FDWkEsSUFBYS94QixLQUFLMndCLGNBQ3BCM3dCLEtBQUsyd0IsWUFBY29CLEVBQ25CL3hCLEtBQUs0eEIsVUFBVW5CLEdBQWdCeUIsY0FBZSxDQUFFMTVCLE1BQU91NUIsS0FJbkQzYSxjQUFjdmUsR0FDaEJtSCxLQUFLbXlCLFVBQ0Z0NUIsRUFBSXU1QixTQUF1QixNQUFadjVCLEVBQUloRyxLQUE0QixjQUFaZ0csRUFBSWhHLEtBQzFDbU4sS0FBS3F5QixXQUFXLEdBQ2hCeDVCLEVBQUl3eUIsa0JBQ014eUIsRUFBSXU1QixTQUF1QixNQUFadjVCLEVBQUloRyxLQUE0QixZQUFaZ0csRUFBSWhHLEtBQ2pEbU4sS0FBS3F5QixZQUFZLEdBQ2pCeDVCLEVBQUl3eUIsa0JBQ2lCLFVBQVp4eUIsRUFBSWhHLEtBQStCLFFBQVpnRyxFQUFJaEcsTUFDcENtTixLQUFLc3lCLGdCQUE0QixRQUFaejVCLEVBQUloRyxLQUN6QmdHLEVBQUl3eUIsa0JBR1MsV0FBWnh5QixFQUFJaEcsS0FDTG1OLEtBQUs0eEIsVUFBVW5CLEdBQWdCOEIsV0FLN0JuYixvQkFDTixNQUFNb2IsRUFBZ0J4eUIsS0FBS29xQixXQUFXM3BCLGNBQWMsWUFBWXV3Qix3QkFDaEUsR0FBSWh4QixLQUFLeXlCLFNBQVUsQ0FDakIsTUFBTUMsRUFBZTF5QixLQUFLeXlCLFNBQVN6Qix3QkFDN0IyQixFQUFTRCxFQUFhOXdCLElBQU00d0IsRUFBYzk0QixPQUM1Q2k1QixFQUFTLEdBQUtELEVBQWFFLE9BQVNKLEVBQWM5NEIsT0FBU3hJLE9BQU8yaEMsWUFDcEU3eUIsS0FBSzRCLElBQU0rd0IsRUFBU3poQyxPQUFPNGhDLFlBRTNCOXlCLEtBQUs0QixJQUFNOHdCLEVBQWFFLE9BQVMxaEMsT0FBTzRoQyxZQUcxQzl5QixLQUFLOEIsS0FBTzR3QixFQUFhNXdCLEtBQ3pCOUIsS0FBS3ZGLE1BQVFpNEIsRUFBYWo0QixPQUl2QjJjLG1CQUNMLE1BQU8sQ0FDTCxDQUFFdUcsTUFBTyxVQUFXam1CLE9BQVFzSSxLQUFLK3lCLGVBQ2pDLENBQUVwVixNQUFPLFNBQVVqbUIsT0FBUXNJLEtBQUtteEIsb0JBSTdCL1osU0FDTCxNQUFNNGIsR0FBZ0JoekIsS0FBS2d6QixjQUFnQmh6QixLQUFLaXpCLHFCQUFxQm5nQyxLQUFLa04sTUFDMUUsT0FBT29lLEVBQVA4VSxLQUdhbHpCLEtBQUs0QixJQUNKNUIsS0FBSzhCLEtBQ0o5QixLQUFLdkYsTUFJTHVGLEtBQUt2RixNQUdNdUYsS0FBS215QixRQUFVLE9BQVEsR0FFekNueUIsS0FBS2hFLFFBQVEvRCxJQUFJLENBQUNzMEIsRUFBYS96QixJQUFnQjRsQixFQUE3QitVLEtBRUZ0NkIsSUFDTjBDLEtBQUs2M0IsSUFBSXY2QixFQUFJdzZCLFdBQWE5M0IsS0FBSzYzQixJQUFJdjZCLEVBQUl5NkIsV0FBYSxHQUN0RHR6QixLQUFLaXlCLFVBQVV6NUIsSUFHWixLQUFLd0gsS0FBS3N5QixtQkFDSDk1QixHQUFTd0gsS0FBSzJ3QixZQUFjLFVBQVksR0FDcERxQyxFQUFhekcsRUFBUS96QixHQUFTd0gsS0FBSzJ3QixrQkE5Sm5ENEMsR0FBQSxDQURDdGdDLEdBQVMsQ0FBQzJhLEtBQU1nVCxxQ0FJakIyUyxHQUFBLENBREN0Z0MsR0FBUyxDQUFDMmEsS0FBTWdULHNDQUlqQjJTLEdBQUEsQ0FEQ3RnQyxHQUFTLENBQUMyYSxLQUFNZ1QsdUNBSWpCMlMsR0FBQSxDQURDdGdDLEdBQVMsQ0FBQzJhLEtBQU01YiwwQ0FJakJ1aEMsR0FBQSxDQURDdGdDLEdBQVMsQ0FBQzJhLEtBQU0rUywwQ0FJakI0UyxHQUFBLENBREN0Z0MsR0FBUyxDQUFDMmEsS0FBTWdULDZDQUlqQjJTLEdBQUEsQ0FEQ3RnQyxHQUFTLENBQUMyYSxLQUFNM1Isd0NBSWpCczNCLEdBQUEsQ0FEQ3RnQyxHQUFTLENBQUMrdEIsV0FBVyx5Q0FJdEJ1UyxHQUFBLENBREN0Z0MsR0FBUyxDQUFDK3RCLFdBQVcsNkNBSXRCdVMsR0FBQSxDQURDdGdDLEdBQVMsQ0FBQyt0QixXQUFXLCtDQWhGSDBQLEdBQU82QyxHQUFBLENBRDNCbE8sR0FBYyxlQUNNcUwsZzZCQ01yQixJQUFxQjhDLEdBQXJCLGNBQW9DdkUsR0FxRGxDN1gsY0FDRXFGLFFBMUNGemMsS0FBQXdxQixTQUFrQixHQUdsQnhxQixLQUFBd3ZCLFlBQXNCLEdBTXRCeHZCLEtBQUF3SSxNQUFnQixHQUdoQnhJLEtBQUFoRSxRQUFpQixHQUdqQmdFLEtBQUF5ekIsWUFBc0IsSUFrQnRCenpCLEtBQUFpdEIsbUJBQStELFNBM0MvRHROLG9CQUNFLE9BQU9rSCxHQUFQNk0sTUFzREt0YyxRQUFRMk4sR0FPYixHQU5BdEksTUFBTXlJLFFBQVFILEdBQ1ZBLEVBQWtCNXNCLElBQUksY0FDeEI2SCxLQUFLd0ksTUFBUSxHQUNieEksS0FBS29xQixXQUFXM3BCLGNBQWMsU0FBU2t6QixRQUdyQzVPLEVBQWtCNXNCLElBQUksV0FBYTRzQixFQUFrQjVzQixJQUFJLFlBQWEsQ0FDeEUsSUFBSzZILEtBQUt3SSxNQUVSLFlBREF4SSxLQUFLaEUsUUFBVSxJQUliZ0UsS0FBSzR6QixXQUNQMWlDLE9BQU9nVCxhQUFhbEUsS0FBSzR6QixXQUUzQjV6QixLQUFLNHpCLFVBQVkxaUMsT0FBTytTLFdBQVcsS0FDakNqRSxLQUFLNnpCLGFBQWE3ekIsS0FBS3dJLFFBQ3RCeEksS0FBS3l6QixhQUlQMU8sRUFBa0I1c0IsSUFBSSxnQkFDbkI2SCxLQUFLaEUsUUFBUWhJLE9BQVMsR0FDdEJnTSxLQUFLOHpCLFFBQ0o5ekIsS0FBSyt6QixVQUNOL3pCLEtBQUsyd0IsWUFBYzN3QixLQUFLaEUsUUFBUWhJLE9BdEZ2QixJQXVGWGdNLEtBQUs2ekIsYUFBYTd6QixLQUFLOHpCLE1BQU85ekIsS0FBS2cwQixLQUFPLEdBS3hDNWMsc0JBQXNCdUcsR0FDNUIsTUFBTTZNLEVBQVc3TSxFQUFNNE0sT0FBT0MsU0FDOUJ4cUIsS0FBS3dxQixTQUFXLENBQUNBLEdBQ2pCeHFCLEtBQUtoRSxRQUFVLEdBQ2ZnRSxLQUFLd0ksTUFBUWdpQixFQUFTMzRCLEtBR2pCdWxCLGFBQWEwYyxHQUErQixJQUFoQkUsRUFBZ0J2K0IsVUFBQXpCLE9BQUEsUUFBQThELElBQUFyQyxVQUFBLEdBQUFBLFVBQUEsR0FBRCxFQUVoRCxJQUFLdUssS0FBS2kwQixTQUFVLENBRWRqMEIsS0FBS2IsYUFDUGEsS0FBS2IsWUFBWUcsU0FHbkIsTUFBTWtELEVBQWNpbkIsR0FBQTl6QixFQUFNNk0sWUFDMUJ4QyxLQUFLYixZQUFjcUQsRUFBWXFJLFNBRS9CN0ssS0FBS2kwQixVQUFXLEVBQ2hCOUssR0FBT25wQixLQUFLaXNCLFNBQVd4bEIsbUJBQW1CcXRCLEdBQVMsU0FBV0UsRUFBTWgwQixLQUFLYixZQUFZeUwsT0FBT3ZMLEtBQU1oQixJQUNoRyxHQUFhLElBQVQyMUIsRUFDRmgwQixLQUFLaEUsUUFBVXFDLEVBQVN6SCxLQUFLczlCLE9BQVEzSCxHQUFnQkEsRUFBT3haLE1BQVEsR0FDcEUvUyxLQUFLMndCLFlBQWMsRUFDbkIzd0IsS0FBSzh6QixNQUFRQSxFQUNiOXpCLEtBQUsrekIsU0FBbUMsSUFBeEIvekIsS0FBS2hFLFFBQVFoSSxXQUN4QixDQUNMLE1BQU1tZ0MsRUFBYTkxQixFQUFTekgsS0FBS3M5QixPQUFRM0gsR0FBZ0JBLEVBQU94WixNQUFRLEdBQ3BFb2hCLEVBQVduZ0MsT0FBUyxJQUN0QmdNLEtBQUtoRSxRQUFVLElBQUtnRSxLQUFLaEUsV0FBWW00QixJQUV2Q24wQixLQUFLK3pCLFNBQWlDLElBQXRCSSxFQUFXbmdDLE9BRTdCZ00sS0FBS2kwQixVQUFXLEVBQ2hCajBCLEtBQUtnMEIsS0FBT0EsSUFDWDFLLE1BQU9oZixRQU1OOE0sYUFFTmxtQixPQUFPK1MsV0FBVyxLQUFLakUsS0FBS2hFLFFBQVUsSUFBSyxLQUdyQ29iLGVBR0FBLFlBQVl2ZSxHQUNsQixNQUFNdTdCLEVBQU12N0IsRUFBSTIxQixjQUNoQnh1QixLQUFLd0ksTUFBUTRyQixFQUFJekUsYUFBYXA5QixNQUFNdUQsT0FHOUJzaEIsZUFDTnBYLEtBQUtoRSxRQUFVLEdBR1RvYixvQkFBb0J1RyxHQUMxQjNkLEtBQUsyd0IsWUFBY2hULEVBQU00TSxPQUFPL3hCLE1BRzNCNGUsbUJBQ0wsTUFBTyxDQUNMLENBQUV1RyxNQUFPOFMsR0FBZ0I4QixTQUFVNzZCLE9BQVFzSSxLQUFLcTBCLGNBQ2hELENBQUUxVyxNQUFPOFMsR0FBZ0J5QixjQUFleDZCLE9BQVFzSSxLQUFLczBCLHNCQUtsRGxkLGFBQWEyTixHQUNsQi9rQixLQUFLdTBCLGNBQWdCdjBCLEtBQUtvcUIsV0FBVzNwQixjQUFjLGdCQUc5QzJXLFNBQ0wsT0FBT2dILEVBQVBvVyxLQUVheDBCLEtBQUs4dEIsWUFDTjl0QixLQUFLeTBCLFdBQ0p6MEIsS0FBSzAwQixZQUNMMTBCLEtBQUt3SSxNQUNBeEksS0FBS3d2QixZQUdMeHZCLEtBQUsyd0IsWUFDSDN3QixLQUFLMjBCLHNCQUNDMzBCLEtBQUtpdEIsbUJBQ1BqdEIsS0FBS294QixpQkFDVHB4QixLQUFLZ3pCLGFBQ1RoekIsS0FBS3UwQixjQUNOdjBCLEtBQUtoRSxRQUNMZ0UsS0FBS3dJLE1BQU14VSxPQUFTLEdBQUtnTSxLQUFLaEUsUUFBUWhJLE9BQVMsS0F2S2hFNGdDLEdBQUEsQ0FEQzNoQyxHQUFTLENBQUMyYSxLQUFNM1IseUNBSWpCMjRCLEdBQUEsQ0FEQzNoQyx5Q0FJRDJoQyxHQUFBLENBREMzaEMsc0NBSUQyaEMsR0FBQSxDQURDM2hDLEdBQVMsQ0FBQzJhLEtBQU1qRix1Q0FJakJpc0IsR0FBQSxDQURDM2hDLEdBQVMsQ0FBQzJhLEtBQU0zUix3Q0FJakIyNEIsR0FBQSxDQURDM2hDLEdBQVMsQ0FBQzJhLEtBQU1nVCw2Q0FJakJnVSxHQUFBLENBREMzaEMsR0FBUyxDQUFDMmEsS0FBTStTLDJDQUlqQmlVLEdBQUEsQ0FEQzNoQyxHQUFTLENBQUMrdEIsV0FBVyx3Q0FJdEI0VCxHQUFBLENBREMzaEMsR0FBUyxDQUFDK3RCLFdBQVcsMENBSXRCNFQsR0FBQSxDQURDM2hDLEdBQVMsQ0FBQyt0QixXQUFXLHlDQUl0QjRULEdBQUEsQ0FEQzNoQyxHQUFTLENBQUMrdEIsV0FBVyw2Q0FJdEI0VCxHQUFBLENBREMzaEMsR0FBUyxDQUFDK3RCLFdBQVcsK0NBNUNId1MsR0FBTW9CLEdBQUEsQ0FEMUJ2UCxHQUFjLGNBQ01tTyxJQ1hyQixNQUFNcUIsR0FBYSxFQUNiQyxHQUFlLEVBQ2ZDLEdBQW1CLEVBQ25CQyxHQUFpQixFQUNqQkMsR0FBdUIsRUFDdkJDLEdBQXVCLEVBQ3ZCQyxHQUFlLEVBWWZDLEdBQWEsQ0FBQ3IvQixFQUFheVksSUFDRSxJQUExQnpZLEVBQUlxQyxRQUFRb1csRUFBTyxHQU10QjZtQixHQUFlLENBQ25CQyxFQUNBQyxFQUNBQyxLQUVBLE1BQU0xMEIsRUFBT3cwQixFQUFrQjd6QixVQUFVLEdBRXpDLEdBQWdCLE1BQVpYLEVBQUssR0FDUCxPQUFPLEVBQ0YsQ0FFTCxNQUFNMjBCLEVBQVczMEIsRUFBS21HLE1BQU0sS0FBSyxHQUFHbkksY0FFcEMsSUFBSTAyQixFQU9GLE9BQU9ELEVBQWlCbjlCLFFBQVFxOUIsSUFBYSxFQU43QyxJQUFLLE1BQU1DLEtBQVdILEVBQ3BCLEdBQUlILEdBQVdNLEVBQVNELEdBQ3RCLE9BQU8sRUFNYixPQUFPLElBT0VFLEdBQWN2bEIsR0FFdEJBLEdBQU0sS0FBT0EsR0FBTSxLQUFTQSxHQUFNLEtBQU9BLEdBQU0sS0FBU0EsR0FBTSxLQUFPQSxHQUFNLEtBQWUsTUFBUEEsRUFPbEZ3bEIsR0FBcUJOLElBRXpCLElBQUlPLEVBQVksRUFDaEIsSUFBSyxNQUFNQyxLQUFPUixFQUNKLE1BQVJRLEdBQ0ZELElBR0osT0FBT0EsRUFBWSxHQUFNLEdDMUNwQixNQUFNRSxHQUFlLENBQ3hCQyxFQUNBbEMsSUFFS0EsRUFHRWtDLEVBQVU5QixPQUFRM0gsS0FDakJBLEVBQU8wSixXQUNvQyxJQUFwQzFKLEVBQU8wSixVQUFVNzlCLFFBQVEwN0IsSUFKN0JrQyxFQWNGRSxHQUFpQixTQUMxQkMsRUFDQUMsR0FFb0IsSUFEcEJDLEVBQ29CNWdDLFVBQUF6QixPQUFBLFFBQUE4RCxJQUFBckMsVUFBQSxHQUFBQSxVQUFBLEdBRE8sR0FFM0IsTUFBTWtSLEdBQVN5dkIsR0FBWSxJQUFJbnZCLE1BQU0sS0FDckMsSUFBSXF2QixFQUFxQ0gsRUFBT0ksZ0JBRTVDMVksRUFBUyxHQUNUMUUsRUFBTyxHQUNYLEtBQU94UyxFQUFNM1MsT0FBUyxHQUVsQixHQURBbWxCLEVBQU94UyxFQUFNakQsUUFDSCxDQUVOLE1BQU04eUIsRUFBV0YsRUFBYUcsS0FDekJyMUIsR0FBNkJBLEVBQUt2TyxNQUFRc21CLEdBRS9DLElBQUlxZCxFQThCRyxDQUVIRixFQUFlQSxFQUFhcEMsT0FBUTl5QixHQUNoQ0EsRUFBS3ZPLElBQUl1aUMsV0FBV2pjLEVBQUtyYSxnQkFFN0IsTUFuQ1UsQ0FFVixNQUFNNDNCLEVBQVdQLEVBQU9RLE1BQU1GLEtBQ3pCN29CLEdBQXlCQSxFQUFLL2IsT0FBUzJrQyxFQUFTNW9CLE1BRXJELEdBQUk4b0IsR0FBWUEsRUFBU3oyQixXQUNyQnEyQixFQUFlSSxFQUFTejJCLFdBQ3hCNGQsR0FBVTFFLEVBQU8sUUFDZCxLQUFJdWQsSUFBWUEsRUFBU0Usa0JBY3pCLENBRUhOLEVBQWVBLEVBQWFwQyxPQUN2Qjl5QixHQUNHQSxFQUFLdk8sSUFBSXVpQyxXQUFXamMsRUFBS3JhLGdCQUVqQyxNQXBCK0MsQ0FDL0MrZSxHQUFVMUUsRUFBTyxJQUNqQixNQUFNRyxFQUFXb2QsRUFBU0Usa0JBRXRCTixFQURBRCxFQUFZSyxFQUFTN2tDLE1BQ053a0MsRUFBWUssRUFBUzdrQyxNQUFNb0csSUFDckNwRixJQUFELENBQ0lBLElBQUt5bUIsRUFBU3ptQixJQUFJbUQsUUFBUSxRQUFTbkQsR0FDbkNna0MsS0FBTXZkLEVBQVN1ZCxLQUFLN2dDLFFBQVEsUUFBU25ELEdBQ3JDK2EsS0FBTTBMLEVBQVMxTCxRQUlSLE1Bb0JuQyxPQUFPMG9CLEVBQWFyK0IsSUFBS21KLElBS3JCLE1BQU8sQ0FBRXZQLEtBSFEsZ0JBQWJ1UCxFQUFLdk8sSUFDQ2dyQixFQUFPMVcsT0FBTyxFQUFHMFcsRUFBTzdwQixPQUFTLEdBQ2pDNnBCLEVBQVN6YyxFQUFLdk8sSUFDVGlrQyxRQUFTMTFCLEVBQUt5MUIsZ0NDbkZyQyxNQUFNRSxHQUFpQixJQUFJNWdCLFFBU2Q2Z0IsR0FBYTVnQixFQUFXN2pCLEdBQW9CNG1CLElBQ3ZELEtBQU1BLGFBQWdCa0MsR0FDcEIsTUFBTSxJQUFJeGIsTUFBTSxnREFHbEIsTUFBTW8zQixFQUFnQkYsR0FBZTVrQyxJQUFJZ25CLEdBRXpDLFFBQXNCcmhCLElBQWxCbS9CLEdBQStCdGMsRUFBWXBvQixJQUMzQ0EsSUFBVTBrQyxFQUFjMWtDLE9BQVM0bUIsRUFBSzVtQixRQUFVMGtDLEVBQWN0ZCxTQUNoRSxPQUdGLE1BQU1MLEVBQVdqa0IsU0FBU3VMLGNBQWMsWUFDeEMwWSxFQUFTbUIsVUFBWWxvQixFQUNyQixNQUFNb25CLEVBQVd0a0IsU0FBU3drQixXQUFXUCxFQUFTOUYsU0FBUyxHQUN2RDJGLEVBQUtNLFNBQVNFLEdBQ2RvZCxHQUFlMStCLElBQUk4Z0IsRUFBTSxDQUFDNW1CLFFBQU9vbkIsNjRFQ3pDbkMsTUFBTTNOLEdBQVM1YSxFQUFRLElBaUJqQjhsQyxHQUFlOWdCLEVBQVcrZ0IsR0FBc0JoZSxJQUNwREEsRUFBS00sU0FBU3VkLEdBQVdockIsR0FBT21yQixPQVFsQyxJQUFxQkMsR0FBVUMsR0FBL0IsY0FBd0NwSSxHQUR4QzdYLGtDQTRERXBYLEtBQUFzM0IsZUFBMkIsQ0FBRXgxQixLQUFNLEVBQUdGLElBQUssR0FNM0M1QixLQUFBd3ZCLFlBQXNCLEdBU3RCeHZCLEtBQUFoRSxRQUFpQixHQUdqQmdFLEtBQUF6TixNQUFnQixHQTVFaEJvdEIsb0JBQ0UsT0FBT2tILEdBQVAwUSxNQTRGS25nQixhQUFhMk4sR0FDbEIva0IsS0FBS3czQixpQkFBbUJ4M0IsS0FBS29xQixXQUFXM3BCLGNBQWMsZ0JBQ3REVCxLQUFLdTBCLGNBQWdCdjBCLEtBQUtvcUIsV0FBVzNwQixjQUFjLFdBSS9DVCxLQUFLeTNCLHFCQUNQdE8sR0FBT25wQixLQUFLeTNCLHFCQUFxQnA0QixLQUFNaEIsSUFDckMyQixLQUFLbTJCLE9BQVM5M0IsRUFBU3pILE9BSXZCb0osS0FBSzAzQixtQkFDUHZPLEdBQU9ucEIsS0FBSzAzQixtQkFBbUJyNEIsS0FBTWhCLElBQ25DMkIsS0FBS2cyQixVQUFZMzNCLEVBQVN6SCxPQUkxQm9KLEtBQUsyM0IsZ0JidkZZQyxXQUNyQixJQUFLdDZCLEVBQ0QsT0FBTyxJQUFJVCxRQUFpQixDQUFDQyxFQUFTQyxJQUFXRCxFQUFRLEtBRzdELElBQUlzc0IsRUFBa0IsR0FDbEJ5TyxFQUFVdjZCLEVBQ2QsS0FBT3U2QixHQUFTLENBQ1osTUFBTUMsUUFBa0I1TyxHQUFhMk8sR0FDckN6TyxFQUFTQSxFQUFPNWtCLE9BQU9zekIsRUFBVTFPLFFBQ2pDeU8sRUFBVUMsRUFBVTlxQixLQUV4QixPQUFPb2MsR2E0RUwyTyxDQUFVLzNCLEtBQUsyM0IsZ0JBQWdCdDRCLEtBQU0rcEIsSUFDbkNwcEIsS0FBS3EyQixZQUFjLENBQUUyQixPQUFRNU8sRUFBT254QixJQUFLZ2dDLEdBQWdCQSxFQUFNcGxDLFFBSzdEdWtCLFlBQVl2ZSxHQUdsQixHQUFJbUgsS0FBS2hFLFFBQVFoSSxPQUFTLEVBQUcsQ0FFM0IsR0FBZSxZQUFaNkUsRUFBSWhHLEtBQWlDLGNBQVpnRyxFQUFJaEcsSUFDOUIsT0FHRixHQUFJZ0csRUFBSXU1QixVQUNVLE1BQVp2NUIsRUFBSWhHLEtBQTJCLE1BQVpnRyxFQUFJaEcsS0FDekIsT0FJSixHQUFlLFVBQVpnRyxFQUFJaEcsS0FBK0IsV0FBWmdHLEVBQUloRyxLQUFnQyxRQUFaZ0csRUFBSWhHLEtBQWlCZ0csRUFBSWhHLElBQUl1aUMsV0FBVyxXQUN4RixPQUdGcDFCLEtBQUtrNEIsYUFBYXIvQixFQUFJMjFCLGdCQUlsQnBYLFlBQVl2ZSxHQUNsQm1ILEtBQUtrNEIsYUFBYXIvQixFQUFJMjFCLGVBTWhCcFgsYUFBYWdkLEdBSW5CLEdBSEFwMEIsS0FBSzJ2QixhQUFleUUsRUFBSXpFLGFBQ3hCM3ZCLEtBQUttNEIsZ0JBQWtCLEtBRW5CbjRCLEtBQUttMkIsT0FBUSxDQUNmLE1BQU1pQyxFQUFTaEUsRUFBSXpFLGFBQWEwSSxlQUMxQjd2QixFQUFRNHJCLEVBQUl6RSxhQUFhcDlCLE1BQU11RCxPQUFPMkwsVUFBVSxFQUFHMjJCLEdBRW5ERSxFQURjakIsR0FBV3hoQixPQUFPMGlCLGdCQUFnQi92QixHQUNoQml1QixLQUFNK0IsR0FBbUJBLEVBQUtocUIsT0FBUzRwQixJQUFXSSxFQUFLNWhCLElBQU13aEIsR0FBVUksRUFBSzVoQixNQUFRd2hCLElBQVdJLEVBQUtDLFNBRTFJLEdBQUlILEVBQW1CLENBQ3JCLE1BQU1JLEVBQW1CSixFQUFrQjFzQixLQUFLeFQsUUFBUSxNQUFRLEVBQ2hFLEdBQUlzZ0MsRUFBa0IsQ0FDcEIsTUFBTUMsRUFBZ0J0QixHQUFXeGhCLE9BQU8raUIsZ0JBQWdCTixFQUFrQjFzQixNQUMxRSxHQUFJK3NCLEVBQWUsQ0FDakIsTUFBTXB1QixFQUFNd3JCLEdBQWEvMUIsS0FBS2cyQixVQUFXMkMsR0FDckNwdUIsRUFBSXZXLE9BQVMsSUFDZmdNLEtBQUttNEIsZ0JBQWtCNXRCLEVBQUksS0FLakMsSUFBSyxJQUFJalosRUFBSWduQyxFQUFrQjFzQixLQUFLNVgsT0FBUTFDLEdBQUssRUFBR0EsSUFBSyxDQUN2RCxNQUFNNmpCLEVBQU9takIsRUFBa0Ixc0IsS0FBS3RhLEdBQ3BDLEdBQWEsTUFBVDZqQixHQUF5QixNQUFUQSxHQUF5QixNQUFUQSxHQUF5QixNQUFUQSxHQUF5QixNQUFUQSxHQUFzQixJQUFON2pCLEVBQVMsQ0FFOUUsTUFBVDZqQixHQUF5QixNQUFUQSxHQUF5QixNQUFUQSxHQUF5QixNQUFUQSxHQUF5QixNQUFUQSxHQUNsRTdqQixJQUdGLElBQUl1bkMsRUFBUUMsS0FBb0IxRSxFQUFJekUsYUFBYzJJLEVBQWtCOXBCLE1BQVFsZCxHQVc1RSxPQVZBME8sS0FBS3MzQixlQUFpQixDQUNwQngxQixLQUFNKzJCLEVBQU0vMkIsS0FBTyxFQUNuQkYsSUFBS3d5QixFQUFJekUsYUFBYTl0QixVQUFZZzNCLEVBQU1qM0IsSUFBTXd5QixFQUFJekUsYUFBYTEwQixVQUFhLElBRTlFK0UsS0FBSzh6QixNQUFRd0UsRUFBa0Ixc0IsS0FBS3pFLE9BQU83VixFQUFHZ25DLEVBQWtCMXNCLEtBQUs1WCxPQUFTMUMsUUFDOUUwTyxLQUFLaEUsUUFBVSxJQUNWazZCLEdBQWVsMkIsS0FBS20yQixPQUFRbjJCLEtBQUs4ekIsTUFBTzl6QixLQUFLcTJCLGdCQUM1Q3FDLEVBQW1CM0MsR0FBYS8xQixLQUFLZzJCLFVBQVdoMkIsS0FBSzh6QixPQUFTLFlBT3hFOXpCLEtBQUtoRSxRQUFVLEdBQ2ZnRSxLQUFLOHpCLE1BQVEsSUFLWDFjLFlBQVl2ZSxHQUNsQixNQUFNdTdCLEVBQU12N0IsRUFBSTIxQixjQUNoQnh1QixLQUFLazRCLGFBQWE5RCxHQUdaaGQscUJBQXFCdmUsR0FDM0JtSCxLQUFLaEUsUUFBVSxHQUNmZ0UsS0FBSzh6QixNQUFRLEdBR1AxYyxzQkFBc0J2ZSxHQUM1QixNQUFNMHpCLEVBQVMxekIsRUFBSTB4QixPQUFPQyxTQUNwQm1ILEVBQVM5NEIsRUFBSTB4QixPQUFPb0gsT0FFMUIsSUFBSW9ILEVBQWEsR0FTakIsR0FMRUEsRUFGRXhNLEVBQU8wSixVQUVJMUosRUFBTzBKLFVBQVU5dUIsT0FBTyxFQUFHb2xCLEVBQU8wSixVQUFVNzlCLFFBQVEsS0FBTyxHQUUzRG0wQixFQUFPMTZCLEtBR2xCbU8sS0FBSzJ2QixhQUFjLENBQ3JCLElBQUlwOUIsRUFBUXlOLEtBQUsydkIsYUFBYXA5QixNQUc5QkEsRUFBUUEsRUFBTTRVLE9BQU8sRUFBRzVVLEVBQU1nb0IsWUFBWXZhLEtBQUs4ekIsUUFHL0N2aEMsR0FBU3dtQyxFQUVULzRCLEtBQUsydkIsYUFBYXA5QixNQUFRQSxFQUc1QnlOLEtBQUs4ekIsTUFBUSxHQUNiOXpCLEtBQUtoRSxRQUFVLEdBRVgyMUIsR0FDRjN4QixLQUFLazRCLGFBQWFsNEIsS0FBS3czQixrQkFLbkJwZ0IsdUJBQXVCbVYsRUFBMEIvQixHQUN2RCxHQUFHK0IsRUFBTzBKLFVBQVcsQ0FFbkIsTUFBTStDLEVBQVd6TSxFQUFPMEosVUFBVTc5QixRQUFRLEtBQ3BDdkcsRUFBTzA2QixFQUFPMEosVUFBVTl1QixPQUFPLEVBQUc2eEIsR0FDbEMzOEIsRUFBT2t3QixFQUFPMEosVUFBVTl1QixPQUFPNnhCLEdBRXJDLE9BQU81YSxFQUFQNmEsS0FDZ0J6TyxFQUFXLG1CQUFxQixHQUVSMzRCLEVBQ2xDMjRCLEVBQVdwTSxFQUFIOGEsS0FDOEQ3OEIsRUFDaEQ2NkIsR0FBYTNLLEVBQU91SyxVQUN4QyxNQUlWLE9BQU8xWSxFQUFQK2EsS0FFZ0IzTyxFQUFXLG1CQUFxQixHQUFPK0IsRUFBTzE2QixLQUMxRDI0QixFQUFXcE0sRUFBSGdiLEtBQXNDN00sRUFBT3VLLFNBQWtCLE1BSXRFMWYsU0FDTCxPQUFPZ0gsRUFBUGliLEtBR1lyNUIsS0FBS3MzQixlQUFlMTFCLElBQ25CNUIsS0FBS3MzQixlQUFleDFCLEtBS2Y5QixLQUFLd3ZCLFlBQ1Z4dkIsS0FBSzh0QixZQUNMOXRCLEtBQUsrdUIsWUFDTC91QixLQUFLczVCLFlBQ0x0NUIsS0FBS3pOLE1BQ0Z5TixLQUFLNnZCLFNBSUQ3dkIsS0FBSzIwQixzQkFDTjMwQixLQUFLdTVCLHFCQUNSdjVCLEtBQUt1MEIsY0FDTnYwQixLQUFLaEUsUUFDQWdFLEtBQUt3NUIsdUJBQ1Z4NUIsS0FBS2hFLFFBQVFoSSxPQUFTLEVBRS9CZ00sS0FBS200QixnQkFBa0IvWixFQUF2QnFiLEtBQXNEejVCLEtBQUt3NUIsdUJBQXVCeDVCLEtBQUttNEIsaUJBQWlCLElBQWUsUUEzUHhIZixHQUFBdmhCLE9BQVMsSUhQSixNQVNadUIsWUFBWXNpQixFQUEwQm5FLEdBQ3BDdjFCLEtBQUswNUIsaUJBQW1CQSxFQUN4QjE1QixLQUFLdTFCLGlCQUFtQkEsRUFNbkJuZSxrQkFBa0J1aUIsR0FDdkIsTUFBTUMsRUFBYzU1QixLQUFLdTRCLGdCQUFnQm9CLEdBQ3pDLEdBQTJCLElBQXZCQyxFQUFZNWxDLE9BRWQsT0FBTyxLQUdULE1BQU02bEMsRUFBaUJELEVBQVlBLEVBQVk1bEMsT0FBUyxHQUd4RCxPQUFJNmxDLEVBQWVqakIsSUFBTStpQixFQUFZM2xDLFFBQVU2bEMsRUFBZXBCLE9BQ3JELEtBR0ZvQixFQUFlanVCLEtBQUtuSyxVQUFVLEdBT2hDMlYsb0JBQW9Ca2UsR0FDekIsR0FBSU0sR0FBa0JOLEdBQ3BCLE9BQU8sS0FHVCxNQUFNd0UsRUFBb0IsR0FDMUIsSUFBSW5nQixFQUFXLEdBQ1hvZ0IsR0FBVyxFQUNYQyxHQUFXLEVBQ1hDLEVBQWMsR0FFbEIsSUFBSyxJQUFJbkUsRUFBTVIsRUFBa0J0aEMsT0FBUyxFQUFHOGhDLEdBQU8sRUFBR0EsSUFBTyxDQUM1RCxNQUFNMWxCLEVBQUtrbEIsRUFBa0JRLEdBdUM3QixHQXJDVyxNQUFQMWxCLElBQ0YycEIsR0FBVyxHQUdGLE1BQVAzcEIsSUFDRjJwQixHQUFXLEVBQzZDLE1BQXBERCxFQUFrQkEsRUFBa0I5bEMsT0FBUyxJQUMvQzhsQyxFQUFrQnhoQyxLQUFLLE1BSWhCLE1BQVA4WCxHQUFlNHBCLElBQ2pCRCxHQUFXLEVBQ1hELEVBQWtCeGhDLEtBQUssS0FDdkJ3aEMsRUFBa0J4aEMsS0FBSyxNQUdkLE1BQVA4WCxJQUNGNHBCLEdBQVlBLEdBR1ZELElBQ1MsTUFBUDNwQixHQUFlNHBCLElBQ3VDLE1BQXBERixFQUFrQkEsRUFBa0I5bEMsT0FBUyxJQUMvQzhsQyxFQUFrQi9sQixNQUdhLElBQTdCK2xCLEVBQWtCOWxDLFNBQ3BCK2xDLEdBQVcsS0FLTixNQUFQM3BCLEdBQTJCLEtBQWJ1SixJQUNoQnNnQixFQUFjLE9BR1pGLEdBQVlDLEdBQW9CLE1BQVA1cEIsR0FBMkIsS0FBYnVKLEdBQTNDLENBSUEsSUFBSWdjLEdBQVd2bEIsSUFBYyxNQUFQQSxFQUdwQixNQUZBdUosRUFBV3ZKLEVBQUt1SixHQU1wQixPQUFJQSxFQUFTcFEsTUFBTSwyQkFDVjB3QixFQUFjdGdCLEVBRWQsS0FPSnZDLGdCQUFnQmtlLEdBSXJCLElBQUk0RSxFQUhhdEUsR0FBa0JOLEdBR1pMLEdBQXVCRSxHQUMxQ2dGLEVBQWEsR0FDYkMsRUFBNkMsTUFBMUI5RSxHQUFtQixHQUFhLEVBQUksRUFFM0QsSUFBSyxJQUFJUSxFQUFNUixFQUFrQnRoQyxPQUFTLEVBQUc4aEMsR0FBTyxFQUFHQSxJQUFPLENBQzVELE1BQU0xbEIsRUFBS2tsQixFQUFrQlEsR0FFN0IsR0FBVyxNQUFQMWxCLEVBQ0YsTUFBTyxHQUdULEdBQUk4cEIsSUFBVS9FLEdBQ2EsSUFBckJpRixJQUEyQnpFLEdBQVd2bEIsSUFBYyxNQUFQQSxFQUcvQixNQUFQQSxFQUNUOHBCLEVBQVFqRixHQUNRLE1BQVA3a0IsRUFDVGdxQixJQUNnQixNQUFQaHFCLEdBQ1RncUIsS0FQQUYsRUFBUW5GLEdBQ1JvRixFQUFhL3BCLEVBQUsrcEIsUUFRZixHQUFJRCxJQUFVbkYsR0FBa0IsQ0FDckMsSUFBSVksR0FBV3ZsQixJQUFjLE1BQVBBLEVBR3BCLE9BQU8rcEIsRUFGUEEsRUFBYS9wQixFQUFLK3BCLE9BSVhELElBQVVqRixJQUNSLE1BQVA3a0IsSUFDRjhwQixFQUFRL0UsSUFJZCxNQUFPLEdBR0YvZCxpQkFBaUJ4TCxHQUN0QixNQUFNb3NCLEVBQVMsR0FDVHFDLEVBQUsscURBQ0xULEVBQWM1NUIsS0FBS3U0QixnQkFBZ0Izc0IsR0FDekMsSUFBSyxNQUFNMHVCLEtBQWNWLEVBQWEsQ0FDcEMsSUFBSXJ3QixFQUVKLEtBQVFBLEVBQVE4d0IsRUFBRzFzQixLQUFLMnNCLEVBQVcxdUIsT0FDaENvc0IsRUFBZXp1QixFQUFNLEtBQU0sRUFHaEMsT0FBT3ZYLE9BQU8rRixLQUFLaWdDLEdBTWQ1Z0IsZ0JBQWdCeEwsR0FDckIsTUFBTWd1QixFQUE0QixHQUNsQyxJQUFJTSxFQUFRckYsR0FDUnlELEVBQWdDLEtBQ2hDOEIsRUFBbUIsRUFFdkIsSUFBSyxJQUFJdEUsRUFBTSxFQUFHQSxFQUFNbHFCLEVBQUs1WCxPQUFROGhDLElBQU8sQ0FDMUMsTUFBTTFsQixFQUFLeEUsRUFBS2txQixHQUlWeUUsRUFBU3pFLEVBQU1scUIsRUFBSzVYLE9BQVMsRUFBSTRYLEVBQUtrcUIsRUFBTSxHQUFLLEVBQ2pEMEUsRUFBYTFFLEVBQU1scUIsRUFBSzVYLE9BQVMsRUFBSTRYLEVBQUtrcUIsRUFBTSxHQUFLLEVBOEQzRCxHQTVESW9FLElBQVVyRixHQUNSemtCLElBQU9wUSxLQUFLMDVCLG1CQUFxQi9ELEdBQVc0RSxJQUFzQixNQUFYQSxFQVFoRG5xQixJQUFPcFEsS0FBSzA1QixrQkFBb0JhLElBQVd2NkIsS0FBSzA1QixtQkFDekRRLEVBQVFoRixLQVJSZ0YsRUFBUXBGLEdBQ1J3RCxFQUFvQixDQUNsQjlwQixNQUFPc25CLEVBQ1BsZixJQUFLLEtBQ0xoTCxLQUFNd0UsRUFDTnFvQixRQUFRLElBS0h5QixJQUFVcEYsSUFDZmEsR0FBV3ZsQixHQUNiOHBCLEVBQVFuRixHQUNRLE1BQVAza0IsSUFFVDhwQixFQUFRbEYsR0FDUm9GLEdBQW9CLEdBRXRCOUIsRUFBa0Ixc0IsTUFBUXdFLEdBQ2pCOHBCLElBQVVuRixHQUNuQnVELEVBQWtCMXNCLE1BQVF3RSxFQUNqQjhwQixJQUFVbEYsSUFDUixNQUFQNWtCLEVBQ0ZncUIsR0FBb0IsRUFDSixNQUFQaHFCLEVBQ1RncUIsR0FBb0IsRUFDSixNQUFQaHFCLElBQ1Q4cEIsRUFBUWpGLElBR1ZxRCxFQUFrQjFzQixNQUFRd0UsRUFHRCxJQUFyQmdxQixJQUNGOUIsRUFBa0IxaEIsSUFBTWtmLEVBQU0sSUFFdkJvRSxJQUFVakYsSUFDUixNQUFQN2tCLElBQ0Y4cEIsRUFBUWxGLElBRVZzRCxFQUFrQjFzQixNQUFRd0UsR0FDakI4cEIsSUFBVWhGLEtBQ25CZ0YsRUFBUXJGLElBT05xRixJQUFVbkYsTUFFUlksR0FBVzRFLElBQXNCLE1BQVhBLEdBQ1osTUFBWEEsSUFBbUI1RSxHQUFXNkUsTUFFL0JsQyxFQUFrQjFoQixJQUFNa2YsRUFBTSxHQUlULE1BQXJCd0MsSUFBdUQsTUFBekJBLEVBQWtCMWhCLEtBQTBCLElBQVgyakIsR0FBZSxDQUNoRixNQUFNL0UsRUFBNkIsSUFBWCtFLEVBQ3BCbEYsR0FBYWlELEVBQWtCMXNCLEtBQU01TCxLQUFLdTFCLGlCQUFrQkMsS0FDOUQ4QyxFQUFrQkcsT0FBdUMsTUFBOUJILEVBQWtCMXNCLEtBQUssSUFBbUMsSUFBckJ3dUIsRUFDaEU5QixFQUFrQjFoQixJQUFNa2YsRUFBTSxFQUM5QjhELEVBQVl0aEMsS0FBS2dnQyxJQUduQkEsRUFBb0IsS0FDcEI0QixFQUFRckYsSUFJWixPQUFPK0UsSUd4UDJCLElBQUssQ0FDdkMsVUFDQSxTQUNBLFNBWUZhLEdBQUEsQ0FEQ3huQyxHQUFTLENBQUUyYSxLQUFNNWIsZ0RBSWxCeW9DLEdBQUEsQ0FEQ3huQyxHQUFTLENBQUMrdEIsV0FBVyw0Q0FJdEJ5WixHQUFBLENBREN4bkMsR0FBUyxDQUFDMmEsS0FBTWpGLDZDQUlqQjh4QixHQUFBLENBREN4bkMsR0FBUyxDQUFDK3RCLFdBQVcsNkNBSXRCeVosR0FBQSxDQURDeG5DLEdBQVMsQ0FBQyt0QixXQUFXLDBDQUl0QnlaLEdBQUEsQ0FEQ3huQyxHQUFTLENBQUMyYSxLQUFNM1Isd0NBSWpCdytCLEdBQUEsQ0FEQ3huQyxHQUFTLENBQUMyYSxLQUFNakYsdUNBSWpCOHhCLEdBQUEsQ0FEQ3huQyxHQUFTLENBQUMyYSxLQUFNakYscURBSWpCOHhCLEdBQUEsQ0FEQ3huQyxHQUFTLENBQUMyYSxLQUFNakYsbURBSWpCOHhCLEdBQUEsQ0FEQ3huQyxHQUFTLENBQUMyYSxLQUFNakYsZ0RBSWpCOHhCLEdBQUEsQ0FEQ3huQyxHQUFTLENBQUMyYSxLQUFNK1MsMkNBeEZFeVcsR0FBVUMsR0FBQW9ELEdBQUEsQ0FEOUJwVixHQUFjLGtCQUNNK1IiLCJmaWxlIjoicnAtY29tcG9uZW50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiB3ZWJwYWNrVW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbihyb290LCBmYWN0b3J5KSB7XG5cdGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0Jylcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcblx0ZWxzZSBpZih0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpXG5cdFx0ZGVmaW5lKFtdLCBmYWN0b3J5KTtcblx0ZWxzZSBpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpXG5cdFx0ZXhwb3J0c1tcInJwLWNvbXBvbmVudHNcIl0gPSBmYWN0b3J5KCk7XG5cdGVsc2Vcblx0XHRyb290W1wicnAtY29tcG9uZW50c1wiXSA9IGZhY3RvcnkoKTtcbn0pKHdpbmRvdywgZnVuY3Rpb24oKSB7XG5yZXR1cm4gIiwiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDEwKTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIGJpbmQgPSByZXF1aXJlKCcuL2hlbHBlcnMvYmluZCcpO1xudmFyIGlzQnVmZmVyID0gcmVxdWlyZSgnaXMtYnVmZmVyJyk7XG5cbi8qZ2xvYmFsIHRvU3RyaW5nOnRydWUqL1xuXG4vLyB1dGlscyBpcyBhIGxpYnJhcnkgb2YgZ2VuZXJpYyBoZWxwZXIgZnVuY3Rpb25zIG5vbi1zcGVjaWZpYyB0byBheGlvc1xuXG52YXIgdG9TdHJpbmcgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO1xuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGFuIEFycmF5XG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYW4gQXJyYXksIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0FycmF5KHZhbCkge1xuICByZXR1cm4gdG9TdHJpbmcuY2FsbCh2YWwpID09PSAnW29iamVjdCBBcnJheV0nO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGFuIEFycmF5QnVmZmVyXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYW4gQXJyYXlCdWZmZXIsIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0FycmF5QnVmZmVyKHZhbCkge1xuICByZXR1cm4gdG9TdHJpbmcuY2FsbCh2YWwpID09PSAnW29iamVjdCBBcnJheUJ1ZmZlcl0nO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgRm9ybURhdGFcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhbiBGb3JtRGF0YSwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzRm9ybURhdGEodmFsKSB7XG4gIHJldHVybiAodHlwZW9mIEZvcm1EYXRhICE9PSAndW5kZWZpbmVkJykgJiYgKHZhbCBpbnN0YW5jZW9mIEZvcm1EYXRhKTtcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIHZpZXcgb24gYW4gQXJyYXlCdWZmZXJcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIHZpZXcgb24gYW4gQXJyYXlCdWZmZXIsIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0FycmF5QnVmZmVyVmlldyh2YWwpIHtcbiAgdmFyIHJlc3VsdDtcbiAgaWYgKCh0eXBlb2YgQXJyYXlCdWZmZXIgIT09ICd1bmRlZmluZWQnKSAmJiAoQXJyYXlCdWZmZXIuaXNWaWV3KSkge1xuICAgIHJlc3VsdCA9IEFycmF5QnVmZmVyLmlzVmlldyh2YWwpO1xuICB9IGVsc2Uge1xuICAgIHJlc3VsdCA9ICh2YWwpICYmICh2YWwuYnVmZmVyKSAmJiAodmFsLmJ1ZmZlciBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgU3RyaW5nXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBTdHJpbmcsIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc1N0cmluZyh2YWwpIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWwgPT09ICdzdHJpbmcnO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgTnVtYmVyXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBOdW1iZXIsIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc051bWJlcih2YWwpIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWwgPT09ICdudW1iZXInO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIHVuZGVmaW5lZFxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHRoZSB2YWx1ZSBpcyB1bmRlZmluZWQsIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc1VuZGVmaW5lZCh2YWwpIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWwgPT09ICd1bmRlZmluZWQnO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGFuIE9iamVjdFxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGFuIE9iamVjdCwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzT2JqZWN0KHZhbCkge1xuICByZXR1cm4gdmFsICE9PSBudWxsICYmIHR5cGVvZiB2YWwgPT09ICdvYmplY3QnO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgRGF0ZVxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgRGF0ZSwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzRGF0ZSh2YWwpIHtcbiAgcmV0dXJuIHRvU3RyaW5nLmNhbGwodmFsKSA9PT0gJ1tvYmplY3QgRGF0ZV0nO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgRmlsZVxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgRmlsZSwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzRmlsZSh2YWwpIHtcbiAgcmV0dXJuIHRvU3RyaW5nLmNhbGwodmFsKSA9PT0gJ1tvYmplY3QgRmlsZV0nO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgQmxvYlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgQmxvYiwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzQmxvYih2YWwpIHtcbiAgcmV0dXJuIHRvU3RyaW5nLmNhbGwodmFsKSA9PT0gJ1tvYmplY3QgQmxvYl0nO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgRnVuY3Rpb25cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIEZ1bmN0aW9uLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNGdW5jdGlvbih2YWwpIHtcbiAgcmV0dXJuIHRvU3RyaW5nLmNhbGwodmFsKSA9PT0gJ1tvYmplY3QgRnVuY3Rpb25dJztcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIFN0cmVhbVxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgU3RyZWFtLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNTdHJlYW0odmFsKSB7XG4gIHJldHVybiBpc09iamVjdCh2YWwpICYmIGlzRnVuY3Rpb24odmFsLnBpcGUpO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgVVJMU2VhcmNoUGFyYW1zIG9iamVjdFxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgVVJMU2VhcmNoUGFyYW1zIG9iamVjdCwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzVVJMU2VhcmNoUGFyYW1zKHZhbCkge1xuICByZXR1cm4gdHlwZW9mIFVSTFNlYXJjaFBhcmFtcyAhPT0gJ3VuZGVmaW5lZCcgJiYgdmFsIGluc3RhbmNlb2YgVVJMU2VhcmNoUGFyYW1zO1xufVxuXG4vKipcbiAqIFRyaW0gZXhjZXNzIHdoaXRlc3BhY2Ugb2ZmIHRoZSBiZWdpbm5pbmcgYW5kIGVuZCBvZiBhIHN0cmluZ1xuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBzdHIgVGhlIFN0cmluZyB0byB0cmltXG4gKiBAcmV0dXJucyB7U3RyaW5nfSBUaGUgU3RyaW5nIGZyZWVkIG9mIGV4Y2VzcyB3aGl0ZXNwYWNlXG4gKi9cbmZ1bmN0aW9uIHRyaW0oc3RyKSB7XG4gIHJldHVybiBzdHIucmVwbGFjZSgvXlxccyovLCAnJykucmVwbGFjZSgvXFxzKiQvLCAnJyk7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIHdlJ3JlIHJ1bm5pbmcgaW4gYSBzdGFuZGFyZCBicm93c2VyIGVudmlyb25tZW50XG4gKlxuICogVGhpcyBhbGxvd3MgYXhpb3MgdG8gcnVuIGluIGEgd2ViIHdvcmtlciwgYW5kIHJlYWN0LW5hdGl2ZS5cbiAqIEJvdGggZW52aXJvbm1lbnRzIHN1cHBvcnQgWE1MSHR0cFJlcXVlc3QsIGJ1dCBub3QgZnVsbHkgc3RhbmRhcmQgZ2xvYmFscy5cbiAqXG4gKiB3ZWIgd29ya2VyczpcbiAqICB0eXBlb2Ygd2luZG93IC0+IHVuZGVmaW5lZFxuICogIHR5cGVvZiBkb2N1bWVudCAtPiB1bmRlZmluZWRcbiAqXG4gKiByZWFjdC1uYXRpdmU6XG4gKiAgbmF2aWdhdG9yLnByb2R1Y3QgLT4gJ1JlYWN0TmF0aXZlJ1xuICovXG5mdW5jdGlvbiBpc1N0YW5kYXJkQnJvd3NlckVudigpIHtcbiAgaWYgKHR5cGVvZiBuYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnICYmIG5hdmlnYXRvci5wcm9kdWN0ID09PSAnUmVhY3ROYXRpdmUnKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHJldHVybiAoXG4gICAgdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICB0eXBlb2YgZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnXG4gICk7XG59XG5cbi8qKlxuICogSXRlcmF0ZSBvdmVyIGFuIEFycmF5IG9yIGFuIE9iamVjdCBpbnZva2luZyBhIGZ1bmN0aW9uIGZvciBlYWNoIGl0ZW0uXG4gKlxuICogSWYgYG9iamAgaXMgYW4gQXJyYXkgY2FsbGJhY2sgd2lsbCBiZSBjYWxsZWQgcGFzc2luZ1xuICogdGhlIHZhbHVlLCBpbmRleCwgYW5kIGNvbXBsZXRlIGFycmF5IGZvciBlYWNoIGl0ZW0uXG4gKlxuICogSWYgJ29iaicgaXMgYW4gT2JqZWN0IGNhbGxiYWNrIHdpbGwgYmUgY2FsbGVkIHBhc3NpbmdcbiAqIHRoZSB2YWx1ZSwga2V5LCBhbmQgY29tcGxldGUgb2JqZWN0IGZvciBlYWNoIHByb3BlcnR5LlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fEFycmF5fSBvYmogVGhlIG9iamVjdCB0byBpdGVyYXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBUaGUgY2FsbGJhY2sgdG8gaW52b2tlIGZvciBlYWNoIGl0ZW1cbiAqL1xuZnVuY3Rpb24gZm9yRWFjaChvYmosIGZuKSB7XG4gIC8vIERvbid0IGJvdGhlciBpZiBubyB2YWx1ZSBwcm92aWRlZFxuICBpZiAob2JqID09PSBudWxsIHx8IHR5cGVvZiBvYmogPT09ICd1bmRlZmluZWQnKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLy8gRm9yY2UgYW4gYXJyYXkgaWYgbm90IGFscmVhZHkgc29tZXRoaW5nIGl0ZXJhYmxlXG4gIGlmICh0eXBlb2Ygb2JqICE9PSAnb2JqZWN0Jykge1xuICAgIC8qZXNsaW50IG5vLXBhcmFtLXJlYXNzaWduOjAqL1xuICAgIG9iaiA9IFtvYmpdO1xuICB9XG5cbiAgaWYgKGlzQXJyYXkob2JqKSkge1xuICAgIC8vIEl0ZXJhdGUgb3ZlciBhcnJheSB2YWx1ZXNcbiAgICBmb3IgKHZhciBpID0gMCwgbCA9IG9iai5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgIGZuLmNhbGwobnVsbCwgb2JqW2ldLCBpLCBvYmopO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICAvLyBJdGVyYXRlIG92ZXIgb2JqZWN0IGtleXNcbiAgICBmb3IgKHZhciBrZXkgaW4gb2JqKSB7XG4gICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkge1xuICAgICAgICBmbi5jYWxsKG51bGwsIG9ialtrZXldLCBrZXksIG9iaik7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogQWNjZXB0cyB2YXJhcmdzIGV4cGVjdGluZyBlYWNoIGFyZ3VtZW50IHRvIGJlIGFuIG9iamVjdCwgdGhlblxuICogaW1tdXRhYmx5IG1lcmdlcyB0aGUgcHJvcGVydGllcyBvZiBlYWNoIG9iamVjdCBhbmQgcmV0dXJucyByZXN1bHQuXG4gKlxuICogV2hlbiBtdWx0aXBsZSBvYmplY3RzIGNvbnRhaW4gdGhlIHNhbWUga2V5IHRoZSBsYXRlciBvYmplY3QgaW5cbiAqIHRoZSBhcmd1bWVudHMgbGlzdCB3aWxsIHRha2UgcHJlY2VkZW5jZS5cbiAqXG4gKiBFeGFtcGxlOlxuICpcbiAqIGBgYGpzXG4gKiB2YXIgcmVzdWx0ID0gbWVyZ2Uoe2ZvbzogMTIzfSwge2ZvbzogNDU2fSk7XG4gKiBjb25zb2xlLmxvZyhyZXN1bHQuZm9vKTsgLy8gb3V0cHV0cyA0NTZcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmoxIE9iamVjdCB0byBtZXJnZVxuICogQHJldHVybnMge09iamVjdH0gUmVzdWx0IG9mIGFsbCBtZXJnZSBwcm9wZXJ0aWVzXG4gKi9cbmZ1bmN0aW9uIG1lcmdlKC8qIG9iajEsIG9iajIsIG9iajMsIC4uLiAqLykge1xuICB2YXIgcmVzdWx0ID0ge307XG4gIGZ1bmN0aW9uIGFzc2lnblZhbHVlKHZhbCwga2V5KSB7XG4gICAgaWYgKHR5cGVvZiByZXN1bHRba2V5XSA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIHZhbCA9PT0gJ29iamVjdCcpIHtcbiAgICAgIHJlc3VsdFtrZXldID0gbWVyZ2UocmVzdWx0W2tleV0sIHZhbCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc3VsdFtrZXldID0gdmFsO1xuICAgIH1cbiAgfVxuXG4gIGZvciAodmFyIGkgPSAwLCBsID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgIGZvckVhY2goYXJndW1lbnRzW2ldLCBhc3NpZ25WYWx1ZSk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBFeHRlbmRzIG9iamVjdCBhIGJ5IG11dGFibHkgYWRkaW5nIHRvIGl0IHRoZSBwcm9wZXJ0aWVzIG9mIG9iamVjdCBiLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBhIFRoZSBvYmplY3QgdG8gYmUgZXh0ZW5kZWRcbiAqIEBwYXJhbSB7T2JqZWN0fSBiIFRoZSBvYmplY3QgdG8gY29weSBwcm9wZXJ0aWVzIGZyb21cbiAqIEBwYXJhbSB7T2JqZWN0fSB0aGlzQXJnIFRoZSBvYmplY3QgdG8gYmluZCBmdW5jdGlvbiB0b1xuICogQHJldHVybiB7T2JqZWN0fSBUaGUgcmVzdWx0aW5nIHZhbHVlIG9mIG9iamVjdCBhXG4gKi9cbmZ1bmN0aW9uIGV4dGVuZChhLCBiLCB0aGlzQXJnKSB7XG4gIGZvckVhY2goYiwgZnVuY3Rpb24gYXNzaWduVmFsdWUodmFsLCBrZXkpIHtcbiAgICBpZiAodGhpc0FyZyAmJiB0eXBlb2YgdmFsID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBhW2tleV0gPSBiaW5kKHZhbCwgdGhpc0FyZyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFba2V5XSA9IHZhbDtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gYTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGlzQXJyYXk6IGlzQXJyYXksXG4gIGlzQXJyYXlCdWZmZXI6IGlzQXJyYXlCdWZmZXIsXG4gIGlzQnVmZmVyOiBpc0J1ZmZlcixcbiAgaXNGb3JtRGF0YTogaXNGb3JtRGF0YSxcbiAgaXNBcnJheUJ1ZmZlclZpZXc6IGlzQXJyYXlCdWZmZXJWaWV3LFxuICBpc1N0cmluZzogaXNTdHJpbmcsXG4gIGlzTnVtYmVyOiBpc051bWJlcixcbiAgaXNPYmplY3Q6IGlzT2JqZWN0LFxuICBpc1VuZGVmaW5lZDogaXNVbmRlZmluZWQsXG4gIGlzRGF0ZTogaXNEYXRlLFxuICBpc0ZpbGU6IGlzRmlsZSxcbiAgaXNCbG9iOiBpc0Jsb2IsXG4gIGlzRnVuY3Rpb246IGlzRnVuY3Rpb24sXG4gIGlzU3RyZWFtOiBpc1N0cmVhbSxcbiAgaXNVUkxTZWFyY2hQYXJhbXM6IGlzVVJMU2VhcmNoUGFyYW1zLFxuICBpc1N0YW5kYXJkQnJvd3NlckVudjogaXNTdGFuZGFyZEJyb3dzZXJFbnYsXG4gIGZvckVhY2g6IGZvckVhY2gsXG4gIG1lcmdlOiBtZXJnZSxcbiAgZXh0ZW5kOiBleHRlbmQsXG4gIHRyaW06IHRyaW1cbn07XG4iLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vbGliL2F4aW9zJyk7IiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuL3V0aWxzJyk7XG52YXIgbm9ybWFsaXplSGVhZGVyTmFtZSA9IHJlcXVpcmUoJy4vaGVscGVycy9ub3JtYWxpemVIZWFkZXJOYW1lJyk7XG5cbnZhciBERUZBVUxUX0NPTlRFTlRfVFlQRSA9IHtcbiAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnXG59O1xuXG5mdW5jdGlvbiBzZXRDb250ZW50VHlwZUlmVW5zZXQoaGVhZGVycywgdmFsdWUpIHtcbiAgaWYgKCF1dGlscy5pc1VuZGVmaW5lZChoZWFkZXJzKSAmJiB1dGlscy5pc1VuZGVmaW5lZChoZWFkZXJzWydDb250ZW50LVR5cGUnXSkpIHtcbiAgICBoZWFkZXJzWydDb250ZW50LVR5cGUnXSA9IHZhbHVlO1xuICB9XG59XG5cbmZ1bmN0aW9uIGdldERlZmF1bHRBZGFwdGVyKCkge1xuICB2YXIgYWRhcHRlcjtcbiAgaWYgKHR5cGVvZiBYTUxIdHRwUmVxdWVzdCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAvLyBGb3IgYnJvd3NlcnMgdXNlIFhIUiBhZGFwdGVyXG4gICAgYWRhcHRlciA9IHJlcXVpcmUoJy4vYWRhcHRlcnMveGhyJyk7XG4gIH0gZWxzZSBpZiAodHlwZW9mIHByb2Nlc3MgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgLy8gRm9yIG5vZGUgdXNlIEhUVFAgYWRhcHRlclxuICAgIGFkYXB0ZXIgPSByZXF1aXJlKCcuL2FkYXB0ZXJzL2h0dHAnKTtcbiAgfVxuICByZXR1cm4gYWRhcHRlcjtcbn1cblxudmFyIGRlZmF1bHRzID0ge1xuICBhZGFwdGVyOiBnZXREZWZhdWx0QWRhcHRlcigpLFxuXG4gIHRyYW5zZm9ybVJlcXVlc3Q6IFtmdW5jdGlvbiB0cmFuc2Zvcm1SZXF1ZXN0KGRhdGEsIGhlYWRlcnMpIHtcbiAgICBub3JtYWxpemVIZWFkZXJOYW1lKGhlYWRlcnMsICdDb250ZW50LVR5cGUnKTtcbiAgICBpZiAodXRpbHMuaXNGb3JtRGF0YShkYXRhKSB8fFxuICAgICAgdXRpbHMuaXNBcnJheUJ1ZmZlcihkYXRhKSB8fFxuICAgICAgdXRpbHMuaXNCdWZmZXIoZGF0YSkgfHxcbiAgICAgIHV0aWxzLmlzU3RyZWFtKGRhdGEpIHx8XG4gICAgICB1dGlscy5pc0ZpbGUoZGF0YSkgfHxcbiAgICAgIHV0aWxzLmlzQmxvYihkYXRhKVxuICAgICkge1xuICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfVxuICAgIGlmICh1dGlscy5pc0FycmF5QnVmZmVyVmlldyhkYXRhKSkge1xuICAgICAgcmV0dXJuIGRhdGEuYnVmZmVyO1xuICAgIH1cbiAgICBpZiAodXRpbHMuaXNVUkxTZWFyY2hQYXJhbXMoZGF0YSkpIHtcbiAgICAgIHNldENvbnRlbnRUeXBlSWZVbnNldChoZWFkZXJzLCAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkO2NoYXJzZXQ9dXRmLTgnKTtcbiAgICAgIHJldHVybiBkYXRhLnRvU3RyaW5nKCk7XG4gICAgfVxuICAgIGlmICh1dGlscy5pc09iamVjdChkYXRhKSkge1xuICAgICAgc2V0Q29udGVudFR5cGVJZlVuc2V0KGhlYWRlcnMsICdhcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTgnKTtcbiAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShkYXRhKTtcbiAgICB9XG4gICAgcmV0dXJuIGRhdGE7XG4gIH1dLFxuXG4gIHRyYW5zZm9ybVJlc3BvbnNlOiBbZnVuY3Rpb24gdHJhbnNmb3JtUmVzcG9uc2UoZGF0YSkge1xuICAgIC8qZXNsaW50IG5vLXBhcmFtLXJlYXNzaWduOjAqL1xuICAgIGlmICh0eXBlb2YgZGF0YSA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGRhdGEgPSBKU09OLnBhcnNlKGRhdGEpO1xuICAgICAgfSBjYXRjaCAoZSkgeyAvKiBJZ25vcmUgKi8gfVxuICAgIH1cbiAgICByZXR1cm4gZGF0YTtcbiAgfV0sXG5cbiAgLyoqXG4gICAqIEEgdGltZW91dCBpbiBtaWxsaXNlY29uZHMgdG8gYWJvcnQgYSByZXF1ZXN0LiBJZiBzZXQgdG8gMCAoZGVmYXVsdCkgYVxuICAgKiB0aW1lb3V0IGlzIG5vdCBjcmVhdGVkLlxuICAgKi9cbiAgdGltZW91dDogMCxcblxuICB4c3JmQ29va2llTmFtZTogJ1hTUkYtVE9LRU4nLFxuICB4c3JmSGVhZGVyTmFtZTogJ1gtWFNSRi1UT0tFTicsXG5cbiAgbWF4Q29udGVudExlbmd0aDogLTEsXG5cbiAgdmFsaWRhdGVTdGF0dXM6IGZ1bmN0aW9uIHZhbGlkYXRlU3RhdHVzKHN0YXR1cykge1xuICAgIHJldHVybiBzdGF0dXMgPj0gMjAwICYmIHN0YXR1cyA8IDMwMDtcbiAgfVxufTtcblxuZGVmYXVsdHMuaGVhZGVycyA9IHtcbiAgY29tbW9uOiB7XG4gICAgJ0FjY2VwdCc6ICdhcHBsaWNhdGlvbi9qc29uLCB0ZXh0L3BsYWluLCAqLyonXG4gIH1cbn07XG5cbnV0aWxzLmZvckVhY2goWydkZWxldGUnLCAnZ2V0JywgJ2hlYWQnXSwgZnVuY3Rpb24gZm9yRWFjaE1ldGhvZE5vRGF0YShtZXRob2QpIHtcbiAgZGVmYXVsdHMuaGVhZGVyc1ttZXRob2RdID0ge307XG59KTtcblxudXRpbHMuZm9yRWFjaChbJ3Bvc3QnLCAncHV0JywgJ3BhdGNoJ10sIGZ1bmN0aW9uIGZvckVhY2hNZXRob2RXaXRoRGF0YShtZXRob2QpIHtcbiAgZGVmYXVsdHMuaGVhZGVyc1ttZXRob2RdID0gdXRpbHMubWVyZ2UoREVGQVVMVF9DT05URU5UX1RZUEUpO1xufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gZGVmYXVsdHM7XG4iLCIvKiFcblx0YXV0b3NpemUgNC4wLjJcblx0bGljZW5zZTogTUlUXG5cdGh0dHA6Ly93d3cuamFja2xtb29yZS5jb20vYXV0b3NpemVcbiovXG4oZnVuY3Rpb24gKGdsb2JhbCwgZmFjdG9yeSkge1xuXHRpZiAodHlwZW9mIGRlZmluZSA9PT0gXCJmdW5jdGlvblwiICYmIGRlZmluZS5hbWQpIHtcblx0XHRkZWZpbmUoWydtb2R1bGUnLCAnZXhwb3J0cyddLCBmYWN0b3J5KTtcblx0fSBlbHNlIGlmICh0eXBlb2YgZXhwb3J0cyAhPT0gXCJ1bmRlZmluZWRcIikge1xuXHRcdGZhY3RvcnkobW9kdWxlLCBleHBvcnRzKTtcblx0fSBlbHNlIHtcblx0XHR2YXIgbW9kID0ge1xuXHRcdFx0ZXhwb3J0czoge31cblx0XHR9O1xuXHRcdGZhY3RvcnkobW9kLCBtb2QuZXhwb3J0cyk7XG5cdFx0Z2xvYmFsLmF1dG9zaXplID0gbW9kLmV4cG9ydHM7XG5cdH1cbn0pKHRoaXMsIGZ1bmN0aW9uIChtb2R1bGUsIGV4cG9ydHMpIHtcblx0J3VzZSBzdHJpY3QnO1xuXG5cdHZhciBtYXAgPSB0eXBlb2YgTWFwID09PSBcImZ1bmN0aW9uXCIgPyBuZXcgTWFwKCkgOiBmdW5jdGlvbiAoKSB7XG5cdFx0dmFyIGtleXMgPSBbXTtcblx0XHR2YXIgdmFsdWVzID0gW107XG5cblx0XHRyZXR1cm4ge1xuXHRcdFx0aGFzOiBmdW5jdGlvbiBoYXMoa2V5KSB7XG5cdFx0XHRcdHJldHVybiBrZXlzLmluZGV4T2Yoa2V5KSA+IC0xO1xuXHRcdFx0fSxcblx0XHRcdGdldDogZnVuY3Rpb24gZ2V0KGtleSkge1xuXHRcdFx0XHRyZXR1cm4gdmFsdWVzW2tleXMuaW5kZXhPZihrZXkpXTtcblx0XHRcdH0sXG5cdFx0XHRzZXQ6IGZ1bmN0aW9uIHNldChrZXksIHZhbHVlKSB7XG5cdFx0XHRcdGlmIChrZXlzLmluZGV4T2Yoa2V5KSA9PT0gLTEpIHtcblx0XHRcdFx0XHRrZXlzLnB1c2goa2V5KTtcblx0XHRcdFx0XHR2YWx1ZXMucHVzaCh2YWx1ZSk7XG5cdFx0XHRcdH1cblx0XHRcdH0sXG5cdFx0XHRkZWxldGU6IGZ1bmN0aW9uIF9kZWxldGUoa2V5KSB7XG5cdFx0XHRcdHZhciBpbmRleCA9IGtleXMuaW5kZXhPZihrZXkpO1xuXHRcdFx0XHRpZiAoaW5kZXggPiAtMSkge1xuXHRcdFx0XHRcdGtleXMuc3BsaWNlKGluZGV4LCAxKTtcblx0XHRcdFx0XHR2YWx1ZXMuc3BsaWNlKGluZGV4LCAxKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH07XG5cdH0oKTtcblxuXHR2YXIgY3JlYXRlRXZlbnQgPSBmdW5jdGlvbiBjcmVhdGVFdmVudChuYW1lKSB7XG5cdFx0cmV0dXJuIG5ldyBFdmVudChuYW1lLCB7IGJ1YmJsZXM6IHRydWUgfSk7XG5cdH07XG5cdHRyeSB7XG5cdFx0bmV3IEV2ZW50KCd0ZXN0Jyk7XG5cdH0gY2F0Y2ggKGUpIHtcblx0XHQvLyBJRSBkb2VzIG5vdCBzdXBwb3J0IGBuZXcgRXZlbnQoKWBcblx0XHRjcmVhdGVFdmVudCA9IGZ1bmN0aW9uIGNyZWF0ZUV2ZW50KG5hbWUpIHtcblx0XHRcdHZhciBldnQgPSBkb2N1bWVudC5jcmVhdGVFdmVudCgnRXZlbnQnKTtcblx0XHRcdGV2dC5pbml0RXZlbnQobmFtZSwgdHJ1ZSwgZmFsc2UpO1xuXHRcdFx0cmV0dXJuIGV2dDtcblx0XHR9O1xuXHR9XG5cblx0ZnVuY3Rpb24gYXNzaWduKHRhKSB7XG5cdFx0aWYgKCF0YSB8fCAhdGEubm9kZU5hbWUgfHwgdGEubm9kZU5hbWUgIT09ICdURVhUQVJFQScgfHwgbWFwLmhhcyh0YSkpIHJldHVybjtcblxuXHRcdHZhciBoZWlnaHRPZmZzZXQgPSBudWxsO1xuXHRcdHZhciBjbGllbnRXaWR0aCA9IG51bGw7XG5cdFx0dmFyIGNhY2hlZEhlaWdodCA9IG51bGw7XG5cblx0XHRmdW5jdGlvbiBpbml0KCkge1xuXHRcdFx0dmFyIHN0eWxlID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUodGEsIG51bGwpO1xuXG5cdFx0XHRpZiAoc3R5bGUucmVzaXplID09PSAndmVydGljYWwnKSB7XG5cdFx0XHRcdHRhLnN0eWxlLnJlc2l6ZSA9ICdub25lJztcblx0XHRcdH0gZWxzZSBpZiAoc3R5bGUucmVzaXplID09PSAnYm90aCcpIHtcblx0XHRcdFx0dGEuc3R5bGUucmVzaXplID0gJ2hvcml6b250YWwnO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoc3R5bGUuYm94U2l6aW5nID09PSAnY29udGVudC1ib3gnKSB7XG5cdFx0XHRcdGhlaWdodE9mZnNldCA9IC0ocGFyc2VGbG9hdChzdHlsZS5wYWRkaW5nVG9wKSArIHBhcnNlRmxvYXQoc3R5bGUucGFkZGluZ0JvdHRvbSkpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0aGVpZ2h0T2Zmc2V0ID0gcGFyc2VGbG9hdChzdHlsZS5ib3JkZXJUb3BXaWR0aCkgKyBwYXJzZUZsb2F0KHN0eWxlLmJvcmRlckJvdHRvbVdpZHRoKTtcblx0XHRcdH1cblx0XHRcdC8vIEZpeCB3aGVuIGEgdGV4dGFyZWEgaXMgbm90IG9uIGRvY3VtZW50IGJvZHkgYW5kIGhlaWdodE9mZnNldCBpcyBOb3QgYSBOdW1iZXJcblx0XHRcdGlmIChpc05hTihoZWlnaHRPZmZzZXQpKSB7XG5cdFx0XHRcdGhlaWdodE9mZnNldCA9IDA7XG5cdFx0XHR9XG5cblx0XHRcdHVwZGF0ZSgpO1xuXHRcdH1cblxuXHRcdGZ1bmN0aW9uIGNoYW5nZU92ZXJmbG93KHZhbHVlKSB7XG5cdFx0XHR7XG5cdFx0XHRcdC8vIENocm9tZS9TYWZhcmktc3BlY2lmaWMgZml4OlxuXHRcdFx0XHQvLyBXaGVuIHRoZSB0ZXh0YXJlYSB5LW92ZXJmbG93IGlzIGhpZGRlbiwgQ2hyb21lL1NhZmFyaSBkbyBub3QgcmVmbG93IHRoZSB0ZXh0IHRvIGFjY291bnQgZm9yIHRoZSBzcGFjZVxuXHRcdFx0XHQvLyBtYWRlIGF2YWlsYWJsZSBieSByZW1vdmluZyB0aGUgc2Nyb2xsYmFyLiBUaGUgZm9sbG93aW5nIGZvcmNlcyB0aGUgbmVjZXNzYXJ5IHRleHQgcmVmbG93LlxuXHRcdFx0XHR2YXIgd2lkdGggPSB0YS5zdHlsZS53aWR0aDtcblx0XHRcdFx0dGEuc3R5bGUud2lkdGggPSAnMHB4Jztcblx0XHRcdFx0Ly8gRm9yY2UgcmVmbG93OlxuXHRcdFx0XHQvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG5cdFx0XHRcdHRhLm9mZnNldFdpZHRoO1xuXHRcdFx0XHQvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuXHRcdFx0XHR0YS5zdHlsZS53aWR0aCA9IHdpZHRoO1xuXHRcdFx0fVxuXG5cdFx0XHR0YS5zdHlsZS5vdmVyZmxvd1kgPSB2YWx1ZTtcblx0XHR9XG5cblx0XHRmdW5jdGlvbiBnZXRQYXJlbnRPdmVyZmxvd3MoZWwpIHtcblx0XHRcdHZhciBhcnIgPSBbXTtcblxuXHRcdFx0d2hpbGUgKGVsICYmIGVsLnBhcmVudE5vZGUgJiYgZWwucGFyZW50Tm9kZSBpbnN0YW5jZW9mIEVsZW1lbnQpIHtcblx0XHRcdFx0aWYgKGVsLnBhcmVudE5vZGUuc2Nyb2xsVG9wKSB7XG5cdFx0XHRcdFx0YXJyLnB1c2goe1xuXHRcdFx0XHRcdFx0bm9kZTogZWwucGFyZW50Tm9kZSxcblx0XHRcdFx0XHRcdHNjcm9sbFRvcDogZWwucGFyZW50Tm9kZS5zY3JvbGxUb3Bcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fVxuXHRcdFx0XHRlbCA9IGVsLnBhcmVudE5vZGU7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBhcnI7XG5cdFx0fVxuXG5cdFx0ZnVuY3Rpb24gcmVzaXplKCkge1xuXHRcdFx0aWYgKHRhLnNjcm9sbEhlaWdodCA9PT0gMCkge1xuXHRcdFx0XHQvLyBJZiB0aGUgc2Nyb2xsSGVpZ2h0IGlzIDAsIHRoZW4gdGhlIGVsZW1lbnQgcHJvYmFibHkgaGFzIGRpc3BsYXk6bm9uZSBvciBpcyBkZXRhY2hlZCBmcm9tIHRoZSBET00uXG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0dmFyIG92ZXJmbG93cyA9IGdldFBhcmVudE92ZXJmbG93cyh0YSk7XG5cdFx0XHR2YXIgZG9jVG9wID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50ICYmIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3A7IC8vIE5lZWRlZCBmb3IgTW9iaWxlIElFICh0aWNrZXQgIzI0MClcblxuXHRcdFx0dGEuc3R5bGUuaGVpZ2h0ID0gJyc7XG5cdFx0XHR0YS5zdHlsZS5oZWlnaHQgPSB0YS5zY3JvbGxIZWlnaHQgKyBoZWlnaHRPZmZzZXQgKyAncHgnO1xuXG5cdFx0XHQvLyB1c2VkIHRvIGNoZWNrIGlmIGFuIHVwZGF0ZSBpcyBhY3R1YWxseSBuZWNlc3Nhcnkgb24gd2luZG93LnJlc2l6ZVxuXHRcdFx0Y2xpZW50V2lkdGggPSB0YS5jbGllbnRXaWR0aDtcblxuXHRcdFx0Ly8gcHJldmVudHMgc2Nyb2xsLXBvc2l0aW9uIGp1bXBpbmdcblx0XHRcdG92ZXJmbG93cy5mb3JFYWNoKGZ1bmN0aW9uIChlbCkge1xuXHRcdFx0XHRlbC5ub2RlLnNjcm9sbFRvcCA9IGVsLnNjcm9sbFRvcDtcblx0XHRcdH0pO1xuXG5cdFx0XHRpZiAoZG9jVG9wKSB7XG5cdFx0XHRcdGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3AgPSBkb2NUb3A7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0ZnVuY3Rpb24gdXBkYXRlKCkge1xuXHRcdFx0cmVzaXplKCk7XG5cblx0XHRcdHZhciBzdHlsZUhlaWdodCA9IE1hdGgucm91bmQocGFyc2VGbG9hdCh0YS5zdHlsZS5oZWlnaHQpKTtcblx0XHRcdHZhciBjb21wdXRlZCA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHRhLCBudWxsKTtcblxuXHRcdFx0Ly8gVXNpbmcgb2Zmc2V0SGVpZ2h0IGFzIGEgcmVwbGFjZW1lbnQgZm9yIGNvbXB1dGVkLmhlaWdodCBpbiBJRSwgYmVjYXVzZSBJRSBkb2VzIG5vdCBhY2NvdW50IHVzZSBvZiBib3JkZXItYm94XG5cdFx0XHR2YXIgYWN0dWFsSGVpZ2h0ID0gY29tcHV0ZWQuYm94U2l6aW5nID09PSAnY29udGVudC1ib3gnID8gTWF0aC5yb3VuZChwYXJzZUZsb2F0KGNvbXB1dGVkLmhlaWdodCkpIDogdGEub2Zmc2V0SGVpZ2h0O1xuXG5cdFx0XHQvLyBUaGUgYWN0dWFsIGhlaWdodCBub3QgbWF0Y2hpbmcgdGhlIHN0eWxlIGhlaWdodCAoc2V0IHZpYSB0aGUgcmVzaXplIG1ldGhvZCkgaW5kaWNhdGVzIHRoYXQgXG5cdFx0XHQvLyB0aGUgbWF4LWhlaWdodCBoYXMgYmVlbiBleGNlZWRlZCwgaW4gd2hpY2ggY2FzZSB0aGUgb3ZlcmZsb3cgc2hvdWxkIGJlIGFsbG93ZWQuXG5cdFx0XHRpZiAoYWN0dWFsSGVpZ2h0IDwgc3R5bGVIZWlnaHQpIHtcblx0XHRcdFx0aWYgKGNvbXB1dGVkLm92ZXJmbG93WSA9PT0gJ2hpZGRlbicpIHtcblx0XHRcdFx0XHRjaGFuZ2VPdmVyZmxvdygnc2Nyb2xsJyk7XG5cdFx0XHRcdFx0cmVzaXplKCk7XG5cdFx0XHRcdFx0YWN0dWFsSGVpZ2h0ID0gY29tcHV0ZWQuYm94U2l6aW5nID09PSAnY29udGVudC1ib3gnID8gTWF0aC5yb3VuZChwYXJzZUZsb2F0KHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHRhLCBudWxsKS5oZWlnaHQpKSA6IHRhLm9mZnNldEhlaWdodDtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Ly8gTm9ybWFsbHkga2VlcCBvdmVyZmxvdyBzZXQgdG8gaGlkZGVuLCB0byBhdm9pZCBmbGFzaCBvZiBzY3JvbGxiYXIgYXMgdGhlIHRleHRhcmVhIGV4cGFuZHMuXG5cdFx0XHRcdGlmIChjb21wdXRlZC5vdmVyZmxvd1kgIT09ICdoaWRkZW4nKSB7XG5cdFx0XHRcdFx0Y2hhbmdlT3ZlcmZsb3coJ2hpZGRlbicpO1xuXHRcdFx0XHRcdHJlc2l6ZSgpO1xuXHRcdFx0XHRcdGFjdHVhbEhlaWdodCA9IGNvbXB1dGVkLmJveFNpemluZyA9PT0gJ2NvbnRlbnQtYm94JyA/IE1hdGgucm91bmQocGFyc2VGbG9hdCh3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSh0YSwgbnVsbCkuaGVpZ2h0KSkgOiB0YS5vZmZzZXRIZWlnaHQ7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0aWYgKGNhY2hlZEhlaWdodCAhPT0gYWN0dWFsSGVpZ2h0KSB7XG5cdFx0XHRcdGNhY2hlZEhlaWdodCA9IGFjdHVhbEhlaWdodDtcblx0XHRcdFx0dmFyIGV2dCA9IGNyZWF0ZUV2ZW50KCdhdXRvc2l6ZTpyZXNpemVkJyk7XG5cdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0dGEuZGlzcGF0Y2hFdmVudChldnQpO1xuXHRcdFx0XHR9IGNhdGNoIChlcnIpIHtcblx0XHRcdFx0XHQvLyBGaXJlZm94IHdpbGwgdGhyb3cgYW4gZXJyb3Igb24gZGlzcGF0Y2hFdmVudCBmb3IgYSBkZXRhY2hlZCBlbGVtZW50XG5cdFx0XHRcdFx0Ly8gaHR0cHM6Ly9idWd6aWxsYS5tb3ppbGxhLm9yZy9zaG93X2J1Zy5jZ2k/aWQ9ODg5Mzc2XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHR2YXIgcGFnZVJlc2l6ZSA9IGZ1bmN0aW9uIHBhZ2VSZXNpemUoKSB7XG5cdFx0XHRpZiAodGEuY2xpZW50V2lkdGggIT09IGNsaWVudFdpZHRoKSB7XG5cdFx0XHRcdHVwZGF0ZSgpO1xuXHRcdFx0fVxuXHRcdH07XG5cblx0XHR2YXIgZGVzdHJveSA9IGZ1bmN0aW9uIChzdHlsZSkge1xuXHRcdFx0d2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHBhZ2VSZXNpemUsIGZhbHNlKTtcblx0XHRcdHRhLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2lucHV0JywgdXBkYXRlLCBmYWxzZSk7XG5cdFx0XHR0YS5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXl1cCcsIHVwZGF0ZSwgZmFsc2UpO1xuXHRcdFx0dGEucmVtb3ZlRXZlbnRMaXN0ZW5lcignYXV0b3NpemU6ZGVzdHJveScsIGRlc3Ryb3ksIGZhbHNlKTtcblx0XHRcdHRhLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2F1dG9zaXplOnVwZGF0ZScsIHVwZGF0ZSwgZmFsc2UpO1xuXG5cdFx0XHRPYmplY3Qua2V5cyhzdHlsZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG5cdFx0XHRcdHRhLnN0eWxlW2tleV0gPSBzdHlsZVtrZXldO1xuXHRcdFx0fSk7XG5cblx0XHRcdG1hcC5kZWxldGUodGEpO1xuXHRcdH0uYmluZCh0YSwge1xuXHRcdFx0aGVpZ2h0OiB0YS5zdHlsZS5oZWlnaHQsXG5cdFx0XHRyZXNpemU6IHRhLnN0eWxlLnJlc2l6ZSxcblx0XHRcdG92ZXJmbG93WTogdGEuc3R5bGUub3ZlcmZsb3dZLFxuXHRcdFx0b3ZlcmZsb3dYOiB0YS5zdHlsZS5vdmVyZmxvd1gsXG5cdFx0XHR3b3JkV3JhcDogdGEuc3R5bGUud29yZFdyYXBcblx0XHR9KTtcblxuXHRcdHRhLmFkZEV2ZW50TGlzdGVuZXIoJ2F1dG9zaXplOmRlc3Ryb3knLCBkZXN0cm95LCBmYWxzZSk7XG5cblx0XHQvLyBJRTkgZG9lcyBub3QgZmlyZSBvbnByb3BlcnR5Y2hhbmdlIG9yIG9uaW5wdXQgZm9yIGRlbGV0aW9ucyxcblx0XHQvLyBzbyBiaW5kaW5nIHRvIG9ua2V5dXAgdG8gY2F0Y2ggbW9zdCBvZiB0aG9zZSBldmVudHMuXG5cdFx0Ly8gVGhlcmUgaXMgbm8gd2F5IHRoYXQgSSBrbm93IG9mIHRvIGRldGVjdCBzb21ldGhpbmcgbGlrZSAnY3V0JyBpbiBJRTkuXG5cdFx0aWYgKCdvbnByb3BlcnR5Y2hhbmdlJyBpbiB0YSAmJiAnb25pbnB1dCcgaW4gdGEpIHtcblx0XHRcdHRhLmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgdXBkYXRlLCBmYWxzZSk7XG5cdFx0fVxuXG5cdFx0d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHBhZ2VSZXNpemUsIGZhbHNlKTtcblx0XHR0YS5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIHVwZGF0ZSwgZmFsc2UpO1xuXHRcdHRhLmFkZEV2ZW50TGlzdGVuZXIoJ2F1dG9zaXplOnVwZGF0ZScsIHVwZGF0ZSwgZmFsc2UpO1xuXHRcdHRhLnN0eWxlLm92ZXJmbG93WCA9ICdoaWRkZW4nO1xuXHRcdHRhLnN0eWxlLndvcmRXcmFwID0gJ2JyZWFrLXdvcmQnO1xuXG5cdFx0bWFwLnNldCh0YSwge1xuXHRcdFx0ZGVzdHJveTogZGVzdHJveSxcblx0XHRcdHVwZGF0ZTogdXBkYXRlXG5cdFx0fSk7XG5cblx0XHRpbml0KCk7XG5cdH1cblxuXHRmdW5jdGlvbiBkZXN0cm95KHRhKSB7XG5cdFx0dmFyIG1ldGhvZHMgPSBtYXAuZ2V0KHRhKTtcblx0XHRpZiAobWV0aG9kcykge1xuXHRcdFx0bWV0aG9kcy5kZXN0cm95KCk7XG5cdFx0fVxuXHR9XG5cblx0ZnVuY3Rpb24gdXBkYXRlKHRhKSB7XG5cdFx0dmFyIG1ldGhvZHMgPSBtYXAuZ2V0KHRhKTtcblx0XHRpZiAobWV0aG9kcykge1xuXHRcdFx0bWV0aG9kcy51cGRhdGUoKTtcblx0XHR9XG5cdH1cblxuXHR2YXIgYXV0b3NpemUgPSBudWxsO1xuXG5cdC8vIERvIG5vdGhpbmcgaW4gTm9kZS5qcyBlbnZpcm9ubWVudCBhbmQgSUU4IChvciBsb3dlcilcblx0aWYgKHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnIHx8IHR5cGVvZiB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSAhPT0gJ2Z1bmN0aW9uJykge1xuXHRcdGF1dG9zaXplID0gZnVuY3Rpb24gYXV0b3NpemUoZWwpIHtcblx0XHRcdHJldHVybiBlbDtcblx0XHR9O1xuXHRcdGF1dG9zaXplLmRlc3Ryb3kgPSBmdW5jdGlvbiAoZWwpIHtcblx0XHRcdHJldHVybiBlbDtcblx0XHR9O1xuXHRcdGF1dG9zaXplLnVwZGF0ZSA9IGZ1bmN0aW9uIChlbCkge1xuXHRcdFx0cmV0dXJuIGVsO1xuXHRcdH07XG5cdH0gZWxzZSB7XG5cdFx0YXV0b3NpemUgPSBmdW5jdGlvbiBhdXRvc2l6ZShlbCwgb3B0aW9ucykge1xuXHRcdFx0aWYgKGVsKSB7XG5cdFx0XHRcdEFycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwoZWwubGVuZ3RoID8gZWwgOiBbZWxdLCBmdW5jdGlvbiAoeCkge1xuXHRcdFx0XHRcdHJldHVybiBhc3NpZ24oeCwgb3B0aW9ucyk7XG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIGVsO1xuXHRcdH07XG5cdFx0YXV0b3NpemUuZGVzdHJveSA9IGZ1bmN0aW9uIChlbCkge1xuXHRcdFx0aWYgKGVsKSB7XG5cdFx0XHRcdEFycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwoZWwubGVuZ3RoID8gZWwgOiBbZWxdLCBkZXN0cm95KTtcblx0XHRcdH1cblx0XHRcdHJldHVybiBlbDtcblx0XHR9O1xuXHRcdGF1dG9zaXplLnVwZGF0ZSA9IGZ1bmN0aW9uIChlbCkge1xuXHRcdFx0aWYgKGVsKSB7XG5cdFx0XHRcdEFycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwoZWwubGVuZ3RoID8gZWwgOiBbZWxdLCB1cGRhdGUpO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIGVsO1xuXHRcdH07XG5cdH1cblxuXHRleHBvcnRzLmRlZmF1bHQgPSBhdXRvc2l6ZTtcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG59KTsiLCIndXNlIHN0cmljdCc7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gYmluZChmbiwgdGhpc0FyZykge1xuICByZXR1cm4gZnVuY3Rpb24gd3JhcCgpIHtcbiAgICB2YXIgYXJncyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3MubGVuZ3RoOyBpKyspIHtcbiAgICAgIGFyZ3NbaV0gPSBhcmd1bWVudHNbaV07XG4gICAgfVxuICAgIHJldHVybiBmbi5hcHBseSh0aGlzQXJnLCBhcmdzKTtcbiAgfTtcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciB1dGlscyA9IHJlcXVpcmUoJy4vLi4vdXRpbHMnKTtcbnZhciBzZXR0bGUgPSByZXF1aXJlKCcuLy4uL2NvcmUvc2V0dGxlJyk7XG52YXIgYnVpbGRVUkwgPSByZXF1aXJlKCcuLy4uL2hlbHBlcnMvYnVpbGRVUkwnKTtcbnZhciBwYXJzZUhlYWRlcnMgPSByZXF1aXJlKCcuLy4uL2hlbHBlcnMvcGFyc2VIZWFkZXJzJyk7XG52YXIgaXNVUkxTYW1lT3JpZ2luID0gcmVxdWlyZSgnLi8uLi9oZWxwZXJzL2lzVVJMU2FtZU9yaWdpbicpO1xudmFyIGNyZWF0ZUVycm9yID0gcmVxdWlyZSgnLi4vY29yZS9jcmVhdGVFcnJvcicpO1xudmFyIGJ0b2EgPSAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LmJ0b2EgJiYgd2luZG93LmJ0b2EuYmluZCh3aW5kb3cpKSB8fCByZXF1aXJlKCcuLy4uL2hlbHBlcnMvYnRvYScpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHhockFkYXB0ZXIoY29uZmlnKSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiBkaXNwYXRjaFhoclJlcXVlc3QocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgdmFyIHJlcXVlc3REYXRhID0gY29uZmlnLmRhdGE7XG4gICAgdmFyIHJlcXVlc3RIZWFkZXJzID0gY29uZmlnLmhlYWRlcnM7XG5cbiAgICBpZiAodXRpbHMuaXNGb3JtRGF0YShyZXF1ZXN0RGF0YSkpIHtcbiAgICAgIGRlbGV0ZSByZXF1ZXN0SGVhZGVyc1snQ29udGVudC1UeXBlJ107IC8vIExldCB0aGUgYnJvd3NlciBzZXQgaXRcbiAgICB9XG5cbiAgICB2YXIgcmVxdWVzdCA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuICAgIHZhciBsb2FkRXZlbnQgPSAnb25yZWFkeXN0YXRlY2hhbmdlJztcbiAgICB2YXIgeERvbWFpbiA9IGZhbHNlO1xuXG4gICAgLy8gRm9yIElFIDgvOSBDT1JTIHN1cHBvcnRcbiAgICAvLyBPbmx5IHN1cHBvcnRzIFBPU1QgYW5kIEdFVCBjYWxscyBhbmQgZG9lc24ndCByZXR1cm5zIHRoZSByZXNwb25zZSBoZWFkZXJzLlxuICAgIC8vIERPTidUIGRvIHRoaXMgZm9yIHRlc3RpbmcgYi9jIFhNTEh0dHBSZXF1ZXN0IGlzIG1vY2tlZCwgbm90IFhEb21haW5SZXF1ZXN0LlxuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Rlc3QnICYmXG4gICAgICAgIHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmXG4gICAgICAgIHdpbmRvdy5YRG9tYWluUmVxdWVzdCAmJiAhKCd3aXRoQ3JlZGVudGlhbHMnIGluIHJlcXVlc3QpICYmXG4gICAgICAgICFpc1VSTFNhbWVPcmlnaW4oY29uZmlnLnVybCkpIHtcbiAgICAgIHJlcXVlc3QgPSBuZXcgd2luZG93LlhEb21haW5SZXF1ZXN0KCk7XG4gICAgICBsb2FkRXZlbnQgPSAnb25sb2FkJztcbiAgICAgIHhEb21haW4gPSB0cnVlO1xuICAgICAgcmVxdWVzdC5vbnByb2dyZXNzID0gZnVuY3Rpb24gaGFuZGxlUHJvZ3Jlc3MoKSB7fTtcbiAgICAgIHJlcXVlc3Qub250aW1lb3V0ID0gZnVuY3Rpb24gaGFuZGxlVGltZW91dCgpIHt9O1xuICAgIH1cblxuICAgIC8vIEhUVFAgYmFzaWMgYXV0aGVudGljYXRpb25cbiAgICBpZiAoY29uZmlnLmF1dGgpIHtcbiAgICAgIHZhciB1c2VybmFtZSA9IGNvbmZpZy5hdXRoLnVzZXJuYW1lIHx8ICcnO1xuICAgICAgdmFyIHBhc3N3b3JkID0gY29uZmlnLmF1dGgucGFzc3dvcmQgfHwgJyc7XG4gICAgICByZXF1ZXN0SGVhZGVycy5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyBidG9hKHVzZXJuYW1lICsgJzonICsgcGFzc3dvcmQpO1xuICAgIH1cblxuICAgIHJlcXVlc3Qub3Blbihjb25maWcubWV0aG9kLnRvVXBwZXJDYXNlKCksIGJ1aWxkVVJMKGNvbmZpZy51cmwsIGNvbmZpZy5wYXJhbXMsIGNvbmZpZy5wYXJhbXNTZXJpYWxpemVyKSwgdHJ1ZSk7XG5cbiAgICAvLyBTZXQgdGhlIHJlcXVlc3QgdGltZW91dCBpbiBNU1xuICAgIHJlcXVlc3QudGltZW91dCA9IGNvbmZpZy50aW1lb3V0O1xuXG4gICAgLy8gTGlzdGVuIGZvciByZWFkeSBzdGF0ZVxuICAgIHJlcXVlc3RbbG9hZEV2ZW50XSA9IGZ1bmN0aW9uIGhhbmRsZUxvYWQoKSB7XG4gICAgICBpZiAoIXJlcXVlc3QgfHwgKHJlcXVlc3QucmVhZHlTdGF0ZSAhPT0gNCAmJiAheERvbWFpbikpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyBUaGUgcmVxdWVzdCBlcnJvcmVkIG91dCBhbmQgd2UgZGlkbid0IGdldCBhIHJlc3BvbnNlLCB0aGlzIHdpbGwgYmVcbiAgICAgIC8vIGhhbmRsZWQgYnkgb25lcnJvciBpbnN0ZWFkXG4gICAgICAvLyBXaXRoIG9uZSBleGNlcHRpb246IHJlcXVlc3QgdGhhdCB1c2luZyBmaWxlOiBwcm90b2NvbCwgbW9zdCBicm93c2Vyc1xuICAgICAgLy8gd2lsbCByZXR1cm4gc3RhdHVzIGFzIDAgZXZlbiB0aG91Z2ggaXQncyBhIHN1Y2Nlc3NmdWwgcmVxdWVzdFxuICAgICAgaWYgKHJlcXVlc3Quc3RhdHVzID09PSAwICYmICEocmVxdWVzdC5yZXNwb25zZVVSTCAmJiByZXF1ZXN0LnJlc3BvbnNlVVJMLmluZGV4T2YoJ2ZpbGU6JykgPT09IDApKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy8gUHJlcGFyZSB0aGUgcmVzcG9uc2VcbiAgICAgIHZhciByZXNwb25zZUhlYWRlcnMgPSAnZ2V0QWxsUmVzcG9uc2VIZWFkZXJzJyBpbiByZXF1ZXN0ID8gcGFyc2VIZWFkZXJzKHJlcXVlc3QuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCkpIDogbnVsbDtcbiAgICAgIHZhciByZXNwb25zZURhdGEgPSAhY29uZmlnLnJlc3BvbnNlVHlwZSB8fCBjb25maWcucmVzcG9uc2VUeXBlID09PSAndGV4dCcgPyByZXF1ZXN0LnJlc3BvbnNlVGV4dCA6IHJlcXVlc3QucmVzcG9uc2U7XG4gICAgICB2YXIgcmVzcG9uc2UgPSB7XG4gICAgICAgIGRhdGE6IHJlc3BvbnNlRGF0YSxcbiAgICAgICAgLy8gSUUgc2VuZHMgMTIyMyBpbnN0ZWFkIG9mIDIwNCAoaHR0cHM6Ly9naXRodWIuY29tL2F4aW9zL2F4aW9zL2lzc3Vlcy8yMDEpXG4gICAgICAgIHN0YXR1czogcmVxdWVzdC5zdGF0dXMgPT09IDEyMjMgPyAyMDQgOiByZXF1ZXN0LnN0YXR1cyxcbiAgICAgICAgc3RhdHVzVGV4dDogcmVxdWVzdC5zdGF0dXMgPT09IDEyMjMgPyAnTm8gQ29udGVudCcgOiByZXF1ZXN0LnN0YXR1c1RleHQsXG4gICAgICAgIGhlYWRlcnM6IHJlc3BvbnNlSGVhZGVycyxcbiAgICAgICAgY29uZmlnOiBjb25maWcsXG4gICAgICAgIHJlcXVlc3Q6IHJlcXVlc3RcbiAgICAgIH07XG5cbiAgICAgIHNldHRsZShyZXNvbHZlLCByZWplY3QsIHJlc3BvbnNlKTtcblxuICAgICAgLy8gQ2xlYW4gdXAgcmVxdWVzdFxuICAgICAgcmVxdWVzdCA9IG51bGw7XG4gICAgfTtcblxuICAgIC8vIEhhbmRsZSBsb3cgbGV2ZWwgbmV0d29yayBlcnJvcnNcbiAgICByZXF1ZXN0Lm9uZXJyb3IgPSBmdW5jdGlvbiBoYW5kbGVFcnJvcigpIHtcbiAgICAgIC8vIFJlYWwgZXJyb3JzIGFyZSBoaWRkZW4gZnJvbSB1cyBieSB0aGUgYnJvd3NlclxuICAgICAgLy8gb25lcnJvciBzaG91bGQgb25seSBmaXJlIGlmIGl0J3MgYSBuZXR3b3JrIGVycm9yXG4gICAgICByZWplY3QoY3JlYXRlRXJyb3IoJ05ldHdvcmsgRXJyb3InLCBjb25maWcsIG51bGwsIHJlcXVlc3QpKTtcblxuICAgICAgLy8gQ2xlYW4gdXAgcmVxdWVzdFxuICAgICAgcmVxdWVzdCA9IG51bGw7XG4gICAgfTtcblxuICAgIC8vIEhhbmRsZSB0aW1lb3V0XG4gICAgcmVxdWVzdC5vbnRpbWVvdXQgPSBmdW5jdGlvbiBoYW5kbGVUaW1lb3V0KCkge1xuICAgICAgcmVqZWN0KGNyZWF0ZUVycm9yKCd0aW1lb3V0IG9mICcgKyBjb25maWcudGltZW91dCArICdtcyBleGNlZWRlZCcsIGNvbmZpZywgJ0VDT05OQUJPUlRFRCcsXG4gICAgICAgIHJlcXVlc3QpKTtcblxuICAgICAgLy8gQ2xlYW4gdXAgcmVxdWVzdFxuICAgICAgcmVxdWVzdCA9IG51bGw7XG4gICAgfTtcblxuICAgIC8vIEFkZCB4c3JmIGhlYWRlclxuICAgIC8vIFRoaXMgaXMgb25seSBkb25lIGlmIHJ1bm5pbmcgaW4gYSBzdGFuZGFyZCBicm93c2VyIGVudmlyb25tZW50LlxuICAgIC8vIFNwZWNpZmljYWxseSBub3QgaWYgd2UncmUgaW4gYSB3ZWIgd29ya2VyLCBvciByZWFjdC1uYXRpdmUuXG4gICAgaWYgKHV0aWxzLmlzU3RhbmRhcmRCcm93c2VyRW52KCkpIHtcbiAgICAgIHZhciBjb29raWVzID0gcmVxdWlyZSgnLi8uLi9oZWxwZXJzL2Nvb2tpZXMnKTtcblxuICAgICAgLy8gQWRkIHhzcmYgaGVhZGVyXG4gICAgICB2YXIgeHNyZlZhbHVlID0gKGNvbmZpZy53aXRoQ3JlZGVudGlhbHMgfHwgaXNVUkxTYW1lT3JpZ2luKGNvbmZpZy51cmwpKSAmJiBjb25maWcueHNyZkNvb2tpZU5hbWUgP1xuICAgICAgICAgIGNvb2tpZXMucmVhZChjb25maWcueHNyZkNvb2tpZU5hbWUpIDpcbiAgICAgICAgICB1bmRlZmluZWQ7XG5cbiAgICAgIGlmICh4c3JmVmFsdWUpIHtcbiAgICAgICAgcmVxdWVzdEhlYWRlcnNbY29uZmlnLnhzcmZIZWFkZXJOYW1lXSA9IHhzcmZWYWx1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBBZGQgaGVhZGVycyB0byB0aGUgcmVxdWVzdFxuICAgIGlmICgnc2V0UmVxdWVzdEhlYWRlcicgaW4gcmVxdWVzdCkge1xuICAgICAgdXRpbHMuZm9yRWFjaChyZXF1ZXN0SGVhZGVycywgZnVuY3Rpb24gc2V0UmVxdWVzdEhlYWRlcih2YWwsIGtleSkge1xuICAgICAgICBpZiAodHlwZW9mIHJlcXVlc3REYXRhID09PSAndW5kZWZpbmVkJyAmJiBrZXkudG9Mb3dlckNhc2UoKSA9PT0gJ2NvbnRlbnQtdHlwZScpIHtcbiAgICAgICAgICAvLyBSZW1vdmUgQ29udGVudC1UeXBlIGlmIGRhdGEgaXMgdW5kZWZpbmVkXG4gICAgICAgICAgZGVsZXRlIHJlcXVlc3RIZWFkZXJzW2tleV07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gT3RoZXJ3aXNlIGFkZCBoZWFkZXIgdG8gdGhlIHJlcXVlc3RcbiAgICAgICAgICByZXF1ZXN0LnNldFJlcXVlc3RIZWFkZXIoa2V5LCB2YWwpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBBZGQgd2l0aENyZWRlbnRpYWxzIHRvIHJlcXVlc3QgaWYgbmVlZGVkXG4gICAgaWYgKGNvbmZpZy53aXRoQ3JlZGVudGlhbHMpIHtcbiAgICAgIHJlcXVlc3Qud2l0aENyZWRlbnRpYWxzID0gdHJ1ZTtcbiAgICB9XG5cbiAgICAvLyBBZGQgcmVzcG9uc2VUeXBlIHRvIHJlcXVlc3QgaWYgbmVlZGVkXG4gICAgaWYgKGNvbmZpZy5yZXNwb25zZVR5cGUpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHJlcXVlc3QucmVzcG9uc2VUeXBlID0gY29uZmlnLnJlc3BvbnNlVHlwZTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgLy8gRXhwZWN0ZWQgRE9NRXhjZXB0aW9uIHRocm93biBieSBicm93c2VycyBub3QgY29tcGF0aWJsZSBYTUxIdHRwUmVxdWVzdCBMZXZlbCAyLlxuICAgICAgICAvLyBCdXQsIHRoaXMgY2FuIGJlIHN1cHByZXNzZWQgZm9yICdqc29uJyB0eXBlIGFzIGl0IGNhbiBiZSBwYXJzZWQgYnkgZGVmYXVsdCAndHJhbnNmb3JtUmVzcG9uc2UnIGZ1bmN0aW9uLlxuICAgICAgICBpZiAoY29uZmlnLnJlc3BvbnNlVHlwZSAhPT0gJ2pzb24nKSB7XG4gICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIEhhbmRsZSBwcm9ncmVzcyBpZiBuZWVkZWRcbiAgICBpZiAodHlwZW9mIGNvbmZpZy5vbkRvd25sb2FkUHJvZ3Jlc3MgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHJlcXVlc3QuYWRkRXZlbnRMaXN0ZW5lcigncHJvZ3Jlc3MnLCBjb25maWcub25Eb3dubG9hZFByb2dyZXNzKTtcbiAgICB9XG5cbiAgICAvLyBOb3QgYWxsIGJyb3dzZXJzIHN1cHBvcnQgdXBsb2FkIGV2ZW50c1xuICAgIGlmICh0eXBlb2YgY29uZmlnLm9uVXBsb2FkUHJvZ3Jlc3MgPT09ICdmdW5jdGlvbicgJiYgcmVxdWVzdC51cGxvYWQpIHtcbiAgICAgIHJlcXVlc3QudXBsb2FkLmFkZEV2ZW50TGlzdGVuZXIoJ3Byb2dyZXNzJywgY29uZmlnLm9uVXBsb2FkUHJvZ3Jlc3MpO1xuICAgIH1cblxuICAgIGlmIChjb25maWcuY2FuY2VsVG9rZW4pIHtcbiAgICAgIC8vIEhhbmRsZSBjYW5jZWxsYXRpb25cbiAgICAgIGNvbmZpZy5jYW5jZWxUb2tlbi5wcm9taXNlLnRoZW4oZnVuY3Rpb24gb25DYW5jZWxlZChjYW5jZWwpIHtcbiAgICAgICAgaWYgKCFyZXF1ZXN0KSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgcmVxdWVzdC5hYm9ydCgpO1xuICAgICAgICByZWplY3QoY2FuY2VsKTtcbiAgICAgICAgLy8gQ2xlYW4gdXAgcmVxdWVzdFxuICAgICAgICByZXF1ZXN0ID0gbnVsbDtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmIChyZXF1ZXN0RGF0YSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXF1ZXN0RGF0YSA9IG51bGw7XG4gICAgfVxuXG4gICAgLy8gU2VuZCB0aGUgcmVxdWVzdFxuICAgIHJlcXVlc3Quc2VuZChyZXF1ZXN0RGF0YSk7XG4gIH0pO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIGVuaGFuY2VFcnJvciA9IHJlcXVpcmUoJy4vZW5oYW5jZUVycm9yJyk7XG5cbi8qKlxuICogQ3JlYXRlIGFuIEVycm9yIHdpdGggdGhlIHNwZWNpZmllZCBtZXNzYWdlLCBjb25maWcsIGVycm9yIGNvZGUsIHJlcXVlc3QgYW5kIHJlc3BvbnNlLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBtZXNzYWdlIFRoZSBlcnJvciBtZXNzYWdlLlxuICogQHBhcmFtIHtPYmplY3R9IGNvbmZpZyBUaGUgY29uZmlnLlxuICogQHBhcmFtIHtzdHJpbmd9IFtjb2RlXSBUaGUgZXJyb3IgY29kZSAoZm9yIGV4YW1wbGUsICdFQ09OTkFCT1JURUQnKS5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbcmVxdWVzdF0gVGhlIHJlcXVlc3QuXG4gKiBAcGFyYW0ge09iamVjdH0gW3Jlc3BvbnNlXSBUaGUgcmVzcG9uc2UuXG4gKiBAcmV0dXJucyB7RXJyb3J9IFRoZSBjcmVhdGVkIGVycm9yLlxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGNyZWF0ZUVycm9yKG1lc3NhZ2UsIGNvbmZpZywgY29kZSwgcmVxdWVzdCwgcmVzcG9uc2UpIHtcbiAgdmFyIGVycm9yID0gbmV3IEVycm9yKG1lc3NhZ2UpO1xuICByZXR1cm4gZW5oYW5jZUVycm9yKGVycm9yLCBjb25maWcsIGNvZGUsIHJlcXVlc3QsIHJlc3BvbnNlKTtcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gaXNDYW5jZWwodmFsdWUpIHtcbiAgcmV0dXJuICEhKHZhbHVlICYmIHZhbHVlLl9fQ0FOQ0VMX18pO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBBIGBDYW5jZWxgIGlzIGFuIG9iamVjdCB0aGF0IGlzIHRocm93biB3aGVuIGFuIG9wZXJhdGlvbiBpcyBjYW5jZWxlZC5cbiAqXG4gKiBAY2xhc3NcbiAqIEBwYXJhbSB7c3RyaW5nPX0gbWVzc2FnZSBUaGUgbWVzc2FnZS5cbiAqL1xuZnVuY3Rpb24gQ2FuY2VsKG1lc3NhZ2UpIHtcbiAgdGhpcy5tZXNzYWdlID0gbWVzc2FnZTtcbn1cblxuQ2FuY2VsLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuICByZXR1cm4gJ0NhbmNlbCcgKyAodGhpcy5tZXNzYWdlID8gJzogJyArIHRoaXMubWVzc2FnZSA6ICcnKTtcbn07XG5cbkNhbmNlbC5wcm90b3R5cGUuX19DQU5DRUxfXyA9IHRydWU7XG5cbm1vZHVsZS5leHBvcnRzID0gQ2FuY2VsO1xuIiwiLyoganNoaW50IGJyb3dzZXI6IHRydWUgKi9cblxuKGZ1bmN0aW9uICgpIHtcblxuLy8gV2UnbGwgY29weSB0aGUgcHJvcGVydGllcyBiZWxvdyBpbnRvIHRoZSBtaXJyb3IgZGl2LlxuLy8gTm90ZSB0aGF0IHNvbWUgYnJvd3NlcnMsIHN1Y2ggYXMgRmlyZWZveCwgZG8gbm90IGNvbmNhdGVuYXRlIHByb3BlcnRpZXNcbi8vIGludG8gdGhlaXIgc2hvcnRoYW5kIChlLmcuIHBhZGRpbmctdG9wLCBwYWRkaW5nLWJvdHRvbSBldGMuIC0+IHBhZGRpbmcpLFxuLy8gc28gd2UgaGF2ZSB0byBsaXN0IGV2ZXJ5IHNpbmdsZSBwcm9wZXJ0eSBleHBsaWNpdGx5LlxudmFyIHByb3BlcnRpZXMgPSBbXG4gICdkaXJlY3Rpb24nLCAgLy8gUlRMIHN1cHBvcnRcbiAgJ2JveFNpemluZycsXG4gICd3aWR0aCcsICAvLyBvbiBDaHJvbWUgYW5kIElFLCBleGNsdWRlIHRoZSBzY3JvbGxiYXIsIHNvIHRoZSBtaXJyb3IgZGl2IHdyYXBzIGV4YWN0bHkgYXMgdGhlIHRleHRhcmVhIGRvZXNcbiAgJ2hlaWdodCcsXG4gICdvdmVyZmxvd1gnLFxuICAnb3ZlcmZsb3dZJywgIC8vIGNvcHkgdGhlIHNjcm9sbGJhciBmb3IgSUVcblxuICAnYm9yZGVyVG9wV2lkdGgnLFxuICAnYm9yZGVyUmlnaHRXaWR0aCcsXG4gICdib3JkZXJCb3R0b21XaWR0aCcsXG4gICdib3JkZXJMZWZ0V2lkdGgnLFxuICAnYm9yZGVyU3R5bGUnLFxuXG4gICdwYWRkaW5nVG9wJyxcbiAgJ3BhZGRpbmdSaWdodCcsXG4gICdwYWRkaW5nQm90dG9tJyxcbiAgJ3BhZGRpbmdMZWZ0JyxcblxuICAvLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9DU1MvZm9udFxuICAnZm9udFN0eWxlJyxcbiAgJ2ZvbnRWYXJpYW50JyxcbiAgJ2ZvbnRXZWlnaHQnLFxuICAnZm9udFN0cmV0Y2gnLFxuICAnZm9udFNpemUnLFxuICAnZm9udFNpemVBZGp1c3QnLFxuICAnbGluZUhlaWdodCcsXG4gICdmb250RmFtaWx5JyxcblxuICAndGV4dEFsaWduJyxcbiAgJ3RleHRUcmFuc2Zvcm0nLFxuICAndGV4dEluZGVudCcsXG4gICd0ZXh0RGVjb3JhdGlvbicsICAvLyBtaWdodCBub3QgbWFrZSBhIGRpZmZlcmVuY2UsIGJ1dCBiZXR0ZXIgYmUgc2FmZVxuXG4gICdsZXR0ZXJTcGFjaW5nJyxcbiAgJ3dvcmRTcGFjaW5nJyxcblxuICAndGFiU2l6ZScsXG4gICdNb3pUYWJTaXplJ1xuXG5dO1xuXG52YXIgaXNCcm93c2VyID0gKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKTtcbnZhciBpc0ZpcmVmb3ggPSAoaXNCcm93c2VyICYmIHdpbmRvdy5tb3pJbm5lclNjcmVlblggIT0gbnVsbCk7XG5cbmZ1bmN0aW9uIGdldENhcmV0Q29vcmRpbmF0ZXMoZWxlbWVudCwgcG9zaXRpb24sIG9wdGlvbnMpIHtcbiAgaWYgKCFpc0Jyb3dzZXIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3RleHRhcmVhLWNhcmV0LXBvc2l0aW9uI2dldENhcmV0Q29vcmRpbmF0ZXMgc2hvdWxkIG9ubHkgYmUgY2FsbGVkIGluIGEgYnJvd3NlcicpO1xuICB9XG5cbiAgdmFyIGRlYnVnID0gb3B0aW9ucyAmJiBvcHRpb25zLmRlYnVnIHx8IGZhbHNlO1xuICBpZiAoZGVidWcpIHtcbiAgICB2YXIgZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjaW5wdXQtdGV4dGFyZWEtY2FyZXQtcG9zaXRpb24tbWlycm9yLWRpdicpO1xuICAgIGlmIChlbCkgZWwucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChlbCk7XG4gIH1cblxuICAvLyBUaGUgbWlycm9yIGRpdiB3aWxsIHJlcGxpY2F0ZSB0aGUgdGV4dGFyZWEncyBzdHlsZVxuICB2YXIgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIGRpdi5pZCA9ICdpbnB1dC10ZXh0YXJlYS1jYXJldC1wb3NpdGlvbi1taXJyb3ItZGl2JztcbiAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChkaXYpO1xuXG4gIHZhciBzdHlsZSA9IGRpdi5zdHlsZTtcbiAgdmFyIGNvbXB1dGVkID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUgPyB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KSA6IGVsZW1lbnQuY3VycmVudFN0eWxlOyAgLy8gY3VycmVudFN0eWxlIGZvciBJRSA8IDlcbiAgdmFyIGlzSW5wdXQgPSBlbGVtZW50Lm5vZGVOYW1lID09PSAnSU5QVVQnO1xuXG4gIC8vIERlZmF1bHQgdGV4dGFyZWEgc3R5bGVzXG4gIHN0eWxlLndoaXRlU3BhY2UgPSAncHJlLXdyYXAnO1xuICBpZiAoIWlzSW5wdXQpXG4gICAgc3R5bGUud29yZFdyYXAgPSAnYnJlYWstd29yZCc7ICAvLyBvbmx5IGZvciB0ZXh0YXJlYS1zXG5cbiAgLy8gUG9zaXRpb24gb2ZmLXNjcmVlblxuICBzdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7ICAvLyByZXF1aXJlZCB0byByZXR1cm4gY29vcmRpbmF0ZXMgcHJvcGVybHlcbiAgaWYgKCFkZWJ1ZylcbiAgICBzdHlsZS52aXNpYmlsaXR5ID0gJ2hpZGRlbic7ICAvLyBub3QgJ2Rpc3BsYXk6IG5vbmUnIGJlY2F1c2Ugd2Ugd2FudCByZW5kZXJpbmdcblxuICAvLyBUcmFuc2ZlciB0aGUgZWxlbWVudCdzIHByb3BlcnRpZXMgdG8gdGhlIGRpdlxuICBwcm9wZXJ0aWVzLmZvckVhY2goZnVuY3Rpb24gKHByb3ApIHtcbiAgICBpZiAoaXNJbnB1dCAmJiBwcm9wID09PSAnbGluZUhlaWdodCcpIHtcbiAgICAgIC8vIFNwZWNpYWwgY2FzZSBmb3IgPGlucHV0PnMgYmVjYXVzZSB0ZXh0IGlzIHJlbmRlcmVkIGNlbnRlcmVkIGFuZCBsaW5lIGhlaWdodCBtYXkgYmUgIT0gaGVpZ2h0XG4gICAgICBzdHlsZS5saW5lSGVpZ2h0ID0gY29tcHV0ZWQuaGVpZ2h0O1xuICAgIH0gZWxzZSB7XG4gICAgICBzdHlsZVtwcm9wXSA9IGNvbXB1dGVkW3Byb3BdO1xuICAgIH1cbiAgfSk7XG5cbiAgaWYgKGlzRmlyZWZveCkge1xuICAgIC8vIEZpcmVmb3ggbGllcyBhYm91dCB0aGUgb3ZlcmZsb3cgcHJvcGVydHkgZm9yIHRleHRhcmVhczogaHR0cHM6Ly9idWd6aWxsYS5tb3ppbGxhLm9yZy9zaG93X2J1Zy5jZ2k/aWQ9OTg0Mjc1XG4gICAgaWYgKGVsZW1lbnQuc2Nyb2xsSGVpZ2h0ID4gcGFyc2VJbnQoY29tcHV0ZWQuaGVpZ2h0KSlcbiAgICAgIHN0eWxlLm92ZXJmbG93WSA9ICdzY3JvbGwnO1xuICB9IGVsc2Uge1xuICAgIHN0eWxlLm92ZXJmbG93ID0gJ2hpZGRlbic7ICAvLyBmb3IgQ2hyb21lIHRvIG5vdCByZW5kZXIgYSBzY3JvbGxiYXI7IElFIGtlZXBzIG92ZXJmbG93WSA9ICdzY3JvbGwnXG4gIH1cblxuICBkaXYudGV4dENvbnRlbnQgPSBlbGVtZW50LnZhbHVlLnN1YnN0cmluZygwLCBwb3NpdGlvbik7XG4gIC8vIFRoZSBzZWNvbmQgc3BlY2lhbCBoYW5kbGluZyBmb3IgaW5wdXQgdHlwZT1cInRleHRcIiB2cyB0ZXh0YXJlYTpcbiAgLy8gc3BhY2VzIG5lZWQgdG8gYmUgcmVwbGFjZWQgd2l0aCBub24tYnJlYWtpbmcgc3BhY2VzIC0gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMTM0MDIwMzUvMTI2OTAzN1xuICBpZiAoaXNJbnB1dClcbiAgICBkaXYudGV4dENvbnRlbnQgPSBkaXYudGV4dENvbnRlbnQucmVwbGFjZSgvXFxzL2csICdcXHUwMGEwJyk7XG5cbiAgdmFyIHNwYW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gIC8vIFdyYXBwaW5nIG11c3QgYmUgcmVwbGljYXRlZCAqZXhhY3RseSosIGluY2x1ZGluZyB3aGVuIGEgbG9uZyB3b3JkIGdldHNcbiAgLy8gb250byB0aGUgbmV4dCBsaW5lLCB3aXRoIHdoaXRlc3BhY2UgYXQgdGhlIGVuZCBvZiB0aGUgbGluZSBiZWZvcmUgKCM3KS5cbiAgLy8gVGhlICAqb25seSogcmVsaWFibGUgd2F5IHRvIGRvIHRoYXQgaXMgdG8gY29weSB0aGUgKmVudGlyZSogcmVzdCBvZiB0aGVcbiAgLy8gdGV4dGFyZWEncyBjb250ZW50IGludG8gdGhlIDxzcGFuPiBjcmVhdGVkIGF0IHRoZSBjYXJldCBwb3NpdGlvbi5cbiAgLy8gRm9yIGlucHV0cywganVzdCAnLicgd291bGQgYmUgZW5vdWdoLCBidXQgbm8gbmVlZCB0byBib3RoZXIuXG4gIHNwYW4udGV4dENvbnRlbnQgPSBlbGVtZW50LnZhbHVlLnN1YnN0cmluZyhwb3NpdGlvbikgfHwgJy4nOyAgLy8gfHwgYmVjYXVzZSBhIGNvbXBsZXRlbHkgZW1wdHkgZmF1eCBzcGFuIGRvZXNuJ3QgcmVuZGVyIGF0IGFsbFxuICBkaXYuYXBwZW5kQ2hpbGQoc3Bhbik7XG5cbiAgdmFyIGNvb3JkaW5hdGVzID0ge1xuICAgIHRvcDogc3Bhbi5vZmZzZXRUb3AgKyBwYXJzZUludChjb21wdXRlZFsnYm9yZGVyVG9wV2lkdGgnXSksXG4gICAgbGVmdDogc3Bhbi5vZmZzZXRMZWZ0ICsgcGFyc2VJbnQoY29tcHV0ZWRbJ2JvcmRlckxlZnRXaWR0aCddKSxcbiAgICBoZWlnaHQ6IHBhcnNlSW50KGNvbXB1dGVkWydsaW5lSGVpZ2h0J10pXG4gIH07XG5cbiAgaWYgKGRlYnVnKSB7XG4gICAgc3Bhbi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAnI2FhYSc7XG4gIH0gZWxzZSB7XG4gICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChkaXYpO1xuICB9XG5cbiAgcmV0dXJuIGNvb3JkaW5hdGVzO1xufVxuXG5pZiAodHlwZW9mIG1vZHVsZSAhPSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgbW9kdWxlLmV4cG9ydHMgIT0gJ3VuZGVmaW5lZCcpIHtcbiAgbW9kdWxlLmV4cG9ydHMgPSBnZXRDYXJldENvb3JkaW5hdGVzO1xufSBlbHNlIGlmKGlzQnJvd3Nlcikge1xuICB3aW5kb3cuZ2V0Q2FyZXRDb29yZGluYXRlcyA9IGdldENhcmV0Q29vcmRpbmF0ZXM7XG59XG5cbn0oKSk7XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciB1dGlscyA9IHJlcXVpcmUoJy4vdXRpbHMnKTtcbnZhciBiaW5kID0gcmVxdWlyZSgnLi9oZWxwZXJzL2JpbmQnKTtcbnZhciBBeGlvcyA9IHJlcXVpcmUoJy4vY29yZS9BeGlvcycpO1xudmFyIGRlZmF1bHRzID0gcmVxdWlyZSgnLi9kZWZhdWx0cycpO1xuXG4vKipcbiAqIENyZWF0ZSBhbiBpbnN0YW5jZSBvZiBBeGlvc1xuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBkZWZhdWx0Q29uZmlnIFRoZSBkZWZhdWx0IGNvbmZpZyBmb3IgdGhlIGluc3RhbmNlXG4gKiBAcmV0dXJuIHtBeGlvc30gQSBuZXcgaW5zdGFuY2Ugb2YgQXhpb3NcbiAqL1xuZnVuY3Rpb24gY3JlYXRlSW5zdGFuY2UoZGVmYXVsdENvbmZpZykge1xuICB2YXIgY29udGV4dCA9IG5ldyBBeGlvcyhkZWZhdWx0Q29uZmlnKTtcbiAgdmFyIGluc3RhbmNlID0gYmluZChBeGlvcy5wcm90b3R5cGUucmVxdWVzdCwgY29udGV4dCk7XG5cbiAgLy8gQ29weSBheGlvcy5wcm90b3R5cGUgdG8gaW5zdGFuY2VcbiAgdXRpbHMuZXh0ZW5kKGluc3RhbmNlLCBBeGlvcy5wcm90b3R5cGUsIGNvbnRleHQpO1xuXG4gIC8vIENvcHkgY29udGV4dCB0byBpbnN0YW5jZVxuICB1dGlscy5leHRlbmQoaW5zdGFuY2UsIGNvbnRleHQpO1xuXG4gIHJldHVybiBpbnN0YW5jZTtcbn1cblxuLy8gQ3JlYXRlIHRoZSBkZWZhdWx0IGluc3RhbmNlIHRvIGJlIGV4cG9ydGVkXG52YXIgYXhpb3MgPSBjcmVhdGVJbnN0YW5jZShkZWZhdWx0cyk7XG5cbi8vIEV4cG9zZSBBeGlvcyBjbGFzcyB0byBhbGxvdyBjbGFzcyBpbmhlcml0YW5jZVxuYXhpb3MuQXhpb3MgPSBBeGlvcztcblxuLy8gRmFjdG9yeSBmb3IgY3JlYXRpbmcgbmV3IGluc3RhbmNlc1xuYXhpb3MuY3JlYXRlID0gZnVuY3Rpb24gY3JlYXRlKGluc3RhbmNlQ29uZmlnKSB7XG4gIHJldHVybiBjcmVhdGVJbnN0YW5jZSh1dGlscy5tZXJnZShkZWZhdWx0cywgaW5zdGFuY2VDb25maWcpKTtcbn07XG5cbi8vIEV4cG9zZSBDYW5jZWwgJiBDYW5jZWxUb2tlblxuYXhpb3MuQ2FuY2VsID0gcmVxdWlyZSgnLi9jYW5jZWwvQ2FuY2VsJyk7XG5heGlvcy5DYW5jZWxUb2tlbiA9IHJlcXVpcmUoJy4vY2FuY2VsL0NhbmNlbFRva2VuJyk7XG5heGlvcy5pc0NhbmNlbCA9IHJlcXVpcmUoJy4vY2FuY2VsL2lzQ2FuY2VsJyk7XG5cbi8vIEV4cG9zZSBhbGwvc3ByZWFkXG5heGlvcy5hbGwgPSBmdW5jdGlvbiBhbGwocHJvbWlzZXMpIHtcbiAgcmV0dXJuIFByb21pc2UuYWxsKHByb21pc2VzKTtcbn07XG5heGlvcy5zcHJlYWQgPSByZXF1aXJlKCcuL2hlbHBlcnMvc3ByZWFkJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gYXhpb3M7XG5cbi8vIEFsbG93IHVzZSBvZiBkZWZhdWx0IGltcG9ydCBzeW50YXggaW4gVHlwZVNjcmlwdFxubW9kdWxlLmV4cG9ydHMuZGVmYXVsdCA9IGF4aW9zO1xuIiwiLyohXG4gKiBEZXRlcm1pbmUgaWYgYW4gb2JqZWN0IGlzIGEgQnVmZmVyXG4gKlxuICogQGF1dGhvciAgIEZlcm9zcyBBYm91a2hhZGlqZWggPGh0dHBzOi8vZmVyb3NzLm9yZz5cbiAqIEBsaWNlbnNlICBNSVRcbiAqL1xuXG4vLyBUaGUgX2lzQnVmZmVyIGNoZWNrIGlzIGZvciBTYWZhcmkgNS03IHN1cHBvcnQsIGJlY2F1c2UgaXQncyBtaXNzaW5nXG4vLyBPYmplY3QucHJvdG90eXBlLmNvbnN0cnVjdG9yLiBSZW1vdmUgdGhpcyBldmVudHVhbGx5XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChvYmopIHtcbiAgcmV0dXJuIG9iaiAhPSBudWxsICYmIChpc0J1ZmZlcihvYmopIHx8IGlzU2xvd0J1ZmZlcihvYmopIHx8ICEhb2JqLl9pc0J1ZmZlcilcbn1cblxuZnVuY3Rpb24gaXNCdWZmZXIgKG9iaikge1xuICByZXR1cm4gISFvYmouY29uc3RydWN0b3IgJiYgdHlwZW9mIG9iai5jb25zdHJ1Y3Rvci5pc0J1ZmZlciA9PT0gJ2Z1bmN0aW9uJyAmJiBvYmouY29uc3RydWN0b3IuaXNCdWZmZXIob2JqKVxufVxuXG4vLyBGb3IgTm9kZSB2MC4xMCBzdXBwb3J0LiBSZW1vdmUgdGhpcyBldmVudHVhbGx5LlxuZnVuY3Rpb24gaXNTbG93QnVmZmVyIChvYmopIHtcbiAgcmV0dXJuIHR5cGVvZiBvYmoucmVhZEZsb2F0TEUgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIG9iai5zbGljZSA9PT0gJ2Z1bmN0aW9uJyAmJiBpc0J1ZmZlcihvYmouc2xpY2UoMCwgMCkpXG59XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciBkZWZhdWx0cyA9IHJlcXVpcmUoJy4vLi4vZGVmYXVsdHMnKTtcbnZhciB1dGlscyA9IHJlcXVpcmUoJy4vLi4vdXRpbHMnKTtcbnZhciBJbnRlcmNlcHRvck1hbmFnZXIgPSByZXF1aXJlKCcuL0ludGVyY2VwdG9yTWFuYWdlcicpO1xudmFyIGRpc3BhdGNoUmVxdWVzdCA9IHJlcXVpcmUoJy4vZGlzcGF0Y2hSZXF1ZXN0Jyk7XG5cbi8qKlxuICogQ3JlYXRlIGEgbmV3IGluc3RhbmNlIG9mIEF4aW9zXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGluc3RhbmNlQ29uZmlnIFRoZSBkZWZhdWx0IGNvbmZpZyBmb3IgdGhlIGluc3RhbmNlXG4gKi9cbmZ1bmN0aW9uIEF4aW9zKGluc3RhbmNlQ29uZmlnKSB7XG4gIHRoaXMuZGVmYXVsdHMgPSBpbnN0YW5jZUNvbmZpZztcbiAgdGhpcy5pbnRlcmNlcHRvcnMgPSB7XG4gICAgcmVxdWVzdDogbmV3IEludGVyY2VwdG9yTWFuYWdlcigpLFxuICAgIHJlc3BvbnNlOiBuZXcgSW50ZXJjZXB0b3JNYW5hZ2VyKClcbiAgfTtcbn1cblxuLyoqXG4gKiBEaXNwYXRjaCBhIHJlcXVlc3RcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gY29uZmlnIFRoZSBjb25maWcgc3BlY2lmaWMgZm9yIHRoaXMgcmVxdWVzdCAobWVyZ2VkIHdpdGggdGhpcy5kZWZhdWx0cylcbiAqL1xuQXhpb3MucHJvdG90eXBlLnJlcXVlc3QgPSBmdW5jdGlvbiByZXF1ZXN0KGNvbmZpZykge1xuICAvKmVzbGludCBuby1wYXJhbS1yZWFzc2lnbjowKi9cbiAgLy8gQWxsb3cgZm9yIGF4aW9zKCdleGFtcGxlL3VybCdbLCBjb25maWddKSBhIGxhIGZldGNoIEFQSVxuICBpZiAodHlwZW9mIGNvbmZpZyA9PT0gJ3N0cmluZycpIHtcbiAgICBjb25maWcgPSB1dGlscy5tZXJnZSh7XG4gICAgICB1cmw6IGFyZ3VtZW50c1swXVxuICAgIH0sIGFyZ3VtZW50c1sxXSk7XG4gIH1cblxuICBjb25maWcgPSB1dGlscy5tZXJnZShkZWZhdWx0cywge21ldGhvZDogJ2dldCd9LCB0aGlzLmRlZmF1bHRzLCBjb25maWcpO1xuICBjb25maWcubWV0aG9kID0gY29uZmlnLm1ldGhvZC50b0xvd2VyQ2FzZSgpO1xuXG4gIC8vIEhvb2sgdXAgaW50ZXJjZXB0b3JzIG1pZGRsZXdhcmVcbiAgdmFyIGNoYWluID0gW2Rpc3BhdGNoUmVxdWVzdCwgdW5kZWZpbmVkXTtcbiAgdmFyIHByb21pc2UgPSBQcm9taXNlLnJlc29sdmUoY29uZmlnKTtcblxuICB0aGlzLmludGVyY2VwdG9ycy5yZXF1ZXN0LmZvckVhY2goZnVuY3Rpb24gdW5zaGlmdFJlcXVlc3RJbnRlcmNlcHRvcnMoaW50ZXJjZXB0b3IpIHtcbiAgICBjaGFpbi51bnNoaWZ0KGludGVyY2VwdG9yLmZ1bGZpbGxlZCwgaW50ZXJjZXB0b3IucmVqZWN0ZWQpO1xuICB9KTtcblxuICB0aGlzLmludGVyY2VwdG9ycy5yZXNwb25zZS5mb3JFYWNoKGZ1bmN0aW9uIHB1c2hSZXNwb25zZUludGVyY2VwdG9ycyhpbnRlcmNlcHRvcikge1xuICAgIGNoYWluLnB1c2goaW50ZXJjZXB0b3IuZnVsZmlsbGVkLCBpbnRlcmNlcHRvci5yZWplY3RlZCk7XG4gIH0pO1xuXG4gIHdoaWxlIChjaGFpbi5sZW5ndGgpIHtcbiAgICBwcm9taXNlID0gcHJvbWlzZS50aGVuKGNoYWluLnNoaWZ0KCksIGNoYWluLnNoaWZ0KCkpO1xuICB9XG5cbiAgcmV0dXJuIHByb21pc2U7XG59O1xuXG4vLyBQcm92aWRlIGFsaWFzZXMgZm9yIHN1cHBvcnRlZCByZXF1ZXN0IG1ldGhvZHNcbnV0aWxzLmZvckVhY2goWydkZWxldGUnLCAnZ2V0JywgJ2hlYWQnLCAnb3B0aW9ucyddLCBmdW5jdGlvbiBmb3JFYWNoTWV0aG9kTm9EYXRhKG1ldGhvZCkge1xuICAvKmVzbGludCBmdW5jLW5hbWVzOjAqL1xuICBBeGlvcy5wcm90b3R5cGVbbWV0aG9kXSA9IGZ1bmN0aW9uKHVybCwgY29uZmlnKSB7XG4gICAgcmV0dXJuIHRoaXMucmVxdWVzdCh1dGlscy5tZXJnZShjb25maWcgfHwge30sIHtcbiAgICAgIG1ldGhvZDogbWV0aG9kLFxuICAgICAgdXJsOiB1cmxcbiAgICB9KSk7XG4gIH07XG59KTtcblxudXRpbHMuZm9yRWFjaChbJ3Bvc3QnLCAncHV0JywgJ3BhdGNoJ10sIGZ1bmN0aW9uIGZvckVhY2hNZXRob2RXaXRoRGF0YShtZXRob2QpIHtcbiAgLyplc2xpbnQgZnVuYy1uYW1lczowKi9cbiAgQXhpb3MucHJvdG90eXBlW21ldGhvZF0gPSBmdW5jdGlvbih1cmwsIGRhdGEsIGNvbmZpZykge1xuICAgIHJldHVybiB0aGlzLnJlcXVlc3QodXRpbHMubWVyZ2UoY29uZmlnIHx8IHt9LCB7XG4gICAgICBtZXRob2Q6IG1ldGhvZCxcbiAgICAgIHVybDogdXJsLFxuICAgICAgZGF0YTogZGF0YVxuICAgIH0pKTtcbiAgfTtcbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IEF4aW9zO1xuIiwiLy8gc2hpbSBmb3IgdXNpbmcgcHJvY2VzcyBpbiBicm93c2VyXG52YXIgcHJvY2VzcyA9IG1vZHVsZS5leHBvcnRzID0ge307XG5cbi8vIGNhY2hlZCBmcm9tIHdoYXRldmVyIGdsb2JhbCBpcyBwcmVzZW50IHNvIHRoYXQgdGVzdCBydW5uZXJzIHRoYXQgc3R1YiBpdFxuLy8gZG9uJ3QgYnJlYWsgdGhpbmdzLiAgQnV0IHdlIG5lZWQgdG8gd3JhcCBpdCBpbiBhIHRyeSBjYXRjaCBpbiBjYXNlIGl0IGlzXG4vLyB3cmFwcGVkIGluIHN0cmljdCBtb2RlIGNvZGUgd2hpY2ggZG9lc24ndCBkZWZpbmUgYW55IGdsb2JhbHMuICBJdCdzIGluc2lkZSBhXG4vLyBmdW5jdGlvbiBiZWNhdXNlIHRyeS9jYXRjaGVzIGRlb3B0aW1pemUgaW4gY2VydGFpbiBlbmdpbmVzLlxuXG52YXIgY2FjaGVkU2V0VGltZW91dDtcbnZhciBjYWNoZWRDbGVhclRpbWVvdXQ7XG5cbmZ1bmN0aW9uIGRlZmF1bHRTZXRUaW1vdXQoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdzZXRUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkJyk7XG59XG5mdW5jdGlvbiBkZWZhdWx0Q2xlYXJUaW1lb3V0ICgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2NsZWFyVGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCcpO1xufVxuKGZ1bmN0aW9uICgpIHtcbiAgICB0cnkge1xuICAgICAgICBpZiAodHlwZW9mIHNldFRpbWVvdXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBzZXRUaW1lb3V0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IGRlZmF1bHRTZXRUaW1vdXQ7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBkZWZhdWx0U2V0VGltb3V0O1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICBpZiAodHlwZW9mIGNsZWFyVGltZW91dCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gY2xlYXJUaW1lb3V0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gZGVmYXVsdENsZWFyVGltZW91dDtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gZGVmYXVsdENsZWFyVGltZW91dDtcbiAgICB9XG59ICgpKVxuZnVuY3Rpb24gcnVuVGltZW91dChmdW4pIHtcbiAgICBpZiAoY2FjaGVkU2V0VGltZW91dCA9PT0gc2V0VGltZW91dCkge1xuICAgICAgICAvL25vcm1hbCBlbnZpcm9tZW50cyBpbiBzYW5lIHNpdHVhdGlvbnNcbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9XG4gICAgLy8gaWYgc2V0VGltZW91dCB3YXNuJ3QgYXZhaWxhYmxlIGJ1dCB3YXMgbGF0dGVyIGRlZmluZWRcbiAgICBpZiAoKGNhY2hlZFNldFRpbWVvdXQgPT09IGRlZmF1bHRTZXRUaW1vdXQgfHwgIWNhY2hlZFNldFRpbWVvdXQpICYmIHNldFRpbWVvdXQpIHtcbiAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XG4gICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIC8vIHdoZW4gd2hlbiBzb21lYm9keSBoYXMgc2NyZXdlZCB3aXRoIHNldFRpbWVvdXQgYnV0IG5vIEkuRS4gbWFkZG5lc3NcbiAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9IGNhdGNoKGUpe1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gV2hlbiB3ZSBhcmUgaW4gSS5FLiBidXQgdGhlIHNjcmlwdCBoYXMgYmVlbiBldmFsZWQgc28gSS5FLiBkb2Vzbid0IHRydXN0IHRoZSBnbG9iYWwgb2JqZWN0IHdoZW4gY2FsbGVkIG5vcm1hbGx5XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dC5jYWxsKG51bGwsIGZ1biwgMCk7XG4gICAgICAgIH0gY2F0Y2goZSl7XG4gICAgICAgICAgICAvLyBzYW1lIGFzIGFib3ZlIGJ1dCB3aGVuIGl0J3MgYSB2ZXJzaW9uIG9mIEkuRS4gdGhhdCBtdXN0IGhhdmUgdGhlIGdsb2JhbCBvYmplY3QgZm9yICd0aGlzJywgaG9wZnVsbHkgb3VyIGNvbnRleHQgY29ycmVjdCBvdGhlcndpc2UgaXQgd2lsbCB0aHJvdyBhIGdsb2JhbCBlcnJvclxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQuY2FsbCh0aGlzLCBmdW4sIDApO1xuICAgICAgICB9XG4gICAgfVxuXG5cbn1cbmZ1bmN0aW9uIHJ1bkNsZWFyVGltZW91dChtYXJrZXIpIHtcbiAgICBpZiAoY2FjaGVkQ2xlYXJUaW1lb3V0ID09PSBjbGVhclRpbWVvdXQpIHtcbiAgICAgICAgLy9ub3JtYWwgZW52aXJvbWVudHMgaW4gc2FuZSBzaXR1YXRpb25zXG4gICAgICAgIHJldHVybiBjbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9XG4gICAgLy8gaWYgY2xlYXJUaW1lb3V0IHdhc24ndCBhdmFpbGFibGUgYnV0IHdhcyBsYXR0ZXIgZGVmaW5lZFxuICAgIGlmICgoY2FjaGVkQ2xlYXJUaW1lb3V0ID09PSBkZWZhdWx0Q2xlYXJUaW1lb3V0IHx8ICFjYWNoZWRDbGVhclRpbWVvdXQpICYmIGNsZWFyVGltZW91dCkge1xuICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBjbGVhclRpbWVvdXQ7XG4gICAgICAgIHJldHVybiBjbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gd2hlbiB3aGVuIHNvbWVib2R5IGhhcyBzY3Jld2VkIHdpdGggc2V0VGltZW91dCBidXQgbm8gSS5FLiBtYWRkbmVzc1xuICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfSBjYXRjaCAoZSl7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBXaGVuIHdlIGFyZSBpbiBJLkUuIGJ1dCB0aGUgc2NyaXB0IGhhcyBiZWVuIGV2YWxlZCBzbyBJLkUuIGRvZXNuJ3QgIHRydXN0IHRoZSBnbG9iYWwgb2JqZWN0IHdoZW4gY2FsbGVkIG5vcm1hbGx5XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0LmNhbGwobnVsbCwgbWFya2VyKTtcbiAgICAgICAgfSBjYXRjaCAoZSl7XG4gICAgICAgICAgICAvLyBzYW1lIGFzIGFib3ZlIGJ1dCB3aGVuIGl0J3MgYSB2ZXJzaW9uIG9mIEkuRS4gdGhhdCBtdXN0IGhhdmUgdGhlIGdsb2JhbCBvYmplY3QgZm9yICd0aGlzJywgaG9wZnVsbHkgb3VyIGNvbnRleHQgY29ycmVjdCBvdGhlcndpc2UgaXQgd2lsbCB0aHJvdyBhIGdsb2JhbCBlcnJvci5cbiAgICAgICAgICAgIC8vIFNvbWUgdmVyc2lvbnMgb2YgSS5FLiBoYXZlIGRpZmZlcmVudCBydWxlcyBmb3IgY2xlYXJUaW1lb3V0IHZzIHNldFRpbWVvdXRcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQuY2FsbCh0aGlzLCBtYXJrZXIpO1xuICAgICAgICB9XG4gICAgfVxuXG5cblxufVxudmFyIHF1ZXVlID0gW107XG52YXIgZHJhaW5pbmcgPSBmYWxzZTtcbnZhciBjdXJyZW50UXVldWU7XG52YXIgcXVldWVJbmRleCA9IC0xO1xuXG5mdW5jdGlvbiBjbGVhblVwTmV4dFRpY2soKSB7XG4gICAgaWYgKCFkcmFpbmluZyB8fCAhY3VycmVudFF1ZXVlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgICBpZiAoY3VycmVudFF1ZXVlLmxlbmd0aCkge1xuICAgICAgICBxdWV1ZSA9IGN1cnJlbnRRdWV1ZS5jb25jYXQocXVldWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHF1ZXVlSW5kZXggPSAtMTtcbiAgICB9XG4gICAgaWYgKHF1ZXVlLmxlbmd0aCkge1xuICAgICAgICBkcmFpblF1ZXVlKCk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBkcmFpblF1ZXVlKCkge1xuICAgIGlmIChkcmFpbmluZykge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciB0aW1lb3V0ID0gcnVuVGltZW91dChjbGVhblVwTmV4dFRpY2spO1xuICAgIGRyYWluaW5nID0gdHJ1ZTtcblxuICAgIHZhciBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gICAgd2hpbGUobGVuKSB7XG4gICAgICAgIGN1cnJlbnRRdWV1ZSA9IHF1ZXVlO1xuICAgICAgICBxdWV1ZSA9IFtdO1xuICAgICAgICB3aGlsZSAoKytxdWV1ZUluZGV4IDwgbGVuKSB7XG4gICAgICAgICAgICBpZiAoY3VycmVudFF1ZXVlKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudFF1ZXVlW3F1ZXVlSW5kZXhdLnJ1bigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHF1ZXVlSW5kZXggPSAtMTtcbiAgICAgICAgbGVuID0gcXVldWUubGVuZ3RoO1xuICAgIH1cbiAgICBjdXJyZW50UXVldWUgPSBudWxsO1xuICAgIGRyYWluaW5nID0gZmFsc2U7XG4gICAgcnVuQ2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xufVxuXG5wcm9jZXNzLm5leHRUaWNrID0gZnVuY3Rpb24gKGZ1bikge1xuICAgIHZhciBhcmdzID0gbmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGggLSAxKTtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGFyZ3NbaSAtIDFdID0gYXJndW1lbnRzW2ldO1xuICAgICAgICB9XG4gICAgfVxuICAgIHF1ZXVlLnB1c2gobmV3IEl0ZW0oZnVuLCBhcmdzKSk7XG4gICAgaWYgKHF1ZXVlLmxlbmd0aCA9PT0gMSAmJiAhZHJhaW5pbmcpIHtcbiAgICAgICAgcnVuVGltZW91dChkcmFpblF1ZXVlKTtcbiAgICB9XG59O1xuXG4vLyB2OCBsaWtlcyBwcmVkaWN0aWJsZSBvYmplY3RzXG5mdW5jdGlvbiBJdGVtKGZ1biwgYXJyYXkpIHtcbiAgICB0aGlzLmZ1biA9IGZ1bjtcbiAgICB0aGlzLmFycmF5ID0gYXJyYXk7XG59XG5JdGVtLnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5mdW4uYXBwbHkobnVsbCwgdGhpcy5hcnJheSk7XG59O1xucHJvY2Vzcy50aXRsZSA9ICdicm93c2VyJztcbnByb2Nlc3MuYnJvd3NlciA9IHRydWU7XG5wcm9jZXNzLmVudiA9IHt9O1xucHJvY2Vzcy5hcmd2ID0gW107XG5wcm9jZXNzLnZlcnNpb24gPSAnJzsgLy8gZW1wdHkgc3RyaW5nIHRvIGF2b2lkIHJlZ2V4cCBpc3N1ZXNcbnByb2Nlc3MudmVyc2lvbnMgPSB7fTtcblxuZnVuY3Rpb24gbm9vcCgpIHt9XG5cbnByb2Nlc3Mub24gPSBub29wO1xucHJvY2Vzcy5hZGRMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLm9uY2UgPSBub29wO1xucHJvY2Vzcy5vZmYgPSBub29wO1xucHJvY2Vzcy5yZW1vdmVMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLnJlbW92ZUFsbExpc3RlbmVycyA9IG5vb3A7XG5wcm9jZXNzLmVtaXQgPSBub29wO1xucHJvY2Vzcy5wcmVwZW5kTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5wcmVwZW5kT25jZUxpc3RlbmVyID0gbm9vcDtcblxucHJvY2Vzcy5saXN0ZW5lcnMgPSBmdW5jdGlvbiAobmFtZSkgeyByZXR1cm4gW10gfVxuXG5wcm9jZXNzLmJpbmRpbmcgPSBmdW5jdGlvbiAobmFtZSkge1xuICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5iaW5kaW5nIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn07XG5cbnByb2Nlc3MuY3dkID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gJy8nIH07XG5wcm9jZXNzLmNoZGlyID0gZnVuY3Rpb24gKGRpcikge1xuICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5jaGRpciBpcyBub3Qgc3VwcG9ydGVkJyk7XG59O1xucHJvY2Vzcy51bWFzayA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gMDsgfTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi4vdXRpbHMnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBub3JtYWxpemVIZWFkZXJOYW1lKGhlYWRlcnMsIG5vcm1hbGl6ZWROYW1lKSB7XG4gIHV0aWxzLmZvckVhY2goaGVhZGVycywgZnVuY3Rpb24gcHJvY2Vzc0hlYWRlcih2YWx1ZSwgbmFtZSkge1xuICAgIGlmIChuYW1lICE9PSBub3JtYWxpemVkTmFtZSAmJiBuYW1lLnRvVXBwZXJDYXNlKCkgPT09IG5vcm1hbGl6ZWROYW1lLnRvVXBwZXJDYXNlKCkpIHtcbiAgICAgIGhlYWRlcnNbbm9ybWFsaXplZE5hbWVdID0gdmFsdWU7XG4gICAgICBkZWxldGUgaGVhZGVyc1tuYW1lXTtcbiAgICB9XG4gIH0pO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIGNyZWF0ZUVycm9yID0gcmVxdWlyZSgnLi9jcmVhdGVFcnJvcicpO1xuXG4vKipcbiAqIFJlc29sdmUgb3IgcmVqZWN0IGEgUHJvbWlzZSBiYXNlZCBvbiByZXNwb25zZSBzdGF0dXMuXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gcmVzb2x2ZSBBIGZ1bmN0aW9uIHRoYXQgcmVzb2x2ZXMgdGhlIHByb21pc2UuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSByZWplY3QgQSBmdW5jdGlvbiB0aGF0IHJlamVjdHMgdGhlIHByb21pc2UuXG4gKiBAcGFyYW0ge29iamVjdH0gcmVzcG9uc2UgVGhlIHJlc3BvbnNlLlxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHNldHRsZShyZXNvbHZlLCByZWplY3QsIHJlc3BvbnNlKSB7XG4gIHZhciB2YWxpZGF0ZVN0YXR1cyA9IHJlc3BvbnNlLmNvbmZpZy52YWxpZGF0ZVN0YXR1cztcbiAgLy8gTm90ZTogc3RhdHVzIGlzIG5vdCBleHBvc2VkIGJ5IFhEb21haW5SZXF1ZXN0XG4gIGlmICghcmVzcG9uc2Uuc3RhdHVzIHx8ICF2YWxpZGF0ZVN0YXR1cyB8fCB2YWxpZGF0ZVN0YXR1cyhyZXNwb25zZS5zdGF0dXMpKSB7XG4gICAgcmVzb2x2ZShyZXNwb25zZSk7XG4gIH0gZWxzZSB7XG4gICAgcmVqZWN0KGNyZWF0ZUVycm9yKFxuICAgICAgJ1JlcXVlc3QgZmFpbGVkIHdpdGggc3RhdHVzIGNvZGUgJyArIHJlc3BvbnNlLnN0YXR1cyxcbiAgICAgIHJlc3BvbnNlLmNvbmZpZyxcbiAgICAgIG51bGwsXG4gICAgICByZXNwb25zZS5yZXF1ZXN0LFxuICAgICAgcmVzcG9uc2VcbiAgICApKTtcbiAgfVxufTtcbiIsIid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBVcGRhdGUgYW4gRXJyb3Igd2l0aCB0aGUgc3BlY2lmaWVkIGNvbmZpZywgZXJyb3IgY29kZSwgYW5kIHJlc3BvbnNlLlxuICpcbiAqIEBwYXJhbSB7RXJyb3J9IGVycm9yIFRoZSBlcnJvciB0byB1cGRhdGUuXG4gKiBAcGFyYW0ge09iamVjdH0gY29uZmlnIFRoZSBjb25maWcuXG4gKiBAcGFyYW0ge3N0cmluZ30gW2NvZGVdIFRoZSBlcnJvciBjb2RlIChmb3IgZXhhbXBsZSwgJ0VDT05OQUJPUlRFRCcpLlxuICogQHBhcmFtIHtPYmplY3R9IFtyZXF1ZXN0XSBUaGUgcmVxdWVzdC5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbcmVzcG9uc2VdIFRoZSByZXNwb25zZS5cbiAqIEByZXR1cm5zIHtFcnJvcn0gVGhlIGVycm9yLlxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGVuaGFuY2VFcnJvcihlcnJvciwgY29uZmlnLCBjb2RlLCByZXF1ZXN0LCByZXNwb25zZSkge1xuICBlcnJvci5jb25maWcgPSBjb25maWc7XG4gIGlmIChjb2RlKSB7XG4gICAgZXJyb3IuY29kZSA9IGNvZGU7XG4gIH1cbiAgZXJyb3IucmVxdWVzdCA9IHJlcXVlc3Q7XG4gIGVycm9yLnJlc3BvbnNlID0gcmVzcG9uc2U7XG4gIHJldHVybiBlcnJvcjtcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciB1dGlscyA9IHJlcXVpcmUoJy4vLi4vdXRpbHMnKTtcblxuZnVuY3Rpb24gZW5jb2RlKHZhbCkge1xuICByZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KHZhbCkuXG4gICAgcmVwbGFjZSgvJTQwL2dpLCAnQCcpLlxuICAgIHJlcGxhY2UoLyUzQS9naSwgJzonKS5cbiAgICByZXBsYWNlKC8lMjQvZywgJyQnKS5cbiAgICByZXBsYWNlKC8lMkMvZ2ksICcsJykuXG4gICAgcmVwbGFjZSgvJTIwL2csICcrJykuXG4gICAgcmVwbGFjZSgvJTVCL2dpLCAnWycpLlxuICAgIHJlcGxhY2UoLyU1RC9naSwgJ10nKTtcbn1cblxuLyoqXG4gKiBCdWlsZCBhIFVSTCBieSBhcHBlbmRpbmcgcGFyYW1zIHRvIHRoZSBlbmRcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gdXJsIFRoZSBiYXNlIG9mIHRoZSB1cmwgKGUuZy4sIGh0dHA6Ly93d3cuZ29vZ2xlLmNvbSlcbiAqIEBwYXJhbSB7b2JqZWN0fSBbcGFyYW1zXSBUaGUgcGFyYW1zIHRvIGJlIGFwcGVuZGVkXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBUaGUgZm9ybWF0dGVkIHVybFxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGJ1aWxkVVJMKHVybCwgcGFyYW1zLCBwYXJhbXNTZXJpYWxpemVyKSB7XG4gIC8qZXNsaW50IG5vLXBhcmFtLXJlYXNzaWduOjAqL1xuICBpZiAoIXBhcmFtcykge1xuICAgIHJldHVybiB1cmw7XG4gIH1cblxuICB2YXIgc2VyaWFsaXplZFBhcmFtcztcbiAgaWYgKHBhcmFtc1NlcmlhbGl6ZXIpIHtcbiAgICBzZXJpYWxpemVkUGFyYW1zID0gcGFyYW1zU2VyaWFsaXplcihwYXJhbXMpO1xuICB9IGVsc2UgaWYgKHV0aWxzLmlzVVJMU2VhcmNoUGFyYW1zKHBhcmFtcykpIHtcbiAgICBzZXJpYWxpemVkUGFyYW1zID0gcGFyYW1zLnRvU3RyaW5nKCk7XG4gIH0gZWxzZSB7XG4gICAgdmFyIHBhcnRzID0gW107XG5cbiAgICB1dGlscy5mb3JFYWNoKHBhcmFtcywgZnVuY3Rpb24gc2VyaWFsaXplKHZhbCwga2V5KSB7XG4gICAgICBpZiAodmFsID09PSBudWxsIHx8IHR5cGVvZiB2YWwgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKHV0aWxzLmlzQXJyYXkodmFsKSkge1xuICAgICAgICBrZXkgPSBrZXkgKyAnW10nO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFsID0gW3ZhbF07XG4gICAgICB9XG5cbiAgICAgIHV0aWxzLmZvckVhY2godmFsLCBmdW5jdGlvbiBwYXJzZVZhbHVlKHYpIHtcbiAgICAgICAgaWYgKHV0aWxzLmlzRGF0ZSh2KSkge1xuICAgICAgICAgIHYgPSB2LnRvSVNPU3RyaW5nKCk7XG4gICAgICAgIH0gZWxzZSBpZiAodXRpbHMuaXNPYmplY3QodikpIHtcbiAgICAgICAgICB2ID0gSlNPTi5zdHJpbmdpZnkodik7XG4gICAgICAgIH1cbiAgICAgICAgcGFydHMucHVzaChlbmNvZGUoa2V5KSArICc9JyArIGVuY29kZSh2KSk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIHNlcmlhbGl6ZWRQYXJhbXMgPSBwYXJ0cy5qb2luKCcmJyk7XG4gIH1cblxuICBpZiAoc2VyaWFsaXplZFBhcmFtcykge1xuICAgIHVybCArPSAodXJsLmluZGV4T2YoJz8nKSA9PT0gLTEgPyAnPycgOiAnJicpICsgc2VyaWFsaXplZFBhcmFtcztcbiAgfVxuXG4gIHJldHVybiB1cmw7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuLy4uL3V0aWxzJyk7XG5cbi8vIEhlYWRlcnMgd2hvc2UgZHVwbGljYXRlcyBhcmUgaWdub3JlZCBieSBub2RlXG4vLyBjLmYuIGh0dHBzOi8vbm9kZWpzLm9yZy9hcGkvaHR0cC5odG1sI2h0dHBfbWVzc2FnZV9oZWFkZXJzXG52YXIgaWdub3JlRHVwbGljYXRlT2YgPSBbXG4gICdhZ2UnLCAnYXV0aG9yaXphdGlvbicsICdjb250ZW50LWxlbmd0aCcsICdjb250ZW50LXR5cGUnLCAnZXRhZycsXG4gICdleHBpcmVzJywgJ2Zyb20nLCAnaG9zdCcsICdpZi1tb2RpZmllZC1zaW5jZScsICdpZi11bm1vZGlmaWVkLXNpbmNlJyxcbiAgJ2xhc3QtbW9kaWZpZWQnLCAnbG9jYXRpb24nLCAnbWF4LWZvcndhcmRzJywgJ3Byb3h5LWF1dGhvcml6YXRpb24nLFxuICAncmVmZXJlcicsICdyZXRyeS1hZnRlcicsICd1c2VyLWFnZW50J1xuXTtcblxuLyoqXG4gKiBQYXJzZSBoZWFkZXJzIGludG8gYW4gb2JqZWN0XG4gKlxuICogYGBgXG4gKiBEYXRlOiBXZWQsIDI3IEF1ZyAyMDE0IDA4OjU4OjQ5IEdNVFxuICogQ29udGVudC1UeXBlOiBhcHBsaWNhdGlvbi9qc29uXG4gKiBDb25uZWN0aW9uOiBrZWVwLWFsaXZlXG4gKiBUcmFuc2Zlci1FbmNvZGluZzogY2h1bmtlZFxuICogYGBgXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IGhlYWRlcnMgSGVhZGVycyBuZWVkaW5nIHRvIGJlIHBhcnNlZFxuICogQHJldHVybnMge09iamVjdH0gSGVhZGVycyBwYXJzZWQgaW50byBhbiBvYmplY3RcbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBwYXJzZUhlYWRlcnMoaGVhZGVycykge1xuICB2YXIgcGFyc2VkID0ge307XG4gIHZhciBrZXk7XG4gIHZhciB2YWw7XG4gIHZhciBpO1xuXG4gIGlmICghaGVhZGVycykgeyByZXR1cm4gcGFyc2VkOyB9XG5cbiAgdXRpbHMuZm9yRWFjaChoZWFkZXJzLnNwbGl0KCdcXG4nKSwgZnVuY3Rpb24gcGFyc2VyKGxpbmUpIHtcbiAgICBpID0gbGluZS5pbmRleE9mKCc6Jyk7XG4gICAga2V5ID0gdXRpbHMudHJpbShsaW5lLnN1YnN0cigwLCBpKSkudG9Mb3dlckNhc2UoKTtcbiAgICB2YWwgPSB1dGlscy50cmltKGxpbmUuc3Vic3RyKGkgKyAxKSk7XG5cbiAgICBpZiAoa2V5KSB7XG4gICAgICBpZiAocGFyc2VkW2tleV0gJiYgaWdub3JlRHVwbGljYXRlT2YuaW5kZXhPZihrZXkpID49IDApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKGtleSA9PT0gJ3NldC1jb29raWUnKSB7XG4gICAgICAgIHBhcnNlZFtrZXldID0gKHBhcnNlZFtrZXldID8gcGFyc2VkW2tleV0gOiBbXSkuY29uY2F0KFt2YWxdKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBhcnNlZFtrZXldID0gcGFyc2VkW2tleV0gPyBwYXJzZWRba2V5XSArICcsICcgKyB2YWwgOiB2YWw7XG4gICAgICB9XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4gcGFyc2VkO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi8uLi91dGlscycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IChcbiAgdXRpbHMuaXNTdGFuZGFyZEJyb3dzZXJFbnYoKSA/XG5cbiAgLy8gU3RhbmRhcmQgYnJvd3NlciBlbnZzIGhhdmUgZnVsbCBzdXBwb3J0IG9mIHRoZSBBUElzIG5lZWRlZCB0byB0ZXN0XG4gIC8vIHdoZXRoZXIgdGhlIHJlcXVlc3QgVVJMIGlzIG9mIHRoZSBzYW1lIG9yaWdpbiBhcyBjdXJyZW50IGxvY2F0aW9uLlxuICAoZnVuY3Rpb24gc3RhbmRhcmRCcm93c2VyRW52KCkge1xuICAgIHZhciBtc2llID0gLyhtc2llfHRyaWRlbnQpL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KTtcbiAgICB2YXIgdXJsUGFyc2luZ05vZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG4gICAgdmFyIG9yaWdpblVSTDtcblxuICAgIC8qKlxuICAgICogUGFyc2UgYSBVUkwgdG8gZGlzY292ZXIgaXQncyBjb21wb25lbnRzXG4gICAgKlxuICAgICogQHBhcmFtIHtTdHJpbmd9IHVybCBUaGUgVVJMIHRvIGJlIHBhcnNlZFxuICAgICogQHJldHVybnMge09iamVjdH1cbiAgICAqL1xuICAgIGZ1bmN0aW9uIHJlc29sdmVVUkwodXJsKSB7XG4gICAgICB2YXIgaHJlZiA9IHVybDtcblxuICAgICAgaWYgKG1zaWUpIHtcbiAgICAgICAgLy8gSUUgbmVlZHMgYXR0cmlidXRlIHNldCB0d2ljZSB0byBub3JtYWxpemUgcHJvcGVydGllc1xuICAgICAgICB1cmxQYXJzaW5nTm9kZS5zZXRBdHRyaWJ1dGUoJ2hyZWYnLCBocmVmKTtcbiAgICAgICAgaHJlZiA9IHVybFBhcnNpbmdOb2RlLmhyZWY7XG4gICAgICB9XG5cbiAgICAgIHVybFBhcnNpbmdOb2RlLnNldEF0dHJpYnV0ZSgnaHJlZicsIGhyZWYpO1xuXG4gICAgICAvLyB1cmxQYXJzaW5nTm9kZSBwcm92aWRlcyB0aGUgVXJsVXRpbHMgaW50ZXJmYWNlIC0gaHR0cDovL3VybC5zcGVjLndoYXR3Zy5vcmcvI3VybHV0aWxzXG4gICAgICByZXR1cm4ge1xuICAgICAgICBocmVmOiB1cmxQYXJzaW5nTm9kZS5ocmVmLFxuICAgICAgICBwcm90b2NvbDogdXJsUGFyc2luZ05vZGUucHJvdG9jb2wgPyB1cmxQYXJzaW5nTm9kZS5wcm90b2NvbC5yZXBsYWNlKC86JC8sICcnKSA6ICcnLFxuICAgICAgICBob3N0OiB1cmxQYXJzaW5nTm9kZS5ob3N0LFxuICAgICAgICBzZWFyY2g6IHVybFBhcnNpbmdOb2RlLnNlYXJjaCA/IHVybFBhcnNpbmdOb2RlLnNlYXJjaC5yZXBsYWNlKC9eXFw/LywgJycpIDogJycsXG4gICAgICAgIGhhc2g6IHVybFBhcnNpbmdOb2RlLmhhc2ggPyB1cmxQYXJzaW5nTm9kZS5oYXNoLnJlcGxhY2UoL14jLywgJycpIDogJycsXG4gICAgICAgIGhvc3RuYW1lOiB1cmxQYXJzaW5nTm9kZS5ob3N0bmFtZSxcbiAgICAgICAgcG9ydDogdXJsUGFyc2luZ05vZGUucG9ydCxcbiAgICAgICAgcGF0aG5hbWU6ICh1cmxQYXJzaW5nTm9kZS5wYXRobmFtZS5jaGFyQXQoMCkgPT09ICcvJykgP1xuICAgICAgICAgICAgICAgICAgdXJsUGFyc2luZ05vZGUucGF0aG5hbWUgOlxuICAgICAgICAgICAgICAgICAgJy8nICsgdXJsUGFyc2luZ05vZGUucGF0aG5hbWVcbiAgICAgIH07XG4gICAgfVxuXG4gICAgb3JpZ2luVVJMID0gcmVzb2x2ZVVSTCh3aW5kb3cubG9jYXRpb24uaHJlZik7XG5cbiAgICAvKipcbiAgICAqIERldGVybWluZSBpZiBhIFVSTCBzaGFyZXMgdGhlIHNhbWUgb3JpZ2luIGFzIHRoZSBjdXJyZW50IGxvY2F0aW9uXG4gICAgKlxuICAgICogQHBhcmFtIHtTdHJpbmd9IHJlcXVlc3RVUkwgVGhlIFVSTCB0byB0ZXN0XG4gICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiBVUkwgc2hhcmVzIHRoZSBzYW1lIG9yaWdpbiwgb3RoZXJ3aXNlIGZhbHNlXG4gICAgKi9cbiAgICByZXR1cm4gZnVuY3Rpb24gaXNVUkxTYW1lT3JpZ2luKHJlcXVlc3RVUkwpIHtcbiAgICAgIHZhciBwYXJzZWQgPSAodXRpbHMuaXNTdHJpbmcocmVxdWVzdFVSTCkpID8gcmVzb2x2ZVVSTChyZXF1ZXN0VVJMKSA6IHJlcXVlc3RVUkw7XG4gICAgICByZXR1cm4gKHBhcnNlZC5wcm90b2NvbCA9PT0gb3JpZ2luVVJMLnByb3RvY29sICYmXG4gICAgICAgICAgICBwYXJzZWQuaG9zdCA9PT0gb3JpZ2luVVJMLmhvc3QpO1xuICAgIH07XG4gIH0pKCkgOlxuXG4gIC8vIE5vbiBzdGFuZGFyZCBicm93c2VyIGVudnMgKHdlYiB3b3JrZXJzLCByZWFjdC1uYXRpdmUpIGxhY2sgbmVlZGVkIHN1cHBvcnQuXG4gIChmdW5jdGlvbiBub25TdGFuZGFyZEJyb3dzZXJFbnYoKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIGlzVVJMU2FtZU9yaWdpbigpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG4gIH0pKClcbik7XG4iLCIndXNlIHN0cmljdCc7XG5cbi8vIGJ0b2EgcG9seWZpbGwgZm9yIElFPDEwIGNvdXJ0ZXN5IGh0dHBzOi8vZ2l0aHViLmNvbS9kYXZpZGNoYW1iZXJzL0Jhc2U2NC5qc1xuXG52YXIgY2hhcnMgPSAnQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLz0nO1xuXG5mdW5jdGlvbiBFKCkge1xuICB0aGlzLm1lc3NhZ2UgPSAnU3RyaW5nIGNvbnRhaW5zIGFuIGludmFsaWQgY2hhcmFjdGVyJztcbn1cbkUucHJvdG90eXBlID0gbmV3IEVycm9yO1xuRS5wcm90b3R5cGUuY29kZSA9IDU7XG5FLnByb3RvdHlwZS5uYW1lID0gJ0ludmFsaWRDaGFyYWN0ZXJFcnJvcic7XG5cbmZ1bmN0aW9uIGJ0b2EoaW5wdXQpIHtcbiAgdmFyIHN0ciA9IFN0cmluZyhpbnB1dCk7XG4gIHZhciBvdXRwdXQgPSAnJztcbiAgZm9yIChcbiAgICAvLyBpbml0aWFsaXplIHJlc3VsdCBhbmQgY291bnRlclxuICAgIHZhciBibG9jaywgY2hhckNvZGUsIGlkeCA9IDAsIG1hcCA9IGNoYXJzO1xuICAgIC8vIGlmIHRoZSBuZXh0IHN0ciBpbmRleCBkb2VzIG5vdCBleGlzdDpcbiAgICAvLyAgIGNoYW5nZSB0aGUgbWFwcGluZyB0YWJsZSB0byBcIj1cIlxuICAgIC8vICAgY2hlY2sgaWYgZCBoYXMgbm8gZnJhY3Rpb25hbCBkaWdpdHNcbiAgICBzdHIuY2hhckF0KGlkeCB8IDApIHx8IChtYXAgPSAnPScsIGlkeCAlIDEpO1xuICAgIC8vIFwiOCAtIGlkeCAlIDEgKiA4XCIgZ2VuZXJhdGVzIHRoZSBzZXF1ZW5jZSAyLCA0LCA2LCA4XG4gICAgb3V0cHV0ICs9IG1hcC5jaGFyQXQoNjMgJiBibG9jayA+PiA4IC0gaWR4ICUgMSAqIDgpXG4gICkge1xuICAgIGNoYXJDb2RlID0gc3RyLmNoYXJDb2RlQXQoaWR4ICs9IDMgLyA0KTtcbiAgICBpZiAoY2hhckNvZGUgPiAweEZGKSB7XG4gICAgICB0aHJvdyBuZXcgRSgpO1xuICAgIH1cbiAgICBibG9jayA9IGJsb2NrIDw8IDggfCBjaGFyQ29kZTtcbiAgfVxuICByZXR1cm4gb3V0cHV0O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGJ0b2E7XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciB1dGlscyA9IHJlcXVpcmUoJy4vLi4vdXRpbHMnKTtcblxubW9kdWxlLmV4cG9ydHMgPSAoXG4gIHV0aWxzLmlzU3RhbmRhcmRCcm93c2VyRW52KCkgP1xuXG4gIC8vIFN0YW5kYXJkIGJyb3dzZXIgZW52cyBzdXBwb3J0IGRvY3VtZW50LmNvb2tpZVxuICAoZnVuY3Rpb24gc3RhbmRhcmRCcm93c2VyRW52KCkge1xuICAgIHJldHVybiB7XG4gICAgICB3cml0ZTogZnVuY3Rpb24gd3JpdGUobmFtZSwgdmFsdWUsIGV4cGlyZXMsIHBhdGgsIGRvbWFpbiwgc2VjdXJlKSB7XG4gICAgICAgIHZhciBjb29raWUgPSBbXTtcbiAgICAgICAgY29va2llLnB1c2gobmFtZSArICc9JyArIGVuY29kZVVSSUNvbXBvbmVudCh2YWx1ZSkpO1xuXG4gICAgICAgIGlmICh1dGlscy5pc051bWJlcihleHBpcmVzKSkge1xuICAgICAgICAgIGNvb2tpZS5wdXNoKCdleHBpcmVzPScgKyBuZXcgRGF0ZShleHBpcmVzKS50b0dNVFN0cmluZygpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh1dGlscy5pc1N0cmluZyhwYXRoKSkge1xuICAgICAgICAgIGNvb2tpZS5wdXNoKCdwYXRoPScgKyBwYXRoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh1dGlscy5pc1N0cmluZyhkb21haW4pKSB7XG4gICAgICAgICAgY29va2llLnB1c2goJ2RvbWFpbj0nICsgZG9tYWluKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzZWN1cmUgPT09IHRydWUpIHtcbiAgICAgICAgICBjb29raWUucHVzaCgnc2VjdXJlJyk7XG4gICAgICAgIH1cblxuICAgICAgICBkb2N1bWVudC5jb29raWUgPSBjb29raWUuam9pbignOyAnKTtcbiAgICAgIH0sXG5cbiAgICAgIHJlYWQ6IGZ1bmN0aW9uIHJlYWQobmFtZSkge1xuICAgICAgICB2YXIgbWF0Y2ggPSBkb2N1bWVudC5jb29raWUubWF0Y2gobmV3IFJlZ0V4cCgnKF58O1xcXFxzKikoJyArIG5hbWUgKyAnKT0oW147XSopJykpO1xuICAgICAgICByZXR1cm4gKG1hdGNoID8gZGVjb2RlVVJJQ29tcG9uZW50KG1hdGNoWzNdKSA6IG51bGwpO1xuICAgICAgfSxcblxuICAgICAgcmVtb3ZlOiBmdW5jdGlvbiByZW1vdmUobmFtZSkge1xuICAgICAgICB0aGlzLndyaXRlKG5hbWUsICcnLCBEYXRlLm5vdygpIC0gODY0MDAwMDApO1xuICAgICAgfVxuICAgIH07XG4gIH0pKCkgOlxuXG4gIC8vIE5vbiBzdGFuZGFyZCBicm93c2VyIGVudiAod2ViIHdvcmtlcnMsIHJlYWN0LW5hdGl2ZSkgbGFjayBuZWVkZWQgc3VwcG9ydC5cbiAgKGZ1bmN0aW9uIG5vblN0YW5kYXJkQnJvd3NlckVudigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgd3JpdGU6IGZ1bmN0aW9uIHdyaXRlKCkge30sXG4gICAgICByZWFkOiBmdW5jdGlvbiByZWFkKCkgeyByZXR1cm4gbnVsbDsgfSxcbiAgICAgIHJlbW92ZTogZnVuY3Rpb24gcmVtb3ZlKCkge31cbiAgICB9O1xuICB9KSgpXG4pO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuLy4uL3V0aWxzJyk7XG5cbmZ1bmN0aW9uIEludGVyY2VwdG9yTWFuYWdlcigpIHtcbiAgdGhpcy5oYW5kbGVycyA9IFtdO1xufVxuXG4vKipcbiAqIEFkZCBhIG5ldyBpbnRlcmNlcHRvciB0byB0aGUgc3RhY2tcbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdWxmaWxsZWQgVGhlIGZ1bmN0aW9uIHRvIGhhbmRsZSBgdGhlbmAgZm9yIGEgYFByb21pc2VgXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSByZWplY3RlZCBUaGUgZnVuY3Rpb24gdG8gaGFuZGxlIGByZWplY3RgIGZvciBhIGBQcm9taXNlYFxuICpcbiAqIEByZXR1cm4ge051bWJlcn0gQW4gSUQgdXNlZCB0byByZW1vdmUgaW50ZXJjZXB0b3IgbGF0ZXJcbiAqL1xuSW50ZXJjZXB0b3JNYW5hZ2VyLnByb3RvdHlwZS51c2UgPSBmdW5jdGlvbiB1c2UoZnVsZmlsbGVkLCByZWplY3RlZCkge1xuICB0aGlzLmhhbmRsZXJzLnB1c2goe1xuICAgIGZ1bGZpbGxlZDogZnVsZmlsbGVkLFxuICAgIHJlamVjdGVkOiByZWplY3RlZFxuICB9KTtcbiAgcmV0dXJuIHRoaXMuaGFuZGxlcnMubGVuZ3RoIC0gMTtcbn07XG5cbi8qKlxuICogUmVtb3ZlIGFuIGludGVyY2VwdG9yIGZyb20gdGhlIHN0YWNrXG4gKlxuICogQHBhcmFtIHtOdW1iZXJ9IGlkIFRoZSBJRCB0aGF0IHdhcyByZXR1cm5lZCBieSBgdXNlYFxuICovXG5JbnRlcmNlcHRvck1hbmFnZXIucHJvdG90eXBlLmVqZWN0ID0gZnVuY3Rpb24gZWplY3QoaWQpIHtcbiAgaWYgKHRoaXMuaGFuZGxlcnNbaWRdKSB7XG4gICAgdGhpcy5oYW5kbGVyc1tpZF0gPSBudWxsO1xuICB9XG59O1xuXG4vKipcbiAqIEl0ZXJhdGUgb3ZlciBhbGwgdGhlIHJlZ2lzdGVyZWQgaW50ZXJjZXB0b3JzXG4gKlxuICogVGhpcyBtZXRob2QgaXMgcGFydGljdWxhcmx5IHVzZWZ1bCBmb3Igc2tpcHBpbmcgb3ZlciBhbnlcbiAqIGludGVyY2VwdG9ycyB0aGF0IG1heSBoYXZlIGJlY29tZSBgbnVsbGAgY2FsbGluZyBgZWplY3RgLlxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIFRoZSBmdW5jdGlvbiB0byBjYWxsIGZvciBlYWNoIGludGVyY2VwdG9yXG4gKi9cbkludGVyY2VwdG9yTWFuYWdlci5wcm90b3R5cGUuZm9yRWFjaCA9IGZ1bmN0aW9uIGZvckVhY2goZm4pIHtcbiAgdXRpbHMuZm9yRWFjaCh0aGlzLmhhbmRsZXJzLCBmdW5jdGlvbiBmb3JFYWNoSGFuZGxlcihoKSB7XG4gICAgaWYgKGggIT09IG51bGwpIHtcbiAgICAgIGZuKGgpO1xuICAgIH1cbiAgfSk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IEludGVyY2VwdG9yTWFuYWdlcjtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi8uLi91dGlscycpO1xudmFyIHRyYW5zZm9ybURhdGEgPSByZXF1aXJlKCcuL3RyYW5zZm9ybURhdGEnKTtcbnZhciBpc0NhbmNlbCA9IHJlcXVpcmUoJy4uL2NhbmNlbC9pc0NhbmNlbCcpO1xudmFyIGRlZmF1bHRzID0gcmVxdWlyZSgnLi4vZGVmYXVsdHMnKTtcbnZhciBpc0Fic29sdXRlVVJMID0gcmVxdWlyZSgnLi8uLi9oZWxwZXJzL2lzQWJzb2x1dGVVUkwnKTtcbnZhciBjb21iaW5lVVJMcyA9IHJlcXVpcmUoJy4vLi4vaGVscGVycy9jb21iaW5lVVJMcycpO1xuXG4vKipcbiAqIFRocm93cyBhIGBDYW5jZWxgIGlmIGNhbmNlbGxhdGlvbiBoYXMgYmVlbiByZXF1ZXN0ZWQuXG4gKi9cbmZ1bmN0aW9uIHRocm93SWZDYW5jZWxsYXRpb25SZXF1ZXN0ZWQoY29uZmlnKSB7XG4gIGlmIChjb25maWcuY2FuY2VsVG9rZW4pIHtcbiAgICBjb25maWcuY2FuY2VsVG9rZW4udGhyb3dJZlJlcXVlc3RlZCgpO1xuICB9XG59XG5cbi8qKlxuICogRGlzcGF0Y2ggYSByZXF1ZXN0IHRvIHRoZSBzZXJ2ZXIgdXNpbmcgdGhlIGNvbmZpZ3VyZWQgYWRhcHRlci5cbiAqXG4gKiBAcGFyYW0ge29iamVjdH0gY29uZmlnIFRoZSBjb25maWcgdGhhdCBpcyB0byBiZSB1c2VkIGZvciB0aGUgcmVxdWVzdFxuICogQHJldHVybnMge1Byb21pc2V9IFRoZSBQcm9taXNlIHRvIGJlIGZ1bGZpbGxlZFxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGRpc3BhdGNoUmVxdWVzdChjb25maWcpIHtcbiAgdGhyb3dJZkNhbmNlbGxhdGlvblJlcXVlc3RlZChjb25maWcpO1xuXG4gIC8vIFN1cHBvcnQgYmFzZVVSTCBjb25maWdcbiAgaWYgKGNvbmZpZy5iYXNlVVJMICYmICFpc0Fic29sdXRlVVJMKGNvbmZpZy51cmwpKSB7XG4gICAgY29uZmlnLnVybCA9IGNvbWJpbmVVUkxzKGNvbmZpZy5iYXNlVVJMLCBjb25maWcudXJsKTtcbiAgfVxuXG4gIC8vIEVuc3VyZSBoZWFkZXJzIGV4aXN0XG4gIGNvbmZpZy5oZWFkZXJzID0gY29uZmlnLmhlYWRlcnMgfHwge307XG5cbiAgLy8gVHJhbnNmb3JtIHJlcXVlc3QgZGF0YVxuICBjb25maWcuZGF0YSA9IHRyYW5zZm9ybURhdGEoXG4gICAgY29uZmlnLmRhdGEsXG4gICAgY29uZmlnLmhlYWRlcnMsXG4gICAgY29uZmlnLnRyYW5zZm9ybVJlcXVlc3RcbiAgKTtcblxuICAvLyBGbGF0dGVuIGhlYWRlcnNcbiAgY29uZmlnLmhlYWRlcnMgPSB1dGlscy5tZXJnZShcbiAgICBjb25maWcuaGVhZGVycy5jb21tb24gfHwge30sXG4gICAgY29uZmlnLmhlYWRlcnNbY29uZmlnLm1ldGhvZF0gfHwge30sXG4gICAgY29uZmlnLmhlYWRlcnMgfHwge31cbiAgKTtcblxuICB1dGlscy5mb3JFYWNoKFxuICAgIFsnZGVsZXRlJywgJ2dldCcsICdoZWFkJywgJ3Bvc3QnLCAncHV0JywgJ3BhdGNoJywgJ2NvbW1vbiddLFxuICAgIGZ1bmN0aW9uIGNsZWFuSGVhZGVyQ29uZmlnKG1ldGhvZCkge1xuICAgICAgZGVsZXRlIGNvbmZpZy5oZWFkZXJzW21ldGhvZF07XG4gICAgfVxuICApO1xuXG4gIHZhciBhZGFwdGVyID0gY29uZmlnLmFkYXB0ZXIgfHwgZGVmYXVsdHMuYWRhcHRlcjtcblxuICByZXR1cm4gYWRhcHRlcihjb25maWcpLnRoZW4oZnVuY3Rpb24gb25BZGFwdGVyUmVzb2x1dGlvbihyZXNwb25zZSkge1xuICAgIHRocm93SWZDYW5jZWxsYXRpb25SZXF1ZXN0ZWQoY29uZmlnKTtcblxuICAgIC8vIFRyYW5zZm9ybSByZXNwb25zZSBkYXRhXG4gICAgcmVzcG9uc2UuZGF0YSA9IHRyYW5zZm9ybURhdGEoXG4gICAgICByZXNwb25zZS5kYXRhLFxuICAgICAgcmVzcG9uc2UuaGVhZGVycyxcbiAgICAgIGNvbmZpZy50cmFuc2Zvcm1SZXNwb25zZVxuICAgICk7XG5cbiAgICByZXR1cm4gcmVzcG9uc2U7XG4gIH0sIGZ1bmN0aW9uIG9uQWRhcHRlclJlamVjdGlvbihyZWFzb24pIHtcbiAgICBpZiAoIWlzQ2FuY2VsKHJlYXNvbikpIHtcbiAgICAgIHRocm93SWZDYW5jZWxsYXRpb25SZXF1ZXN0ZWQoY29uZmlnKTtcblxuICAgICAgLy8gVHJhbnNmb3JtIHJlc3BvbnNlIGRhdGFcbiAgICAgIGlmIChyZWFzb24gJiYgcmVhc29uLnJlc3BvbnNlKSB7XG4gICAgICAgIHJlYXNvbi5yZXNwb25zZS5kYXRhID0gdHJhbnNmb3JtRGF0YShcbiAgICAgICAgICByZWFzb24ucmVzcG9uc2UuZGF0YSxcbiAgICAgICAgICByZWFzb24ucmVzcG9uc2UuaGVhZGVycyxcbiAgICAgICAgICBjb25maWcudHJhbnNmb3JtUmVzcG9uc2VcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QocmVhc29uKTtcbiAgfSk7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuLy4uL3V0aWxzJyk7XG5cbi8qKlxuICogVHJhbnNmb3JtIHRoZSBkYXRhIGZvciBhIHJlcXVlc3Qgb3IgYSByZXNwb25zZVxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fFN0cmluZ30gZGF0YSBUaGUgZGF0YSB0byBiZSB0cmFuc2Zvcm1lZFxuICogQHBhcmFtIHtBcnJheX0gaGVhZGVycyBUaGUgaGVhZGVycyBmb3IgdGhlIHJlcXVlc3Qgb3IgcmVzcG9uc2VcbiAqIEBwYXJhbSB7QXJyYXl8RnVuY3Rpb259IGZucyBBIHNpbmdsZSBmdW5jdGlvbiBvciBBcnJheSBvZiBmdW5jdGlvbnNcbiAqIEByZXR1cm5zIHsqfSBUaGUgcmVzdWx0aW5nIHRyYW5zZm9ybWVkIGRhdGFcbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiB0cmFuc2Zvcm1EYXRhKGRhdGEsIGhlYWRlcnMsIGZucykge1xuICAvKmVzbGludCBuby1wYXJhbS1yZWFzc2lnbjowKi9cbiAgdXRpbHMuZm9yRWFjaChmbnMsIGZ1bmN0aW9uIHRyYW5zZm9ybShmbikge1xuICAgIGRhdGEgPSBmbihkYXRhLCBoZWFkZXJzKTtcbiAgfSk7XG5cbiAgcmV0dXJuIGRhdGE7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIERldGVybWluZXMgd2hldGhlciB0aGUgc3BlY2lmaWVkIFVSTCBpcyBhYnNvbHV0ZVxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgVGhlIFVSTCB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgc3BlY2lmaWVkIFVSTCBpcyBhYnNvbHV0ZSwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gaXNBYnNvbHV0ZVVSTCh1cmwpIHtcbiAgLy8gQSBVUkwgaXMgY29uc2lkZXJlZCBhYnNvbHV0ZSBpZiBpdCBiZWdpbnMgd2l0aCBcIjxzY2hlbWU+Oi8vXCIgb3IgXCIvL1wiIChwcm90b2NvbC1yZWxhdGl2ZSBVUkwpLlxuICAvLyBSRkMgMzk4NiBkZWZpbmVzIHNjaGVtZSBuYW1lIGFzIGEgc2VxdWVuY2Ugb2YgY2hhcmFjdGVycyBiZWdpbm5pbmcgd2l0aCBhIGxldHRlciBhbmQgZm9sbG93ZWRcbiAgLy8gYnkgYW55IGNvbWJpbmF0aW9uIG9mIGxldHRlcnMsIGRpZ2l0cywgcGx1cywgcGVyaW9kLCBvciBoeXBoZW4uXG4gIHJldHVybiAvXihbYS16XVthLXpcXGRcXCtcXC1cXC5dKjopP1xcL1xcLy9pLnRlc3QodXJsKTtcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyBVUkwgYnkgY29tYmluaW5nIHRoZSBzcGVjaWZpZWQgVVJMc1xuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBiYXNlVVJMIFRoZSBiYXNlIFVSTFxuICogQHBhcmFtIHtzdHJpbmd9IHJlbGF0aXZlVVJMIFRoZSByZWxhdGl2ZSBVUkxcbiAqIEByZXR1cm5zIHtzdHJpbmd9IFRoZSBjb21iaW5lZCBVUkxcbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBjb21iaW5lVVJMcyhiYXNlVVJMLCByZWxhdGl2ZVVSTCkge1xuICByZXR1cm4gcmVsYXRpdmVVUkxcbiAgICA/IGJhc2VVUkwucmVwbGFjZSgvXFwvKyQvLCAnJykgKyAnLycgKyByZWxhdGl2ZVVSTC5yZXBsYWNlKC9eXFwvKy8sICcnKVxuICAgIDogYmFzZVVSTDtcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciBDYW5jZWwgPSByZXF1aXJlKCcuL0NhbmNlbCcpO1xuXG4vKipcbiAqIEEgYENhbmNlbFRva2VuYCBpcyBhbiBvYmplY3QgdGhhdCBjYW4gYmUgdXNlZCB0byByZXF1ZXN0IGNhbmNlbGxhdGlvbiBvZiBhbiBvcGVyYXRpb24uXG4gKlxuICogQGNsYXNzXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBleGVjdXRvciBUaGUgZXhlY3V0b3IgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIENhbmNlbFRva2VuKGV4ZWN1dG9yKSB7XG4gIGlmICh0eXBlb2YgZXhlY3V0b3IgIT09ICdmdW5jdGlvbicpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdleGVjdXRvciBtdXN0IGJlIGEgZnVuY3Rpb24uJyk7XG4gIH1cblxuICB2YXIgcmVzb2x2ZVByb21pc2U7XG4gIHRoaXMucHJvbWlzZSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uIHByb21pc2VFeGVjdXRvcihyZXNvbHZlKSB7XG4gICAgcmVzb2x2ZVByb21pc2UgPSByZXNvbHZlO1xuICB9KTtcblxuICB2YXIgdG9rZW4gPSB0aGlzO1xuICBleGVjdXRvcihmdW5jdGlvbiBjYW5jZWwobWVzc2FnZSkge1xuICAgIGlmICh0b2tlbi5yZWFzb24pIHtcbiAgICAgIC8vIENhbmNlbGxhdGlvbiBoYXMgYWxyZWFkeSBiZWVuIHJlcXVlc3RlZFxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRva2VuLnJlYXNvbiA9IG5ldyBDYW5jZWwobWVzc2FnZSk7XG4gICAgcmVzb2x2ZVByb21pc2UodG9rZW4ucmVhc29uKTtcbiAgfSk7XG59XG5cbi8qKlxuICogVGhyb3dzIGEgYENhbmNlbGAgaWYgY2FuY2VsbGF0aW9uIGhhcyBiZWVuIHJlcXVlc3RlZC5cbiAqL1xuQ2FuY2VsVG9rZW4ucHJvdG90eXBlLnRocm93SWZSZXF1ZXN0ZWQgPSBmdW5jdGlvbiB0aHJvd0lmUmVxdWVzdGVkKCkge1xuICBpZiAodGhpcy5yZWFzb24pIHtcbiAgICB0aHJvdyB0aGlzLnJlYXNvbjtcbiAgfVxufTtcblxuLyoqXG4gKiBSZXR1cm5zIGFuIG9iamVjdCB0aGF0IGNvbnRhaW5zIGEgbmV3IGBDYW5jZWxUb2tlbmAgYW5kIGEgZnVuY3Rpb24gdGhhdCwgd2hlbiBjYWxsZWQsXG4gKiBjYW5jZWxzIHRoZSBgQ2FuY2VsVG9rZW5gLlxuICovXG5DYW5jZWxUb2tlbi5zb3VyY2UgPSBmdW5jdGlvbiBzb3VyY2UoKSB7XG4gIHZhciBjYW5jZWw7XG4gIHZhciB0b2tlbiA9IG5ldyBDYW5jZWxUb2tlbihmdW5jdGlvbiBleGVjdXRvcihjKSB7XG4gICAgY2FuY2VsID0gYztcbiAgfSk7XG4gIHJldHVybiB7XG4gICAgdG9rZW46IHRva2VuLFxuICAgIGNhbmNlbDogY2FuY2VsXG4gIH07XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IENhbmNlbFRva2VuO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIFN5bnRhY3RpYyBzdWdhciBmb3IgaW52b2tpbmcgYSBmdW5jdGlvbiBhbmQgZXhwYW5kaW5nIGFuIGFycmF5IGZvciBhcmd1bWVudHMuXG4gKlxuICogQ29tbW9uIHVzZSBjYXNlIHdvdWxkIGJlIHRvIHVzZSBgRnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5YC5cbiAqXG4gKiAgYGBganNcbiAqICBmdW5jdGlvbiBmKHgsIHksIHopIHt9XG4gKiAgdmFyIGFyZ3MgPSBbMSwgMiwgM107XG4gKiAgZi5hcHBseShudWxsLCBhcmdzKTtcbiAqICBgYGBcbiAqXG4gKiBXaXRoIGBzcHJlYWRgIHRoaXMgZXhhbXBsZSBjYW4gYmUgcmUtd3JpdHRlbi5cbiAqXG4gKiAgYGBganNcbiAqICBzcHJlYWQoZnVuY3Rpb24oeCwgeSwgeikge30pKFsxLCAyLCAzXSk7XG4gKiAgYGBgXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2tcbiAqIEByZXR1cm5zIHtGdW5jdGlvbn1cbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBzcHJlYWQoY2FsbGJhY2spIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIHdyYXAoYXJyKSB7XG4gICAgcmV0dXJuIGNhbGxiYWNrLmFwcGx5KG51bGwsIGFycik7XG4gIH07XG59O1xuIiwiLyoqXG4gKiBtYXJrZWQgLSBhIG1hcmtkb3duIHBhcnNlclxuICogQ29weXJpZ2h0IChjKSAyMDExLTIwMTgsIENocmlzdG9waGVyIEplZmZyZXkuIChNSVQgTGljZW5zZWQpXG4gKiBodHRwczovL2dpdGh1Yi5jb20vbWFya2VkanMvbWFya2VkXG4gKi9cblxuOyhmdW5jdGlvbihyb290KSB7XG4ndXNlIHN0cmljdCc7XG5cbi8qKlxuICogQmxvY2stTGV2ZWwgR3JhbW1hclxuICovXG5cbnZhciBibG9jayA9IHtcbiAgbmV3bGluZTogL15cXG4rLyxcbiAgY29kZTogL14oIHs0fVteXFxuXStcXG4qKSsvLFxuICBmZW5jZXM6IC9eIHswLDN9KGB7Myx9fH57Myx9KShbXmB+XFxuXSopXFxuKD86fChbXFxzXFxTXSo/KVxcbikoPzogezAsM31cXDFbfmBdKiAqKD86XFxuK3wkKXwkKS8sXG4gIGhyOiAvXiB7MCwzfSgoPzotICopezMsfXwoPzpfICopezMsfXwoPzpcXCogKil7Myx9KSg/Olxcbit8JCkvLFxuICBoZWFkaW5nOiAvXiB7MCwzfSgjezEsNn0pICsoW15cXG5dKj8pKD86ICsjKyk/ICooPzpcXG4rfCQpLyxcbiAgYmxvY2txdW90ZTogL14oIHswLDN9PiA/KHBhcmFncmFwaHxbXlxcbl0qKSg/OlxcbnwkKSkrLyxcbiAgbGlzdDogL14oIHswLDN9KShidWxsKSBbXFxzXFxTXSs/KD86aHJ8ZGVmfFxcbnsyLH0oPyEgKSg/IVxcMWJ1bGwgKVxcbip8XFxzKiQpLyxcbiAgaHRtbDogJ14gezAsM30oPzonIC8vIG9wdGlvbmFsIGluZGVudGF0aW9uXG4gICAgKyAnPChzY3JpcHR8cHJlfHN0eWxlKVtcXFxccz5dW1xcXFxzXFxcXFNdKj8oPzo8L1xcXFwxPlteXFxcXG5dKlxcXFxuK3wkKScgLy8gKDEpXG4gICAgKyAnfGNvbW1lbnRbXlxcXFxuXSooXFxcXG4rfCQpJyAvLyAoMilcbiAgICArICd8PFxcXFw/W1xcXFxzXFxcXFNdKj9cXFxcPz5cXFxcbionIC8vICgzKVxuICAgICsgJ3w8IVtBLVpdW1xcXFxzXFxcXFNdKj8+XFxcXG4qJyAvLyAoNClcbiAgICArICd8PCFcXFxcW0NEQVRBXFxcXFtbXFxcXHNcXFxcU10qP1xcXFxdXFxcXF0+XFxcXG4qJyAvLyAoNSlcbiAgICArICd8PC8/KHRhZykoPzogK3xcXFxcbnwvPz4pW1xcXFxzXFxcXFNdKj8oPzpcXFxcbnsyLH18JCknIC8vICg2KVxuICAgICsgJ3w8KD8hc2NyaXB0fHByZXxzdHlsZSkoW2Etel1bXFxcXHctXSopKD86YXR0cmlidXRlKSo/ICovPz4oPz1bIFxcXFx0XSooPzpcXFxcbnwkKSlbXFxcXHNcXFxcU10qPyg/OlxcXFxuezIsfXwkKScgLy8gKDcpIG9wZW4gdGFnXG4gICAgKyAnfDwvKD8hc2NyaXB0fHByZXxzdHlsZSlbYS16XVtcXFxcdy1dKlxcXFxzKj4oPz1bIFxcXFx0XSooPzpcXFxcbnwkKSlbXFxcXHNcXFxcU10qPyg/OlxcXFxuezIsfXwkKScgLy8gKDcpIGNsb3NpbmcgdGFnXG4gICAgKyAnKScsXG4gIGRlZjogL14gezAsM31cXFsobGFiZWwpXFxdOiAqXFxuPyAqPD8oW15cXHM+XSspPj8oPzooPzogK1xcbj8gKnwgKlxcbiAqKSh0aXRsZSkpPyAqKD86XFxuK3wkKS8sXG4gIG5wdGFibGU6IG5vb3AsXG4gIHRhYmxlOiBub29wLFxuICBsaGVhZGluZzogL14oW15cXG5dKylcXG4gezAsM30oPSt8LSspICooPzpcXG4rfCQpLyxcbiAgLy8gcmVnZXggdGVtcGxhdGUsIHBsYWNlaG9sZGVycyB3aWxsIGJlIHJlcGxhY2VkIGFjY29yZGluZyB0byBkaWZmZXJlbnQgcGFyYWdyYXBoXG4gIC8vIGludGVycnVwdGlvbiBydWxlcyBvZiBjb21tb25tYXJrIGFuZCB0aGUgb3JpZ2luYWwgbWFya2Rvd24gc3BlYzpcbiAgX3BhcmFncmFwaDogL14oW15cXG5dKyg/Olxcbig/IWhyfGhlYWRpbmd8bGhlYWRpbmd8YmxvY2txdW90ZXxmZW5jZXN8bGlzdHxodG1sKVteXFxuXSspKikvLFxuICB0ZXh0OiAvXlteXFxuXSsvXG59O1xuXG5ibG9jay5fbGFiZWwgPSAvKD8hXFxzKlxcXSkoPzpcXFxcW1xcW1xcXV18W15cXFtcXF1dKSsvO1xuYmxvY2suX3RpdGxlID0gLyg/OlwiKD86XFxcXFwiP3xbXlwiXFxcXF0pKlwifCdbXidcXG5dKig/OlxcblteJ1xcbl0rKSpcXG4/J3xcXChbXigpXSpcXCkpLztcbmJsb2NrLmRlZiA9IGVkaXQoYmxvY2suZGVmKVxuICAucmVwbGFjZSgnbGFiZWwnLCBibG9jay5fbGFiZWwpXG4gIC5yZXBsYWNlKCd0aXRsZScsIGJsb2NrLl90aXRsZSlcbiAgLmdldFJlZ2V4KCk7XG5cbmJsb2NrLmJ1bGxldCA9IC8oPzpbKistXXxcXGR7MSw5fVxcLikvO1xuYmxvY2suaXRlbSA9IC9eKCAqKShidWxsKSA/W15cXG5dKig/Olxcbig/IVxcMWJ1bGwgPylbXlxcbl0qKSovO1xuYmxvY2suaXRlbSA9IGVkaXQoYmxvY2suaXRlbSwgJ2dtJylcbiAgLnJlcGxhY2UoL2J1bGwvZywgYmxvY2suYnVsbGV0KVxuICAuZ2V0UmVnZXgoKTtcblxuYmxvY2subGlzdCA9IGVkaXQoYmxvY2subGlzdClcbiAgLnJlcGxhY2UoL2J1bGwvZywgYmxvY2suYnVsbGV0KVxuICAucmVwbGFjZSgnaHInLCAnXFxcXG4rKD89XFxcXDE/KD86KD86LSAqKXszLH18KD86XyAqKXszLH18KD86XFxcXCogKil7Myx9KSg/OlxcXFxuK3wkKSknKVxuICAucmVwbGFjZSgnZGVmJywgJ1xcXFxuKyg/PScgKyBibG9jay5kZWYuc291cmNlICsgJyknKVxuICAuZ2V0UmVnZXgoKTtcblxuYmxvY2suX3RhZyA9ICdhZGRyZXNzfGFydGljbGV8YXNpZGV8YmFzZXxiYXNlZm9udHxibG9ja3F1b3RlfGJvZHl8Y2FwdGlvbidcbiAgKyAnfGNlbnRlcnxjb2x8Y29sZ3JvdXB8ZGR8ZGV0YWlsc3xkaWFsb2d8ZGlyfGRpdnxkbHxkdHxmaWVsZHNldHxmaWdjYXB0aW9uJ1xuICArICd8ZmlndXJlfGZvb3Rlcnxmb3JtfGZyYW1lfGZyYW1lc2V0fGhbMS02XXxoZWFkfGhlYWRlcnxocnxodG1sfGlmcmFtZSdcbiAgKyAnfGxlZ2VuZHxsaXxsaW5rfG1haW58bWVudXxtZW51aXRlbXxtZXRhfG5hdnxub2ZyYW1lc3xvbHxvcHRncm91cHxvcHRpb24nXG4gICsgJ3xwfHBhcmFtfHNlY3Rpb258c291cmNlfHN1bW1hcnl8dGFibGV8dGJvZHl8dGR8dGZvb3R8dGh8dGhlYWR8dGl0bGV8dHInXG4gICsgJ3x0cmFja3x1bCc7XG5ibG9jay5fY29tbWVudCA9IC88IS0tKD8hLT8+KVtcXHNcXFNdKj8tLT4vO1xuYmxvY2suaHRtbCA9IGVkaXQoYmxvY2suaHRtbCwgJ2knKVxuICAucmVwbGFjZSgnY29tbWVudCcsIGJsb2NrLl9jb21tZW50KVxuICAucmVwbGFjZSgndGFnJywgYmxvY2suX3RhZylcbiAgLnJlcGxhY2UoJ2F0dHJpYnV0ZScsIC8gK1thLXpBLVo6X11bXFx3LjotXSooPzogKj0gKlwiW15cIlxcbl0qXCJ8ICo9IConW14nXFxuXSonfCAqPSAqW15cXHNcIic9PD5gXSspPy8pXG4gIC5nZXRSZWdleCgpO1xuXG5ibG9jay5wYXJhZ3JhcGggPSBlZGl0KGJsb2NrLl9wYXJhZ3JhcGgpXG4gIC5yZXBsYWNlKCdocicsIGJsb2NrLmhyKVxuICAucmVwbGFjZSgnaGVhZGluZycsICcgezAsM30jezEsNn0gKycpXG4gIC5yZXBsYWNlKCd8bGhlYWRpbmcnLCAnJykgLy8gc2V0ZXggaGVhZGluZ3MgZG9uJ3QgaW50ZXJydXB0IGNvbW1vbm1hcmsgcGFyYWdyYXBoc1xuICAucmVwbGFjZSgnYmxvY2txdW90ZScsICcgezAsM30+JylcbiAgLnJlcGxhY2UoJ2ZlbmNlcycsICcgezAsM30oPzpgezMsfXx+ezMsfSlbXmBcXFxcbl0qXFxcXG4nKVxuICAucmVwbGFjZSgnbGlzdCcsICcgezAsM30oPzpbKistXXwxWy4pXSkgJykgLy8gb25seSBsaXN0cyBzdGFydGluZyBmcm9tIDEgY2FuIGludGVycnVwdFxuICAucmVwbGFjZSgnaHRtbCcsICc8Lz8oPzp0YWcpKD86ICt8XFxcXG58Lz8+KXw8KD86c2NyaXB0fHByZXxzdHlsZXwhLS0pJylcbiAgLnJlcGxhY2UoJ3RhZycsIGJsb2NrLl90YWcpIC8vIHBhcnMgY2FuIGJlIGludGVycnVwdGVkIGJ5IHR5cGUgKDYpIGh0bWwgYmxvY2tzXG4gIC5nZXRSZWdleCgpO1xuXG5ibG9jay5ibG9ja3F1b3RlID0gZWRpdChibG9jay5ibG9ja3F1b3RlKVxuICAucmVwbGFjZSgncGFyYWdyYXBoJywgYmxvY2sucGFyYWdyYXBoKVxuICAuZ2V0UmVnZXgoKTtcblxuLyoqXG4gKiBOb3JtYWwgQmxvY2sgR3JhbW1hclxuICovXG5cbmJsb2NrLm5vcm1hbCA9IG1lcmdlKHt9LCBibG9jayk7XG5cbi8qKlxuICogR0ZNIEJsb2NrIEdyYW1tYXJcbiAqL1xuXG5ibG9jay5nZm0gPSBtZXJnZSh7fSwgYmxvY2subm9ybWFsLCB7XG4gIG5wdGFibGU6IC9eICooW158XFxuIF0uKlxcfC4qKVxcbiAqKFstOl0rICpcXHxbLXwgOl0qKSg/OlxcbigoPzouKltePlxcbiBdLiooPzpcXG58JCkpKilcXG4qfCQpLyxcbiAgdGFibGU6IC9eICpcXHwoLispXFxuICpcXHw/KCAqWy06XStbLXwgOl0qKSg/OlxcbigoPzogKltePlxcbiBdLiooPzpcXG58JCkpKilcXG4qfCQpL1xufSk7XG5cbi8qKlxuICogUGVkYW50aWMgZ3JhbW1hciAob3JpZ2luYWwgSm9obiBHcnViZXIncyBsb29zZSBtYXJrZG93biBzcGVjaWZpY2F0aW9uKVxuICovXG5cbmJsb2NrLnBlZGFudGljID0gbWVyZ2Uoe30sIGJsb2NrLm5vcm1hbCwge1xuICBodG1sOiBlZGl0KFxuICAgICdeICooPzpjb21tZW50ICooPzpcXFxcbnxcXFxccyokKSdcbiAgICArICd8PCh0YWcpW1xcXFxzXFxcXFNdKz88L1xcXFwxPiAqKD86XFxcXG57Mix9fFxcXFxzKiQpJyAvLyBjbG9zZWQgdGFnXG4gICAgKyAnfDx0YWcoPzpcIlteXCJdKlwifFxcJ1teXFwnXSpcXCd8XFxcXHNbXlxcJ1wiLz5cXFxcc10qKSo/Lz8+ICooPzpcXFxcbnsyLH18XFxcXHMqJCkpJylcbiAgICAucmVwbGFjZSgnY29tbWVudCcsIGJsb2NrLl9jb21tZW50KVxuICAgIC5yZXBsYWNlKC90YWcvZywgJyg/ISg/OidcbiAgICAgICsgJ2F8ZW18c3Ryb25nfHNtYWxsfHN8Y2l0ZXxxfGRmbnxhYmJyfGRhdGF8dGltZXxjb2RlfHZhcnxzYW1wfGtiZHxzdWInXG4gICAgICArICd8c3VwfGl8Ynx1fG1hcmt8cnVieXxydHxycHxiZGl8YmRvfHNwYW58YnJ8d2JyfGluc3xkZWx8aW1nKSdcbiAgICAgICsgJ1xcXFxiKVxcXFx3Kyg/ITp8W15cXFxcd1xcXFxzQF0qQClcXFxcYicpXG4gICAgLmdldFJlZ2V4KCksXG4gIGRlZjogL14gKlxcWyhbXlxcXV0rKVxcXTogKjw/KFteXFxzPl0rKT4/KD86ICsoW1wiKF1bXlxcbl0rW1wiKV0pKT8gKig/Olxcbit8JCkvLFxuICBoZWFkaW5nOiAvXiAqKCN7MSw2fSkgKihbXlxcbl0rPykgKig/OiMrICopPyg/Olxcbit8JCkvLFxuICBmZW5jZXM6IG5vb3AsIC8vIGZlbmNlcyBub3Qgc3VwcG9ydGVkXG4gIHBhcmFncmFwaDogZWRpdChibG9jay5ub3JtYWwuX3BhcmFncmFwaClcbiAgICAucmVwbGFjZSgnaHInLCBibG9jay5ocilcbiAgICAucmVwbGFjZSgnaGVhZGluZycsICcgKiN7MSw2fSAqW15cXG5dJylcbiAgICAucmVwbGFjZSgnbGhlYWRpbmcnLCBibG9jay5saGVhZGluZylcbiAgICAucmVwbGFjZSgnYmxvY2txdW90ZScsICcgezAsM30+JylcbiAgICAucmVwbGFjZSgnfGZlbmNlcycsICcnKVxuICAgIC5yZXBsYWNlKCd8bGlzdCcsICcnKVxuICAgIC5yZXBsYWNlKCd8aHRtbCcsICcnKVxuICAgIC5nZXRSZWdleCgpXG59KTtcblxuLyoqXG4gKiBCbG9jayBMZXhlclxuICovXG5cbmZ1bmN0aW9uIExleGVyKG9wdGlvbnMpIHtcbiAgdGhpcy50b2tlbnMgPSBbXTtcbiAgdGhpcy50b2tlbnMubGlua3MgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zIHx8IG1hcmtlZC5kZWZhdWx0cztcbiAgdGhpcy5ydWxlcyA9IGJsb2NrLm5vcm1hbDtcblxuICBpZiAodGhpcy5vcHRpb25zLnBlZGFudGljKSB7XG4gICAgdGhpcy5ydWxlcyA9IGJsb2NrLnBlZGFudGljO1xuICB9IGVsc2UgaWYgKHRoaXMub3B0aW9ucy5nZm0pIHtcbiAgICB0aGlzLnJ1bGVzID0gYmxvY2suZ2ZtO1xuICB9XG59XG5cbi8qKlxuICogRXhwb3NlIEJsb2NrIFJ1bGVzXG4gKi9cblxuTGV4ZXIucnVsZXMgPSBibG9jaztcblxuLyoqXG4gKiBTdGF0aWMgTGV4IE1ldGhvZFxuICovXG5cbkxleGVyLmxleCA9IGZ1bmN0aW9uKHNyYywgb3B0aW9ucykge1xuICB2YXIgbGV4ZXIgPSBuZXcgTGV4ZXIob3B0aW9ucyk7XG4gIHJldHVybiBsZXhlci5sZXgoc3JjKTtcbn07XG5cbi8qKlxuICogUHJlcHJvY2Vzc2luZ1xuICovXG5cbkxleGVyLnByb3RvdHlwZS5sZXggPSBmdW5jdGlvbihzcmMpIHtcbiAgc3JjID0gc3JjXG4gICAgLnJlcGxhY2UoL1xcclxcbnxcXHIvZywgJ1xcbicpXG4gICAgLnJlcGxhY2UoL1xcdC9nLCAnICAgICcpXG4gICAgLnJlcGxhY2UoL1xcdTAwYTAvZywgJyAnKVxuICAgIC5yZXBsYWNlKC9cXHUyNDI0L2csICdcXG4nKTtcblxuICByZXR1cm4gdGhpcy50b2tlbihzcmMsIHRydWUpO1xufTtcblxuLyoqXG4gKiBMZXhpbmdcbiAqL1xuXG5MZXhlci5wcm90b3R5cGUudG9rZW4gPSBmdW5jdGlvbihzcmMsIHRvcCkge1xuICBzcmMgPSBzcmMucmVwbGFjZSgvXiArJC9nbSwgJycpO1xuICB2YXIgbmV4dCxcbiAgICAgIGxvb3NlLFxuICAgICAgY2FwLFxuICAgICAgYnVsbCxcbiAgICAgIGIsXG4gICAgICBpdGVtLFxuICAgICAgbGlzdFN0YXJ0LFxuICAgICAgbGlzdEl0ZW1zLFxuICAgICAgdCxcbiAgICAgIHNwYWNlLFxuICAgICAgaSxcbiAgICAgIHRhZyxcbiAgICAgIGwsXG4gICAgICBpc29yZGVyZWQsXG4gICAgICBpc3Rhc2ssXG4gICAgICBpc2NoZWNrZWQ7XG5cbiAgd2hpbGUgKHNyYykge1xuICAgIC8vIG5ld2xpbmVcbiAgICBpZiAoY2FwID0gdGhpcy5ydWxlcy5uZXdsaW5lLmV4ZWMoc3JjKSkge1xuICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyhjYXBbMF0ubGVuZ3RoKTtcbiAgICAgIGlmIChjYXBbMF0ubGVuZ3RoID4gMSkge1xuICAgICAgICB0aGlzLnRva2Vucy5wdXNoKHtcbiAgICAgICAgICB0eXBlOiAnc3BhY2UnXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIGNvZGVcbiAgICBpZiAoY2FwID0gdGhpcy5ydWxlcy5jb2RlLmV4ZWMoc3JjKSkge1xuICAgICAgdmFyIGxhc3RUb2tlbiA9IHRoaXMudG9rZW5zW3RoaXMudG9rZW5zLmxlbmd0aCAtIDFdO1xuICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyhjYXBbMF0ubGVuZ3RoKTtcbiAgICAgIC8vIEFuIGluZGVudGVkIGNvZGUgYmxvY2sgY2Fubm90IGludGVycnVwdCBhIHBhcmFncmFwaC5cbiAgICAgIGlmIChsYXN0VG9rZW4gJiYgbGFzdFRva2VuLnR5cGUgPT09ICdwYXJhZ3JhcGgnKSB7XG4gICAgICAgIGxhc3RUb2tlbi50ZXh0ICs9ICdcXG4nICsgY2FwWzBdLnRyaW1SaWdodCgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2FwID0gY2FwWzBdLnJlcGxhY2UoL14gezR9L2dtLCAnJyk7XG4gICAgICAgIHRoaXMudG9rZW5zLnB1c2goe1xuICAgICAgICAgIHR5cGU6ICdjb2RlJyxcbiAgICAgICAgICBjb2RlQmxvY2tTdHlsZTogJ2luZGVudGVkJyxcbiAgICAgICAgICB0ZXh0OiAhdGhpcy5vcHRpb25zLnBlZGFudGljXG4gICAgICAgICAgICA/IHJ0cmltKGNhcCwgJ1xcbicpXG4gICAgICAgICAgICA6IGNhcFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIC8vIGZlbmNlc1xuICAgIGlmIChjYXAgPSB0aGlzLnJ1bGVzLmZlbmNlcy5leGVjKHNyYykpIHtcbiAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcoY2FwWzBdLmxlbmd0aCk7XG4gICAgICB0aGlzLnRva2Vucy5wdXNoKHtcbiAgICAgICAgdHlwZTogJ2NvZGUnLFxuICAgICAgICBsYW5nOiBjYXBbMl0gPyBjYXBbMl0udHJpbSgpIDogY2FwWzJdLFxuICAgICAgICB0ZXh0OiBjYXBbM10gfHwgJydcbiAgICAgIH0pO1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgLy8gaGVhZGluZ1xuICAgIGlmIChjYXAgPSB0aGlzLnJ1bGVzLmhlYWRpbmcuZXhlYyhzcmMpKSB7XG4gICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKGNhcFswXS5sZW5ndGgpO1xuICAgICAgdGhpcy50b2tlbnMucHVzaCh7XG4gICAgICAgIHR5cGU6ICdoZWFkaW5nJyxcbiAgICAgICAgZGVwdGg6IGNhcFsxXS5sZW5ndGgsXG4gICAgICAgIHRleHQ6IGNhcFsyXVxuICAgICAgfSk7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICAvLyB0YWJsZSBubyBsZWFkaW5nIHBpcGUgKGdmbSlcbiAgICBpZiAoY2FwID0gdGhpcy5ydWxlcy5ucHRhYmxlLmV4ZWMoc3JjKSkge1xuICAgICAgaXRlbSA9IHtcbiAgICAgICAgdHlwZTogJ3RhYmxlJyxcbiAgICAgICAgaGVhZGVyOiBzcGxpdENlbGxzKGNhcFsxXS5yZXBsYWNlKC9eICp8ICpcXHwgKiQvZywgJycpKSxcbiAgICAgICAgYWxpZ246IGNhcFsyXS5yZXBsYWNlKC9eICp8XFx8ICokL2csICcnKS5zcGxpdCgvICpcXHwgKi8pLFxuICAgICAgICBjZWxsczogY2FwWzNdID8gY2FwWzNdLnJlcGxhY2UoL1xcbiQvLCAnJykuc3BsaXQoJ1xcbicpIDogW11cbiAgICAgIH07XG5cbiAgICAgIGlmIChpdGVtLmhlYWRlci5sZW5ndGggPT09IGl0ZW0uYWxpZ24ubGVuZ3RoKSB7XG4gICAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcoY2FwWzBdLmxlbmd0aCk7XG5cbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGl0ZW0uYWxpZ24ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBpZiAoL14gKi0rOiAqJC8udGVzdChpdGVtLmFsaWduW2ldKSkge1xuICAgICAgICAgICAgaXRlbS5hbGlnbltpXSA9ICdyaWdodCc7XG4gICAgICAgICAgfSBlbHNlIGlmICgvXiAqOi0rOiAqJC8udGVzdChpdGVtLmFsaWduW2ldKSkge1xuICAgICAgICAgICAgaXRlbS5hbGlnbltpXSA9ICdjZW50ZXInO1xuICAgICAgICAgIH0gZWxzZSBpZiAoL14gKjotKyAqJC8udGVzdChpdGVtLmFsaWduW2ldKSkge1xuICAgICAgICAgICAgaXRlbS5hbGlnbltpXSA9ICdsZWZ0JztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaXRlbS5hbGlnbltpXSA9IG51bGw7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGl0ZW0uY2VsbHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBpdGVtLmNlbGxzW2ldID0gc3BsaXRDZWxscyhpdGVtLmNlbGxzW2ldLCBpdGVtLmhlYWRlci5sZW5ndGgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy50b2tlbnMucHVzaChpdGVtKTtcblxuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBoclxuICAgIGlmIChjYXAgPSB0aGlzLnJ1bGVzLmhyLmV4ZWMoc3JjKSkge1xuICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyhjYXBbMF0ubGVuZ3RoKTtcbiAgICAgIHRoaXMudG9rZW5zLnB1c2goe1xuICAgICAgICB0eXBlOiAnaHInXG4gICAgICB9KTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIC8vIGJsb2NrcXVvdGVcbiAgICBpZiAoY2FwID0gdGhpcy5ydWxlcy5ibG9ja3F1b3RlLmV4ZWMoc3JjKSkge1xuICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyhjYXBbMF0ubGVuZ3RoKTtcblxuICAgICAgdGhpcy50b2tlbnMucHVzaCh7XG4gICAgICAgIHR5cGU6ICdibG9ja3F1b3RlX3N0YXJ0J1xuICAgICAgfSk7XG5cbiAgICAgIGNhcCA9IGNhcFswXS5yZXBsYWNlKC9eICo+ID8vZ20sICcnKTtcblxuICAgICAgLy8gUGFzcyBgdG9wYCB0byBrZWVwIHRoZSBjdXJyZW50XG4gICAgICAvLyBcInRvcGxldmVsXCIgc3RhdGUuIFRoaXMgaXMgZXhhY3RseVxuICAgICAgLy8gaG93IG1hcmtkb3duLnBsIHdvcmtzLlxuICAgICAgdGhpcy50b2tlbihjYXAsIHRvcCk7XG5cbiAgICAgIHRoaXMudG9rZW5zLnB1c2goe1xuICAgICAgICB0eXBlOiAnYmxvY2txdW90ZV9lbmQnXG4gICAgICB9KTtcblxuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgLy8gbGlzdFxuICAgIGlmIChjYXAgPSB0aGlzLnJ1bGVzLmxpc3QuZXhlYyhzcmMpKSB7XG4gICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKGNhcFswXS5sZW5ndGgpO1xuICAgICAgYnVsbCA9IGNhcFsyXTtcbiAgICAgIGlzb3JkZXJlZCA9IGJ1bGwubGVuZ3RoID4gMTtcblxuICAgICAgbGlzdFN0YXJ0ID0ge1xuICAgICAgICB0eXBlOiAnbGlzdF9zdGFydCcsXG4gICAgICAgIG9yZGVyZWQ6IGlzb3JkZXJlZCxcbiAgICAgICAgc3RhcnQ6IGlzb3JkZXJlZCA/ICtidWxsIDogJycsXG4gICAgICAgIGxvb3NlOiBmYWxzZVxuICAgICAgfTtcblxuICAgICAgdGhpcy50b2tlbnMucHVzaChsaXN0U3RhcnQpO1xuXG4gICAgICAvLyBHZXQgZWFjaCB0b3AtbGV2ZWwgaXRlbS5cbiAgICAgIGNhcCA9IGNhcFswXS5tYXRjaCh0aGlzLnJ1bGVzLml0ZW0pO1xuXG4gICAgICBsaXN0SXRlbXMgPSBbXTtcbiAgICAgIG5leHQgPSBmYWxzZTtcbiAgICAgIGwgPSBjYXAubGVuZ3RoO1xuICAgICAgaSA9IDA7XG5cbiAgICAgIGZvciAoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgIGl0ZW0gPSBjYXBbaV07XG5cbiAgICAgICAgLy8gUmVtb3ZlIHRoZSBsaXN0IGl0ZW0ncyBidWxsZXRcbiAgICAgICAgLy8gc28gaXQgaXMgc2VlbiBhcyB0aGUgbmV4dCB0b2tlbi5cbiAgICAgICAgc3BhY2UgPSBpdGVtLmxlbmd0aDtcbiAgICAgICAgaXRlbSA9IGl0ZW0ucmVwbGFjZSgvXiAqKFsqKy1dfFxcZCtcXC4pICovLCAnJyk7XG5cbiAgICAgICAgLy8gT3V0ZGVudCB3aGF0ZXZlciB0aGVcbiAgICAgICAgLy8gbGlzdCBpdGVtIGNvbnRhaW5zLiBIYWNreS5cbiAgICAgICAgaWYgKH5pdGVtLmluZGV4T2YoJ1xcbiAnKSkge1xuICAgICAgICAgIHNwYWNlIC09IGl0ZW0ubGVuZ3RoO1xuICAgICAgICAgIGl0ZW0gPSAhdGhpcy5vcHRpb25zLnBlZGFudGljXG4gICAgICAgICAgICA/IGl0ZW0ucmVwbGFjZShuZXcgUmVnRXhwKCdeIHsxLCcgKyBzcGFjZSArICd9JywgJ2dtJyksICcnKVxuICAgICAgICAgICAgOiBpdGVtLnJlcGxhY2UoL14gezEsNH0vZ20sICcnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIERldGVybWluZSB3aGV0aGVyIHRoZSBuZXh0IGxpc3QgaXRlbSBiZWxvbmdzIGhlcmUuXG4gICAgICAgIC8vIEJhY2twZWRhbCBpZiBpdCBkb2VzIG5vdCBiZWxvbmcgaW4gdGhpcyBsaXN0LlxuICAgICAgICBpZiAoaSAhPT0gbCAtIDEpIHtcbiAgICAgICAgICBiID0gYmxvY2suYnVsbGV0LmV4ZWMoY2FwW2kgKyAxXSlbMF07XG4gICAgICAgICAgaWYgKGJ1bGwubGVuZ3RoID4gMSA/IGIubGVuZ3RoID09PSAxXG4gICAgICAgICAgICA6IChiLmxlbmd0aCA+IDEgfHwgKHRoaXMub3B0aW9ucy5zbWFydExpc3RzICYmIGIgIT09IGJ1bGwpKSkge1xuICAgICAgICAgICAgc3JjID0gY2FwLnNsaWNlKGkgKyAxKS5qb2luKCdcXG4nKSArIHNyYztcbiAgICAgICAgICAgIGkgPSBsIC0gMTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBEZXRlcm1pbmUgd2hldGhlciBpdGVtIGlzIGxvb3NlIG9yIG5vdC5cbiAgICAgICAgLy8gVXNlOiAvKF58XFxuKSg/ISApW15cXG5dK1xcblxcbig/IVxccyokKS9cbiAgICAgICAgLy8gZm9yIGRpc2NvdW50IGJlaGF2aW9yLlxuICAgICAgICBsb29zZSA9IG5leHQgfHwgL1xcblxcbig/IVxccyokKS8udGVzdChpdGVtKTtcbiAgICAgICAgaWYgKGkgIT09IGwgLSAxKSB7XG4gICAgICAgICAgbmV4dCA9IGl0ZW0uY2hhckF0KGl0ZW0ubGVuZ3RoIC0gMSkgPT09ICdcXG4nO1xuICAgICAgICAgIGlmICghbG9vc2UpIGxvb3NlID0gbmV4dDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChsb29zZSkge1xuICAgICAgICAgIGxpc3RTdGFydC5sb29zZSA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDaGVjayBmb3IgdGFzayBsaXN0IGl0ZW1zXG4gICAgICAgIGlzdGFzayA9IC9eXFxbWyB4WF1cXF0gLy50ZXN0KGl0ZW0pO1xuICAgICAgICBpc2NoZWNrZWQgPSB1bmRlZmluZWQ7XG4gICAgICAgIGlmIChpc3Rhc2spIHtcbiAgICAgICAgICBpc2NoZWNrZWQgPSBpdGVtWzFdICE9PSAnICc7XG4gICAgICAgICAgaXRlbSA9IGl0ZW0ucmVwbGFjZSgvXlxcW1sgeFhdXFxdICsvLCAnJyk7XG4gICAgICAgIH1cblxuICAgICAgICB0ID0ge1xuICAgICAgICAgIHR5cGU6ICdsaXN0X2l0ZW1fc3RhcnQnLFxuICAgICAgICAgIHRhc2s6IGlzdGFzayxcbiAgICAgICAgICBjaGVja2VkOiBpc2NoZWNrZWQsXG4gICAgICAgICAgbG9vc2U6IGxvb3NlXG4gICAgICAgIH07XG5cbiAgICAgICAgbGlzdEl0ZW1zLnB1c2godCk7XG4gICAgICAgIHRoaXMudG9rZW5zLnB1c2godCk7XG5cbiAgICAgICAgLy8gUmVjdXJzZS5cbiAgICAgICAgdGhpcy50b2tlbihpdGVtLCBmYWxzZSk7XG5cbiAgICAgICAgdGhpcy50b2tlbnMucHVzaCh7XG4gICAgICAgICAgdHlwZTogJ2xpc3RfaXRlbV9lbmQnXG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBpZiAobGlzdFN0YXJ0Lmxvb3NlKSB7XG4gICAgICAgIGwgPSBsaXN0SXRlbXMubGVuZ3RoO1xuICAgICAgICBpID0gMDtcbiAgICAgICAgZm9yICg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICBsaXN0SXRlbXNbaV0ubG9vc2UgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHRoaXMudG9rZW5zLnB1c2goe1xuICAgICAgICB0eXBlOiAnbGlzdF9lbmQnXG4gICAgICB9KTtcblxuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgLy8gaHRtbFxuICAgIGlmIChjYXAgPSB0aGlzLnJ1bGVzLmh0bWwuZXhlYyhzcmMpKSB7XG4gICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKGNhcFswXS5sZW5ndGgpO1xuICAgICAgdGhpcy50b2tlbnMucHVzaCh7XG4gICAgICAgIHR5cGU6IHRoaXMub3B0aW9ucy5zYW5pdGl6ZVxuICAgICAgICAgID8gJ3BhcmFncmFwaCdcbiAgICAgICAgICA6ICdodG1sJyxcbiAgICAgICAgcHJlOiAhdGhpcy5vcHRpb25zLnNhbml0aXplclxuICAgICAgICAgICYmIChjYXBbMV0gPT09ICdwcmUnIHx8IGNhcFsxXSA9PT0gJ3NjcmlwdCcgfHwgY2FwWzFdID09PSAnc3R5bGUnKSxcbiAgICAgICAgdGV4dDogdGhpcy5vcHRpb25zLnNhbml0aXplID8gKHRoaXMub3B0aW9ucy5zYW5pdGl6ZXIgPyB0aGlzLm9wdGlvbnMuc2FuaXRpemVyKGNhcFswXSkgOiBlc2NhcGUoY2FwWzBdKSkgOiBjYXBbMF1cbiAgICAgIH0pO1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgLy8gZGVmXG4gICAgaWYgKHRvcCAmJiAoY2FwID0gdGhpcy5ydWxlcy5kZWYuZXhlYyhzcmMpKSkge1xuICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyhjYXBbMF0ubGVuZ3RoKTtcbiAgICAgIGlmIChjYXBbM10pIGNhcFszXSA9IGNhcFszXS5zdWJzdHJpbmcoMSwgY2FwWzNdLmxlbmd0aCAtIDEpO1xuICAgICAgdGFnID0gY2FwWzFdLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvXFxzKy9nLCAnICcpO1xuICAgICAgaWYgKCF0aGlzLnRva2Vucy5saW5rc1t0YWddKSB7XG4gICAgICAgIHRoaXMudG9rZW5zLmxpbmtzW3RhZ10gPSB7XG4gICAgICAgICAgaHJlZjogY2FwWzJdLFxuICAgICAgICAgIHRpdGxlOiBjYXBbM11cbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIC8vIHRhYmxlIChnZm0pXG4gICAgaWYgKGNhcCA9IHRoaXMucnVsZXMudGFibGUuZXhlYyhzcmMpKSB7XG4gICAgICBpdGVtID0ge1xuICAgICAgICB0eXBlOiAndGFibGUnLFxuICAgICAgICBoZWFkZXI6IHNwbGl0Q2VsbHMoY2FwWzFdLnJlcGxhY2UoL14gKnwgKlxcfCAqJC9nLCAnJykpLFxuICAgICAgICBhbGlnbjogY2FwWzJdLnJlcGxhY2UoL14gKnxcXHwgKiQvZywgJycpLnNwbGl0KC8gKlxcfCAqLyksXG4gICAgICAgIGNlbGxzOiBjYXBbM10gPyBjYXBbM10ucmVwbGFjZSgvXFxuJC8sICcnKS5zcGxpdCgnXFxuJykgOiBbXVxuICAgICAgfTtcblxuICAgICAgaWYgKGl0ZW0uaGVhZGVyLmxlbmd0aCA9PT0gaXRlbS5hbGlnbi5sZW5ndGgpIHtcbiAgICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyhjYXBbMF0ubGVuZ3RoKTtcblxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgaXRlbS5hbGlnbi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGlmICgvXiAqLSs6ICokLy50ZXN0KGl0ZW0uYWxpZ25baV0pKSB7XG4gICAgICAgICAgICBpdGVtLmFsaWduW2ldID0gJ3JpZ2h0JztcbiAgICAgICAgICB9IGVsc2UgaWYgKC9eICo6LSs6ICokLy50ZXN0KGl0ZW0uYWxpZ25baV0pKSB7XG4gICAgICAgICAgICBpdGVtLmFsaWduW2ldID0gJ2NlbnRlcic7XG4gICAgICAgICAgfSBlbHNlIGlmICgvXiAqOi0rICokLy50ZXN0KGl0ZW0uYWxpZ25baV0pKSB7XG4gICAgICAgICAgICBpdGVtLmFsaWduW2ldID0gJ2xlZnQnO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpdGVtLmFsaWduW2ldID0gbnVsbDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgaXRlbS5jZWxscy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGl0ZW0uY2VsbHNbaV0gPSBzcGxpdENlbGxzKFxuICAgICAgICAgICAgaXRlbS5jZWxsc1tpXS5yZXBsYWNlKC9eICpcXHwgKnwgKlxcfCAqJC9nLCAnJyksXG4gICAgICAgICAgICBpdGVtLmhlYWRlci5sZW5ndGgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy50b2tlbnMucHVzaChpdGVtKTtcblxuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBsaGVhZGluZ1xuICAgIGlmIChjYXAgPSB0aGlzLnJ1bGVzLmxoZWFkaW5nLmV4ZWMoc3JjKSkge1xuICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyhjYXBbMF0ubGVuZ3RoKTtcbiAgICAgIHRoaXMudG9rZW5zLnB1c2goe1xuICAgICAgICB0eXBlOiAnaGVhZGluZycsXG4gICAgICAgIGRlcHRoOiBjYXBbMl0uY2hhckF0KDApID09PSAnPScgPyAxIDogMixcbiAgICAgICAgdGV4dDogY2FwWzFdXG4gICAgICB9KTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIC8vIHRvcC1sZXZlbCBwYXJhZ3JhcGhcbiAgICBpZiAodG9wICYmIChjYXAgPSB0aGlzLnJ1bGVzLnBhcmFncmFwaC5leGVjKHNyYykpKSB7XG4gICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKGNhcFswXS5sZW5ndGgpO1xuICAgICAgdGhpcy50b2tlbnMucHVzaCh7XG4gICAgICAgIHR5cGU6ICdwYXJhZ3JhcGgnLFxuICAgICAgICB0ZXh0OiBjYXBbMV0uY2hhckF0KGNhcFsxXS5sZW5ndGggLSAxKSA9PT0gJ1xcbidcbiAgICAgICAgICA/IGNhcFsxXS5zbGljZSgwLCAtMSlcbiAgICAgICAgICA6IGNhcFsxXVxuICAgICAgfSk7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICAvLyB0ZXh0XG4gICAgaWYgKGNhcCA9IHRoaXMucnVsZXMudGV4dC5leGVjKHNyYykpIHtcbiAgICAgIC8vIFRvcC1sZXZlbCBzaG91bGQgbmV2ZXIgcmVhY2ggaGVyZS5cbiAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcoY2FwWzBdLmxlbmd0aCk7XG4gICAgICB0aGlzLnRva2Vucy5wdXNoKHtcbiAgICAgICAgdHlwZTogJ3RleHQnLFxuICAgICAgICB0ZXh0OiBjYXBbMF1cbiAgICAgIH0pO1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgaWYgKHNyYykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbmZpbml0ZSBsb29wIG9uIGJ5dGU6ICcgKyBzcmMuY2hhckNvZGVBdCgwKSk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRoaXMudG9rZW5zO1xufTtcblxuLyoqXG4gKiBJbmxpbmUtTGV2ZWwgR3JhbW1hclxuICovXG5cbnZhciBpbmxpbmUgPSB7XG4gIGVzY2FwZTogL15cXFxcKFshXCIjJCUmJygpKissXFwtLi86Ozw9Pj9AXFxbXFxdXFxcXF5fYHt8fX5dKS8sXG4gIGF1dG9saW5rOiAvXjwoc2NoZW1lOlteXFxzXFx4MDAtXFx4MWY8Pl0qfGVtYWlsKT4vLFxuICB1cmw6IG5vb3AsXG4gIHRhZzogJ15jb21tZW50J1xuICAgICsgJ3xePC9bYS16QS1aXVtcXFxcdzotXSpcXFxccyo+JyAvLyBzZWxmLWNsb3NpbmcgdGFnXG4gICAgKyAnfF48W2EtekEtWl1bXFxcXHctXSooPzphdHRyaWJ1dGUpKj9cXFxccyovPz4nIC8vIG9wZW4gdGFnXG4gICAgKyAnfF48XFxcXD9bXFxcXHNcXFxcU10qP1xcXFw/PicgLy8gcHJvY2Vzc2luZyBpbnN0cnVjdGlvbiwgZS5nLiA8P3BocCA/PlxuICAgICsgJ3xePCFbYS16QS1aXStcXFxcc1tcXFxcc1xcXFxTXSo/PicgLy8gZGVjbGFyYXRpb24sIGUuZy4gPCFET0NUWVBFIGh0bWw+XG4gICAgKyAnfF48IVxcXFxbQ0RBVEFcXFxcW1tcXFxcc1xcXFxTXSo/XFxcXF1cXFxcXT4nLCAvLyBDREFUQSBzZWN0aW9uXG4gIGxpbms6IC9eIT9cXFsobGFiZWwpXFxdXFwoXFxzKihocmVmKSg/OlxccysodGl0bGUpKT9cXHMqXFwpLyxcbiAgcmVmbGluazogL14hP1xcWyhsYWJlbClcXF1cXFsoPyFcXHMqXFxdKSgoPzpcXFxcW1xcW1xcXV0/fFteXFxbXFxdXFxcXF0pKylcXF0vLFxuICBub2xpbms6IC9eIT9cXFsoPyFcXHMqXFxdKSgoPzpcXFtbXlxcW1xcXV0qXFxdfFxcXFxbXFxbXFxdXXxbXlxcW1xcXV0pKilcXF0oPzpcXFtcXF0pPy8sXG4gIHN0cm9uZzogL15fXyhbXlxcc19dKV9fKD8hXyl8XlxcKlxcKihbXlxccypdKVxcKlxcKig/IVxcKil8Xl9fKFteXFxzXVtcXHNcXFNdKj9bXlxcc10pX18oPyFfKXxeXFwqXFwqKFteXFxzXVtcXHNcXFNdKj9bXlxcc10pXFwqXFwqKD8hXFwqKS8sXG4gIGVtOiAvXl8oW15cXHNfXSlfKD8hXyl8XlxcKihbXlxccyo8XFxbXSlcXCooPyFcXCopfF5fKFteXFxzPF1bXFxzXFxTXSo/W15cXHNfXSlfKD8hX3xbXlxcc3B1bmN0dWF0aW9uXSl8Xl8oW15cXHNfPF1bXFxzXFxTXSo/W15cXHNdKV8oPyFffFteXFxzcHVuY3R1YXRpb25dKXxeXFwqKFteXFxzPFwiXVtcXHNcXFNdKj9bXlxcc1xcKl0pXFwqKD8hXFwqfFteXFxzcHVuY3R1YXRpb25dKXxeXFwqKFteXFxzKlwiPFxcW11bXFxzXFxTXSo/W15cXHNdKVxcKig/IVxcKikvLFxuICBjb2RlOiAvXihgKykoW15gXXxbXmBdW1xcc1xcU10qP1teYF0pXFwxKD8hYCkvLFxuICBicjogL14oIHsyLH18XFxcXClcXG4oPyFcXHMqJCkvLFxuICBkZWw6IG5vb3AsXG4gIHRleHQ6IC9eKGArfFteYF0pKD86W1xcc1xcU10qPyg/Oig/PVtcXFxcPCFcXFtgKl18XFxiX3wkKXxbXiBdKD89IHsyLH1cXG4pKXwoPz0gezIsfVxcbikpL1xufTtcblxuLy8gbGlzdCBvZiBwdW5jdHVhdGlvbiBtYXJrcyBmcm9tIGNvbW1vbiBtYXJrIHNwZWNcbi8vIHdpdGhvdXQgYCBhbmQgXSB0byB3b3JrYXJvdW5kIFJ1bGUgMTcgKGlubGluZSBjb2RlIGJsb2Nrcy9saW5rcylcbmlubGluZS5fcHVuY3R1YXRpb24gPSAnIVwiIyQlJlxcJygpKissXFxcXC0uLzo7PD0+P0BcXFxcW15fe3x9fic7XG5pbmxpbmUuZW0gPSBlZGl0KGlubGluZS5lbSkucmVwbGFjZSgvcHVuY3R1YXRpb24vZywgaW5saW5lLl9wdW5jdHVhdGlvbikuZ2V0UmVnZXgoKTtcblxuaW5saW5lLl9lc2NhcGVzID0gL1xcXFwoWyFcIiMkJSYnKCkqKyxcXC0uLzo7PD0+P0BcXFtcXF1cXFxcXl9ge3x9fl0pL2c7XG5cbmlubGluZS5fc2NoZW1lID0gL1thLXpBLVpdW2EtekEtWjAtOSsuLV17MSwzMX0vO1xuaW5saW5lLl9lbWFpbCA9IC9bYS16QS1aMC05LiEjJCUmJyorLz0/Xl9ge3x9fi1dKyhAKVthLXpBLVowLTldKD86W2EtekEtWjAtOS1dezAsNjF9W2EtekEtWjAtOV0pPyg/OlxcLlthLXpBLVowLTldKD86W2EtekEtWjAtOS1dezAsNjF9W2EtekEtWjAtOV0pPykrKD8hWy1fXSkvO1xuaW5saW5lLmF1dG9saW5rID0gZWRpdChpbmxpbmUuYXV0b2xpbmspXG4gIC5yZXBsYWNlKCdzY2hlbWUnLCBpbmxpbmUuX3NjaGVtZSlcbiAgLnJlcGxhY2UoJ2VtYWlsJywgaW5saW5lLl9lbWFpbClcbiAgLmdldFJlZ2V4KCk7XG5cbmlubGluZS5fYXR0cmlidXRlID0gL1xccytbYS16QS1aOl9dW1xcdy46LV0qKD86XFxzKj1cXHMqXCJbXlwiXSpcInxcXHMqPVxccyonW14nXSonfFxccyo9XFxzKlteXFxzXCInPTw+YF0rKT8vO1xuXG5pbmxpbmUudGFnID0gZWRpdChpbmxpbmUudGFnKVxuICAucmVwbGFjZSgnY29tbWVudCcsIGJsb2NrLl9jb21tZW50KVxuICAucmVwbGFjZSgnYXR0cmlidXRlJywgaW5saW5lLl9hdHRyaWJ1dGUpXG4gIC5nZXRSZWdleCgpO1xuXG5pbmxpbmUuX2xhYmVsID0gLyg/OlxcW1teXFxbXFxdXSpcXF18XFxcXC58YFteYF0qYHxbXlxcW1xcXVxcXFxgXSkqPy87XG5pbmxpbmUuX2hyZWYgPSAvPCg/OlxcXFxbPD5dP3xbXlxcczw+XFxcXF0pKj58W15cXHNcXHgwMC1cXHgxZl0qLztcbmlubGluZS5fdGl0bGUgPSAvXCIoPzpcXFxcXCI/fFteXCJcXFxcXSkqXCJ8Jyg/OlxcXFwnP3xbXidcXFxcXSkqJ3xcXCgoPzpcXFxcXFwpP3xbXilcXFxcXSkqXFwpLztcblxuaW5saW5lLmxpbmsgPSBlZGl0KGlubGluZS5saW5rKVxuICAucmVwbGFjZSgnbGFiZWwnLCBpbmxpbmUuX2xhYmVsKVxuICAucmVwbGFjZSgnaHJlZicsIGlubGluZS5faHJlZilcbiAgLnJlcGxhY2UoJ3RpdGxlJywgaW5saW5lLl90aXRsZSlcbiAgLmdldFJlZ2V4KCk7XG5cbmlubGluZS5yZWZsaW5rID0gZWRpdChpbmxpbmUucmVmbGluaylcbiAgLnJlcGxhY2UoJ2xhYmVsJywgaW5saW5lLl9sYWJlbClcbiAgLmdldFJlZ2V4KCk7XG5cbi8qKlxuICogTm9ybWFsIElubGluZSBHcmFtbWFyXG4gKi9cblxuaW5saW5lLm5vcm1hbCA9IG1lcmdlKHt9LCBpbmxpbmUpO1xuXG4vKipcbiAqIFBlZGFudGljIElubGluZSBHcmFtbWFyXG4gKi9cblxuaW5saW5lLnBlZGFudGljID0gbWVyZ2Uoe30sIGlubGluZS5ub3JtYWwsIHtcbiAgc3Ryb25nOiAvXl9fKD89XFxTKShbXFxzXFxTXSo/XFxTKV9fKD8hXyl8XlxcKlxcKig/PVxcUykoW1xcc1xcU10qP1xcUylcXCpcXCooPyFcXCopLyxcbiAgZW06IC9eXyg/PVxcUykoW1xcc1xcU10qP1xcUylfKD8hXyl8XlxcKig/PVxcUykoW1xcc1xcU10qP1xcUylcXCooPyFcXCopLyxcbiAgbGluazogZWRpdCgvXiE/XFxbKGxhYmVsKVxcXVxcKCguKj8pXFwpLylcbiAgICAucmVwbGFjZSgnbGFiZWwnLCBpbmxpbmUuX2xhYmVsKVxuICAgIC5nZXRSZWdleCgpLFxuICByZWZsaW5rOiBlZGl0KC9eIT9cXFsobGFiZWwpXFxdXFxzKlxcWyhbXlxcXV0qKVxcXS8pXG4gICAgLnJlcGxhY2UoJ2xhYmVsJywgaW5saW5lLl9sYWJlbClcbiAgICAuZ2V0UmVnZXgoKVxufSk7XG5cbi8qKlxuICogR0ZNIElubGluZSBHcmFtbWFyXG4gKi9cblxuaW5saW5lLmdmbSA9IG1lcmdlKHt9LCBpbmxpbmUubm9ybWFsLCB7XG4gIGVzY2FwZTogZWRpdChpbmxpbmUuZXNjYXBlKS5yZXBsYWNlKCddKScsICd+fF0pJykuZ2V0UmVnZXgoKSxcbiAgX2V4dGVuZGVkX2VtYWlsOiAvW0EtWmEtejAtOS5fKy1dKyhAKVthLXpBLVowLTktX10rKD86XFwuW2EtekEtWjAtOS1fXSpbYS16QS1aMC05XSkrKD8hWy1fXSkvLFxuICB1cmw6IC9eKCg/OmZ0cHxodHRwcz8pOlxcL1xcL3x3d3dcXC4pKD86W2EtekEtWjAtOVxcLV0rXFwuPykrW15cXHM8XSp8XmVtYWlsLyxcbiAgX2JhY2twZWRhbDogLyg/OltePyEuLDo7Kl9+KCkmXSt8XFwoW14pXSpcXCl8Jig/IVthLXpBLVowLTldKzskKXxbPyEuLDo7Kl9+KV0rKD8hJCkpKy8sXG4gIGRlbDogL15+Kyg/PVxcUykoW1xcc1xcU10qP1xcUyl+Ky8sXG4gIHRleHQ6IC9eKGArfFteYF0pKD86W1xcc1xcU10qPyg/Oig/PVtcXFxcPCFcXFtgKn5dfFxcYl98aHR0cHM/OlxcL1xcL3xmdHA6XFwvXFwvfHd3d1xcLnwkKXxbXiBdKD89IHsyLH1cXG4pfFteYS16QS1aMC05LiEjJCUmJyorXFwvPT9fYHtcXHx9fi1dKD89W2EtekEtWjAtOS4hIyQlJicqK1xcLz0/X2B7XFx8fX4tXStAKSl8KD89IHsyLH1cXG58W2EtekEtWjAtOS4hIyQlJicqK1xcLz0/X2B7XFx8fX4tXStAKSkvXG59KTtcblxuaW5saW5lLmdmbS51cmwgPSBlZGl0KGlubGluZS5nZm0udXJsLCAnaScpXG4gIC5yZXBsYWNlKCdlbWFpbCcsIGlubGluZS5nZm0uX2V4dGVuZGVkX2VtYWlsKVxuICAuZ2V0UmVnZXgoKTtcbi8qKlxuICogR0ZNICsgTGluZSBCcmVha3MgSW5saW5lIEdyYW1tYXJcbiAqL1xuXG5pbmxpbmUuYnJlYWtzID0gbWVyZ2Uoe30sIGlubGluZS5nZm0sIHtcbiAgYnI6IGVkaXQoaW5saW5lLmJyKS5yZXBsYWNlKCd7Mix9JywgJyonKS5nZXRSZWdleCgpLFxuICB0ZXh0OiBlZGl0KGlubGluZS5nZm0udGV4dClcbiAgICAucmVwbGFjZSgnXFxcXGJfJywgJ1xcXFxiX3wgezIsfVxcXFxuJylcbiAgICAucmVwbGFjZSgvXFx7MixcXH0vZywgJyonKVxuICAgIC5nZXRSZWdleCgpXG59KTtcblxuLyoqXG4gKiBJbmxpbmUgTGV4ZXIgJiBDb21waWxlclxuICovXG5cbmZ1bmN0aW9uIElubGluZUxleGVyKGxpbmtzLCBvcHRpb25zKSB7XG4gIHRoaXMub3B0aW9ucyA9IG9wdGlvbnMgfHwgbWFya2VkLmRlZmF1bHRzO1xuICB0aGlzLmxpbmtzID0gbGlua3M7XG4gIHRoaXMucnVsZXMgPSBpbmxpbmUubm9ybWFsO1xuICB0aGlzLnJlbmRlcmVyID0gdGhpcy5vcHRpb25zLnJlbmRlcmVyIHx8IG5ldyBSZW5kZXJlcigpO1xuICB0aGlzLnJlbmRlcmVyLm9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG5cbiAgaWYgKCF0aGlzLmxpbmtzKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdUb2tlbnMgYXJyYXkgcmVxdWlyZXMgYSBgbGlua3NgIHByb3BlcnR5LicpO1xuICB9XG5cbiAgaWYgKHRoaXMub3B0aW9ucy5wZWRhbnRpYykge1xuICAgIHRoaXMucnVsZXMgPSBpbmxpbmUucGVkYW50aWM7XG4gIH0gZWxzZSBpZiAodGhpcy5vcHRpb25zLmdmbSkge1xuICAgIGlmICh0aGlzLm9wdGlvbnMuYnJlYWtzKSB7XG4gICAgICB0aGlzLnJ1bGVzID0gaW5saW5lLmJyZWFrcztcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5ydWxlcyA9IGlubGluZS5nZm07XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogRXhwb3NlIElubGluZSBSdWxlc1xuICovXG5cbklubGluZUxleGVyLnJ1bGVzID0gaW5saW5lO1xuXG4vKipcbiAqIFN0YXRpYyBMZXhpbmcvQ29tcGlsaW5nIE1ldGhvZFxuICovXG5cbklubGluZUxleGVyLm91dHB1dCA9IGZ1bmN0aW9uKHNyYywgbGlua3MsIG9wdGlvbnMpIHtcbiAgdmFyIGlubGluZSA9IG5ldyBJbmxpbmVMZXhlcihsaW5rcywgb3B0aW9ucyk7XG4gIHJldHVybiBpbmxpbmUub3V0cHV0KHNyYyk7XG59O1xuXG4vKipcbiAqIExleGluZy9Db21waWxpbmdcbiAqL1xuXG5JbmxpbmVMZXhlci5wcm90b3R5cGUub3V0cHV0ID0gZnVuY3Rpb24oc3JjKSB7XG4gIHZhciBvdXQgPSAnJyxcbiAgICAgIGxpbmssXG4gICAgICB0ZXh0LFxuICAgICAgaHJlZixcbiAgICAgIHRpdGxlLFxuICAgICAgY2FwLFxuICAgICAgcHJldkNhcFplcm87XG5cbiAgd2hpbGUgKHNyYykge1xuICAgIC8vIGVzY2FwZVxuICAgIGlmIChjYXAgPSB0aGlzLnJ1bGVzLmVzY2FwZS5leGVjKHNyYykpIHtcbiAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcoY2FwWzBdLmxlbmd0aCk7XG4gICAgICBvdXQgKz0gZXNjYXBlKGNhcFsxXSk7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICAvLyB0YWdcbiAgICBpZiAoY2FwID0gdGhpcy5ydWxlcy50YWcuZXhlYyhzcmMpKSB7XG4gICAgICBpZiAoIXRoaXMuaW5MaW5rICYmIC9ePGEgL2kudGVzdChjYXBbMF0pKSB7XG4gICAgICAgIHRoaXMuaW5MaW5rID0gdHJ1ZTtcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5pbkxpbmsgJiYgL148XFwvYT4vaS50ZXN0KGNhcFswXSkpIHtcbiAgICAgICAgdGhpcy5pbkxpbmsgPSBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGlmICghdGhpcy5pblJhd0Jsb2NrICYmIC9ePChwcmV8Y29kZXxrYmR8c2NyaXB0KShcXHN8PikvaS50ZXN0KGNhcFswXSkpIHtcbiAgICAgICAgdGhpcy5pblJhd0Jsb2NrID0gdHJ1ZTtcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5pblJhd0Jsb2NrICYmIC9ePFxcLyhwcmV8Y29kZXxrYmR8c2NyaXB0KShcXHN8PikvaS50ZXN0KGNhcFswXSkpIHtcbiAgICAgICAgdGhpcy5pblJhd0Jsb2NrID0gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcoY2FwWzBdLmxlbmd0aCk7XG4gICAgICBvdXQgKz0gdGhpcy5vcHRpb25zLnNhbml0aXplXG4gICAgICAgID8gdGhpcy5vcHRpb25zLnNhbml0aXplclxuICAgICAgICAgID8gdGhpcy5vcHRpb25zLnNhbml0aXplcihjYXBbMF0pXG4gICAgICAgICAgOiBlc2NhcGUoY2FwWzBdKVxuICAgICAgICA6IGNhcFswXTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIC8vIGxpbmtcbiAgICBpZiAoY2FwID0gdGhpcy5ydWxlcy5saW5rLmV4ZWMoc3JjKSkge1xuICAgICAgdmFyIGxhc3RQYXJlbkluZGV4ID0gZmluZENsb3NpbmdCcmFja2V0KGNhcFsyXSwgJygpJyk7XG4gICAgICBpZiAobGFzdFBhcmVuSW5kZXggPiAtMSkge1xuICAgICAgICB2YXIgbGlua0xlbiA9IDQgKyBjYXBbMV0ubGVuZ3RoICsgbGFzdFBhcmVuSW5kZXg7XG4gICAgICAgIGNhcFsyXSA9IGNhcFsyXS5zdWJzdHJpbmcoMCwgbGFzdFBhcmVuSW5kZXgpO1xuICAgICAgICBjYXBbMF0gPSBjYXBbMF0uc3Vic3RyaW5nKDAsIGxpbmtMZW4pLnRyaW0oKTtcbiAgICAgICAgY2FwWzNdID0gJyc7XG4gICAgICB9XG4gICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKGNhcFswXS5sZW5ndGgpO1xuICAgICAgdGhpcy5pbkxpbmsgPSB0cnVlO1xuICAgICAgaHJlZiA9IGNhcFsyXTtcbiAgICAgIGlmICh0aGlzLm9wdGlvbnMucGVkYW50aWMpIHtcbiAgICAgICAgbGluayA9IC9eKFteJ1wiXSpbXlxcc10pXFxzKyhbJ1wiXSkoLiopXFwyLy5leGVjKGhyZWYpO1xuXG4gICAgICAgIGlmIChsaW5rKSB7XG4gICAgICAgICAgaHJlZiA9IGxpbmtbMV07XG4gICAgICAgICAgdGl0bGUgPSBsaW5rWzNdO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRpdGxlID0gJyc7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRpdGxlID0gY2FwWzNdID8gY2FwWzNdLnNsaWNlKDEsIC0xKSA6ICcnO1xuICAgICAgfVxuICAgICAgaHJlZiA9IGhyZWYudHJpbSgpLnJlcGxhY2UoL148KFtcXHNcXFNdKik+JC8sICckMScpO1xuICAgICAgb3V0ICs9IHRoaXMub3V0cHV0TGluayhjYXAsIHtcbiAgICAgICAgaHJlZjogSW5saW5lTGV4ZXIuZXNjYXBlcyhocmVmKSxcbiAgICAgICAgdGl0bGU6IElubGluZUxleGVyLmVzY2FwZXModGl0bGUpXG4gICAgICB9KTtcbiAgICAgIHRoaXMuaW5MaW5rID0gZmFsc2U7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICAvLyByZWZsaW5rLCBub2xpbmtcbiAgICBpZiAoKGNhcCA9IHRoaXMucnVsZXMucmVmbGluay5leGVjKHNyYykpXG4gICAgICAgIHx8IChjYXAgPSB0aGlzLnJ1bGVzLm5vbGluay5leGVjKHNyYykpKSB7XG4gICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKGNhcFswXS5sZW5ndGgpO1xuICAgICAgbGluayA9IChjYXBbMl0gfHwgY2FwWzFdKS5yZXBsYWNlKC9cXHMrL2csICcgJyk7XG4gICAgICBsaW5rID0gdGhpcy5saW5rc1tsaW5rLnRvTG93ZXJDYXNlKCldO1xuICAgICAgaWYgKCFsaW5rIHx8ICFsaW5rLmhyZWYpIHtcbiAgICAgICAgb3V0ICs9IGNhcFswXS5jaGFyQXQoMCk7XG4gICAgICAgIHNyYyA9IGNhcFswXS5zdWJzdHJpbmcoMSkgKyBzcmM7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgdGhpcy5pbkxpbmsgPSB0cnVlO1xuICAgICAgb3V0ICs9IHRoaXMub3V0cHV0TGluayhjYXAsIGxpbmspO1xuICAgICAgdGhpcy5pbkxpbmsgPSBmYWxzZTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIC8vIHN0cm9uZ1xuICAgIGlmIChjYXAgPSB0aGlzLnJ1bGVzLnN0cm9uZy5leGVjKHNyYykpIHtcbiAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcoY2FwWzBdLmxlbmd0aCk7XG4gICAgICBvdXQgKz0gdGhpcy5yZW5kZXJlci5zdHJvbmcodGhpcy5vdXRwdXQoY2FwWzRdIHx8IGNhcFszXSB8fCBjYXBbMl0gfHwgY2FwWzFdKSk7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICAvLyBlbVxuICAgIGlmIChjYXAgPSB0aGlzLnJ1bGVzLmVtLmV4ZWMoc3JjKSkge1xuICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyhjYXBbMF0ubGVuZ3RoKTtcbiAgICAgIG91dCArPSB0aGlzLnJlbmRlcmVyLmVtKHRoaXMub3V0cHV0KGNhcFs2XSB8fCBjYXBbNV0gfHwgY2FwWzRdIHx8IGNhcFszXSB8fCBjYXBbMl0gfHwgY2FwWzFdKSk7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICAvLyBjb2RlXG4gICAgaWYgKGNhcCA9IHRoaXMucnVsZXMuY29kZS5leGVjKHNyYykpIHtcbiAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcoY2FwWzBdLmxlbmd0aCk7XG4gICAgICBvdXQgKz0gdGhpcy5yZW5kZXJlci5jb2Rlc3Bhbihlc2NhcGUoY2FwWzJdLnRyaW0oKSwgdHJ1ZSkpO1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgLy8gYnJcbiAgICBpZiAoY2FwID0gdGhpcy5ydWxlcy5ici5leGVjKHNyYykpIHtcbiAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcoY2FwWzBdLmxlbmd0aCk7XG4gICAgICBvdXQgKz0gdGhpcy5yZW5kZXJlci5icigpO1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgLy8gZGVsIChnZm0pXG4gICAgaWYgKGNhcCA9IHRoaXMucnVsZXMuZGVsLmV4ZWMoc3JjKSkge1xuICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyhjYXBbMF0ubGVuZ3RoKTtcbiAgICAgIG91dCArPSB0aGlzLnJlbmRlcmVyLmRlbCh0aGlzLm91dHB1dChjYXBbMV0pKTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIC8vIGF1dG9saW5rXG4gICAgaWYgKGNhcCA9IHRoaXMucnVsZXMuYXV0b2xpbmsuZXhlYyhzcmMpKSB7XG4gICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKGNhcFswXS5sZW5ndGgpO1xuICAgICAgaWYgKGNhcFsyXSA9PT0gJ0AnKSB7XG4gICAgICAgIHRleHQgPSBlc2NhcGUodGhpcy5tYW5nbGUoY2FwWzFdKSk7XG4gICAgICAgIGhyZWYgPSAnbWFpbHRvOicgKyB0ZXh0O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGV4dCA9IGVzY2FwZShjYXBbMV0pO1xuICAgICAgICBocmVmID0gdGV4dDtcbiAgICAgIH1cbiAgICAgIG91dCArPSB0aGlzLnJlbmRlcmVyLmxpbmsoaHJlZiwgbnVsbCwgdGV4dCk7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICAvLyB1cmwgKGdmbSlcbiAgICBpZiAoIXRoaXMuaW5MaW5rICYmIChjYXAgPSB0aGlzLnJ1bGVzLnVybC5leGVjKHNyYykpKSB7XG4gICAgICBpZiAoY2FwWzJdID09PSAnQCcpIHtcbiAgICAgICAgdGV4dCA9IGVzY2FwZShjYXBbMF0pO1xuICAgICAgICBocmVmID0gJ21haWx0bzonICsgdGV4dDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIGRvIGV4dGVuZGVkIGF1dG9saW5rIHBhdGggdmFsaWRhdGlvblxuICAgICAgICBkbyB7XG4gICAgICAgICAgcHJldkNhcFplcm8gPSBjYXBbMF07XG4gICAgICAgICAgY2FwWzBdID0gdGhpcy5ydWxlcy5fYmFja3BlZGFsLmV4ZWMoY2FwWzBdKVswXTtcbiAgICAgICAgfSB3aGlsZSAocHJldkNhcFplcm8gIT09IGNhcFswXSk7XG4gICAgICAgIHRleHQgPSBlc2NhcGUoY2FwWzBdKTtcbiAgICAgICAgaWYgKGNhcFsxXSA9PT0gJ3d3dy4nKSB7XG4gICAgICAgICAgaHJlZiA9ICdodHRwOi8vJyArIHRleHQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaHJlZiA9IHRleHQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcoY2FwWzBdLmxlbmd0aCk7XG4gICAgICBvdXQgKz0gdGhpcy5yZW5kZXJlci5saW5rKGhyZWYsIG51bGwsIHRleHQpO1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgLy8gdGV4dFxuICAgIGlmIChjYXAgPSB0aGlzLnJ1bGVzLnRleHQuZXhlYyhzcmMpKSB7XG4gICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKGNhcFswXS5sZW5ndGgpO1xuICAgICAgaWYgKHRoaXMuaW5SYXdCbG9jaykge1xuICAgICAgICBvdXQgKz0gdGhpcy5yZW5kZXJlci50ZXh0KHRoaXMub3B0aW9ucy5zYW5pdGl6ZSA/ICh0aGlzLm9wdGlvbnMuc2FuaXRpemVyID8gdGhpcy5vcHRpb25zLnNhbml0aXplcihjYXBbMF0pIDogZXNjYXBlKGNhcFswXSkpIDogY2FwWzBdKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG91dCArPSB0aGlzLnJlbmRlcmVyLnRleHQoZXNjYXBlKHRoaXMuc21hcnR5cGFudHMoY2FwWzBdKSkpO1xuICAgICAgfVxuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgaWYgKHNyYykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbmZpbml0ZSBsb29wIG9uIGJ5dGU6ICcgKyBzcmMuY2hhckNvZGVBdCgwKSk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG91dDtcbn07XG5cbklubGluZUxleGVyLmVzY2FwZXMgPSBmdW5jdGlvbih0ZXh0KSB7XG4gIHJldHVybiB0ZXh0ID8gdGV4dC5yZXBsYWNlKElubGluZUxleGVyLnJ1bGVzLl9lc2NhcGVzLCAnJDEnKSA6IHRleHQ7XG59O1xuXG4vKipcbiAqIENvbXBpbGUgTGlua1xuICovXG5cbklubGluZUxleGVyLnByb3RvdHlwZS5vdXRwdXRMaW5rID0gZnVuY3Rpb24oY2FwLCBsaW5rKSB7XG4gIHZhciBocmVmID0gbGluay5ocmVmLFxuICAgICAgdGl0bGUgPSBsaW5rLnRpdGxlID8gZXNjYXBlKGxpbmsudGl0bGUpIDogbnVsbDtcblxuICByZXR1cm4gY2FwWzBdLmNoYXJBdCgwKSAhPT0gJyEnXG4gICAgPyB0aGlzLnJlbmRlcmVyLmxpbmsoaHJlZiwgdGl0bGUsIHRoaXMub3V0cHV0KGNhcFsxXSkpXG4gICAgOiB0aGlzLnJlbmRlcmVyLmltYWdlKGhyZWYsIHRpdGxlLCBlc2NhcGUoY2FwWzFdKSk7XG59O1xuXG4vKipcbiAqIFNtYXJ0eXBhbnRzIFRyYW5zZm9ybWF0aW9uc1xuICovXG5cbklubGluZUxleGVyLnByb3RvdHlwZS5zbWFydHlwYW50cyA9IGZ1bmN0aW9uKHRleHQpIHtcbiAgaWYgKCF0aGlzLm9wdGlvbnMuc21hcnR5cGFudHMpIHJldHVybiB0ZXh0O1xuICByZXR1cm4gdGV4dFxuICAgIC8vIGVtLWRhc2hlc1xuICAgIC5yZXBsYWNlKC8tLS0vZywgJ1xcdTIwMTQnKVxuICAgIC8vIGVuLWRhc2hlc1xuICAgIC5yZXBsYWNlKC8tLS9nLCAnXFx1MjAxMycpXG4gICAgLy8gb3BlbmluZyBzaW5nbGVzXG4gICAgLnJlcGxhY2UoLyhefFstXFx1MjAxNC8oXFxbe1wiXFxzXSknL2csICckMVxcdTIwMTgnKVxuICAgIC8vIGNsb3Npbmcgc2luZ2xlcyAmIGFwb3N0cm9waGVzXG4gICAgLnJlcGxhY2UoLycvZywgJ1xcdTIwMTknKVxuICAgIC8vIG9wZW5pbmcgZG91Ymxlc1xuICAgIC5yZXBsYWNlKC8oXnxbLVxcdTIwMTQvKFxcW3tcXHUyMDE4XFxzXSlcIi9nLCAnJDFcXHUyMDFjJylcbiAgICAvLyBjbG9zaW5nIGRvdWJsZXNcbiAgICAucmVwbGFjZSgvXCIvZywgJ1xcdTIwMWQnKVxuICAgIC8vIGVsbGlwc2VzXG4gICAgLnJlcGxhY2UoL1xcLnszfS9nLCAnXFx1MjAyNicpO1xufTtcblxuLyoqXG4gKiBNYW5nbGUgTGlua3NcbiAqL1xuXG5JbmxpbmVMZXhlci5wcm90b3R5cGUubWFuZ2xlID0gZnVuY3Rpb24odGV4dCkge1xuICBpZiAoIXRoaXMub3B0aW9ucy5tYW5nbGUpIHJldHVybiB0ZXh0O1xuICB2YXIgb3V0ID0gJycsXG4gICAgICBsID0gdGV4dC5sZW5ndGgsXG4gICAgICBpID0gMCxcbiAgICAgIGNoO1xuXG4gIGZvciAoOyBpIDwgbDsgaSsrKSB7XG4gICAgY2ggPSB0ZXh0LmNoYXJDb2RlQXQoaSk7XG4gICAgaWYgKE1hdGgucmFuZG9tKCkgPiAwLjUpIHtcbiAgICAgIGNoID0gJ3gnICsgY2gudG9TdHJpbmcoMTYpO1xuICAgIH1cbiAgICBvdXQgKz0gJyYjJyArIGNoICsgJzsnO1xuICB9XG5cbiAgcmV0dXJuIG91dDtcbn07XG5cbi8qKlxuICogUmVuZGVyZXJcbiAqL1xuXG5mdW5jdGlvbiBSZW5kZXJlcihvcHRpb25zKSB7XG4gIHRoaXMub3B0aW9ucyA9IG9wdGlvbnMgfHwgbWFya2VkLmRlZmF1bHRzO1xufVxuXG5SZW5kZXJlci5wcm90b3R5cGUuY29kZSA9IGZ1bmN0aW9uKGNvZGUsIGluZm9zdHJpbmcsIGVzY2FwZWQpIHtcbiAgdmFyIGxhbmcgPSAoaW5mb3N0cmluZyB8fCAnJykubWF0Y2goL1xcUyovKVswXTtcbiAgaWYgKHRoaXMub3B0aW9ucy5oaWdobGlnaHQpIHtcbiAgICB2YXIgb3V0ID0gdGhpcy5vcHRpb25zLmhpZ2hsaWdodChjb2RlLCBsYW5nKTtcbiAgICBpZiAob3V0ICE9IG51bGwgJiYgb3V0ICE9PSBjb2RlKSB7XG4gICAgICBlc2NhcGVkID0gdHJ1ZTtcbiAgICAgIGNvZGUgPSBvdXQ7XG4gICAgfVxuICB9XG5cbiAgaWYgKCFsYW5nKSB7XG4gICAgcmV0dXJuICc8cHJlPjxjb2RlPidcbiAgICAgICsgKGVzY2FwZWQgPyBjb2RlIDogZXNjYXBlKGNvZGUsIHRydWUpKVxuICAgICAgKyAnPC9jb2RlPjwvcHJlPic7XG4gIH1cblxuICByZXR1cm4gJzxwcmU+PGNvZGUgY2xhc3M9XCInXG4gICAgKyB0aGlzLm9wdGlvbnMubGFuZ1ByZWZpeFxuICAgICsgZXNjYXBlKGxhbmcsIHRydWUpXG4gICAgKyAnXCI+J1xuICAgICsgKGVzY2FwZWQgPyBjb2RlIDogZXNjYXBlKGNvZGUsIHRydWUpKVxuICAgICsgJzwvY29kZT48L3ByZT5cXG4nO1xufTtcblxuUmVuZGVyZXIucHJvdG90eXBlLmJsb2NrcXVvdGUgPSBmdW5jdGlvbihxdW90ZSkge1xuICByZXR1cm4gJzxibG9ja3F1b3RlPlxcbicgKyBxdW90ZSArICc8L2Jsb2NrcXVvdGU+XFxuJztcbn07XG5cblJlbmRlcmVyLnByb3RvdHlwZS5odG1sID0gZnVuY3Rpb24oaHRtbCkge1xuICByZXR1cm4gaHRtbDtcbn07XG5cblJlbmRlcmVyLnByb3RvdHlwZS5oZWFkaW5nID0gZnVuY3Rpb24odGV4dCwgbGV2ZWwsIHJhdywgc2x1Z2dlcikge1xuICBpZiAodGhpcy5vcHRpb25zLmhlYWRlcklkcykge1xuICAgIHJldHVybiAnPGgnXG4gICAgICArIGxldmVsXG4gICAgICArICcgaWQ9XCInXG4gICAgICArIHRoaXMub3B0aW9ucy5oZWFkZXJQcmVmaXhcbiAgICAgICsgc2x1Z2dlci5zbHVnKHJhdylcbiAgICAgICsgJ1wiPidcbiAgICAgICsgdGV4dFxuICAgICAgKyAnPC9oJ1xuICAgICAgKyBsZXZlbFxuICAgICAgKyAnPlxcbic7XG4gIH1cbiAgLy8gaWdub3JlIElEc1xuICByZXR1cm4gJzxoJyArIGxldmVsICsgJz4nICsgdGV4dCArICc8L2gnICsgbGV2ZWwgKyAnPlxcbic7XG59O1xuXG5SZW5kZXJlci5wcm90b3R5cGUuaHIgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMub3B0aW9ucy54aHRtbCA/ICc8aHIvPlxcbicgOiAnPGhyPlxcbic7XG59O1xuXG5SZW5kZXJlci5wcm90b3R5cGUubGlzdCA9IGZ1bmN0aW9uKGJvZHksIG9yZGVyZWQsIHN0YXJ0KSB7XG4gIHZhciB0eXBlID0gb3JkZXJlZCA/ICdvbCcgOiAndWwnLFxuICAgICAgc3RhcnRhdHQgPSAob3JkZXJlZCAmJiBzdGFydCAhPT0gMSkgPyAoJyBzdGFydD1cIicgKyBzdGFydCArICdcIicpIDogJyc7XG4gIHJldHVybiAnPCcgKyB0eXBlICsgc3RhcnRhdHQgKyAnPlxcbicgKyBib2R5ICsgJzwvJyArIHR5cGUgKyAnPlxcbic7XG59O1xuXG5SZW5kZXJlci5wcm90b3R5cGUubGlzdGl0ZW0gPSBmdW5jdGlvbih0ZXh0KSB7XG4gIHJldHVybiAnPGxpPicgKyB0ZXh0ICsgJzwvbGk+XFxuJztcbn07XG5cblJlbmRlcmVyLnByb3RvdHlwZS5jaGVja2JveCA9IGZ1bmN0aW9uKGNoZWNrZWQpIHtcbiAgcmV0dXJuICc8aW5wdXQgJ1xuICAgICsgKGNoZWNrZWQgPyAnY2hlY2tlZD1cIlwiICcgOiAnJylcbiAgICArICdkaXNhYmxlZD1cIlwiIHR5cGU9XCJjaGVja2JveFwiJ1xuICAgICsgKHRoaXMub3B0aW9ucy54aHRtbCA/ICcgLycgOiAnJylcbiAgICArICc+ICc7XG59O1xuXG5SZW5kZXJlci5wcm90b3R5cGUucGFyYWdyYXBoID0gZnVuY3Rpb24odGV4dCkge1xuICByZXR1cm4gJzxwPicgKyB0ZXh0ICsgJzwvcD5cXG4nO1xufTtcblxuUmVuZGVyZXIucHJvdG90eXBlLnRhYmxlID0gZnVuY3Rpb24oaGVhZGVyLCBib2R5KSB7XG4gIGlmIChib2R5KSBib2R5ID0gJzx0Ym9keT4nICsgYm9keSArICc8L3Rib2R5Pic7XG5cbiAgcmV0dXJuICc8dGFibGU+XFxuJ1xuICAgICsgJzx0aGVhZD5cXG4nXG4gICAgKyBoZWFkZXJcbiAgICArICc8L3RoZWFkPlxcbidcbiAgICArIGJvZHlcbiAgICArICc8L3RhYmxlPlxcbic7XG59O1xuXG5SZW5kZXJlci5wcm90b3R5cGUudGFibGVyb3cgPSBmdW5jdGlvbihjb250ZW50KSB7XG4gIHJldHVybiAnPHRyPlxcbicgKyBjb250ZW50ICsgJzwvdHI+XFxuJztcbn07XG5cblJlbmRlcmVyLnByb3RvdHlwZS50YWJsZWNlbGwgPSBmdW5jdGlvbihjb250ZW50LCBmbGFncykge1xuICB2YXIgdHlwZSA9IGZsYWdzLmhlYWRlciA/ICd0aCcgOiAndGQnO1xuICB2YXIgdGFnID0gZmxhZ3MuYWxpZ25cbiAgICA/ICc8JyArIHR5cGUgKyAnIGFsaWduPVwiJyArIGZsYWdzLmFsaWduICsgJ1wiPidcbiAgICA6ICc8JyArIHR5cGUgKyAnPic7XG4gIHJldHVybiB0YWcgKyBjb250ZW50ICsgJzwvJyArIHR5cGUgKyAnPlxcbic7XG59O1xuXG4vLyBzcGFuIGxldmVsIHJlbmRlcmVyXG5SZW5kZXJlci5wcm90b3R5cGUuc3Ryb25nID0gZnVuY3Rpb24odGV4dCkge1xuICByZXR1cm4gJzxzdHJvbmc+JyArIHRleHQgKyAnPC9zdHJvbmc+Jztcbn07XG5cblJlbmRlcmVyLnByb3RvdHlwZS5lbSA9IGZ1bmN0aW9uKHRleHQpIHtcbiAgcmV0dXJuICc8ZW0+JyArIHRleHQgKyAnPC9lbT4nO1xufTtcblxuUmVuZGVyZXIucHJvdG90eXBlLmNvZGVzcGFuID0gZnVuY3Rpb24odGV4dCkge1xuICByZXR1cm4gJzxjb2RlPicgKyB0ZXh0ICsgJzwvY29kZT4nO1xufTtcblxuUmVuZGVyZXIucHJvdG90eXBlLmJyID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLm9wdGlvbnMueGh0bWwgPyAnPGJyLz4nIDogJzxicj4nO1xufTtcblxuUmVuZGVyZXIucHJvdG90eXBlLmRlbCA9IGZ1bmN0aW9uKHRleHQpIHtcbiAgcmV0dXJuICc8ZGVsPicgKyB0ZXh0ICsgJzwvZGVsPic7XG59O1xuXG5SZW5kZXJlci5wcm90b3R5cGUubGluayA9IGZ1bmN0aW9uKGhyZWYsIHRpdGxlLCB0ZXh0KSB7XG4gIGhyZWYgPSBjbGVhblVybCh0aGlzLm9wdGlvbnMuc2FuaXRpemUsIHRoaXMub3B0aW9ucy5iYXNlVXJsLCBocmVmKTtcbiAgaWYgKGhyZWYgPT09IG51bGwpIHtcbiAgICByZXR1cm4gdGV4dDtcbiAgfVxuICB2YXIgb3V0ID0gJzxhIGhyZWY9XCInICsgZXNjYXBlKGhyZWYpICsgJ1wiJztcbiAgaWYgKHRpdGxlKSB7XG4gICAgb3V0ICs9ICcgdGl0bGU9XCInICsgdGl0bGUgKyAnXCInO1xuICB9XG4gIG91dCArPSAnPicgKyB0ZXh0ICsgJzwvYT4nO1xuICByZXR1cm4gb3V0O1xufTtcblxuUmVuZGVyZXIucHJvdG90eXBlLmltYWdlID0gZnVuY3Rpb24oaHJlZiwgdGl0bGUsIHRleHQpIHtcbiAgaHJlZiA9IGNsZWFuVXJsKHRoaXMub3B0aW9ucy5zYW5pdGl6ZSwgdGhpcy5vcHRpb25zLmJhc2VVcmwsIGhyZWYpO1xuICBpZiAoaHJlZiA9PT0gbnVsbCkge1xuICAgIHJldHVybiB0ZXh0O1xuICB9XG5cbiAgdmFyIG91dCA9ICc8aW1nIHNyYz1cIicgKyBocmVmICsgJ1wiIGFsdD1cIicgKyB0ZXh0ICsgJ1wiJztcbiAgaWYgKHRpdGxlKSB7XG4gICAgb3V0ICs9ICcgdGl0bGU9XCInICsgdGl0bGUgKyAnXCInO1xuICB9XG4gIG91dCArPSB0aGlzLm9wdGlvbnMueGh0bWwgPyAnLz4nIDogJz4nO1xuICByZXR1cm4gb3V0O1xufTtcblxuUmVuZGVyZXIucHJvdG90eXBlLnRleHQgPSBmdW5jdGlvbih0ZXh0KSB7XG4gIHJldHVybiB0ZXh0O1xufTtcblxuLyoqXG4gKiBUZXh0UmVuZGVyZXJcbiAqIHJldHVybnMgb25seSB0aGUgdGV4dHVhbCBwYXJ0IG9mIHRoZSB0b2tlblxuICovXG5cbmZ1bmN0aW9uIFRleHRSZW5kZXJlcigpIHt9XG5cbi8vIG5vIG5lZWQgZm9yIGJsb2NrIGxldmVsIHJlbmRlcmVyc1xuXG5UZXh0UmVuZGVyZXIucHJvdG90eXBlLnN0cm9uZyA9XG5UZXh0UmVuZGVyZXIucHJvdG90eXBlLmVtID1cblRleHRSZW5kZXJlci5wcm90b3R5cGUuY29kZXNwYW4gPVxuVGV4dFJlbmRlcmVyLnByb3RvdHlwZS5kZWwgPVxuVGV4dFJlbmRlcmVyLnByb3RvdHlwZS50ZXh0ID0gZnVuY3Rpb24odGV4dCkge1xuICByZXR1cm4gdGV4dDtcbn07XG5cblRleHRSZW5kZXJlci5wcm90b3R5cGUubGluayA9XG5UZXh0UmVuZGVyZXIucHJvdG90eXBlLmltYWdlID0gZnVuY3Rpb24oaHJlZiwgdGl0bGUsIHRleHQpIHtcbiAgcmV0dXJuICcnICsgdGV4dDtcbn07XG5cblRleHRSZW5kZXJlci5wcm90b3R5cGUuYnIgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuICcnO1xufTtcblxuLyoqXG4gKiBQYXJzaW5nICYgQ29tcGlsaW5nXG4gKi9cblxuZnVuY3Rpb24gUGFyc2VyKG9wdGlvbnMpIHtcbiAgdGhpcy50b2tlbnMgPSBbXTtcbiAgdGhpcy50b2tlbiA9IG51bGw7XG4gIHRoaXMub3B0aW9ucyA9IG9wdGlvbnMgfHwgbWFya2VkLmRlZmF1bHRzO1xuICB0aGlzLm9wdGlvbnMucmVuZGVyZXIgPSB0aGlzLm9wdGlvbnMucmVuZGVyZXIgfHwgbmV3IFJlbmRlcmVyKCk7XG4gIHRoaXMucmVuZGVyZXIgPSB0aGlzLm9wdGlvbnMucmVuZGVyZXI7XG4gIHRoaXMucmVuZGVyZXIub3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgdGhpcy5zbHVnZ2VyID0gbmV3IFNsdWdnZXIoKTtcbn1cblxuLyoqXG4gKiBTdGF0aWMgUGFyc2UgTWV0aG9kXG4gKi9cblxuUGFyc2VyLnBhcnNlID0gZnVuY3Rpb24oc3JjLCBvcHRpb25zKSB7XG4gIHZhciBwYXJzZXIgPSBuZXcgUGFyc2VyKG9wdGlvbnMpO1xuICByZXR1cm4gcGFyc2VyLnBhcnNlKHNyYyk7XG59O1xuXG4vKipcbiAqIFBhcnNlIExvb3BcbiAqL1xuXG5QYXJzZXIucHJvdG90eXBlLnBhcnNlID0gZnVuY3Rpb24oc3JjKSB7XG4gIHRoaXMuaW5saW5lID0gbmV3IElubGluZUxleGVyKHNyYy5saW5rcywgdGhpcy5vcHRpb25zKTtcbiAgLy8gdXNlIGFuIElubGluZUxleGVyIHdpdGggYSBUZXh0UmVuZGVyZXIgdG8gZXh0cmFjdCBwdXJlIHRleHRcbiAgdGhpcy5pbmxpbmVUZXh0ID0gbmV3IElubGluZUxleGVyKFxuICAgIHNyYy5saW5rcyxcbiAgICBtZXJnZSh7fSwgdGhpcy5vcHRpb25zLCB7IHJlbmRlcmVyOiBuZXcgVGV4dFJlbmRlcmVyKCkgfSlcbiAgKTtcbiAgdGhpcy50b2tlbnMgPSBzcmMucmV2ZXJzZSgpO1xuXG4gIHZhciBvdXQgPSAnJztcbiAgd2hpbGUgKHRoaXMubmV4dCgpKSB7XG4gICAgb3V0ICs9IHRoaXMudG9rKCk7XG4gIH1cblxuICByZXR1cm4gb3V0O1xufTtcblxuLyoqXG4gKiBOZXh0IFRva2VuXG4gKi9cblxuUGFyc2VyLnByb3RvdHlwZS5uZXh0ID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMudG9rZW4gPSB0aGlzLnRva2Vucy5wb3AoKTtcbiAgcmV0dXJuIHRoaXMudG9rZW47XG59O1xuXG4vKipcbiAqIFByZXZpZXcgTmV4dCBUb2tlblxuICovXG5cblBhcnNlci5wcm90b3R5cGUucGVlayA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy50b2tlbnNbdGhpcy50b2tlbnMubGVuZ3RoIC0gMV0gfHwgMDtcbn07XG5cbi8qKlxuICogUGFyc2UgVGV4dCBUb2tlbnNcbiAqL1xuXG5QYXJzZXIucHJvdG90eXBlLnBhcnNlVGV4dCA9IGZ1bmN0aW9uKCkge1xuICB2YXIgYm9keSA9IHRoaXMudG9rZW4udGV4dDtcblxuICB3aGlsZSAodGhpcy5wZWVrKCkudHlwZSA9PT0gJ3RleHQnKSB7XG4gICAgYm9keSArPSAnXFxuJyArIHRoaXMubmV4dCgpLnRleHQ7XG4gIH1cblxuICByZXR1cm4gdGhpcy5pbmxpbmUub3V0cHV0KGJvZHkpO1xufTtcblxuLyoqXG4gKiBQYXJzZSBDdXJyZW50IFRva2VuXG4gKi9cblxuUGFyc2VyLnByb3RvdHlwZS50b2sgPSBmdW5jdGlvbigpIHtcbiAgc3dpdGNoICh0aGlzLnRva2VuLnR5cGUpIHtcbiAgICBjYXNlICdzcGFjZSc6IHtcbiAgICAgIHJldHVybiAnJztcbiAgICB9XG4gICAgY2FzZSAnaHInOiB7XG4gICAgICByZXR1cm4gdGhpcy5yZW5kZXJlci5ocigpO1xuICAgIH1cbiAgICBjYXNlICdoZWFkaW5nJzoge1xuICAgICAgcmV0dXJuIHRoaXMucmVuZGVyZXIuaGVhZGluZyhcbiAgICAgICAgdGhpcy5pbmxpbmUub3V0cHV0KHRoaXMudG9rZW4udGV4dCksXG4gICAgICAgIHRoaXMudG9rZW4uZGVwdGgsXG4gICAgICAgIHVuZXNjYXBlKHRoaXMuaW5saW5lVGV4dC5vdXRwdXQodGhpcy50b2tlbi50ZXh0KSksXG4gICAgICAgIHRoaXMuc2x1Z2dlcik7XG4gICAgfVxuICAgIGNhc2UgJ2NvZGUnOiB7XG4gICAgICByZXR1cm4gdGhpcy5yZW5kZXJlci5jb2RlKHRoaXMudG9rZW4udGV4dCxcbiAgICAgICAgdGhpcy50b2tlbi5sYW5nLFxuICAgICAgICB0aGlzLnRva2VuLmVzY2FwZWQpO1xuICAgIH1cbiAgICBjYXNlICd0YWJsZSc6IHtcbiAgICAgIHZhciBoZWFkZXIgPSAnJyxcbiAgICAgICAgICBib2R5ID0gJycsXG4gICAgICAgICAgaSxcbiAgICAgICAgICByb3csXG4gICAgICAgICAgY2VsbCxcbiAgICAgICAgICBqO1xuXG4gICAgICAvLyBoZWFkZXJcbiAgICAgIGNlbGwgPSAnJztcbiAgICAgIGZvciAoaSA9IDA7IGkgPCB0aGlzLnRva2VuLmhlYWRlci5sZW5ndGg7IGkrKykge1xuICAgICAgICBjZWxsICs9IHRoaXMucmVuZGVyZXIudGFibGVjZWxsKFxuICAgICAgICAgIHRoaXMuaW5saW5lLm91dHB1dCh0aGlzLnRva2VuLmhlYWRlcltpXSksXG4gICAgICAgICAgeyBoZWFkZXI6IHRydWUsIGFsaWduOiB0aGlzLnRva2VuLmFsaWduW2ldIH1cbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIGhlYWRlciArPSB0aGlzLnJlbmRlcmVyLnRhYmxlcm93KGNlbGwpO1xuXG4gICAgICBmb3IgKGkgPSAwOyBpIDwgdGhpcy50b2tlbi5jZWxscy5sZW5ndGg7IGkrKykge1xuICAgICAgICByb3cgPSB0aGlzLnRva2VuLmNlbGxzW2ldO1xuXG4gICAgICAgIGNlbGwgPSAnJztcbiAgICAgICAgZm9yIChqID0gMDsgaiA8IHJvdy5sZW5ndGg7IGorKykge1xuICAgICAgICAgIGNlbGwgKz0gdGhpcy5yZW5kZXJlci50YWJsZWNlbGwoXG4gICAgICAgICAgICB0aGlzLmlubGluZS5vdXRwdXQocm93W2pdKSxcbiAgICAgICAgICAgIHsgaGVhZGVyOiBmYWxzZSwgYWxpZ246IHRoaXMudG9rZW4uYWxpZ25bal0gfVxuICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICBib2R5ICs9IHRoaXMucmVuZGVyZXIudGFibGVyb3coY2VsbCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy5yZW5kZXJlci50YWJsZShoZWFkZXIsIGJvZHkpO1xuICAgIH1cbiAgICBjYXNlICdibG9ja3F1b3RlX3N0YXJ0Jzoge1xuICAgICAgYm9keSA9ICcnO1xuXG4gICAgICB3aGlsZSAodGhpcy5uZXh0KCkudHlwZSAhPT0gJ2Jsb2NrcXVvdGVfZW5kJykge1xuICAgICAgICBib2R5ICs9IHRoaXMudG9rKCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzLnJlbmRlcmVyLmJsb2NrcXVvdGUoYm9keSk7XG4gICAgfVxuICAgIGNhc2UgJ2xpc3Rfc3RhcnQnOiB7XG4gICAgICBib2R5ID0gJyc7XG4gICAgICB2YXIgb3JkZXJlZCA9IHRoaXMudG9rZW4ub3JkZXJlZCxcbiAgICAgICAgICBzdGFydCA9IHRoaXMudG9rZW4uc3RhcnQ7XG5cbiAgICAgIHdoaWxlICh0aGlzLm5leHQoKS50eXBlICE9PSAnbGlzdF9lbmQnKSB7XG4gICAgICAgIGJvZHkgKz0gdGhpcy50b2soKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMucmVuZGVyZXIubGlzdChib2R5LCBvcmRlcmVkLCBzdGFydCk7XG4gICAgfVxuICAgIGNhc2UgJ2xpc3RfaXRlbV9zdGFydCc6IHtcbiAgICAgIGJvZHkgPSAnJztcbiAgICAgIHZhciBsb29zZSA9IHRoaXMudG9rZW4ubG9vc2U7XG4gICAgICB2YXIgY2hlY2tlZCA9IHRoaXMudG9rZW4uY2hlY2tlZDtcbiAgICAgIHZhciB0YXNrID0gdGhpcy50b2tlbi50YXNrO1xuXG4gICAgICBpZiAodGhpcy50b2tlbi50YXNrKSB7XG4gICAgICAgIGJvZHkgKz0gdGhpcy5yZW5kZXJlci5jaGVja2JveChjaGVja2VkKTtcbiAgICAgIH1cblxuICAgICAgd2hpbGUgKHRoaXMubmV4dCgpLnR5cGUgIT09ICdsaXN0X2l0ZW1fZW5kJykge1xuICAgICAgICBib2R5ICs9ICFsb29zZSAmJiB0aGlzLnRva2VuLnR5cGUgPT09ICd0ZXh0J1xuICAgICAgICAgID8gdGhpcy5wYXJzZVRleHQoKVxuICAgICAgICAgIDogdGhpcy50b2soKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzLnJlbmRlcmVyLmxpc3RpdGVtKGJvZHksIHRhc2ssIGNoZWNrZWQpO1xuICAgIH1cbiAgICBjYXNlICdodG1sJzoge1xuICAgICAgLy8gVE9ETyBwYXJzZSBpbmxpbmUgY29udGVudCBpZiBwYXJhbWV0ZXIgbWFya2Rvd249MVxuICAgICAgcmV0dXJuIHRoaXMucmVuZGVyZXIuaHRtbCh0aGlzLnRva2VuLnRleHQpO1xuICAgIH1cbiAgICBjYXNlICdwYXJhZ3JhcGgnOiB7XG4gICAgICByZXR1cm4gdGhpcy5yZW5kZXJlci5wYXJhZ3JhcGgodGhpcy5pbmxpbmUub3V0cHV0KHRoaXMudG9rZW4udGV4dCkpO1xuICAgIH1cbiAgICBjYXNlICd0ZXh0Jzoge1xuICAgICAgcmV0dXJuIHRoaXMucmVuZGVyZXIucGFyYWdyYXBoKHRoaXMucGFyc2VUZXh0KCkpO1xuICAgIH1cbiAgICBkZWZhdWx0OiB7XG4gICAgICB2YXIgZXJyTXNnID0gJ1Rva2VuIHdpdGggXCInICsgdGhpcy50b2tlbi50eXBlICsgJ1wiIHR5cGUgd2FzIG5vdCBmb3VuZC4nO1xuICAgICAgaWYgKHRoaXMub3B0aW9ucy5zaWxlbnQpIHtcbiAgICAgICAgY29uc29sZS5sb2coZXJyTXNnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJNc2cpO1xuICAgICAgfVxuICAgIH1cbiAgfVxufTtcblxuLyoqXG4gKiBTbHVnZ2VyIGdlbmVyYXRlcyBoZWFkZXIgaWRcbiAqL1xuXG5mdW5jdGlvbiBTbHVnZ2VyKCkge1xuICB0aGlzLnNlZW4gPSB7fTtcbn1cblxuLyoqXG4gKiBDb252ZXJ0IHN0cmluZyB0byB1bmlxdWUgaWRcbiAqL1xuXG5TbHVnZ2VyLnByb3RvdHlwZS5zbHVnID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgdmFyIHNsdWcgPSB2YWx1ZVxuICAgIC50b0xvd2VyQ2FzZSgpXG4gICAgLnRyaW0oKVxuICAgIC5yZXBsYWNlKC9bXFx1MjAwMC1cXHUyMDZGXFx1MkUwMC1cXHUyRTdGXFxcXCchXCIjJCUmKCkqKywuLzo7PD0+P0BbXFxdXmB7fH1+XS9nLCAnJylcbiAgICAucmVwbGFjZSgvXFxzL2csICctJyk7XG5cbiAgaWYgKHRoaXMuc2Vlbi5oYXNPd25Qcm9wZXJ0eShzbHVnKSkge1xuICAgIHZhciBvcmlnaW5hbFNsdWcgPSBzbHVnO1xuICAgIGRvIHtcbiAgICAgIHRoaXMuc2VlbltvcmlnaW5hbFNsdWddKys7XG4gICAgICBzbHVnID0gb3JpZ2luYWxTbHVnICsgJy0nICsgdGhpcy5zZWVuW29yaWdpbmFsU2x1Z107XG4gICAgfSB3aGlsZSAodGhpcy5zZWVuLmhhc093blByb3BlcnR5KHNsdWcpKTtcbiAgfVxuICB0aGlzLnNlZW5bc2x1Z10gPSAwO1xuXG4gIHJldHVybiBzbHVnO1xufTtcblxuLyoqXG4gKiBIZWxwZXJzXG4gKi9cblxuZnVuY3Rpb24gZXNjYXBlKGh0bWwsIGVuY29kZSkge1xuICBpZiAoZW5jb2RlKSB7XG4gICAgaWYgKGVzY2FwZS5lc2NhcGVUZXN0LnRlc3QoaHRtbCkpIHtcbiAgICAgIHJldHVybiBodG1sLnJlcGxhY2UoZXNjYXBlLmVzY2FwZVJlcGxhY2UsIGZ1bmN0aW9uKGNoKSB7IHJldHVybiBlc2NhcGUucmVwbGFjZW1lbnRzW2NoXTsgfSk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGlmIChlc2NhcGUuZXNjYXBlVGVzdE5vRW5jb2RlLnRlc3QoaHRtbCkpIHtcbiAgICAgIHJldHVybiBodG1sLnJlcGxhY2UoZXNjYXBlLmVzY2FwZVJlcGxhY2VOb0VuY29kZSwgZnVuY3Rpb24oY2gpIHsgcmV0dXJuIGVzY2FwZS5yZXBsYWNlbWVudHNbY2hdOyB9KTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gaHRtbDtcbn1cblxuZXNjYXBlLmVzY2FwZVRlc3QgPSAvWyY8PlwiJ10vO1xuZXNjYXBlLmVzY2FwZVJlcGxhY2UgPSAvWyY8PlwiJ10vZztcbmVzY2FwZS5yZXBsYWNlbWVudHMgPSB7XG4gICcmJzogJyZhbXA7JyxcbiAgJzwnOiAnJmx0OycsXG4gICc+JzogJyZndDsnLFxuICAnXCInOiAnJnF1b3Q7JyxcbiAgXCInXCI6ICcmIzM5Oydcbn07XG5cbmVzY2FwZS5lc2NhcGVUZXN0Tm9FbmNvZGUgPSAvWzw+XCInXXwmKD8hIz9cXHcrOykvO1xuZXNjYXBlLmVzY2FwZVJlcGxhY2VOb0VuY29kZSA9IC9bPD5cIiddfCYoPyEjP1xcdys7KS9nO1xuXG5mdW5jdGlvbiB1bmVzY2FwZShodG1sKSB7XG4gIC8vIGV4cGxpY2l0bHkgbWF0Y2ggZGVjaW1hbCwgaGV4LCBhbmQgbmFtZWQgSFRNTCBlbnRpdGllc1xuICByZXR1cm4gaHRtbC5yZXBsYWNlKC8mKCMoPzpcXGQrKXwoPzojeFswLTlBLUZhLWZdKyl8KD86XFx3KykpOz8vaWcsIGZ1bmN0aW9uKF8sIG4pIHtcbiAgICBuID0gbi50b0xvd2VyQ2FzZSgpO1xuICAgIGlmIChuID09PSAnY29sb24nKSByZXR1cm4gJzonO1xuICAgIGlmIChuLmNoYXJBdCgwKSA9PT0gJyMnKSB7XG4gICAgICByZXR1cm4gbi5jaGFyQXQoMSkgPT09ICd4J1xuICAgICAgICA/IFN0cmluZy5mcm9tQ2hhckNvZGUocGFyc2VJbnQobi5zdWJzdHJpbmcoMiksIDE2KSlcbiAgICAgICAgOiBTdHJpbmcuZnJvbUNoYXJDb2RlKCtuLnN1YnN0cmluZygxKSk7XG4gICAgfVxuICAgIHJldHVybiAnJztcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGVkaXQocmVnZXgsIG9wdCkge1xuICByZWdleCA9IHJlZ2V4LnNvdXJjZSB8fCByZWdleDtcbiAgb3B0ID0gb3B0IHx8ICcnO1xuICByZXR1cm4ge1xuICAgIHJlcGxhY2U6IGZ1bmN0aW9uKG5hbWUsIHZhbCkge1xuICAgICAgdmFsID0gdmFsLnNvdXJjZSB8fCB2YWw7XG4gICAgICB2YWwgPSB2YWwucmVwbGFjZSgvKF58W15cXFtdKVxcXi9nLCAnJDEnKTtcbiAgICAgIHJlZ2V4ID0gcmVnZXgucmVwbGFjZShuYW1lLCB2YWwpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcbiAgICBnZXRSZWdleDogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gbmV3IFJlZ0V4cChyZWdleCwgb3B0KTtcbiAgICB9XG4gIH07XG59XG5cbmZ1bmN0aW9uIGNsZWFuVXJsKHNhbml0aXplLCBiYXNlLCBocmVmKSB7XG4gIGlmIChzYW5pdGl6ZSkge1xuICAgIHRyeSB7XG4gICAgICB2YXIgcHJvdCA9IGRlY29kZVVSSUNvbXBvbmVudCh1bmVzY2FwZShocmVmKSlcbiAgICAgICAgLnJlcGxhY2UoL1teXFx3Ol0vZywgJycpXG4gICAgICAgIC50b0xvd2VyQ2FzZSgpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBpZiAocHJvdC5pbmRleE9mKCdqYXZhc2NyaXB0OicpID09PSAwIHx8IHByb3QuaW5kZXhPZigndmJzY3JpcHQ6JykgPT09IDAgfHwgcHJvdC5pbmRleE9mKCdkYXRhOicpID09PSAwKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cbiAgaWYgKGJhc2UgJiYgIW9yaWdpbkluZGVwZW5kZW50VXJsLnRlc3QoaHJlZikpIHtcbiAgICBocmVmID0gcmVzb2x2ZVVybChiYXNlLCBocmVmKTtcbiAgfVxuICB0cnkge1xuICAgIGhyZWYgPSBlbmNvZGVVUkkoaHJlZikucmVwbGFjZSgvJTI1L2csICclJyk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICByZXR1cm4gaHJlZjtcbn1cblxuZnVuY3Rpb24gcmVzb2x2ZVVybChiYXNlLCBocmVmKSB7XG4gIGlmICghYmFzZVVybHNbJyAnICsgYmFzZV0pIHtcbiAgICAvLyB3ZSBjYW4gaWdub3JlIGV2ZXJ5dGhpbmcgaW4gYmFzZSBhZnRlciB0aGUgbGFzdCBzbGFzaCBvZiBpdHMgcGF0aCBjb21wb25lbnQsXG4gICAgLy8gYnV0IHdlIG1pZ2h0IG5lZWQgdG8gYWRkIF90aGF0X1xuICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzOTg2I3NlY3Rpb24tM1xuICAgIGlmICgvXlteOl0rOlxcLypbXi9dKiQvLnRlc3QoYmFzZSkpIHtcbiAgICAgIGJhc2VVcmxzWycgJyArIGJhc2VdID0gYmFzZSArICcvJztcbiAgICB9IGVsc2Uge1xuICAgICAgYmFzZVVybHNbJyAnICsgYmFzZV0gPSBydHJpbShiYXNlLCAnLycsIHRydWUpO1xuICAgIH1cbiAgfVxuICBiYXNlID0gYmFzZVVybHNbJyAnICsgYmFzZV07XG5cbiAgaWYgKGhyZWYuc2xpY2UoMCwgMikgPT09ICcvLycpIHtcbiAgICByZXR1cm4gYmFzZS5yZXBsYWNlKC86W1xcc1xcU10qLywgJzonKSArIGhyZWY7XG4gIH0gZWxzZSBpZiAoaHJlZi5jaGFyQXQoMCkgPT09ICcvJykge1xuICAgIHJldHVybiBiYXNlLnJlcGxhY2UoLyg6XFwvKlteL10qKVtcXHNcXFNdKi8sICckMScpICsgaHJlZjtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gYmFzZSArIGhyZWY7XG4gIH1cbn1cbnZhciBiYXNlVXJscyA9IHt9O1xudmFyIG9yaWdpbkluZGVwZW5kZW50VXJsID0gL14kfF5bYS16XVthLXowLTkrLi1dKjp8Xls/I10vaTtcblxuZnVuY3Rpb24gbm9vcCgpIHt9XG5ub29wLmV4ZWMgPSBub29wO1xuXG5mdW5jdGlvbiBtZXJnZShvYmopIHtcbiAgdmFyIGkgPSAxLFxuICAgICAgdGFyZ2V0LFxuICAgICAga2V5O1xuXG4gIGZvciAoOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgdGFyZ2V0ID0gYXJndW1lbnRzW2ldO1xuICAgIGZvciAoa2V5IGluIHRhcmdldCkge1xuICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0YXJnZXQsIGtleSkpIHtcbiAgICAgICAgb2JqW2tleV0gPSB0YXJnZXRba2V5XTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gb2JqO1xufVxuXG5mdW5jdGlvbiBzcGxpdENlbGxzKHRhYmxlUm93LCBjb3VudCkge1xuICAvLyBlbnN1cmUgdGhhdCBldmVyeSBjZWxsLWRlbGltaXRpbmcgcGlwZSBoYXMgYSBzcGFjZVxuICAvLyBiZWZvcmUgaXQgdG8gZGlzdGluZ3Vpc2ggaXQgZnJvbSBhbiBlc2NhcGVkIHBpcGVcbiAgdmFyIHJvdyA9IHRhYmxlUm93LnJlcGxhY2UoL1xcfC9nLCBmdW5jdGlvbihtYXRjaCwgb2Zmc2V0LCBzdHIpIHtcbiAgICAgICAgdmFyIGVzY2FwZWQgPSBmYWxzZSxcbiAgICAgICAgICAgIGN1cnIgPSBvZmZzZXQ7XG4gICAgICAgIHdoaWxlICgtLWN1cnIgPj0gMCAmJiBzdHJbY3Vycl0gPT09ICdcXFxcJykgZXNjYXBlZCA9ICFlc2NhcGVkO1xuICAgICAgICBpZiAoZXNjYXBlZCkge1xuICAgICAgICAgIC8vIG9kZCBudW1iZXIgb2Ygc2xhc2hlcyBtZWFucyB8IGlzIGVzY2FwZWRcbiAgICAgICAgICAvLyBzbyB3ZSBsZWF2ZSBpdCBhbG9uZVxuICAgICAgICAgIHJldHVybiAnfCc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gYWRkIHNwYWNlIGJlZm9yZSB1bmVzY2FwZWQgfFxuICAgICAgICAgIHJldHVybiAnIHwnO1xuICAgICAgICB9XG4gICAgICB9KSxcbiAgICAgIGNlbGxzID0gcm93LnNwbGl0KC8gXFx8LyksXG4gICAgICBpID0gMDtcblxuICBpZiAoY2VsbHMubGVuZ3RoID4gY291bnQpIHtcbiAgICBjZWxscy5zcGxpY2UoY291bnQpO1xuICB9IGVsc2Uge1xuICAgIHdoaWxlIChjZWxscy5sZW5ndGggPCBjb3VudCkgY2VsbHMucHVzaCgnJyk7XG4gIH1cblxuICBmb3IgKDsgaSA8IGNlbGxzLmxlbmd0aDsgaSsrKSB7XG4gICAgLy8gbGVhZGluZyBvciB0cmFpbGluZyB3aGl0ZXNwYWNlIGlzIGlnbm9yZWQgcGVyIHRoZSBnZm0gc3BlY1xuICAgIGNlbGxzW2ldID0gY2VsbHNbaV0udHJpbSgpLnJlcGxhY2UoL1xcXFxcXHwvZywgJ3wnKTtcbiAgfVxuICByZXR1cm4gY2VsbHM7XG59XG5cbi8vIFJlbW92ZSB0cmFpbGluZyAnYydzLiBFcXVpdmFsZW50IHRvIHN0ci5yZXBsYWNlKC9jKiQvLCAnJykuXG4vLyAvYyokLyBpcyB2dWxuZXJhYmxlIHRvIFJFRE9TLlxuLy8gaW52ZXJ0OiBSZW1vdmUgc3VmZml4IG9mIG5vbi1jIGNoYXJzIGluc3RlYWQuIERlZmF1bHQgZmFsc2V5LlxuZnVuY3Rpb24gcnRyaW0oc3RyLCBjLCBpbnZlcnQpIHtcbiAgaWYgKHN0ci5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gJyc7XG4gIH1cblxuICAvLyBMZW5ndGggb2Ygc3VmZml4IG1hdGNoaW5nIHRoZSBpbnZlcnQgY29uZGl0aW9uLlxuICB2YXIgc3VmZkxlbiA9IDA7XG5cbiAgLy8gU3RlcCBsZWZ0IHVudGlsIHdlIGZhaWwgdG8gbWF0Y2ggdGhlIGludmVydCBjb25kaXRpb24uXG4gIHdoaWxlIChzdWZmTGVuIDwgc3RyLmxlbmd0aCkge1xuICAgIHZhciBjdXJyQ2hhciA9IHN0ci5jaGFyQXQoc3RyLmxlbmd0aCAtIHN1ZmZMZW4gLSAxKTtcbiAgICBpZiAoY3VyckNoYXIgPT09IGMgJiYgIWludmVydCkge1xuICAgICAgc3VmZkxlbisrO1xuICAgIH0gZWxzZSBpZiAoY3VyckNoYXIgIT09IGMgJiYgaW52ZXJ0KSB7XG4gICAgICBzdWZmTGVuKys7XG4gICAgfSBlbHNlIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBzdHIuc3Vic3RyKDAsIHN0ci5sZW5ndGggLSBzdWZmTGVuKTtcbn1cblxuZnVuY3Rpb24gZmluZENsb3NpbmdCcmFja2V0KHN0ciwgYikge1xuICBpZiAoc3RyLmluZGV4T2YoYlsxXSkgPT09IC0xKSB7XG4gICAgcmV0dXJuIC0xO1xuICB9XG4gIHZhciBsZXZlbCA9IDA7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgc3RyLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKHN0cltpXSA9PT0gJ1xcXFwnKSB7XG4gICAgICBpKys7XG4gICAgfSBlbHNlIGlmIChzdHJbaV0gPT09IGJbMF0pIHtcbiAgICAgIGxldmVsKys7XG4gICAgfSBlbHNlIGlmIChzdHJbaV0gPT09IGJbMV0pIHtcbiAgICAgIGxldmVsLS07XG4gICAgICBpZiAobGV2ZWwgPCAwKSB7XG4gICAgICAgIHJldHVybiBpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gLTE7XG59XG5cbmZ1bmN0aW9uIGNoZWNrU2FuaXRpemVEZXByZWNhdGlvbihvcHQpIHtcbiAgaWYgKG9wdCAmJiBvcHQuc2FuaXRpemUgJiYgIW9wdC5zaWxlbnQpIHtcbiAgICBjb25zb2xlLndhcm4oJ21hcmtlZCgpOiBzYW5pdGl6ZSBhbmQgc2FuaXRpemVyIHBhcmFtZXRlcnMgYXJlIGRlcHJlY2F0ZWQgc2luY2UgdmVyc2lvbiAwLjcuMCwgc2hvdWxkIG5vdCBiZSB1c2VkIGFuZCB3aWxsIGJlIHJlbW92ZWQgaW4gdGhlIGZ1dHVyZS4gUmVhZCBtb3JlIGhlcmU6IGh0dHBzOi8vbWFya2VkLmpzLm9yZy8jL1VTSU5HX0FEVkFOQ0VELm1kI29wdGlvbnMnKTtcbiAgfVxufVxuXG4vKipcbiAqIE1hcmtlZFxuICovXG5cbmZ1bmN0aW9uIG1hcmtlZChzcmMsIG9wdCwgY2FsbGJhY2spIHtcbiAgLy8gdGhyb3cgZXJyb3IgaW4gY2FzZSBvZiBub24gc3RyaW5nIGlucHV0XG4gIGlmICh0eXBlb2Ygc3JjID09PSAndW5kZWZpbmVkJyB8fCBzcmMgPT09IG51bGwpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ21hcmtlZCgpOiBpbnB1dCBwYXJhbWV0ZXIgaXMgdW5kZWZpbmVkIG9yIG51bGwnKTtcbiAgfVxuICBpZiAodHlwZW9mIHNyYyAhPT0gJ3N0cmluZycpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ21hcmtlZCgpOiBpbnB1dCBwYXJhbWV0ZXIgaXMgb2YgdHlwZSAnXG4gICAgICArIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChzcmMpICsgJywgc3RyaW5nIGV4cGVjdGVkJyk7XG4gIH1cblxuICBpZiAoY2FsbGJhY2sgfHwgdHlwZW9mIG9wdCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGlmICghY2FsbGJhY2spIHtcbiAgICAgIGNhbGxiYWNrID0gb3B0O1xuICAgICAgb3B0ID0gbnVsbDtcbiAgICB9XG5cbiAgICBvcHQgPSBtZXJnZSh7fSwgbWFya2VkLmRlZmF1bHRzLCBvcHQgfHwge30pO1xuICAgIGNoZWNrU2FuaXRpemVEZXByZWNhdGlvbihvcHQpO1xuXG4gICAgdmFyIGhpZ2hsaWdodCA9IG9wdC5oaWdobGlnaHQsXG4gICAgICAgIHRva2VucyxcbiAgICAgICAgcGVuZGluZyxcbiAgICAgICAgaSA9IDA7XG5cbiAgICB0cnkge1xuICAgICAgdG9rZW5zID0gTGV4ZXIubGV4KHNyYywgb3B0KTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICByZXR1cm4gY2FsbGJhY2soZSk7XG4gICAgfVxuXG4gICAgcGVuZGluZyA9IHRva2Vucy5sZW5ndGg7XG5cbiAgICB2YXIgZG9uZSA9IGZ1bmN0aW9uKGVycikge1xuICAgICAgaWYgKGVycikge1xuICAgICAgICBvcHQuaGlnaGxpZ2h0ID0gaGlnaGxpZ2h0O1xuICAgICAgICByZXR1cm4gY2FsbGJhY2soZXJyKTtcbiAgICAgIH1cblxuICAgICAgdmFyIG91dDtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgb3V0ID0gUGFyc2VyLnBhcnNlKHRva2Vucywgb3B0KTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgZXJyID0gZTtcbiAgICAgIH1cblxuICAgICAgb3B0LmhpZ2hsaWdodCA9IGhpZ2hsaWdodDtcblxuICAgICAgcmV0dXJuIGVyclxuICAgICAgICA/IGNhbGxiYWNrKGVycilcbiAgICAgICAgOiBjYWxsYmFjayhudWxsLCBvdXQpO1xuICAgIH07XG5cbiAgICBpZiAoIWhpZ2hsaWdodCB8fCBoaWdobGlnaHQubGVuZ3RoIDwgMykge1xuICAgICAgcmV0dXJuIGRvbmUoKTtcbiAgICB9XG5cbiAgICBkZWxldGUgb3B0LmhpZ2hsaWdodDtcblxuICAgIGlmICghcGVuZGluZykgcmV0dXJuIGRvbmUoKTtcblxuICAgIGZvciAoOyBpIDwgdG9rZW5zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAoZnVuY3Rpb24odG9rZW4pIHtcbiAgICAgICAgaWYgKHRva2VuLnR5cGUgIT09ICdjb2RlJykge1xuICAgICAgICAgIHJldHVybiAtLXBlbmRpbmcgfHwgZG9uZSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBoaWdobGlnaHQodG9rZW4udGV4dCwgdG9rZW4ubGFuZywgZnVuY3Rpb24oZXJyLCBjb2RlKSB7XG4gICAgICAgICAgaWYgKGVycikgcmV0dXJuIGRvbmUoZXJyKTtcbiAgICAgICAgICBpZiAoY29kZSA9PSBudWxsIHx8IGNvZGUgPT09IHRva2VuLnRleHQpIHtcbiAgICAgICAgICAgIHJldHVybiAtLXBlbmRpbmcgfHwgZG9uZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0b2tlbi50ZXh0ID0gY29kZTtcbiAgICAgICAgICB0b2tlbi5lc2NhcGVkID0gdHJ1ZTtcbiAgICAgICAgICAtLXBlbmRpbmcgfHwgZG9uZSgpO1xuICAgICAgICB9KTtcbiAgICAgIH0pKHRva2Vuc1tpXSk7XG4gICAgfVxuXG4gICAgcmV0dXJuO1xuICB9XG4gIHRyeSB7XG4gICAgaWYgKG9wdCkgb3B0ID0gbWVyZ2Uoe30sIG1hcmtlZC5kZWZhdWx0cywgb3B0KTtcbiAgICBjaGVja1Nhbml0aXplRGVwcmVjYXRpb24ob3B0KTtcbiAgICByZXR1cm4gUGFyc2VyLnBhcnNlKExleGVyLmxleChzcmMsIG9wdCksIG9wdCk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBlLm1lc3NhZ2UgKz0gJ1xcblBsZWFzZSByZXBvcnQgdGhpcyB0byBodHRwczovL2dpdGh1Yi5jb20vbWFya2VkanMvbWFya2VkLic7XG4gICAgaWYgKChvcHQgfHwgbWFya2VkLmRlZmF1bHRzKS5zaWxlbnQpIHtcbiAgICAgIHJldHVybiAnPHA+QW4gZXJyb3Igb2NjdXJyZWQ6PC9wPjxwcmU+J1xuICAgICAgICArIGVzY2FwZShlLm1lc3NhZ2UgKyAnJywgdHJ1ZSlcbiAgICAgICAgKyAnPC9wcmU+JztcbiAgICB9XG4gICAgdGhyb3cgZTtcbiAgfVxufVxuXG4vKipcbiAqIE9wdGlvbnNcbiAqL1xuXG5tYXJrZWQub3B0aW9ucyA9XG5tYXJrZWQuc2V0T3B0aW9ucyA9IGZ1bmN0aW9uKG9wdCkge1xuICBtZXJnZShtYXJrZWQuZGVmYXVsdHMsIG9wdCk7XG4gIHJldHVybiBtYXJrZWQ7XG59O1xuXG5tYXJrZWQuZ2V0RGVmYXVsdHMgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtcbiAgICBiYXNlVXJsOiBudWxsLFxuICAgIGJyZWFrczogZmFsc2UsXG4gICAgZ2ZtOiB0cnVlLFxuICAgIGhlYWRlcklkczogdHJ1ZSxcbiAgICBoZWFkZXJQcmVmaXg6ICcnLFxuICAgIGhpZ2hsaWdodDogbnVsbCxcbiAgICBsYW5nUHJlZml4OiAnbGFuZ3VhZ2UtJyxcbiAgICBtYW5nbGU6IHRydWUsXG4gICAgcGVkYW50aWM6IGZhbHNlLFxuICAgIHJlbmRlcmVyOiBuZXcgUmVuZGVyZXIoKSxcbiAgICBzYW5pdGl6ZTogZmFsc2UsXG4gICAgc2FuaXRpemVyOiBudWxsLFxuICAgIHNpbGVudDogZmFsc2UsXG4gICAgc21hcnRMaXN0czogZmFsc2UsXG4gICAgc21hcnR5cGFudHM6IGZhbHNlLFxuICAgIHhodG1sOiBmYWxzZVxuICB9O1xufTtcblxubWFya2VkLmRlZmF1bHRzID0gbWFya2VkLmdldERlZmF1bHRzKCk7XG5cbi8qKlxuICogRXhwb3NlXG4gKi9cblxubWFya2VkLlBhcnNlciA9IFBhcnNlcjtcbm1hcmtlZC5wYXJzZXIgPSBQYXJzZXIucGFyc2U7XG5cbm1hcmtlZC5SZW5kZXJlciA9IFJlbmRlcmVyO1xubWFya2VkLlRleHRSZW5kZXJlciA9IFRleHRSZW5kZXJlcjtcblxubWFya2VkLkxleGVyID0gTGV4ZXI7XG5tYXJrZWQubGV4ZXIgPSBMZXhlci5sZXg7XG5cbm1hcmtlZC5JbmxpbmVMZXhlciA9IElubGluZUxleGVyO1xubWFya2VkLmlubGluZUxleGVyID0gSW5saW5lTGV4ZXIub3V0cHV0O1xuXG5tYXJrZWQuU2x1Z2dlciA9IFNsdWdnZXI7XG5cbm1hcmtlZC5wYXJzZSA9IG1hcmtlZDtcblxuaWYgKHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jykge1xuICBtb2R1bGUuZXhwb3J0cyA9IG1hcmtlZDtcbn0gZWxzZSBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7XG4gIGRlZmluZShmdW5jdGlvbigpIHsgcmV0dXJuIG1hcmtlZDsgfSk7XG59IGVsc2Uge1xuICByb290Lm1hcmtlZCA9IG1hcmtlZDtcbn1cbn0pKHRoaXMgfHwgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnID8gd2luZG93IDogZ2xvYmFsKSk7XG4iLCJ2YXIgZztcblxuLy8gVGhpcyB3b3JrcyBpbiBub24tc3RyaWN0IG1vZGVcbmcgPSAoZnVuY3Rpb24oKSB7XG5cdHJldHVybiB0aGlzO1xufSkoKTtcblxudHJ5IHtcblx0Ly8gVGhpcyB3b3JrcyBpZiBldmFsIGlzIGFsbG93ZWQgKHNlZSBDU1ApXG5cdGcgPSBnIHx8IG5ldyBGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCk7XG59IGNhdGNoIChlKSB7XG5cdC8vIFRoaXMgd29ya3MgaWYgdGhlIHdpbmRvdyByZWZlcmVuY2UgaXMgYXZhaWxhYmxlXG5cdGlmICh0eXBlb2Ygd2luZG93ID09PSBcIm9iamVjdFwiKSBnID0gd2luZG93O1xufVxuXG4vLyBnIGNhbiBzdGlsbCBiZSB1bmRlZmluZWQsIGJ1dCBub3RoaW5nIHRvIGRvIGFib3V0IGl0Li4uXG4vLyBXZSByZXR1cm4gdW5kZWZpbmVkLCBpbnN0ZWFkIG9mIG5vdGhpbmcgaGVyZSwgc28gaXQnc1xuLy8gZWFzaWVyIHRvIGhhbmRsZSB0aGlzIGNhc2UuIGlmKCFnbG9iYWwpIHsgLi4ufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGc7XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTcgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuICogQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbiAqIHN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuICovXG5cbi8qKlxuICogQG1vZHVsZSBsaXQtaHRtbFxuICovXG5cbmltcG9ydCB7UGFydH0gZnJvbSAnLi9wYXJ0LmpzJztcblxuY29uc3QgZGlyZWN0aXZlcyA9IG5ldyBXZWFrTWFwPG9iamVjdCwgdHJ1ZT4oKTtcblxuLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLWFueVxuZXhwb3J0IHR5cGUgRGlyZWN0aXZlRmFjdG9yeSA9ICguLi5hcmdzOiBhbnlbXSkgPT4gb2JqZWN0O1xuXG5leHBvcnQgdHlwZSBEaXJlY3RpdmVGbiA9IChwYXJ0OiBQYXJ0KSA9PiB2b2lkO1xuXG4vKipcbiAqIEJyYW5kcyBhIGZ1bmN0aW9uIGFzIGEgZGlyZWN0aXZlIGZhY3RvcnkgZnVuY3Rpb24gc28gdGhhdCBsaXQtaHRtbCB3aWxsIGNhbGxcbiAqIHRoZSBmdW5jdGlvbiBkdXJpbmcgdGVtcGxhdGUgcmVuZGVyaW5nLCByYXRoZXIgdGhhbiBwYXNzaW5nIGFzIGEgdmFsdWUuXG4gKlxuICogQSBfZGlyZWN0aXZlXyBpcyBhIGZ1bmN0aW9uIHRoYXQgdGFrZXMgYSBQYXJ0IGFzIGFuIGFyZ3VtZW50LiBJdCBoYXMgdGhlXG4gKiBzaWduYXR1cmU6IGAocGFydDogUGFydCkgPT4gdm9pZGAuXG4gKlxuICogQSBkaXJlY3RpdmUgX2ZhY3RvcnlfIGlzIGEgZnVuY3Rpb24gdGhhdCB0YWtlcyBhcmd1bWVudHMgZm9yIGRhdGEgYW5kXG4gKiBjb25maWd1cmF0aW9uIGFuZCByZXR1cm5zIGEgZGlyZWN0aXZlLiBVc2VycyBvZiBkaXJlY3RpdmUgdXN1YWxseSByZWZlciB0b1xuICogdGhlIGRpcmVjdGl2ZSBmYWN0b3J5IGFzIHRoZSBkaXJlY3RpdmUuIEZvciBleGFtcGxlLCBcIlRoZSByZXBlYXQgZGlyZWN0aXZlXCIuXG4gKlxuICogVXN1YWxseSBhIHRlbXBsYXRlIGF1dGhvciB3aWxsIGludm9rZSBhIGRpcmVjdGl2ZSBmYWN0b3J5IGluIHRoZWlyIHRlbXBsYXRlXG4gKiB3aXRoIHJlbGV2YW50IGFyZ3VtZW50cywgd2hpY2ggd2lsbCB0aGVuIHJldHVybiBhIGRpcmVjdGl2ZSBmdW5jdGlvbi5cbiAqXG4gKiBIZXJlJ3MgYW4gZXhhbXBsZSBvZiB1c2luZyB0aGUgYHJlcGVhdCgpYCBkaXJlY3RpdmUgZmFjdG9yeSB0aGF0IHRha2VzIGFuXG4gKiBhcnJheSBhbmQgYSBmdW5jdGlvbiB0byByZW5kZXIgYW4gaXRlbTpcbiAqXG4gKiBgYGBqc1xuICogaHRtbGA8dWw+PCR7cmVwZWF0KGl0ZW1zLCAoaXRlbSkgPT4gaHRtbGA8bGk+JHtpdGVtfTwvbGk+YCl9PC91bD5gXG4gKiBgYGBcbiAqXG4gKiBXaGVuIGByZXBlYXRgIGlzIGludm9rZWQsIGl0IHJldHVybnMgYSBkaXJlY3RpdmUgZnVuY3Rpb24gdGhhdCBjbG9zZXMgb3ZlclxuICogYGl0ZW1zYCBhbmQgdGhlIHRlbXBsYXRlIGZ1bmN0aW9uLiBXaGVuIHRoZSBvdXRlciB0ZW1wbGF0ZSBpcyByZW5kZXJlZCwgdGhlXG4gKiByZXR1cm4gZGlyZWN0aXZlIGZ1bmN0aW9uIGlzIGNhbGxlZCB3aXRoIHRoZSBQYXJ0IGZvciB0aGUgZXhwcmVzc2lvbi5cbiAqIGByZXBlYXRgIHRoZW4gcGVyZm9ybXMgaXQncyBjdXN0b20gbG9naWMgdG8gcmVuZGVyIG11bHRpcGxlIGl0ZW1zLlxuICpcbiAqIEBwYXJhbSBmIFRoZSBkaXJlY3RpdmUgZmFjdG9yeSBmdW5jdGlvbi4gTXVzdCBiZSBhIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhXG4gKiBmdW5jdGlvbiBvZiB0aGUgc2lnbmF0dXJlIGAocGFydDogUGFydCkgPT4gdm9pZGAuIFRoZSByZXR1cm5lZCBmdW5jdGlvbiB3aWxsXG4gKiBiZSBjYWxsZWQgd2l0aCB0aGUgcGFydCBvYmplY3QuXG4gKlxuICogQGV4YW1wbGVcbiAqXG4gKiBpbXBvcnQge2RpcmVjdGl2ZSwgaHRtbH0gZnJvbSAnbGl0LWh0bWwnO1xuICpcbiAqIGNvbnN0IGltbXV0YWJsZSA9IGRpcmVjdGl2ZSgodikgPT4gKHBhcnQpID0+IHtcbiAqICAgaWYgKHBhcnQudmFsdWUgIT09IHYpIHtcbiAqICAgICBwYXJ0LnNldFZhbHVlKHYpXG4gKiAgIH1cbiAqIH0pO1xuICovXG5leHBvcnQgY29uc3QgZGlyZWN0aXZlID0gPEYgZXh0ZW5kcyBEaXJlY3RpdmVGYWN0b3J5PihmOiBGKTogRiA9PlxuICAgICgoLi4uYXJnczogdW5rbm93bltdKSA9PiB7XG4gICAgICBjb25zdCBkID0gZiguLi5hcmdzKTtcbiAgICAgIGRpcmVjdGl2ZXMuc2V0KGQsIHRydWUpO1xuICAgICAgcmV0dXJuIGQ7XG4gICAgfSkgYXMgRjtcblxuZXhwb3J0IGNvbnN0IGlzRGlyZWN0aXZlID0gKG86IHVua25vd24pOiBvIGlzIERpcmVjdGl2ZUZuID0+IHtcbiAgcmV0dXJuIHR5cGVvZiBvID09PSAnZnVuY3Rpb24nICYmIGRpcmVjdGl2ZXMuaGFzKG8pO1xufTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAoYykgMjAxNyBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBUaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0XG4gKiBUaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0XG4gKiBDb2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzb1xuICogc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudCBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4gKi9cblxuLyoqXG4gKiBAbW9kdWxlIGxpdC1odG1sXG4gKi9cblxuaW50ZXJmYWNlIE1heWJlUG9seWZpbGxlZENlIGV4dGVuZHMgQ3VzdG9tRWxlbWVudFJlZ2lzdHJ5IHtcbiAgcmVhZG9ubHkgcG9seWZpbGxXcmFwRmx1c2hDYWxsYmFjaz86IG9iamVjdDtcbn1cblxuLyoqXG4gKiBUcnVlIGlmIHRoZSBjdXN0b20gZWxlbWVudHMgcG9seWZpbGwgaXMgaW4gdXNlLlxuICovXG5leHBvcnQgY29uc3QgaXNDRVBvbHlmaWxsID0gd2luZG93LmN1c3RvbUVsZW1lbnRzICE9PSB1bmRlZmluZWQgJiZcbiAgICAod2luZG93LmN1c3RvbUVsZW1lbnRzIGFzIE1heWJlUG9seWZpbGxlZENlKS5wb2x5ZmlsbFdyYXBGbHVzaENhbGxiYWNrICE9PVxuICAgICAgICB1bmRlZmluZWQ7XG5cbi8qKlxuICogUmVwYXJlbnRzIG5vZGVzLCBzdGFydGluZyBmcm9tIGBzdGFydGAgKGluY2x1c2l2ZSkgdG8gYGVuZGAgKGV4Y2x1c2l2ZSksXG4gKiBpbnRvIGFub3RoZXIgY29udGFpbmVyIChjb3VsZCBiZSB0aGUgc2FtZSBjb250YWluZXIpLCBiZWZvcmUgYGJlZm9yZWAuIElmXG4gKiBgYmVmb3JlYCBpcyBudWxsLCBpdCBhcHBlbmRzIHRoZSBub2RlcyB0byB0aGUgY29udGFpbmVyLlxuICovXG5leHBvcnQgY29uc3QgcmVwYXJlbnROb2RlcyA9XG4gICAgKGNvbnRhaW5lcjogTm9kZSxcbiAgICAgc3RhcnQ6IE5vZGV8bnVsbCxcbiAgICAgZW5kOiBOb2RlfG51bGwgPSBudWxsLFxuICAgICBiZWZvcmU6IE5vZGV8bnVsbCA9IG51bGwpOiB2b2lkID0+IHtcbiAgICAgIHdoaWxlIChzdGFydCAhPT0gZW5kKSB7XG4gICAgICAgIGNvbnN0IG4gPSBzdGFydCEubmV4dFNpYmxpbmc7XG4gICAgICAgIGNvbnRhaW5lci5pbnNlcnRCZWZvcmUoc3RhcnQhLCBiZWZvcmUpO1xuICAgICAgICBzdGFydCA9IG47XG4gICAgICB9XG4gICAgfTtcblxuLyoqXG4gKiBSZW1vdmVzIG5vZGVzLCBzdGFydGluZyBmcm9tIGBzdGFydGAgKGluY2x1c2l2ZSkgdG8gYGVuZGAgKGV4Y2x1c2l2ZSksIGZyb21cbiAqIGBjb250YWluZXJgLlxuICovXG5leHBvcnQgY29uc3QgcmVtb3ZlTm9kZXMgPVxuICAgIChjb250YWluZXI6IE5vZGUsIHN0YXJ0OiBOb2RlfG51bGwsIGVuZDogTm9kZXxudWxsID0gbnVsbCk6IHZvaWQgPT4ge1xuICAgICAgd2hpbGUgKHN0YXJ0ICE9PSBlbmQpIHtcbiAgICAgICAgY29uc3QgbiA9IHN0YXJ0IS5uZXh0U2libGluZztcbiAgICAgICAgY29udGFpbmVyLnJlbW92ZUNoaWxkKHN0YXJ0ISk7XG4gICAgICAgIHN0YXJ0ID0gbjtcbiAgICAgIH1cbiAgICB9O1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IChjKSAyMDE4IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqIFRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0XG4gKiBUaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHRcbiAqIENvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzIHBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvXG4gKiBzdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50IGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiAqL1xuXG4vKipcbiAqIEBtb2R1bGUgbGl0LWh0bWxcbiAqL1xuXG4vKipcbiAqIFRoZSBQYXJ0IGludGVyZmFjZSByZXByZXNlbnRzIGEgZHluYW1pYyBwYXJ0IG9mIGEgdGVtcGxhdGUgaW5zdGFuY2UgcmVuZGVyZWRcbiAqIGJ5IGxpdC1odG1sLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFBhcnQge1xuICByZWFkb25seSB2YWx1ZTogdW5rbm93bjtcblxuICAvKipcbiAgICogU2V0cyB0aGUgY3VycmVudCBwYXJ0IHZhbHVlLCBidXQgZG9lcyBub3Qgd3JpdGUgaXQgdG8gdGhlIERPTS5cbiAgICogQHBhcmFtIHZhbHVlIFRoZSB2YWx1ZSB0aGF0IHdpbGwgYmUgY29tbWl0dGVkLlxuICAgKi9cbiAgc2V0VmFsdWUodmFsdWU6IHVua25vd24pOiB2b2lkO1xuXG4gIC8qKlxuICAgKiBDb21taXRzIHRoZSBjdXJyZW50IHBhcnQgdmFsdWUsIGNhdXNpbmcgaXQgdG8gYWN0dWFsbHkgYmUgd3JpdHRlbiB0byB0aGVcbiAgICogRE9NLlxuICAgKlxuICAgKiBEaXJlY3RpdmVzIGFyZSBydW4gYXQgdGhlIHN0YXJ0IG9mIGBjb21taXRgLCBzbyB0aGF0IGlmIHRoZXkgY2FsbFxuICAgKiBgcGFydC5zZXRWYWx1ZSguLi4pYCBzeW5jaHJvbm91c2x5IHRoYXQgdmFsdWUgd2lsbCBiZSB1c2VkIGluIHRoZSBjdXJyZW50XG4gICAqIGNvbW1pdCwgYW5kIHRoZXJlJ3Mgbm8gbmVlZCB0byBjYWxsIGBwYXJ0LmNvbW1pdCgpYCB3aXRoaW4gdGhlIGRpcmVjdGl2ZS5cbiAgICogSWYgZGlyZWN0aXZlcyBzZXQgYSBwYXJ0IHZhbHVlIGFzeW5jaHJvbm91c2x5LCB0aGVuIHRoZXkgbXVzdCBjYWxsXG4gICAqIGBwYXJ0LmNvbW1pdCgpYCBtYW51YWxseS5cbiAgICovXG4gIGNvbW1pdCgpOiB2b2lkO1xufVxuXG4vKipcbiAqIEEgc2VudGluZWwgdmFsdWUgdGhhdCBzaWduYWxzIHRoYXQgYSB2YWx1ZSB3YXMgaGFuZGxlZCBieSBhIGRpcmVjdGl2ZSBhbmRcbiAqIHNob3VsZCBub3QgYmUgd3JpdHRlbiB0byB0aGUgRE9NLlxuICovXG5leHBvcnQgY29uc3Qgbm9DaGFuZ2UgPSB7fTtcblxuLyoqXG4gKiBBIHNlbnRpbmVsIHZhbHVlIHRoYXQgc2lnbmFscyBhIE5vZGVQYXJ0IHRvIGZ1bGx5IGNsZWFyIGl0cyBjb250ZW50LlxuICovXG5leHBvcnQgY29uc3Qgbm90aGluZyA9IHt9O1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IChjKSAyMDE3IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqIFRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0XG4gKiBUaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHRcbiAqIENvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzIHBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvXG4gKiBzdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50IGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiAqL1xuXG4vKipcbiAqIEBtb2R1bGUgbGl0LWh0bWxcbiAqL1xuXG5pbXBvcnQge1RlbXBsYXRlUmVzdWx0fSBmcm9tICcuL3RlbXBsYXRlLXJlc3VsdC5qcyc7XG5cbi8qKlxuICogQW4gZXhwcmVzc2lvbiBtYXJrZXIgd2l0aCBlbWJlZGRlZCB1bmlxdWUga2V5IHRvIGF2b2lkIGNvbGxpc2lvbiB3aXRoXG4gKiBwb3NzaWJsZSB0ZXh0IGluIHRlbXBsYXRlcy5cbiAqL1xuZXhwb3J0IGNvbnN0IG1hcmtlciA9IGB7e2xpdC0ke1N0cmluZyhNYXRoLnJhbmRvbSgpKS5zbGljZSgyKX19fWA7XG5cbi8qKlxuICogQW4gZXhwcmVzc2lvbiBtYXJrZXIgdXNlZCB0ZXh0LXBvc2l0aW9ucywgbXVsdGktYmluZGluZyBhdHRyaWJ1dGVzLCBhbmRcbiAqIGF0dHJpYnV0ZXMgd2l0aCBtYXJrdXAtbGlrZSB0ZXh0IHZhbHVlcy5cbiAqL1xuZXhwb3J0IGNvbnN0IG5vZGVNYXJrZXIgPSBgPCEtLSR7bWFya2VyfS0tPmA7XG5cbmV4cG9ydCBjb25zdCBtYXJrZXJSZWdleCA9IG5ldyBSZWdFeHAoYCR7bWFya2VyfXwke25vZGVNYXJrZXJ9YCk7XG5cbi8qKlxuICogU3VmZml4IGFwcGVuZGVkIHRvIGFsbCBib3VuZCBhdHRyaWJ1dGUgbmFtZXMuXG4gKi9cbmV4cG9ydCBjb25zdCBib3VuZEF0dHJpYnV0ZVN1ZmZpeCA9ICckbGl0JCc7XG5cbi8qKlxuICogQW4gdXBkYXRlYWJsZSBUZW1wbGF0ZSB0aGF0IHRyYWNrcyB0aGUgbG9jYXRpb24gb2YgZHluYW1pYyBwYXJ0cy5cbiAqL1xuZXhwb3J0IGNsYXNzIFRlbXBsYXRlIHtcbiAgcmVhZG9ubHkgcGFydHM6IFRlbXBsYXRlUGFydFtdID0gW107XG4gIHJlYWRvbmx5IGVsZW1lbnQ6IEhUTUxUZW1wbGF0ZUVsZW1lbnQ7XG5cbiAgY29uc3RydWN0b3IocmVzdWx0OiBUZW1wbGF0ZVJlc3VsdCwgZWxlbWVudDogSFRNTFRlbXBsYXRlRWxlbWVudCkge1xuICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XG5cbiAgICBjb25zdCBub2Rlc1RvUmVtb3ZlOiBOb2RlW10gPSBbXTtcbiAgICBjb25zdCBzdGFjazogTm9kZVtdID0gW107XG4gICAgLy8gRWRnZSBuZWVkcyBhbGwgNCBwYXJhbWV0ZXJzIHByZXNlbnQ7IElFMTEgbmVlZHMgM3JkIHBhcmFtZXRlciB0byBiZSBudWxsXG4gICAgY29uc3Qgd2Fsa2VyID0gZG9jdW1lbnQuY3JlYXRlVHJlZVdhbGtlcihcbiAgICAgICAgZWxlbWVudC5jb250ZW50LFxuICAgICAgICAxMzMgLyogTm9kZUZpbHRlci5TSE9XX3tFTEVNRU5UfENPTU1FTlR8VEVYVH0gKi8sXG4gICAgICAgIG51bGwsXG4gICAgICAgIGZhbHNlKTtcbiAgICAvLyBLZWVwcyB0cmFjayBvZiB0aGUgbGFzdCBpbmRleCBhc3NvY2lhdGVkIHdpdGggYSBwYXJ0LiBXZSB0cnkgdG8gZGVsZXRlXG4gICAgLy8gdW5uZWNlc3Nhcnkgbm9kZXMsIGJ1dCB3ZSBuZXZlciB3YW50IHRvIGFzc29jaWF0ZSB0d28gZGlmZmVyZW50IHBhcnRzXG4gICAgLy8gdG8gdGhlIHNhbWUgaW5kZXguIFRoZXkgbXVzdCBoYXZlIGEgY29uc3RhbnQgbm9kZSBiZXR3ZWVuLlxuICAgIGxldCBsYXN0UGFydEluZGV4ID0gMDtcbiAgICBsZXQgaW5kZXggPSAtMTtcbiAgICBsZXQgcGFydEluZGV4ID0gMDtcbiAgICBjb25zdCB7c3RyaW5ncywgdmFsdWVzOiB7bGVuZ3RofX0gPSByZXN1bHQ7XG4gICAgd2hpbGUgKHBhcnRJbmRleCA8IGxlbmd0aCkge1xuICAgICAgY29uc3Qgbm9kZSA9IHdhbGtlci5uZXh0Tm9kZSgpIGFzIEVsZW1lbnQgfCBDb21tZW50IHwgVGV4dCB8IG51bGw7XG4gICAgICBpZiAobm9kZSA9PT0gbnVsbCkge1xuICAgICAgICAvLyBXZSd2ZSBleGhhdXN0ZWQgdGhlIGNvbnRlbnQgaW5zaWRlIGEgbmVzdGVkIHRlbXBsYXRlIGVsZW1lbnQuXG4gICAgICAgIC8vIEJlY2F1c2Ugd2Ugc3RpbGwgaGF2ZSBwYXJ0cyAodGhlIG91dGVyIGZvci1sb29wKSwgd2Uga25vdzpcbiAgICAgICAgLy8gLSBUaGVyZSBpcyBhIHRlbXBsYXRlIGluIHRoZSBzdGFja1xuICAgICAgICAvLyAtIFRoZSB3YWxrZXIgd2lsbCBmaW5kIGEgbmV4dE5vZGUgb3V0c2lkZSB0aGUgdGVtcGxhdGVcbiAgICAgICAgd2Fsa2VyLmN1cnJlbnROb2RlID0gc3RhY2sucG9wKCkhO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGluZGV4Kys7XG5cbiAgICAgIGlmIChub2RlLm5vZGVUeXBlID09PSAxIC8qIE5vZGUuRUxFTUVOVF9OT0RFICovKSB7XG4gICAgICAgIGlmICgobm9kZSBhcyBFbGVtZW50KS5oYXNBdHRyaWJ1dGVzKCkpIHtcbiAgICAgICAgICBjb25zdCBhdHRyaWJ1dGVzID0gKG5vZGUgYXMgRWxlbWVudCkuYXR0cmlidXRlcztcbiAgICAgICAgICBjb25zdCB7bGVuZ3RofSA9IGF0dHJpYnV0ZXM7XG4gICAgICAgICAgLy8gUGVyXG4gICAgICAgICAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL05hbWVkTm9kZU1hcCxcbiAgICAgICAgICAvLyBhdHRyaWJ1dGVzIGFyZSBub3QgZ3VhcmFudGVlZCB0byBiZSByZXR1cm5lZCBpbiBkb2N1bWVudCBvcmRlci5cbiAgICAgICAgICAvLyBJbiBwYXJ0aWN1bGFyLCBFZGdlL0lFIGNhbiByZXR1cm4gdGhlbSBvdXQgb2Ygb3JkZXIsIHNvIHdlIGNhbm5vdFxuICAgICAgICAgIC8vIGFzc3VtZSBhIGNvcnJlc3BvbmRlbmNlIGJldHdlZW4gcGFydCBpbmRleCBhbmQgYXR0cmlidXRlIGluZGV4LlxuICAgICAgICAgIGxldCBjb3VudCA9IDA7XG4gICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKGVuZHNXaXRoKGF0dHJpYnV0ZXNbaV0ubmFtZSwgYm91bmRBdHRyaWJ1dGVTdWZmaXgpKSB7XG4gICAgICAgICAgICAgIGNvdW50Kys7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHdoaWxlIChjb3VudC0tID4gMCkge1xuICAgICAgICAgICAgLy8gR2V0IHRoZSB0ZW1wbGF0ZSBsaXRlcmFsIHNlY3Rpb24gbGVhZGluZyB1cCB0byB0aGUgZmlyc3RcbiAgICAgICAgICAgIC8vIGV4cHJlc3Npb24gaW4gdGhpcyBhdHRyaWJ1dGVcbiAgICAgICAgICAgIGNvbnN0IHN0cmluZ0ZvclBhcnQgPSBzdHJpbmdzW3BhcnRJbmRleF07XG4gICAgICAgICAgICAvLyBGaW5kIHRoZSBhdHRyaWJ1dGUgbmFtZVxuICAgICAgICAgICAgY29uc3QgbmFtZSA9IGxhc3RBdHRyaWJ1dGVOYW1lUmVnZXguZXhlYyhzdHJpbmdGb3JQYXJ0KSFbMl07XG4gICAgICAgICAgICAvLyBGaW5kIHRoZSBjb3JyZXNwb25kaW5nIGF0dHJpYnV0ZVxuICAgICAgICAgICAgLy8gQWxsIGJvdW5kIGF0dHJpYnV0ZXMgaGF2ZSBoYWQgYSBzdWZmaXggYWRkZWQgaW5cbiAgICAgICAgICAgIC8vIFRlbXBsYXRlUmVzdWx0I2dldEhUTUwgdG8gb3B0IG91dCBvZiBzcGVjaWFsIGF0dHJpYnV0ZVxuICAgICAgICAgICAgLy8gaGFuZGxpbmcuIFRvIGxvb2sgdXAgdGhlIGF0dHJpYnV0ZSB2YWx1ZSB3ZSBhbHNvIG5lZWQgdG8gYWRkXG4gICAgICAgICAgICAvLyB0aGUgc3VmZml4LlxuICAgICAgICAgICAgY29uc3QgYXR0cmlidXRlTG9va3VwTmFtZSA9XG4gICAgICAgICAgICAgICAgbmFtZS50b0xvd2VyQ2FzZSgpICsgYm91bmRBdHRyaWJ1dGVTdWZmaXg7XG4gICAgICAgICAgICBjb25zdCBhdHRyaWJ1dGVWYWx1ZSA9XG4gICAgICAgICAgICAgICAgKG5vZGUgYXMgRWxlbWVudCkuZ2V0QXR0cmlidXRlKGF0dHJpYnV0ZUxvb2t1cE5hbWUpITtcbiAgICAgICAgICAgIChub2RlIGFzIEVsZW1lbnQpLnJlbW92ZUF0dHJpYnV0ZShhdHRyaWJ1dGVMb29rdXBOYW1lKTtcbiAgICAgICAgICAgIGNvbnN0IHN0YXRpY3MgPSBhdHRyaWJ1dGVWYWx1ZS5zcGxpdChtYXJrZXJSZWdleCk7XG4gICAgICAgICAgICB0aGlzLnBhcnRzLnB1c2goe3R5cGU6ICdhdHRyaWJ1dGUnLCBpbmRleCwgbmFtZSwgc3RyaW5nczogc3RhdGljc30pO1xuICAgICAgICAgICAgcGFydEluZGV4ICs9IHN0YXRpY3MubGVuZ3RoIC0gMTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKChub2RlIGFzIEVsZW1lbnQpLnRhZ05hbWUgPT09ICdURU1QTEFURScpIHtcbiAgICAgICAgICBzdGFjay5wdXNoKG5vZGUpO1xuICAgICAgICAgIHdhbGtlci5jdXJyZW50Tm9kZSA9IChub2RlIGFzIEhUTUxUZW1wbGF0ZUVsZW1lbnQpLmNvbnRlbnQ7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAobm9kZS5ub2RlVHlwZSA9PT0gMyAvKiBOb2RlLlRFWFRfTk9ERSAqLykge1xuICAgICAgICBjb25zdCBkYXRhID0gKG5vZGUgYXMgVGV4dCkuZGF0YTtcbiAgICAgICAgaWYgKGRhdGEuaW5kZXhPZihtYXJrZXIpID49IDApIHtcbiAgICAgICAgICBjb25zdCBwYXJlbnQgPSBub2RlLnBhcmVudE5vZGUhO1xuICAgICAgICAgIGNvbnN0IHN0cmluZ3MgPSBkYXRhLnNwbGl0KG1hcmtlclJlZ2V4KTtcbiAgICAgICAgICBjb25zdCBsYXN0SW5kZXggPSBzdHJpbmdzLmxlbmd0aCAtIDE7XG4gICAgICAgICAgLy8gR2VuZXJhdGUgYSBuZXcgdGV4dCBub2RlIGZvciBlYWNoIGxpdGVyYWwgc2VjdGlvblxuICAgICAgICAgIC8vIFRoZXNlIG5vZGVzIGFyZSBhbHNvIHVzZWQgYXMgdGhlIG1hcmtlcnMgZm9yIG5vZGUgcGFydHNcbiAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxhc3RJbmRleDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgaW5zZXJ0OiBOb2RlO1xuICAgICAgICAgICAgbGV0IHMgPSBzdHJpbmdzW2ldO1xuICAgICAgICAgICAgaWYgKHMgPT09ICcnKSB7XG4gICAgICAgICAgICAgIGluc2VydCA9IGNyZWF0ZU1hcmtlcigpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgY29uc3QgbWF0Y2ggPSBsYXN0QXR0cmlidXRlTmFtZVJlZ2V4LmV4ZWMocyk7XG4gICAgICAgICAgICAgIGlmIChtYXRjaCAhPT0gbnVsbCAmJiBlbmRzV2l0aChtYXRjaFsyXSwgYm91bmRBdHRyaWJ1dGVTdWZmaXgpKSB7XG4gICAgICAgICAgICAgICAgcyA9IHMuc2xpY2UoMCwgbWF0Y2guaW5kZXgpICsgbWF0Y2hbMV0gK1xuICAgICAgICAgICAgICAgICAgICBtYXRjaFsyXS5zbGljZSgwLCAtYm91bmRBdHRyaWJ1dGVTdWZmaXgubGVuZ3RoKSArIG1hdGNoWzNdO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGluc2VydCA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcGFyZW50Lmluc2VydEJlZm9yZShpbnNlcnQsIG5vZGUpO1xuICAgICAgICAgICAgdGhpcy5wYXJ0cy5wdXNoKHt0eXBlOiAnbm9kZScsIGluZGV4OiArK2luZGV4fSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIElmIHRoZXJlJ3Mgbm8gdGV4dCwgd2UgbXVzdCBpbnNlcnQgYSBjb21tZW50IHRvIG1hcmsgb3VyIHBsYWNlLlxuICAgICAgICAgIC8vIEVsc2UsIHdlIGNhbiB0cnVzdCBpdCB3aWxsIHN0aWNrIGFyb3VuZCBhZnRlciBjbG9uaW5nLlxuICAgICAgICAgIGlmIChzdHJpbmdzW2xhc3RJbmRleF0gPT09ICcnKSB7XG4gICAgICAgICAgICBwYXJlbnQuaW5zZXJ0QmVmb3JlKGNyZWF0ZU1hcmtlcigpLCBub2RlKTtcbiAgICAgICAgICAgIG5vZGVzVG9SZW1vdmUucHVzaChub2RlKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgKG5vZGUgYXMgVGV4dCkuZGF0YSA9IHN0cmluZ3NbbGFzdEluZGV4XTtcbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gV2UgaGF2ZSBhIHBhcnQgZm9yIGVhY2ggbWF0Y2ggZm91bmRcbiAgICAgICAgICBwYXJ0SW5kZXggKz0gbGFzdEluZGV4O1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKG5vZGUubm9kZVR5cGUgPT09IDggLyogTm9kZS5DT01NRU5UX05PREUgKi8pIHtcbiAgICAgICAgaWYgKChub2RlIGFzIENvbW1lbnQpLmRhdGEgPT09IG1hcmtlcikge1xuICAgICAgICAgIGNvbnN0IHBhcmVudCA9IG5vZGUucGFyZW50Tm9kZSE7XG4gICAgICAgICAgLy8gQWRkIGEgbmV3IG1hcmtlciBub2RlIHRvIGJlIHRoZSBzdGFydE5vZGUgb2YgdGhlIFBhcnQgaWYgYW55IG9mXG4gICAgICAgICAgLy8gdGhlIGZvbGxvd2luZyBhcmUgdHJ1ZTpcbiAgICAgICAgICAvLyAgKiBXZSBkb24ndCBoYXZlIGEgcHJldmlvdXNTaWJsaW5nXG4gICAgICAgICAgLy8gICogVGhlIHByZXZpb3VzU2libGluZyBpcyBhbHJlYWR5IHRoZSBzdGFydCBvZiBhIHByZXZpb3VzIHBhcnRcbiAgICAgICAgICBpZiAobm9kZS5wcmV2aW91c1NpYmxpbmcgPT09IG51bGwgfHwgaW5kZXggPT09IGxhc3RQYXJ0SW5kZXgpIHtcbiAgICAgICAgICAgIGluZGV4Kys7XG4gICAgICAgICAgICBwYXJlbnQuaW5zZXJ0QmVmb3JlKGNyZWF0ZU1hcmtlcigpLCBub2RlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgbGFzdFBhcnRJbmRleCA9IGluZGV4O1xuICAgICAgICAgIHRoaXMucGFydHMucHVzaCh7dHlwZTogJ25vZGUnLCBpbmRleH0pO1xuICAgICAgICAgIC8vIElmIHdlIGRvbid0IGhhdmUgYSBuZXh0U2libGluZywga2VlcCB0aGlzIG5vZGUgc28gd2UgaGF2ZSBhbiBlbmQuXG4gICAgICAgICAgLy8gRWxzZSwgd2UgY2FuIHJlbW92ZSBpdCB0byBzYXZlIGZ1dHVyZSBjb3N0cy5cbiAgICAgICAgICBpZiAobm9kZS5uZXh0U2libGluZyA9PT0gbnVsbCkge1xuICAgICAgICAgICAgKG5vZGUgYXMgQ29tbWVudCkuZGF0YSA9ICcnO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBub2Rlc1RvUmVtb3ZlLnB1c2gobm9kZSk7XG4gICAgICAgICAgICBpbmRleC0tO1xuICAgICAgICAgIH1cbiAgICAgICAgICBwYXJ0SW5kZXgrKztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBsZXQgaSA9IC0xO1xuICAgICAgICAgIHdoaWxlICgoaSA9IChub2RlIGFzIENvbW1lbnQpLmRhdGEuaW5kZXhPZihtYXJrZXIsIGkgKyAxKSkgIT09IC0xKSB7XG4gICAgICAgICAgICAvLyBDb21tZW50IG5vZGUgaGFzIGEgYmluZGluZyBtYXJrZXIgaW5zaWRlLCBtYWtlIGFuIGluYWN0aXZlIHBhcnRcbiAgICAgICAgICAgIC8vIFRoZSBiaW5kaW5nIHdvbid0IHdvcmssIGJ1dCBzdWJzZXF1ZW50IGJpbmRpbmdzIHdpbGxcbiAgICAgICAgICAgIC8vIFRPRE8gKGp1c3RpbmZhZ25hbmkpOiBjb25zaWRlciB3aGV0aGVyIGl0J3MgZXZlbiB3b3J0aCBpdCB0b1xuICAgICAgICAgICAgLy8gbWFrZSBiaW5kaW5ncyBpbiBjb21tZW50cyB3b3JrXG4gICAgICAgICAgICB0aGlzLnBhcnRzLnB1c2goe3R5cGU6ICdub2RlJywgaW5kZXg6IC0xfSk7XG4gICAgICAgICAgICBwYXJ0SW5kZXgrKztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBSZW1vdmUgdGV4dCBiaW5kaW5nIG5vZGVzIGFmdGVyIHRoZSB3YWxrIHRvIG5vdCBkaXN0dXJiIHRoZSBUcmVlV2Fsa2VyXG4gICAgZm9yIChjb25zdCBuIG9mIG5vZGVzVG9SZW1vdmUpIHtcbiAgICAgIG4ucGFyZW50Tm9kZSEucmVtb3ZlQ2hpbGQobik7XG4gICAgfVxuICB9XG59XG5cbmNvbnN0IGVuZHNXaXRoID0gKHN0cjogc3RyaW5nLCBzdWZmaXg6IHN0cmluZyk6IGJvb2xlYW4gPT4ge1xuICBjb25zdCBpbmRleCA9IHN0ci5sZW5ndGggLSBzdWZmaXgubGVuZ3RoO1xuICByZXR1cm4gaW5kZXggPj0gMCAmJiBzdHIuc2xpY2UoaW5kZXgpID09PSBzdWZmaXg7XG59O1xuXG4vKipcbiAqIEEgcGxhY2Vob2xkZXIgZm9yIGEgZHluYW1pYyBleHByZXNzaW9uIGluIGFuIEhUTUwgdGVtcGxhdGUuXG4gKlxuICogVGhlcmUgYXJlIHR3byBidWlsdC1pbiBwYXJ0IHR5cGVzOiBBdHRyaWJ1dGVQYXJ0IGFuZCBOb2RlUGFydC4gTm9kZVBhcnRzXG4gKiBhbHdheXMgcmVwcmVzZW50IGEgc2luZ2xlIGR5bmFtaWMgZXhwcmVzc2lvbiwgd2hpbGUgQXR0cmlidXRlUGFydHMgbWF5XG4gKiByZXByZXNlbnQgYXMgbWFueSBleHByZXNzaW9ucyBhcmUgY29udGFpbmVkIGluIHRoZSBhdHRyaWJ1dGUuXG4gKlxuICogQSBUZW1wbGF0ZSdzIHBhcnRzIGFyZSBtdXRhYmxlLCBzbyBwYXJ0cyBjYW4gYmUgcmVwbGFjZWQgb3IgbW9kaWZpZWRcbiAqIChwb3NzaWJseSB0byBpbXBsZW1lbnQgZGlmZmVyZW50IHRlbXBsYXRlIHNlbWFudGljcykuIFRoZSBjb250cmFjdCBpcyB0aGF0XG4gKiBwYXJ0cyBjYW4gb25seSBiZSByZXBsYWNlZCwgbm90IHJlbW92ZWQsIGFkZGVkIG9yIHJlb3JkZXJlZCwgYW5kIHBhcnRzIG11c3RcbiAqIGFsd2F5cyBjb25zdW1lIHRoZSBjb3JyZWN0IG51bWJlciBvZiB2YWx1ZXMgaW4gdGhlaXIgYHVwZGF0ZSgpYCBtZXRob2QuXG4gKlxuICogVE9ETyhqdXN0aW5mYWduYW5pKTogVGhhdCByZXF1aXJlbWVudCBpcyBhIGxpdHRsZSBmcmFnaWxlLiBBXG4gKiBUZW1wbGF0ZUluc3RhbmNlIGNvdWxkIGluc3RlYWQgYmUgbW9yZSBjYXJlZnVsIGFib3V0IHdoaWNoIHZhbHVlcyBpdCBnaXZlc1xuICogdG8gUGFydC51cGRhdGUoKS5cbiAqL1xuZXhwb3J0IHR5cGUgVGVtcGxhdGVQYXJ0ID0ge1xuICByZWFkb25seSB0eXBlOiAnbm9kZScsXG4gIGluZGV4OiBudW1iZXJcbn18e3JlYWRvbmx5IHR5cGU6ICdhdHRyaWJ1dGUnLCBpbmRleDogbnVtYmVyLCByZWFkb25seSBuYW1lOiBzdHJpbmcsIHJlYWRvbmx5IHN0cmluZ3M6IFJlYWRvbmx5QXJyYXk8c3RyaW5nPn07XG5cbmV4cG9ydCBjb25zdCBpc1RlbXBsYXRlUGFydEFjdGl2ZSA9IChwYXJ0OiBUZW1wbGF0ZVBhcnQpID0+IHBhcnQuaW5kZXggIT09IC0xO1xuXG4vLyBBbGxvd3MgYGRvY3VtZW50LmNyZWF0ZUNvbW1lbnQoJycpYCB0byBiZSByZW5hbWVkIGZvciBhXG4vLyBzbWFsbCBtYW51YWwgc2l6ZS1zYXZpbmdzLlxuZXhwb3J0IGNvbnN0IGNyZWF0ZU1hcmtlciA9ICgpID0+IGRvY3VtZW50LmNyZWF0ZUNvbW1lbnQoJycpO1xuXG4vKipcbiAqIFRoaXMgcmVnZXggZXh0cmFjdHMgdGhlIGF0dHJpYnV0ZSBuYW1lIHByZWNlZGluZyBhbiBhdHRyaWJ1dGUtcG9zaXRpb25cbiAqIGV4cHJlc3Npb24uIEl0IGRvZXMgdGhpcyBieSBtYXRjaGluZyB0aGUgc3ludGF4IGFsbG93ZWQgZm9yIGF0dHJpYnV0ZXNcbiAqIGFnYWluc3QgdGhlIHN0cmluZyBsaXRlcmFsIGRpcmVjdGx5IHByZWNlZGluZyB0aGUgZXhwcmVzc2lvbiwgYXNzdW1pbmcgdGhhdFxuICogdGhlIGV4cHJlc3Npb24gaXMgaW4gYW4gYXR0cmlidXRlLXZhbHVlIHBvc2l0aW9uLlxuICpcbiAqIFNlZSBhdHRyaWJ1dGVzIGluIHRoZSBIVE1MIHNwZWM6XG4gKiBodHRwczovL3d3dy53My5vcmcvVFIvaHRtbDUvc3ludGF4Lmh0bWwjZWxlbWVudHMtYXR0cmlidXRlc1xuICpcbiAqIFwiIFxceDA5XFx4MGFcXHgwY1xceDBkXCIgYXJlIEhUTUwgc3BhY2UgY2hhcmFjdGVyczpcbiAqIGh0dHBzOi8vd3d3LnczLm9yZy9UUi9odG1sNS9pbmZyYXN0cnVjdHVyZS5odG1sI3NwYWNlLWNoYXJhY3RlcnNcbiAqXG4gKiBcIlxcMC1cXHgxRlxceDdGLVxceDlGXCIgYXJlIFVuaWNvZGUgY29udHJvbCBjaGFyYWN0ZXJzLCB3aGljaCBpbmNsdWRlcyBldmVyeVxuICogc3BhY2UgY2hhcmFjdGVyIGV4Y2VwdCBcIiBcIi5cbiAqXG4gKiBTbyBhbiBhdHRyaWJ1dGUgaXM6XG4gKiAgKiBUaGUgbmFtZTogYW55IGNoYXJhY3RlciBleGNlcHQgYSBjb250cm9sIGNoYXJhY3Rlciwgc3BhY2UgY2hhcmFjdGVyLCAoJyksXG4gKiAgICAoXCIpLCBcIj5cIiwgXCI9XCIsIG9yIFwiL1wiXG4gKiAgKiBGb2xsb3dlZCBieSB6ZXJvIG9yIG1vcmUgc3BhY2UgY2hhcmFjdGVyc1xuICogICogRm9sbG93ZWQgYnkgXCI9XCJcbiAqICAqIEZvbGxvd2VkIGJ5IHplcm8gb3IgbW9yZSBzcGFjZSBjaGFyYWN0ZXJzXG4gKiAgKiBGb2xsb3dlZCBieTpcbiAqICAgICogQW55IGNoYXJhY3RlciBleGNlcHQgc3BhY2UsICgnKSwgKFwiKSwgXCI8XCIsIFwiPlwiLCBcIj1cIiwgKGApLCBvclxuICogICAgKiAoXCIpIHRoZW4gYW55IG5vbi0oXCIpLCBvclxuICogICAgKiAoJykgdGhlbiBhbnkgbm9uLSgnKVxuICovXG5leHBvcnQgY29uc3QgbGFzdEF0dHJpYnV0ZU5hbWVSZWdleCA9XG4gICAgLyhbIFxceDA5XFx4MGFcXHgwY1xceDBkXSkoW15cXDAtXFx4MUZcXHg3Ri1cXHg5RiBcIic+PS9dKykoWyBcXHgwOVxceDBhXFx4MGNcXHgwZF0qPVsgXFx4MDlcXHgwYVxceDBjXFx4MGRdKig/OlteIFxceDA5XFx4MGFcXHgwY1xceDBkXCInYDw+PV0qfFwiW15cIl0qfCdbXiddKikpJC87XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTcgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuICogQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbiAqIHN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuICovXG5cbi8qKlxuICogQG1vZHVsZSBsaXQtaHRtbFxuICovXG5cbmltcG9ydCB7aXNDRVBvbHlmaWxsfSBmcm9tICcuL2RvbS5qcyc7XG5pbXBvcnQge1BhcnR9IGZyb20gJy4vcGFydC5qcyc7XG5pbXBvcnQge1JlbmRlck9wdGlvbnN9IGZyb20gJy4vcmVuZGVyLW9wdGlvbnMuanMnO1xuaW1wb3J0IHtUZW1wbGF0ZVByb2Nlc3Nvcn0gZnJvbSAnLi90ZW1wbGF0ZS1wcm9jZXNzb3IuanMnO1xuaW1wb3J0IHtpc1RlbXBsYXRlUGFydEFjdGl2ZSwgVGVtcGxhdGUsIFRlbXBsYXRlUGFydH0gZnJvbSAnLi90ZW1wbGF0ZS5qcyc7XG5cbi8qKlxuICogQW4gaW5zdGFuY2Ugb2YgYSBgVGVtcGxhdGVgIHRoYXQgY2FuIGJlIGF0dGFjaGVkIHRvIHRoZSBET00gYW5kIHVwZGF0ZWRcbiAqIHdpdGggbmV3IHZhbHVlcy5cbiAqL1xuZXhwb3J0IGNsYXNzIFRlbXBsYXRlSW5zdGFuY2Uge1xuICBwcml2YXRlIHJlYWRvbmx5IF9fcGFydHM6IEFycmF5PFBhcnR8dW5kZWZpbmVkPiA9IFtdO1xuICByZWFkb25seSBwcm9jZXNzb3I6IFRlbXBsYXRlUHJvY2Vzc29yO1xuICByZWFkb25seSBvcHRpb25zOiBSZW5kZXJPcHRpb25zO1xuICByZWFkb25seSB0ZW1wbGF0ZTogVGVtcGxhdGU7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgICB0ZW1wbGF0ZTogVGVtcGxhdGUsIHByb2Nlc3NvcjogVGVtcGxhdGVQcm9jZXNzb3IsXG4gICAgICBvcHRpb25zOiBSZW5kZXJPcHRpb25zKSB7XG4gICAgdGhpcy50ZW1wbGF0ZSA9IHRlbXBsYXRlO1xuICAgIHRoaXMucHJvY2Vzc29yID0gcHJvY2Vzc29yO1xuICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gIH1cblxuICB1cGRhdGUodmFsdWVzOiBSZWFkb25seUFycmF5PHVua25vd24+KSB7XG4gICAgbGV0IGkgPSAwO1xuICAgIGZvciAoY29uc3QgcGFydCBvZiB0aGlzLl9fcGFydHMpIHtcbiAgICAgIGlmIChwYXJ0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcGFydC5zZXRWYWx1ZSh2YWx1ZXNbaV0pO1xuICAgICAgfVxuICAgICAgaSsrO1xuICAgIH1cbiAgICBmb3IgKGNvbnN0IHBhcnQgb2YgdGhpcy5fX3BhcnRzKSB7XG4gICAgICBpZiAocGFydCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHBhcnQuY29tbWl0KCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgX2Nsb25lKCk6IERvY3VtZW50RnJhZ21lbnQge1xuICAgIC8vIFRoZXJlIGFyZSBhIG51bWJlciBvZiBzdGVwcyBpbiB0aGUgbGlmZWN5Y2xlIG9mIGEgdGVtcGxhdGUgaW5zdGFuY2Unc1xuICAgIC8vIERPTSBmcmFnbWVudDpcbiAgICAvLyAgMS4gQ2xvbmUgLSBjcmVhdGUgdGhlIGluc3RhbmNlIGZyYWdtZW50XG4gICAgLy8gIDIuIEFkb3B0IC0gYWRvcHQgaW50byB0aGUgbWFpbiBkb2N1bWVudFxuICAgIC8vICAzLiBQcm9jZXNzIC0gZmluZCBwYXJ0IG1hcmtlcnMgYW5kIGNyZWF0ZSBwYXJ0c1xuICAgIC8vICA0LiBVcGdyYWRlIC0gdXBncmFkZSBjdXN0b20gZWxlbWVudHNcbiAgICAvLyAgNS4gVXBkYXRlIC0gc2V0IG5vZGUsIGF0dHJpYnV0ZSwgcHJvcGVydHksIGV0Yy4sIHZhbHVlc1xuICAgIC8vICA2LiBDb25uZWN0IC0gY29ubmVjdCB0byB0aGUgZG9jdW1lbnQuIE9wdGlvbmFsIGFuZCBvdXRzaWRlIG9mIHRoaXNcbiAgICAvLyAgICAgbWV0aG9kLlxuICAgIC8vXG4gICAgLy8gV2UgaGF2ZSBhIGZldyBjb25zdHJhaW50cyBvbiB0aGUgb3JkZXJpbmcgb2YgdGhlc2Ugc3RlcHM6XG4gICAgLy8gICogV2UgbmVlZCB0byB1cGdyYWRlIGJlZm9yZSB1cGRhdGluZywgc28gdGhhdCBwcm9wZXJ0eSB2YWx1ZXMgd2lsbCBwYXNzXG4gICAgLy8gICAgdGhyb3VnaCBhbnkgcHJvcGVydHkgc2V0dGVycy5cbiAgICAvLyAgKiBXZSB3b3VsZCBsaWtlIHRvIHByb2Nlc3MgYmVmb3JlIHVwZ3JhZGluZyBzbyB0aGF0IHdlJ3JlIHN1cmUgdGhhdCB0aGVcbiAgICAvLyAgICBjbG9uZWQgZnJhZ21lbnQgaXMgaW5lcnQgYW5kIG5vdCBkaXN0dXJiZWQgYnkgc2VsZi1tb2RpZnlpbmcgRE9NLlxuICAgIC8vICAqIFdlIHdhbnQgY3VzdG9tIGVsZW1lbnRzIHRvIHVwZ3JhZGUgZXZlbiBpbiBkaXNjb25uZWN0ZWQgZnJhZ21lbnRzLlxuICAgIC8vXG4gICAgLy8gR2l2ZW4gdGhlc2UgY29uc3RyYWludHMsIHdpdGggZnVsbCBjdXN0b20gZWxlbWVudHMgc3VwcG9ydCB3ZSB3b3VsZFxuICAgIC8vIHByZWZlciB0aGUgb3JkZXI6IENsb25lLCBQcm9jZXNzLCBBZG9wdCwgVXBncmFkZSwgVXBkYXRlLCBDb25uZWN0XG4gICAgLy9cbiAgICAvLyBCdXQgU2FmYXJpIGRvb2VzIG5vdCBpbXBsZW1lbnQgQ3VzdG9tRWxlbWVudFJlZ2lzdHJ5I3VwZ3JhZGUsIHNvIHdlXG4gICAgLy8gY2FuIG5vdCBpbXBsZW1lbnQgdGhhdCBvcmRlciBhbmQgc3RpbGwgaGF2ZSB1cGdyYWRlLWJlZm9yZS11cGRhdGUgYW5kXG4gICAgLy8gdXBncmFkZSBkaXNjb25uZWN0ZWQgZnJhZ21lbnRzLiBTbyB3ZSBpbnN0ZWFkIHNhY3JpZmljZSB0aGVcbiAgICAvLyBwcm9jZXNzLWJlZm9yZS11cGdyYWRlIGNvbnN0cmFpbnQsIHNpbmNlIGluIEN1c3RvbSBFbGVtZW50cyB2MSBlbGVtZW50c1xuICAgIC8vIG11c3Qgbm90IG1vZGlmeSB0aGVpciBsaWdodCBET00gaW4gdGhlIGNvbnN0cnVjdG9yLiBXZSBzdGlsbCBoYXZlIGlzc3Vlc1xuICAgIC8vIHdoZW4gY28tZXhpc3Rpbmcgd2l0aCBDRXYwIGVsZW1lbnRzIGxpa2UgUG9seW1lciAxLCBhbmQgd2l0aCBwb2x5ZmlsbHNcbiAgICAvLyB0aGF0IGRvbid0IHN0cmljdGx5IGFkaGVyZSB0byB0aGUgbm8tbW9kaWZpY2F0aW9uIHJ1bGUgYmVjYXVzZSBzaGFkb3dcbiAgICAvLyBET00sIHdoaWNoIG1heSBiZSBjcmVhdGVkIGluIHRoZSBjb25zdHJ1Y3RvciwgaXMgZW11bGF0ZWQgYnkgYmVpbmcgcGxhY2VkXG4gICAgLy8gaW4gdGhlIGxpZ2h0IERPTS5cbiAgICAvL1xuICAgIC8vIFRoZSByZXN1bHRpbmcgb3JkZXIgaXMgb24gbmF0aXZlIGlzOiBDbG9uZSwgQWRvcHQsIFVwZ3JhZGUsIFByb2Nlc3MsXG4gICAgLy8gVXBkYXRlLCBDb25uZWN0LiBkb2N1bWVudC5pbXBvcnROb2RlKCkgcGVyZm9ybXMgQ2xvbmUsIEFkb3B0LCBhbmQgVXBncmFkZVxuICAgIC8vIGluIG9uZSBzdGVwLlxuICAgIC8vXG4gICAgLy8gVGhlIEN1c3RvbSBFbGVtZW50cyB2MSBwb2x5ZmlsbCBzdXBwb3J0cyB1cGdyYWRlKCksIHNvIHRoZSBvcmRlciB3aGVuXG4gICAgLy8gcG9seWZpbGxlZCBpcyB0aGUgbW9yZSBpZGVhbDogQ2xvbmUsIFByb2Nlc3MsIEFkb3B0LCBVcGdyYWRlLCBVcGRhdGUsXG4gICAgLy8gQ29ubmVjdC5cblxuICAgIGNvbnN0IGZyYWdtZW50ID0gaXNDRVBvbHlmaWxsID9cbiAgICAgICAgdGhpcy50ZW1wbGF0ZS5lbGVtZW50LmNvbnRlbnQuY2xvbmVOb2RlKHRydWUpIGFzIERvY3VtZW50RnJhZ21lbnQgOlxuICAgICAgICBkb2N1bWVudC5pbXBvcnROb2RlKHRoaXMudGVtcGxhdGUuZWxlbWVudC5jb250ZW50LCB0cnVlKTtcblxuICAgIGNvbnN0IHN0YWNrOiBOb2RlW10gPSBbXTtcbiAgICBjb25zdCBwYXJ0cyA9IHRoaXMudGVtcGxhdGUucGFydHM7XG4gICAgLy8gRWRnZSBuZWVkcyBhbGwgNCBwYXJhbWV0ZXJzIHByZXNlbnQ7IElFMTEgbmVlZHMgM3JkIHBhcmFtZXRlciB0byBiZSBudWxsXG4gICAgY29uc3Qgd2Fsa2VyID0gZG9jdW1lbnQuY3JlYXRlVHJlZVdhbGtlcihcbiAgICAgICAgZnJhZ21lbnQsXG4gICAgICAgIDEzMyAvKiBOb2RlRmlsdGVyLlNIT1dfe0VMRU1FTlR8Q09NTUVOVHxURVhUfSAqLyxcbiAgICAgICAgbnVsbCxcbiAgICAgICAgZmFsc2UpO1xuICAgIGxldCBwYXJ0SW5kZXggPSAwO1xuICAgIGxldCBub2RlSW5kZXggPSAwO1xuICAgIGxldCBwYXJ0OiBUZW1wbGF0ZVBhcnQ7XG4gICAgbGV0IG5vZGUgPSB3YWxrZXIubmV4dE5vZGUoKTtcbiAgICAvLyBMb29wIHRocm91Z2ggYWxsIHRoZSBub2RlcyBhbmQgcGFydHMgb2YgYSB0ZW1wbGF0ZVxuICAgIHdoaWxlIChwYXJ0SW5kZXggPCBwYXJ0cy5sZW5ndGgpIHtcbiAgICAgIHBhcnQgPSBwYXJ0c1twYXJ0SW5kZXhdO1xuICAgICAgaWYgKCFpc1RlbXBsYXRlUGFydEFjdGl2ZShwYXJ0KSkge1xuICAgICAgICB0aGlzLl9fcGFydHMucHVzaCh1bmRlZmluZWQpO1xuICAgICAgICBwYXJ0SW5kZXgrKztcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIC8vIFByb2dyZXNzIHRoZSB0cmVlIHdhbGtlciB1bnRpbCB3ZSBmaW5kIG91ciBuZXh0IHBhcnQncyBub2RlLlxuICAgICAgLy8gTm90ZSB0aGF0IG11bHRpcGxlIHBhcnRzIG1heSBzaGFyZSB0aGUgc2FtZSBub2RlIChhdHRyaWJ1dGUgcGFydHNcbiAgICAgIC8vIG9uIGEgc2luZ2xlIGVsZW1lbnQpLCBzbyB0aGlzIGxvb3AgbWF5IG5vdCBydW4gYXQgYWxsLlxuICAgICAgd2hpbGUgKG5vZGVJbmRleCA8IHBhcnQuaW5kZXgpIHtcbiAgICAgICAgbm9kZUluZGV4Kys7XG4gICAgICAgIGlmIChub2RlIS5ub2RlTmFtZSA9PT0gJ1RFTVBMQVRFJykge1xuICAgICAgICAgIHN0YWNrLnB1c2gobm9kZSEpO1xuICAgICAgICAgIHdhbGtlci5jdXJyZW50Tm9kZSA9IChub2RlIGFzIEhUTUxUZW1wbGF0ZUVsZW1lbnQpLmNvbnRlbnQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKChub2RlID0gd2Fsa2VyLm5leHROb2RlKCkpID09PSBudWxsKSB7XG4gICAgICAgICAgLy8gV2UndmUgZXhoYXVzdGVkIHRoZSBjb250ZW50IGluc2lkZSBhIG5lc3RlZCB0ZW1wbGF0ZSBlbGVtZW50LlxuICAgICAgICAgIC8vIEJlY2F1c2Ugd2Ugc3RpbGwgaGF2ZSBwYXJ0cyAodGhlIG91dGVyIGZvci1sb29wKSwgd2Uga25vdzpcbiAgICAgICAgICAvLyAtIFRoZXJlIGlzIGEgdGVtcGxhdGUgaW4gdGhlIHN0YWNrXG4gICAgICAgICAgLy8gLSBUaGUgd2Fsa2VyIHdpbGwgZmluZCBhIG5leHROb2RlIG91dHNpZGUgdGhlIHRlbXBsYXRlXG4gICAgICAgICAgd2Fsa2VyLmN1cnJlbnROb2RlID0gc3RhY2sucG9wKCkhO1xuICAgICAgICAgIG5vZGUgPSB3YWxrZXIubmV4dE5vZGUoKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBXZSd2ZSBhcnJpdmVkIGF0IG91ciBwYXJ0J3Mgbm9kZS5cbiAgICAgIGlmIChwYXJ0LnR5cGUgPT09ICdub2RlJykge1xuICAgICAgICBjb25zdCBwYXJ0ID0gdGhpcy5wcm9jZXNzb3IuaGFuZGxlVGV4dEV4cHJlc3Npb24odGhpcy5vcHRpb25zKTtcbiAgICAgICAgcGFydC5pbnNlcnRBZnRlck5vZGUobm9kZSEucHJldmlvdXNTaWJsaW5nISk7XG4gICAgICAgIHRoaXMuX19wYXJ0cy5wdXNoKHBhcnQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5fX3BhcnRzLnB1c2goLi4udGhpcy5wcm9jZXNzb3IuaGFuZGxlQXR0cmlidXRlRXhwcmVzc2lvbnMoXG4gICAgICAgICAgICBub2RlIGFzIEVsZW1lbnQsIHBhcnQubmFtZSwgcGFydC5zdHJpbmdzLCB0aGlzLm9wdGlvbnMpKTtcbiAgICAgIH1cbiAgICAgIHBhcnRJbmRleCsrO1xuICAgIH1cblxuICAgIGlmIChpc0NFUG9seWZpbGwpIHtcbiAgICAgIGRvY3VtZW50LmFkb3B0Tm9kZShmcmFnbWVudCk7XG4gICAgICBjdXN0b21FbGVtZW50cy51cGdyYWRlKGZyYWdtZW50KTtcbiAgICB9XG4gICAgcmV0dXJuIGZyYWdtZW50O1xuICB9XG59XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTcgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuICogQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbiAqIHN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuICovXG5cbi8qKlxuICogQG1vZHVsZSBsaXQtaHRtbFxuICovXG5cbmltcG9ydCB7cmVwYXJlbnROb2Rlc30gZnJvbSAnLi9kb20uanMnO1xuaW1wb3J0IHtUZW1wbGF0ZVByb2Nlc3Nvcn0gZnJvbSAnLi90ZW1wbGF0ZS1wcm9jZXNzb3IuanMnO1xuaW1wb3J0IHtib3VuZEF0dHJpYnV0ZVN1ZmZpeCwgbGFzdEF0dHJpYnV0ZU5hbWVSZWdleCwgbWFya2VyLCBub2RlTWFya2VyfSBmcm9tICcuL3RlbXBsYXRlLmpzJztcblxuLyoqXG4gKiBUaGUgcmV0dXJuIHR5cGUgb2YgYGh0bWxgLCB3aGljaCBob2xkcyBhIFRlbXBsYXRlIGFuZCB0aGUgdmFsdWVzIGZyb21cbiAqIGludGVycG9sYXRlZCBleHByZXNzaW9ucy5cbiAqL1xuZXhwb3J0IGNsYXNzIFRlbXBsYXRlUmVzdWx0IHtcbiAgcmVhZG9ubHkgc3RyaW5nczogVGVtcGxhdGVTdHJpbmdzQXJyYXk7XG4gIHJlYWRvbmx5IHZhbHVlczogUmVhZG9ubHlBcnJheTx1bmtub3duPjtcbiAgcmVhZG9ubHkgdHlwZTogc3RyaW5nO1xuICByZWFkb25seSBwcm9jZXNzb3I6IFRlbXBsYXRlUHJvY2Vzc29yO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgICAgc3RyaW5nczogVGVtcGxhdGVTdHJpbmdzQXJyYXksIHZhbHVlczogUmVhZG9ubHlBcnJheTx1bmtub3duPixcbiAgICAgIHR5cGU6IHN0cmluZywgcHJvY2Vzc29yOiBUZW1wbGF0ZVByb2Nlc3Nvcikge1xuICAgIHRoaXMuc3RyaW5ncyA9IHN0cmluZ3M7XG4gICAgdGhpcy52YWx1ZXMgPSB2YWx1ZXM7XG4gICAgdGhpcy50eXBlID0gdHlwZTtcbiAgICB0aGlzLnByb2Nlc3NvciA9IHByb2Nlc3NvcjtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgc3RyaW5nIG9mIEhUTUwgdXNlZCB0byBjcmVhdGUgYSBgPHRlbXBsYXRlPmAgZWxlbWVudC5cbiAgICovXG4gIGdldEhUTUwoKTogc3RyaW5nIHtcbiAgICBjb25zdCBsID0gdGhpcy5zdHJpbmdzLmxlbmd0aCAtIDE7XG4gICAgbGV0IGh0bWwgPSAnJztcbiAgICBsZXQgaXNDb21tZW50QmluZGluZyA9IGZhbHNlO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsOyBpKyspIHtcbiAgICAgIGNvbnN0IHMgPSB0aGlzLnN0cmluZ3NbaV07XG4gICAgICAvLyBGb3IgZWFjaCBiaW5kaW5nIHdlIHdhbnQgdG8gZGV0ZXJtaW5lIHRoZSBraW5kIG9mIG1hcmtlciB0byBpbnNlcnRcbiAgICAgIC8vIGludG8gdGhlIHRlbXBsYXRlIHNvdXJjZSBiZWZvcmUgaXQncyBwYXJzZWQgYnkgdGhlIGJyb3dzZXIncyBIVE1MXG4gICAgICAvLyBwYXJzZXIuIFRoZSBtYXJrZXIgdHlwZSBpcyBiYXNlZCBvbiB3aGV0aGVyIHRoZSBleHByZXNzaW9uIGlzIGluIGFuXG4gICAgICAvLyBhdHRyaWJ1dGUsIHRleHQsIG9yIGNvbW1lbnQgcG9pc2l0aW9uLlxuICAgICAgLy8gICAqIEZvciBub2RlLXBvc2l0aW9uIGJpbmRpbmdzIHdlIGluc2VydCBhIGNvbW1lbnQgd2l0aCB0aGUgbWFya2VyXG4gICAgICAvLyAgICAgc2VudGluZWwgYXMgaXRzIHRleHQgY29udGVudCwgbGlrZSA8IS0te3tsaXQtZ3VpZH19LS0+LlxuICAgICAgLy8gICAqIEZvciBhdHRyaWJ1dGUgYmluZGluZ3Mgd2UgaW5zZXJ0IGp1c3QgdGhlIG1hcmtlciBzZW50aW5lbCBmb3IgdGhlXG4gICAgICAvLyAgICAgZmlyc3QgYmluZGluZywgc28gdGhhdCB3ZSBzdXBwb3J0IHVucXVvdGVkIGF0dHJpYnV0ZSBiaW5kaW5ncy5cbiAgICAgIC8vICAgICBTdWJzZXF1ZW50IGJpbmRpbmdzIGNhbiB1c2UgYSBjb21tZW50IG1hcmtlciBiZWNhdXNlIG11bHRpLWJpbmRpbmdcbiAgICAgIC8vICAgICBhdHRyaWJ1dGVzIG11c3QgYmUgcXVvdGVkLlxuICAgICAgLy8gICAqIEZvciBjb21tZW50IGJpbmRpbmdzIHdlIGluc2VydCBqdXN0IHRoZSBtYXJrZXIgc2VudGluZWwgc28gd2UgZG9uJ3RcbiAgICAgIC8vICAgICBjbG9zZSB0aGUgY29tbWVudC5cbiAgICAgIC8vXG4gICAgICAvLyBUaGUgZm9sbG93aW5nIGNvZGUgc2NhbnMgdGhlIHRlbXBsYXRlIHNvdXJjZSwgYnV0IGlzICpub3QqIGFuIEhUTUxcbiAgICAgIC8vIHBhcnNlci4gV2UgZG9uJ3QgbmVlZCB0byB0cmFjayB0aGUgdHJlZSBzdHJ1Y3R1cmUgb2YgdGhlIEhUTUwsIG9ubHlcbiAgICAgIC8vIHdoZXRoZXIgYSBiaW5kaW5nIGlzIGluc2lkZSBhIGNvbW1lbnQsIGFuZCBpZiBub3QsIGlmIGl0IGFwcGVhcnMgdG8gYmVcbiAgICAgIC8vIHRoZSBmaXJzdCBiaW5kaW5nIGluIGFuIGF0dHJpYnV0ZS5cbiAgICAgIGNvbnN0IGNvbW1lbnRPcGVuID0gcy5sYXN0SW5kZXhPZignPCEtLScpO1xuICAgICAgLy8gV2UncmUgaW4gY29tbWVudCBwb3NpdGlvbiBpZiB3ZSBoYXZlIGEgY29tbWVudCBvcGVuIHdpdGggbm8gZm9sbG93aW5nXG4gICAgICAvLyBjb21tZW50IGNsb3NlLiBCZWNhdXNlIDwtLSBjYW4gYXBwZWFyIGluIGFuIGF0dHJpYnV0ZSB2YWx1ZSB0aGVyZSBjYW5cbiAgICAgIC8vIGJlIGZhbHNlIHBvc2l0aXZlcy5cbiAgICAgIGlzQ29tbWVudEJpbmRpbmcgPSAoY29tbWVudE9wZW4gPiAtMSB8fCBpc0NvbW1lbnRCaW5kaW5nKSAmJlxuICAgICAgICAgIHMuaW5kZXhPZignLS0+JywgY29tbWVudE9wZW4gKyAxKSA9PT0gLTE7XG4gICAgICAvLyBDaGVjayB0byBzZWUgaWYgd2UgaGF2ZSBhbiBhdHRyaWJ1dGUtbGlrZSBzZXF1ZW5jZSBwcmVjZWVkaW5nIHRoZVxuICAgICAgLy8gZXhwcmVzc2lvbi4gVGhpcyBjYW4gbWF0Y2ggXCJuYW1lPXZhbHVlXCIgbGlrZSBzdHJ1Y3R1cmVzIGluIHRleHQsXG4gICAgICAvLyBjb21tZW50cywgYW5kIGF0dHJpYnV0ZSB2YWx1ZXMsIHNvIHRoZXJlIGNhbiBiZSBmYWxzZS1wb3NpdGl2ZXMuXG4gICAgICBjb25zdCBhdHRyaWJ1dGVNYXRjaCA9IGxhc3RBdHRyaWJ1dGVOYW1lUmVnZXguZXhlYyhzKTtcbiAgICAgIGlmIChhdHRyaWJ1dGVNYXRjaCA9PT0gbnVsbCkge1xuICAgICAgICAvLyBXZSdyZSBvbmx5IGluIHRoaXMgYnJhbmNoIGlmIHdlIGRvbid0IGhhdmUgYSBhdHRyaWJ1dGUtbGlrZVxuICAgICAgICAvLyBwcmVjZWVkaW5nIHNlcXVlbmNlLiBGb3IgY29tbWVudHMsIHRoaXMgZ3VhcmRzIGFnYWluc3QgdW51c3VhbFxuICAgICAgICAvLyBhdHRyaWJ1dGUgdmFsdWVzIGxpa2UgPGRpdiBmb289XCI8IS0tJHsnYmFyJ31cIj4uIENhc2VzIGxpa2VcbiAgICAgICAgLy8gPCEtLSBmb289JHsnYmFyJ30tLT4gYXJlIGhhbmRsZWQgY29ycmVjdGx5IGluIHRoZSBhdHRyaWJ1dGUgYnJhbmNoXG4gICAgICAgIC8vIGJlbG93LlxuICAgICAgICBodG1sICs9IHMgKyAoaXNDb21tZW50QmluZGluZyA/IG1hcmtlciA6IG5vZGVNYXJrZXIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gRm9yIGF0dHJpYnV0ZXMgd2UgdXNlIGp1c3QgYSBtYXJrZXIgc2VudGluZWwsIGFuZCBhbHNvIGFwcGVuZCBhXG4gICAgICAgIC8vICRsaXQkIHN1ZmZpeCB0byB0aGUgbmFtZSB0byBvcHQtb3V0IG9mIGF0dHJpYnV0ZS1zcGVjaWZpYyBwYXJzaW5nXG4gICAgICAgIC8vIHRoYXQgSUUgYW5kIEVkZ2UgZG8gZm9yIHN0eWxlIGFuZCBjZXJ0YWluIFNWRyBhdHRyaWJ1dGVzLlxuICAgICAgICBodG1sICs9IHMuc3Vic3RyKDAsIGF0dHJpYnV0ZU1hdGNoLmluZGV4KSArIGF0dHJpYnV0ZU1hdGNoWzFdICtcbiAgICAgICAgICAgIGF0dHJpYnV0ZU1hdGNoWzJdICsgYm91bmRBdHRyaWJ1dGVTdWZmaXggKyBhdHRyaWJ1dGVNYXRjaFszXSArXG4gICAgICAgICAgICBtYXJrZXI7XG4gICAgICB9XG4gICAgfVxuICAgIGh0bWwgKz0gdGhpcy5zdHJpbmdzW2xdO1xuICAgIHJldHVybiBodG1sO1xuICB9XG5cbiAgZ2V0VGVtcGxhdGVFbGVtZW50KCk6IEhUTUxUZW1wbGF0ZUVsZW1lbnQge1xuICAgIGNvbnN0IHRlbXBsYXRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGVtcGxhdGUnKTtcbiAgICB0ZW1wbGF0ZS5pbm5lckhUTUwgPSB0aGlzLmdldEhUTUwoKTtcbiAgICByZXR1cm4gdGVtcGxhdGU7XG4gIH1cbn1cblxuLyoqXG4gKiBBIFRlbXBsYXRlUmVzdWx0IGZvciBTVkcgZnJhZ21lbnRzLlxuICpcbiAqIFRoaXMgY2xhc3Mgd3JhcHMgSFRNTCBpbiBhbiBgPHN2Zz5gIHRhZyBpbiBvcmRlciB0byBwYXJzZSBpdHMgY29udGVudHMgaW4gdGhlXG4gKiBTVkcgbmFtZXNwYWNlLCB0aGVuIG1vZGlmaWVzIHRoZSB0ZW1wbGF0ZSB0byByZW1vdmUgdGhlIGA8c3ZnPmAgdGFnIHNvIHRoYXRcbiAqIGNsb25lcyBvbmx5IGNvbnRhaW5lciB0aGUgb3JpZ2luYWwgZnJhZ21lbnQuXG4gKi9cbmV4cG9ydCBjbGFzcyBTVkdUZW1wbGF0ZVJlc3VsdCBleHRlbmRzIFRlbXBsYXRlUmVzdWx0IHtcbiAgZ2V0SFRNTCgpOiBzdHJpbmcge1xuICAgIHJldHVybiBgPHN2Zz4ke3N1cGVyLmdldEhUTUwoKX08L3N2Zz5gO1xuICB9XG5cbiAgZ2V0VGVtcGxhdGVFbGVtZW50KCk6IEhUTUxUZW1wbGF0ZUVsZW1lbnQge1xuICAgIGNvbnN0IHRlbXBsYXRlID0gc3VwZXIuZ2V0VGVtcGxhdGVFbGVtZW50KCk7XG4gICAgY29uc3QgY29udGVudCA9IHRlbXBsYXRlLmNvbnRlbnQ7XG4gICAgY29uc3Qgc3ZnRWxlbWVudCA9IGNvbnRlbnQuZmlyc3RDaGlsZCE7XG4gICAgY29udGVudC5yZW1vdmVDaGlsZChzdmdFbGVtZW50KTtcbiAgICByZXBhcmVudE5vZGVzKGNvbnRlbnQsIHN2Z0VsZW1lbnQuZmlyc3RDaGlsZCk7XG4gICAgcmV0dXJuIHRlbXBsYXRlO1xuICB9XG59XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTcgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuICogQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbiAqIHN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuICovXG5cbi8qKlxuICogQG1vZHVsZSBsaXQtaHRtbFxuICovXG5cbmltcG9ydCB7aXNEaXJlY3RpdmV9IGZyb20gJy4vZGlyZWN0aXZlLmpzJztcbmltcG9ydCB7cmVtb3ZlTm9kZXN9IGZyb20gJy4vZG9tLmpzJztcbmltcG9ydCB7bm9DaGFuZ2UsIG5vdGhpbmcsIFBhcnR9IGZyb20gJy4vcGFydC5qcyc7XG5pbXBvcnQge1JlbmRlck9wdGlvbnN9IGZyb20gJy4vcmVuZGVyLW9wdGlvbnMuanMnO1xuaW1wb3J0IHtUZW1wbGF0ZUluc3RhbmNlfSBmcm9tICcuL3RlbXBsYXRlLWluc3RhbmNlLmpzJztcbmltcG9ydCB7VGVtcGxhdGVSZXN1bHR9IGZyb20gJy4vdGVtcGxhdGUtcmVzdWx0LmpzJztcbmltcG9ydCB7Y3JlYXRlTWFya2VyfSBmcm9tICcuL3RlbXBsYXRlLmpzJztcblxuLy8gaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9lY21hMjYyLyNzZWMtdHlwZW9mLW9wZXJhdG9yXG5leHBvcnQgdHlwZSBQcmltaXRpdmUgPSBudWxsfHVuZGVmaW5lZHxib29sZWFufG51bWJlcnxzdHJpbmd8U3ltYm9sfGJpZ2ludDtcbmV4cG9ydCBjb25zdCBpc1ByaW1pdGl2ZSA9ICh2YWx1ZTogdW5rbm93bik6IHZhbHVlIGlzIFByaW1pdGl2ZSA9PiB7XG4gIHJldHVybiAoXG4gICAgICB2YWx1ZSA9PT0gbnVsbCB8fFxuICAgICAgISh0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnIHx8IHR5cGVvZiB2YWx1ZSA9PT0gJ2Z1bmN0aW9uJykpO1xufTtcbmV4cG9ydCBjb25zdCBpc0l0ZXJhYmxlID0gKHZhbHVlOiB1bmtub3duKTogdmFsdWUgaXMgSXRlcmFibGU8dW5rbm93bj4gPT4ge1xuICByZXR1cm4gQXJyYXkuaXNBcnJheSh2YWx1ZSkgfHxcbiAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby1hbnlcbiAgICAgICEhKHZhbHVlICYmICh2YWx1ZSBhcyBhbnkpW1N5bWJvbC5pdGVyYXRvcl0pO1xufTtcblxuLyoqXG4gKiBXcml0ZXMgYXR0cmlidXRlIHZhbHVlcyB0byB0aGUgRE9NIGZvciBhIGdyb3VwIG9mIEF0dHJpYnV0ZVBhcnRzIGJvdW5kIHRvIGFcbiAqIHNpbmdsZSBhdHRpYnV0ZS4gVGhlIHZhbHVlIGlzIG9ubHkgc2V0IG9uY2UgZXZlbiBpZiB0aGVyZSBhcmUgbXVsdGlwbGUgcGFydHNcbiAqIGZvciBhbiBhdHRyaWJ1dGUuXG4gKi9cbmV4cG9ydCBjbGFzcyBBdHRyaWJ1dGVDb21taXR0ZXIge1xuICByZWFkb25seSBlbGVtZW50OiBFbGVtZW50O1xuICByZWFkb25seSBuYW1lOiBzdHJpbmc7XG4gIHJlYWRvbmx5IHN0cmluZ3M6IFJlYWRvbmx5QXJyYXk8c3RyaW5nPjtcbiAgcmVhZG9ubHkgcGFydHM6IFJlYWRvbmx5QXJyYXk8QXR0cmlidXRlUGFydD47XG4gIGRpcnR5ID0gdHJ1ZTtcblxuICBjb25zdHJ1Y3RvcihlbGVtZW50OiBFbGVtZW50LCBuYW1lOiBzdHJpbmcsIHN0cmluZ3M6IFJlYWRvbmx5QXJyYXk8c3RyaW5nPikge1xuICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICB0aGlzLnN0cmluZ3MgPSBzdHJpbmdzO1xuICAgIHRoaXMucGFydHMgPSBbXTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHN0cmluZ3MubGVuZ3RoIC0gMTsgaSsrKSB7XG4gICAgICAodGhpcy5wYXJ0cyBhcyBBdHRyaWJ1dGVQYXJ0W10pW2ldID0gdGhpcy5fY3JlYXRlUGFydCgpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgc2luZ2xlIHBhcnQuIE92ZXJyaWRlIHRoaXMgdG8gY3JlYXRlIGEgZGlmZmVybnQgdHlwZSBvZiBwYXJ0LlxuICAgKi9cbiAgcHJvdGVjdGVkIF9jcmVhdGVQYXJ0KCk6IEF0dHJpYnV0ZVBhcnQge1xuICAgIHJldHVybiBuZXcgQXR0cmlidXRlUGFydCh0aGlzKTtcbiAgfVxuXG4gIHByb3RlY3RlZCBfZ2V0VmFsdWUoKTogdW5rbm93biB7XG4gICAgY29uc3Qgc3RyaW5ncyA9IHRoaXMuc3RyaW5ncztcbiAgICBjb25zdCBsID0gc3RyaW5ncy5sZW5ndGggLSAxO1xuICAgIGxldCB0ZXh0ID0gJyc7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGw7IGkrKykge1xuICAgICAgdGV4dCArPSBzdHJpbmdzW2ldO1xuICAgICAgY29uc3QgcGFydCA9IHRoaXMucGFydHNbaV07XG4gICAgICBpZiAocGFydCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnN0IHYgPSBwYXJ0LnZhbHVlO1xuICAgICAgICBpZiAoaXNQcmltaXRpdmUodikgfHwgIWlzSXRlcmFibGUodikpIHtcbiAgICAgICAgICB0ZXh0ICs9IHR5cGVvZiB2ID09PSAnc3RyaW5nJyA/IHYgOiBTdHJpbmcodik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZm9yIChjb25zdCB0IG9mIHYpIHtcbiAgICAgICAgICAgIHRleHQgKz0gdHlwZW9mIHQgPT09ICdzdHJpbmcnID8gdCA6IFN0cmluZyh0KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICB0ZXh0ICs9IHN0cmluZ3NbbF07XG4gICAgcmV0dXJuIHRleHQ7XG4gIH1cblxuICBjb21taXQoKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuZGlydHkpIHtcbiAgICAgIHRoaXMuZGlydHkgPSBmYWxzZTtcbiAgICAgIHRoaXMuZWxlbWVudC5zZXRBdHRyaWJ1dGUodGhpcy5uYW1lLCB0aGlzLl9nZXRWYWx1ZSgpIGFzIHN0cmluZyk7XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogQSBQYXJ0IHRoYXQgY29udHJvbHMgYWxsIG9yIHBhcnQgb2YgYW4gYXR0cmlidXRlIHZhbHVlLlxuICovXG5leHBvcnQgY2xhc3MgQXR0cmlidXRlUGFydCBpbXBsZW1lbnRzIFBhcnQge1xuICByZWFkb25seSBjb21taXR0ZXI6IEF0dHJpYnV0ZUNvbW1pdHRlcjtcbiAgdmFsdWU6IHVua25vd24gPSB1bmRlZmluZWQ7XG5cbiAgY29uc3RydWN0b3IoY29tbWl0dGVyOiBBdHRyaWJ1dGVDb21taXR0ZXIpIHtcbiAgICB0aGlzLmNvbW1pdHRlciA9IGNvbW1pdHRlcjtcbiAgfVxuXG4gIHNldFZhbHVlKHZhbHVlOiB1bmtub3duKTogdm9pZCB7XG4gICAgaWYgKHZhbHVlICE9PSBub0NoYW5nZSAmJiAoIWlzUHJpbWl0aXZlKHZhbHVlKSB8fCB2YWx1ZSAhPT0gdGhpcy52YWx1ZSkpIHtcbiAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgICAgIC8vIElmIHRoZSB2YWx1ZSBpcyBhIG5vdCBhIGRpcmVjdGl2ZSwgZGlydHkgdGhlIGNvbW1pdHRlciBzbyB0aGF0IGl0J2xsXG4gICAgICAvLyBjYWxsIHNldEF0dHJpYnV0ZS4gSWYgdGhlIHZhbHVlIGlzIGEgZGlyZWN0aXZlLCBpdCdsbCBkaXJ0eSB0aGVcbiAgICAgIC8vIGNvbW1pdHRlciBpZiBpdCBjYWxscyBzZXRWYWx1ZSgpLlxuICAgICAgaWYgKCFpc0RpcmVjdGl2ZSh2YWx1ZSkpIHtcbiAgICAgICAgdGhpcy5jb21taXR0ZXIuZGlydHkgPSB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGNvbW1pdCgpIHtcbiAgICB3aGlsZSAoaXNEaXJlY3RpdmUodGhpcy52YWx1ZSkpIHtcbiAgICAgIGNvbnN0IGRpcmVjdGl2ZSA9IHRoaXMudmFsdWU7XG4gICAgICB0aGlzLnZhbHVlID0gbm9DaGFuZ2U7XG4gICAgICBkaXJlY3RpdmUodGhpcyk7XG4gICAgfVxuICAgIGlmICh0aGlzLnZhbHVlID09PSBub0NoYW5nZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLmNvbW1pdHRlci5jb21taXQoKTtcbiAgfVxufVxuXG4vKipcbiAqIEEgUGFydCB0aGF0IGNvbnRyb2xzIGEgbG9jYXRpb24gd2l0aGluIGEgTm9kZSB0cmVlLiBMaWtlIGEgUmFuZ2UsIE5vZGVQYXJ0XG4gKiBoYXMgc3RhcnQgYW5kIGVuZCBsb2NhdGlvbnMgYW5kIGNhbiBzZXQgYW5kIHVwZGF0ZSB0aGUgTm9kZXMgYmV0d2VlbiB0aG9zZVxuICogbG9jYXRpb25zLlxuICpcbiAqIE5vZGVQYXJ0cyBzdXBwb3J0IHNldmVyYWwgdmFsdWUgdHlwZXM6IHByaW1pdGl2ZXMsIE5vZGVzLCBUZW1wbGF0ZVJlc3VsdHMsXG4gKiBhcyB3ZWxsIGFzIGFycmF5cyBhbmQgaXRlcmFibGVzIG9mIHRob3NlIHR5cGVzLlxuICovXG5leHBvcnQgY2xhc3MgTm9kZVBhcnQgaW1wbGVtZW50cyBQYXJ0IHtcbiAgcmVhZG9ubHkgb3B0aW9uczogUmVuZGVyT3B0aW9ucztcbiAgc3RhcnROb2RlITogTm9kZTtcbiAgZW5kTm9kZSE6IE5vZGU7XG4gIHZhbHVlOiB1bmtub3duID0gdW5kZWZpbmVkO1xuICBwcml2YXRlIF9fcGVuZGluZ1ZhbHVlOiB1bmtub3duID0gdW5kZWZpbmVkO1xuXG4gIGNvbnN0cnVjdG9yKG9wdGlvbnM6IFJlbmRlck9wdGlvbnMpIHtcbiAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICB9XG5cbiAgLyoqXG4gICAqIEFwcGVuZHMgdGhpcyBwYXJ0IGludG8gYSBjb250YWluZXIuXG4gICAqXG4gICAqIFRoaXMgcGFydCBtdXN0IGJlIGVtcHR5LCBhcyBpdHMgY29udGVudHMgYXJlIG5vdCBhdXRvbWF0aWNhbGx5IG1vdmVkLlxuICAgKi9cbiAgYXBwZW5kSW50byhjb250YWluZXI6IE5vZGUpIHtcbiAgICB0aGlzLnN0YXJ0Tm9kZSA9IGNvbnRhaW5lci5hcHBlbmRDaGlsZChjcmVhdGVNYXJrZXIoKSk7XG4gICAgdGhpcy5lbmROb2RlID0gY29udGFpbmVyLmFwcGVuZENoaWxkKGNyZWF0ZU1hcmtlcigpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBJbnNlcnRzIHRoaXMgcGFydCBhZnRlciB0aGUgYHJlZmAgbm9kZSAoYmV0d2VlbiBgcmVmYCBhbmQgYHJlZmAncyBuZXh0XG4gICAqIHNpYmxpbmcpLiBCb3RoIGByZWZgIGFuZCBpdHMgbmV4dCBzaWJsaW5nIG11c3QgYmUgc3RhdGljLCB1bmNoYW5naW5nIG5vZGVzXG4gICAqIHN1Y2ggYXMgdGhvc2UgdGhhdCBhcHBlYXIgaW4gYSBsaXRlcmFsIHNlY3Rpb24gb2YgYSB0ZW1wbGF0ZS5cbiAgICpcbiAgICogVGhpcyBwYXJ0IG11c3QgYmUgZW1wdHksIGFzIGl0cyBjb250ZW50cyBhcmUgbm90IGF1dG9tYXRpY2FsbHkgbW92ZWQuXG4gICAqL1xuICBpbnNlcnRBZnRlck5vZGUocmVmOiBOb2RlKSB7XG4gICAgdGhpcy5zdGFydE5vZGUgPSByZWY7XG4gICAgdGhpcy5lbmROb2RlID0gcmVmLm5leHRTaWJsaW5nITtcbiAgfVxuXG4gIC8qKlxuICAgKiBBcHBlbmRzIHRoaXMgcGFydCBpbnRvIGEgcGFyZW50IHBhcnQuXG4gICAqXG4gICAqIFRoaXMgcGFydCBtdXN0IGJlIGVtcHR5LCBhcyBpdHMgY29udGVudHMgYXJlIG5vdCBhdXRvbWF0aWNhbGx5IG1vdmVkLlxuICAgKi9cbiAgYXBwZW5kSW50b1BhcnQocGFydDogTm9kZVBhcnQpIHtcbiAgICBwYXJ0Ll9faW5zZXJ0KHRoaXMuc3RhcnROb2RlID0gY3JlYXRlTWFya2VyKCkpO1xuICAgIHBhcnQuX19pbnNlcnQodGhpcy5lbmROb2RlID0gY3JlYXRlTWFya2VyKCkpO1xuICB9XG5cbiAgLyoqXG4gICAqIEluc2VydHMgdGhpcyBwYXJ0IGFmdGVyIHRoZSBgcmVmYCBwYXJ0LlxuICAgKlxuICAgKiBUaGlzIHBhcnQgbXVzdCBiZSBlbXB0eSwgYXMgaXRzIGNvbnRlbnRzIGFyZSBub3QgYXV0b21hdGljYWxseSBtb3ZlZC5cbiAgICovXG4gIGluc2VydEFmdGVyUGFydChyZWY6IE5vZGVQYXJ0KSB7XG4gICAgcmVmLl9faW5zZXJ0KHRoaXMuc3RhcnROb2RlID0gY3JlYXRlTWFya2VyKCkpO1xuICAgIHRoaXMuZW5kTm9kZSA9IHJlZi5lbmROb2RlO1xuICAgIHJlZi5lbmROb2RlID0gdGhpcy5zdGFydE5vZGU7XG4gIH1cblxuICBzZXRWYWx1ZSh2YWx1ZTogdW5rbm93bik6IHZvaWQge1xuICAgIHRoaXMuX19wZW5kaW5nVmFsdWUgPSB2YWx1ZTtcbiAgfVxuXG4gIGNvbW1pdCgpIHtcbiAgICB3aGlsZSAoaXNEaXJlY3RpdmUodGhpcy5fX3BlbmRpbmdWYWx1ZSkpIHtcbiAgICAgIGNvbnN0IGRpcmVjdGl2ZSA9IHRoaXMuX19wZW5kaW5nVmFsdWU7XG4gICAgICB0aGlzLl9fcGVuZGluZ1ZhbHVlID0gbm9DaGFuZ2U7XG4gICAgICBkaXJlY3RpdmUodGhpcyk7XG4gICAgfVxuICAgIGNvbnN0IHZhbHVlID0gdGhpcy5fX3BlbmRpbmdWYWx1ZTtcbiAgICBpZiAodmFsdWUgPT09IG5vQ2hhbmdlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChpc1ByaW1pdGl2ZSh2YWx1ZSkpIHtcbiAgICAgIGlmICh2YWx1ZSAhPT0gdGhpcy52YWx1ZSkge1xuICAgICAgICB0aGlzLl9fY29tbWl0VGV4dCh2YWx1ZSk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh2YWx1ZSBpbnN0YW5jZW9mIFRlbXBsYXRlUmVzdWx0KSB7XG4gICAgICB0aGlzLl9fY29tbWl0VGVtcGxhdGVSZXN1bHQodmFsdWUpO1xuICAgIH0gZWxzZSBpZiAodmFsdWUgaW5zdGFuY2VvZiBOb2RlKSB7XG4gICAgICB0aGlzLl9fY29tbWl0Tm9kZSh2YWx1ZSk7XG4gICAgfSBlbHNlIGlmIChpc0l0ZXJhYmxlKHZhbHVlKSkge1xuICAgICAgdGhpcy5fX2NvbW1pdEl0ZXJhYmxlKHZhbHVlKTtcbiAgICB9IGVsc2UgaWYgKHZhbHVlID09PSBub3RoaW5nKSB7XG4gICAgICB0aGlzLnZhbHVlID0gbm90aGluZztcbiAgICAgIHRoaXMuY2xlYXIoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gRmFsbGJhY2ssIHdpbGwgcmVuZGVyIHRoZSBzdHJpbmcgcmVwcmVzZW50YXRpb25cbiAgICAgIHRoaXMuX19jb21taXRUZXh0KHZhbHVlKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIF9faW5zZXJ0KG5vZGU6IE5vZGUpIHtcbiAgICB0aGlzLmVuZE5vZGUucGFyZW50Tm9kZSEuaW5zZXJ0QmVmb3JlKG5vZGUsIHRoaXMuZW5kTm9kZSk7XG4gIH1cblxuICBwcml2YXRlIF9fY29tbWl0Tm9kZSh2YWx1ZTogTm9kZSk6IHZvaWQge1xuICAgIGlmICh0aGlzLnZhbHVlID09PSB2YWx1ZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLmNsZWFyKCk7XG4gICAgdGhpcy5fX2luc2VydCh2YWx1ZSk7XG4gICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICB9XG5cbiAgcHJpdmF0ZSBfX2NvbW1pdFRleHQodmFsdWU6IHVua25vd24pOiB2b2lkIHtcbiAgICBjb25zdCBub2RlID0gdGhpcy5zdGFydE5vZGUubmV4dFNpYmxpbmchO1xuICAgIHZhbHVlID0gdmFsdWUgPT0gbnVsbCA/ICcnIDogdmFsdWU7XG4gICAgaWYgKG5vZGUgPT09IHRoaXMuZW5kTm9kZS5wcmV2aW91c1NpYmxpbmcgJiZcbiAgICAgICAgbm9kZS5ub2RlVHlwZSA9PT0gMyAvKiBOb2RlLlRFWFRfTk9ERSAqLykge1xuICAgICAgLy8gSWYgd2Ugb25seSBoYXZlIGEgc2luZ2xlIHRleHQgbm9kZSBiZXR3ZWVuIHRoZSBtYXJrZXJzLCB3ZSBjYW4ganVzdFxuICAgICAgLy8gc2V0IGl0cyB2YWx1ZSwgcmF0aGVyIHRoYW4gcmVwbGFjaW5nIGl0LlxuICAgICAgLy8gVE9ETyhqdXN0aW5mYWduYW5pKTogQ2FuIHdlIGp1c3QgY2hlY2sgaWYgdGhpcy52YWx1ZSBpcyBwcmltaXRpdmU/XG4gICAgICAobm9kZSBhcyBUZXh0KS5kYXRhID0gdmFsdWUgYXMgc3RyaW5nO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9fY29tbWl0Tm9kZShkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShcbiAgICAgICAgICB0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnID8gdmFsdWUgOiBTdHJpbmcodmFsdWUpKSk7XG4gICAgfVxuICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgfVxuXG4gIHByaXZhdGUgX19jb21taXRUZW1wbGF0ZVJlc3VsdCh2YWx1ZTogVGVtcGxhdGVSZXN1bHQpOiB2b2lkIHtcbiAgICBjb25zdCB0ZW1wbGF0ZSA9IHRoaXMub3B0aW9ucy50ZW1wbGF0ZUZhY3RvcnkodmFsdWUpO1xuICAgIGlmICh0aGlzLnZhbHVlIGluc3RhbmNlb2YgVGVtcGxhdGVJbnN0YW5jZSAmJlxuICAgICAgICB0aGlzLnZhbHVlLnRlbXBsYXRlID09PSB0ZW1wbGF0ZSkge1xuICAgICAgdGhpcy52YWx1ZS51cGRhdGUodmFsdWUudmFsdWVzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gTWFrZSBzdXJlIHdlIHByb3BhZ2F0ZSB0aGUgdGVtcGxhdGUgcHJvY2Vzc29yIGZyb20gdGhlIFRlbXBsYXRlUmVzdWx0XG4gICAgICAvLyBzbyB0aGF0IHdlIHVzZSBpdHMgc3ludGF4IGV4dGVuc2lvbiwgZXRjLiBUaGUgdGVtcGxhdGUgZmFjdG9yeSBjb21lc1xuICAgICAgLy8gZnJvbSB0aGUgcmVuZGVyIGZ1bmN0aW9uIG9wdGlvbnMgc28gdGhhdCBpdCBjYW4gY29udHJvbCB0ZW1wbGF0ZVxuICAgICAgLy8gY2FjaGluZyBhbmQgcHJlcHJvY2Vzc2luZy5cbiAgICAgIGNvbnN0IGluc3RhbmNlID1cbiAgICAgICAgICBuZXcgVGVtcGxhdGVJbnN0YW5jZSh0ZW1wbGF0ZSwgdmFsdWUucHJvY2Vzc29yLCB0aGlzLm9wdGlvbnMpO1xuICAgICAgY29uc3QgZnJhZ21lbnQgPSBpbnN0YW5jZS5fY2xvbmUoKTtcbiAgICAgIGluc3RhbmNlLnVwZGF0ZSh2YWx1ZS52YWx1ZXMpO1xuICAgICAgdGhpcy5fX2NvbW1pdE5vZGUoZnJhZ21lbnQpO1xuICAgICAgdGhpcy52YWx1ZSA9IGluc3RhbmNlO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgX19jb21taXRJdGVyYWJsZSh2YWx1ZTogSXRlcmFibGU8dW5rbm93bj4pOiB2b2lkIHtcbiAgICAvLyBGb3IgYW4gSXRlcmFibGUsIHdlIGNyZWF0ZSBhIG5ldyBJbnN0YW5jZVBhcnQgcGVyIGl0ZW0sIHRoZW4gc2V0IGl0c1xuICAgIC8vIHZhbHVlIHRvIHRoZSBpdGVtLiBUaGlzIGlzIGEgbGl0dGxlIGJpdCBvZiBvdmVyaGVhZCBmb3IgZXZlcnkgaXRlbSBpblxuICAgIC8vIGFuIEl0ZXJhYmxlLCBidXQgaXQgbGV0cyB1cyByZWN1cnNlIGVhc2lseSBhbmQgZWZmaWNpZW50bHkgdXBkYXRlIEFycmF5c1xuICAgIC8vIG9mIFRlbXBsYXRlUmVzdWx0cyB0aGF0IHdpbGwgYmUgY29tbW9ubHkgcmV0dXJuZWQgZnJvbSBleHByZXNzaW9ucyBsaWtlOlxuICAgIC8vIGFycmF5Lm1hcCgoaSkgPT4gaHRtbGAke2l9YCksIGJ5IHJldXNpbmcgZXhpc3RpbmcgVGVtcGxhdGVJbnN0YW5jZXMuXG5cbiAgICAvLyBJZiBfdmFsdWUgaXMgYW4gYXJyYXksIHRoZW4gdGhlIHByZXZpb3VzIHJlbmRlciB3YXMgb2YgYW5cbiAgICAvLyBpdGVyYWJsZSBhbmQgX3ZhbHVlIHdpbGwgY29udGFpbiB0aGUgTm9kZVBhcnRzIGZyb20gdGhlIHByZXZpb3VzXG4gICAgLy8gcmVuZGVyLiBJZiBfdmFsdWUgaXMgbm90IGFuIGFycmF5LCBjbGVhciB0aGlzIHBhcnQgYW5kIG1ha2UgYSBuZXdcbiAgICAvLyBhcnJheSBmb3IgTm9kZVBhcnRzLlxuICAgIGlmICghQXJyYXkuaXNBcnJheSh0aGlzLnZhbHVlKSkge1xuICAgICAgdGhpcy52YWx1ZSA9IFtdO1xuICAgICAgdGhpcy5jbGVhcigpO1xuICAgIH1cblxuICAgIC8vIExldHMgdXMga2VlcCB0cmFjayBvZiBob3cgbWFueSBpdGVtcyB3ZSBzdGFtcGVkIHNvIHdlIGNhbiBjbGVhciBsZWZ0b3ZlclxuICAgIC8vIGl0ZW1zIGZyb20gYSBwcmV2aW91cyByZW5kZXJcbiAgICBjb25zdCBpdGVtUGFydHMgPSB0aGlzLnZhbHVlIGFzIE5vZGVQYXJ0W107XG4gICAgbGV0IHBhcnRJbmRleCA9IDA7XG4gICAgbGV0IGl0ZW1QYXJ0OiBOb2RlUGFydHx1bmRlZmluZWQ7XG5cbiAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgdmFsdWUpIHtcbiAgICAgIC8vIFRyeSB0byByZXVzZSBhbiBleGlzdGluZyBwYXJ0XG4gICAgICBpdGVtUGFydCA9IGl0ZW1QYXJ0c1twYXJ0SW5kZXhdO1xuXG4gICAgICAvLyBJZiBubyBleGlzdGluZyBwYXJ0LCBjcmVhdGUgYSBuZXcgb25lXG4gICAgICBpZiAoaXRlbVBhcnQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBpdGVtUGFydCA9IG5ldyBOb2RlUGFydCh0aGlzLm9wdGlvbnMpO1xuICAgICAgICBpdGVtUGFydHMucHVzaChpdGVtUGFydCk7XG4gICAgICAgIGlmIChwYXJ0SW5kZXggPT09IDApIHtcbiAgICAgICAgICBpdGVtUGFydC5hcHBlbmRJbnRvUGFydCh0aGlzKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpdGVtUGFydC5pbnNlcnRBZnRlclBhcnQoaXRlbVBhcnRzW3BhcnRJbmRleCAtIDFdKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaXRlbVBhcnQuc2V0VmFsdWUoaXRlbSk7XG4gICAgICBpdGVtUGFydC5jb21taXQoKTtcbiAgICAgIHBhcnRJbmRleCsrO1xuICAgIH1cblxuICAgIGlmIChwYXJ0SW5kZXggPCBpdGVtUGFydHMubGVuZ3RoKSB7XG4gICAgICAvLyBUcnVuY2F0ZSB0aGUgcGFydHMgYXJyYXkgc28gX3ZhbHVlIHJlZmxlY3RzIHRoZSBjdXJyZW50IHN0YXRlXG4gICAgICBpdGVtUGFydHMubGVuZ3RoID0gcGFydEluZGV4O1xuICAgICAgdGhpcy5jbGVhcihpdGVtUGFydCAmJiBpdGVtUGFydC5lbmROb2RlKTtcbiAgICB9XG4gIH1cblxuICBjbGVhcihzdGFydE5vZGU6IE5vZGUgPSB0aGlzLnN0YXJ0Tm9kZSkge1xuICAgIHJlbW92ZU5vZGVzKFxuICAgICAgICB0aGlzLnN0YXJ0Tm9kZS5wYXJlbnROb2RlISwgc3RhcnROb2RlLm5leHRTaWJsaW5nISwgdGhpcy5lbmROb2RlKTtcbiAgfVxufVxuXG4vKipcbiAqIEltcGxlbWVudHMgYSBib29sZWFuIGF0dHJpYnV0ZSwgcm91Z2hseSBhcyBkZWZpbmVkIGluIHRoZSBIVE1MXG4gKiBzcGVjaWZpY2F0aW9uLlxuICpcbiAqIElmIHRoZSB2YWx1ZSBpcyB0cnV0aHksIHRoZW4gdGhlIGF0dHJpYnV0ZSBpcyBwcmVzZW50IHdpdGggYSB2YWx1ZSBvZlxuICogJycuIElmIHRoZSB2YWx1ZSBpcyBmYWxzZXksIHRoZSBhdHRyaWJ1dGUgaXMgcmVtb3ZlZC5cbiAqL1xuZXhwb3J0IGNsYXNzIEJvb2xlYW5BdHRyaWJ1dGVQYXJ0IGltcGxlbWVudHMgUGFydCB7XG4gIHJlYWRvbmx5IGVsZW1lbnQ6IEVsZW1lbnQ7XG4gIHJlYWRvbmx5IG5hbWU6IHN0cmluZztcbiAgcmVhZG9ubHkgc3RyaW5nczogUmVhZG9ubHlBcnJheTxzdHJpbmc+O1xuICB2YWx1ZTogdW5rbm93biA9IHVuZGVmaW5lZDtcbiAgcHJpdmF0ZSBfX3BlbmRpbmdWYWx1ZTogdW5rbm93biA9IHVuZGVmaW5lZDtcblxuICBjb25zdHJ1Y3RvcihlbGVtZW50OiBFbGVtZW50LCBuYW1lOiBzdHJpbmcsIHN0cmluZ3M6IFJlYWRvbmx5QXJyYXk8c3RyaW5nPikge1xuICAgIGlmIChzdHJpbmdzLmxlbmd0aCAhPT0gMiB8fCBzdHJpbmdzWzBdICE9PSAnJyB8fCBzdHJpbmdzWzFdICE9PSAnJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICdCb29sZWFuIGF0dHJpYnV0ZXMgY2FuIG9ubHkgY29udGFpbiBhIHNpbmdsZSBleHByZXNzaW9uJyk7XG4gICAgfVxuICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICB0aGlzLnN0cmluZ3MgPSBzdHJpbmdzO1xuICB9XG5cbiAgc2V0VmFsdWUodmFsdWU6IHVua25vd24pOiB2b2lkIHtcbiAgICB0aGlzLl9fcGVuZGluZ1ZhbHVlID0gdmFsdWU7XG4gIH1cblxuICBjb21taXQoKSB7XG4gICAgd2hpbGUgKGlzRGlyZWN0aXZlKHRoaXMuX19wZW5kaW5nVmFsdWUpKSB7XG4gICAgICBjb25zdCBkaXJlY3RpdmUgPSB0aGlzLl9fcGVuZGluZ1ZhbHVlO1xuICAgICAgdGhpcy5fX3BlbmRpbmdWYWx1ZSA9IG5vQ2hhbmdlO1xuICAgICAgZGlyZWN0aXZlKHRoaXMpO1xuICAgIH1cbiAgICBpZiAodGhpcy5fX3BlbmRpbmdWYWx1ZSA9PT0gbm9DaGFuZ2UpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgdmFsdWUgPSAhIXRoaXMuX19wZW5kaW5nVmFsdWU7XG4gICAgaWYgKHRoaXMudmFsdWUgIT09IHZhbHVlKSB7XG4gICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgdGhpcy5lbGVtZW50LnNldEF0dHJpYnV0ZSh0aGlzLm5hbWUsICcnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUodGhpcy5uYW1lKTtcbiAgICAgIH1cbiAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgICB9XG4gICAgdGhpcy5fX3BlbmRpbmdWYWx1ZSA9IG5vQ2hhbmdlO1xuICB9XG59XG5cbi8qKlxuICogU2V0cyBhdHRyaWJ1dGUgdmFsdWVzIGZvciBQcm9wZXJ0eVBhcnRzLCBzbyB0aGF0IHRoZSB2YWx1ZSBpcyBvbmx5IHNldCBvbmNlXG4gKiBldmVuIGlmIHRoZXJlIGFyZSBtdWx0aXBsZSBwYXJ0cyBmb3IgYSBwcm9wZXJ0eS5cbiAqXG4gKiBJZiBhbiBleHByZXNzaW9uIGNvbnRyb2xzIHRoZSB3aG9sZSBwcm9wZXJ0eSB2YWx1ZSwgdGhlbiB0aGUgdmFsdWUgaXMgc2ltcGx5XG4gKiBhc3NpZ25lZCB0byB0aGUgcHJvcGVydHkgdW5kZXIgY29udHJvbC4gSWYgdGhlcmUgYXJlIHN0cmluZyBsaXRlcmFscyBvclxuICogbXVsdGlwbGUgZXhwcmVzc2lvbnMsIHRoZW4gdGhlIHN0cmluZ3MgYXJlIGV4cHJlc3Npb25zIGFyZSBpbnRlcnBvbGF0ZWQgaW50b1xuICogYSBzdHJpbmcgZmlyc3QuXG4gKi9cbmV4cG9ydCBjbGFzcyBQcm9wZXJ0eUNvbW1pdHRlciBleHRlbmRzIEF0dHJpYnV0ZUNvbW1pdHRlciB7XG4gIHJlYWRvbmx5IHNpbmdsZTogYm9vbGVhbjtcblxuICBjb25zdHJ1Y3RvcihlbGVtZW50OiBFbGVtZW50LCBuYW1lOiBzdHJpbmcsIHN0cmluZ3M6IFJlYWRvbmx5QXJyYXk8c3RyaW5nPikge1xuICAgIHN1cGVyKGVsZW1lbnQsIG5hbWUsIHN0cmluZ3MpO1xuICAgIHRoaXMuc2luZ2xlID1cbiAgICAgICAgKHN0cmluZ3MubGVuZ3RoID09PSAyICYmIHN0cmluZ3NbMF0gPT09ICcnICYmIHN0cmluZ3NbMV0gPT09ICcnKTtcbiAgfVxuXG4gIHByb3RlY3RlZCBfY3JlYXRlUGFydCgpOiBQcm9wZXJ0eVBhcnQge1xuICAgIHJldHVybiBuZXcgUHJvcGVydHlQYXJ0KHRoaXMpO1xuICB9XG5cbiAgcHJvdGVjdGVkIF9nZXRWYWx1ZSgpIHtcbiAgICBpZiAodGhpcy5zaW5nbGUpIHtcbiAgICAgIHJldHVybiB0aGlzLnBhcnRzWzBdLnZhbHVlO1xuICAgIH1cbiAgICByZXR1cm4gc3VwZXIuX2dldFZhbHVlKCk7XG4gIH1cblxuICBjb21taXQoKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuZGlydHkpIHtcbiAgICAgIHRoaXMuZGlydHkgPSBmYWxzZTtcbiAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby1hbnlcbiAgICAgICh0aGlzLmVsZW1lbnQgYXMgYW55KVt0aGlzLm5hbWVdID0gdGhpcy5fZ2V0VmFsdWUoKTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFByb3BlcnR5UGFydCBleHRlbmRzIEF0dHJpYnV0ZVBhcnQge31cblxuLy8gRGV0ZWN0IGV2ZW50IGxpc3RlbmVyIG9wdGlvbnMgc3VwcG9ydC4gSWYgdGhlIGBjYXB0dXJlYCBwcm9wZXJ0eSBpcyByZWFkXG4vLyBmcm9tIHRoZSBvcHRpb25zIG9iamVjdCwgdGhlbiBvcHRpb25zIGFyZSBzdXBwb3J0ZWQuIElmIG5vdCwgdGhlbiB0aGUgdGhyaWRcbi8vIGFyZ3VtZW50IHRvIGFkZC9yZW1vdmVFdmVudExpc3RlbmVyIGlzIGludGVycHJldGVkIGFzIHRoZSBib29sZWFuIGNhcHR1cmVcbi8vIHZhbHVlIHNvIHdlIHNob3VsZCBvbmx5IHBhc3MgdGhlIGBjYXB0dXJlYCBwcm9wZXJ0eS5cbmxldCBldmVudE9wdGlvbnNTdXBwb3J0ZWQgPSBmYWxzZTtcblxudHJ5IHtcbiAgY29uc3Qgb3B0aW9ucyA9IHtcbiAgICBnZXQgY2FwdHVyZSgpIHtcbiAgICAgIGV2ZW50T3B0aW9uc1N1cHBvcnRlZCA9IHRydWU7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9O1xuICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bm8tYW55XG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCd0ZXN0Jywgb3B0aW9ucyBhcyBhbnksIG9wdGlvbnMpO1xuICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bm8tYW55XG4gIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCd0ZXN0Jywgb3B0aW9ucyBhcyBhbnksIG9wdGlvbnMpO1xufSBjYXRjaCAoX2UpIHtcbn1cblxuXG50eXBlIEV2ZW50SGFuZGxlcldpdGhPcHRpb25zID1cbiAgICBFdmVudExpc3RlbmVyT3JFdmVudExpc3RlbmVyT2JqZWN0JlBhcnRpYWw8QWRkRXZlbnRMaXN0ZW5lck9wdGlvbnM+O1xuZXhwb3J0IGNsYXNzIEV2ZW50UGFydCBpbXBsZW1lbnRzIFBhcnQge1xuICByZWFkb25seSBlbGVtZW50OiBFbGVtZW50O1xuICByZWFkb25seSBldmVudE5hbWU6IHN0cmluZztcbiAgcmVhZG9ubHkgZXZlbnRDb250ZXh0PzogRXZlbnRUYXJnZXQ7XG4gIHZhbHVlOiB1bmRlZmluZWR8RXZlbnRIYW5kbGVyV2l0aE9wdGlvbnMgPSB1bmRlZmluZWQ7XG4gIHByaXZhdGUgX19vcHRpb25zPzogQWRkRXZlbnRMaXN0ZW5lck9wdGlvbnM7XG4gIHByaXZhdGUgX19wZW5kaW5nVmFsdWU6IHVuZGVmaW5lZHxFdmVudEhhbmRsZXJXaXRoT3B0aW9ucyA9IHVuZGVmaW5lZDtcbiAgcHJpdmF0ZSByZWFkb25seSBfX2JvdW5kSGFuZGxlRXZlbnQ6IChldmVudDogRXZlbnQpID0+IHZvaWQ7XG5cbiAgY29uc3RydWN0b3IoZWxlbWVudDogRWxlbWVudCwgZXZlbnROYW1lOiBzdHJpbmcsIGV2ZW50Q29udGV4dD86IEV2ZW50VGFyZ2V0KSB7XG4gICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudDtcbiAgICB0aGlzLmV2ZW50TmFtZSA9IGV2ZW50TmFtZTtcbiAgICB0aGlzLmV2ZW50Q29udGV4dCA9IGV2ZW50Q29udGV4dDtcbiAgICB0aGlzLl9fYm91bmRIYW5kbGVFdmVudCA9IChlKSA9PiB0aGlzLmhhbmRsZUV2ZW50KGUpO1xuICB9XG5cbiAgc2V0VmFsdWUodmFsdWU6IHVuZGVmaW5lZHxFdmVudEhhbmRsZXJXaXRoT3B0aW9ucyk6IHZvaWQge1xuICAgIHRoaXMuX19wZW5kaW5nVmFsdWUgPSB2YWx1ZTtcbiAgfVxuXG4gIGNvbW1pdCgpIHtcbiAgICB3aGlsZSAoaXNEaXJlY3RpdmUodGhpcy5fX3BlbmRpbmdWYWx1ZSkpIHtcbiAgICAgIGNvbnN0IGRpcmVjdGl2ZSA9IHRoaXMuX19wZW5kaW5nVmFsdWU7XG4gICAgICB0aGlzLl9fcGVuZGluZ1ZhbHVlID0gbm9DaGFuZ2UgYXMgRXZlbnRIYW5kbGVyV2l0aE9wdGlvbnM7XG4gICAgICBkaXJlY3RpdmUodGhpcyk7XG4gICAgfVxuICAgIGlmICh0aGlzLl9fcGVuZGluZ1ZhbHVlID09PSBub0NoYW5nZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IG5ld0xpc3RlbmVyID0gdGhpcy5fX3BlbmRpbmdWYWx1ZTtcbiAgICBjb25zdCBvbGRMaXN0ZW5lciA9IHRoaXMudmFsdWU7XG4gICAgY29uc3Qgc2hvdWxkUmVtb3ZlTGlzdGVuZXIgPSBuZXdMaXN0ZW5lciA9PSBudWxsIHx8XG4gICAgICAgIG9sZExpc3RlbmVyICE9IG51bGwgJiZcbiAgICAgICAgICAgIChuZXdMaXN0ZW5lci5jYXB0dXJlICE9PSBvbGRMaXN0ZW5lci5jYXB0dXJlIHx8XG4gICAgICAgICAgICAgbmV3TGlzdGVuZXIub25jZSAhPT0gb2xkTGlzdGVuZXIub25jZSB8fFxuICAgICAgICAgICAgIG5ld0xpc3RlbmVyLnBhc3NpdmUgIT09IG9sZExpc3RlbmVyLnBhc3NpdmUpO1xuICAgIGNvbnN0IHNob3VsZEFkZExpc3RlbmVyID1cbiAgICAgICAgbmV3TGlzdGVuZXIgIT0gbnVsbCAmJiAob2xkTGlzdGVuZXIgPT0gbnVsbCB8fCBzaG91bGRSZW1vdmVMaXN0ZW5lcik7XG5cbiAgICBpZiAoc2hvdWxkUmVtb3ZlTGlzdGVuZXIpIHtcbiAgICAgIHRoaXMuZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFxuICAgICAgICAgIHRoaXMuZXZlbnROYW1lLCB0aGlzLl9fYm91bmRIYW5kbGVFdmVudCwgdGhpcy5fX29wdGlvbnMpO1xuICAgIH1cbiAgICBpZiAoc2hvdWxkQWRkTGlzdGVuZXIpIHtcbiAgICAgIHRoaXMuX19vcHRpb25zID0gZ2V0T3B0aW9ucyhuZXdMaXN0ZW5lcik7XG4gICAgICB0aGlzLmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgICB0aGlzLmV2ZW50TmFtZSwgdGhpcy5fX2JvdW5kSGFuZGxlRXZlbnQsIHRoaXMuX19vcHRpb25zKTtcbiAgICB9XG4gICAgdGhpcy52YWx1ZSA9IG5ld0xpc3RlbmVyO1xuICAgIHRoaXMuX19wZW5kaW5nVmFsdWUgPSBub0NoYW5nZSBhcyBFdmVudEhhbmRsZXJXaXRoT3B0aW9ucztcbiAgfVxuXG4gIGhhbmRsZUV2ZW50KGV2ZW50OiBFdmVudCkge1xuICAgIGlmICh0eXBlb2YgdGhpcy52YWx1ZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdGhpcy52YWx1ZS5jYWxsKHRoaXMuZXZlbnRDb250ZXh0IHx8IHRoaXMuZWxlbWVudCwgZXZlbnQpO1xuICAgIH0gZWxzZSB7XG4gICAgICAodGhpcy52YWx1ZSBhcyBFdmVudExpc3RlbmVyT2JqZWN0KS5oYW5kbGVFdmVudChldmVudCk7XG4gICAgfVxuICB9XG59XG5cbi8vIFdlIGNvcHkgb3B0aW9ucyBiZWNhdXNlIG9mIHRoZSBpbmNvbnNpc3RlbnQgYmVoYXZpb3Igb2YgYnJvd3NlcnMgd2hlbiByZWFkaW5nXG4vLyB0aGUgdGhpcmQgYXJndW1lbnQgb2YgYWRkL3JlbW92ZUV2ZW50TGlzdGVuZXIuIElFMTEgZG9lc24ndCBzdXBwb3J0IG9wdGlvbnNcbi8vIGF0IGFsbC4gQ2hyb21lIDQxIG9ubHkgcmVhZHMgYGNhcHR1cmVgIGlmIHRoZSBhcmd1bWVudCBpcyBhbiBvYmplY3QuXG5jb25zdCBnZXRPcHRpb25zID0gKG86IEFkZEV2ZW50TGlzdGVuZXJPcHRpb25zfHVuZGVmaW5lZCkgPT4gbyAmJlxuICAgIChldmVudE9wdGlvbnNTdXBwb3J0ZWQgP1xuICAgICAgICAge2NhcHR1cmU6IG8uY2FwdHVyZSwgcGFzc2l2ZTogby5wYXNzaXZlLCBvbmNlOiBvLm9uY2V9IDpcbiAgICAgICAgIG8uY2FwdHVyZSBhcyBBZGRFdmVudExpc3RlbmVyT3B0aW9ucyk7XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTcgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuICogQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbiAqIHN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuICovXG5cbi8qKlxuICogQG1vZHVsZSBsaXQtaHRtbFxuICovXG5cbmltcG9ydCB7UGFydH0gZnJvbSAnLi9wYXJ0LmpzJztcbmltcG9ydCB7QXR0cmlidXRlQ29tbWl0dGVyLCBCb29sZWFuQXR0cmlidXRlUGFydCwgRXZlbnRQYXJ0LCBOb2RlUGFydCwgUHJvcGVydHlDb21taXR0ZXJ9IGZyb20gJy4vcGFydHMuanMnO1xuaW1wb3J0IHtSZW5kZXJPcHRpb25zfSBmcm9tICcuL3JlbmRlci1vcHRpb25zLmpzJztcbmltcG9ydCB7VGVtcGxhdGVQcm9jZXNzb3J9IGZyb20gJy4vdGVtcGxhdGUtcHJvY2Vzc29yLmpzJztcblxuLyoqXG4gKiBDcmVhdGVzIFBhcnRzIHdoZW4gYSB0ZW1wbGF0ZSBpcyBpbnN0YW50aWF0ZWQuXG4gKi9cbmV4cG9ydCBjbGFzcyBEZWZhdWx0VGVtcGxhdGVQcm9jZXNzb3IgaW1wbGVtZW50cyBUZW1wbGF0ZVByb2Nlc3NvciB7XG4gIC8qKlxuICAgKiBDcmVhdGUgcGFydHMgZm9yIGFuIGF0dHJpYnV0ZS1wb3NpdGlvbiBiaW5kaW5nLCBnaXZlbiB0aGUgZXZlbnQsIGF0dHJpYnV0ZVxuICAgKiBuYW1lLCBhbmQgc3RyaW5nIGxpdGVyYWxzLlxuICAgKlxuICAgKiBAcGFyYW0gZWxlbWVudCBUaGUgZWxlbWVudCBjb250YWluaW5nIHRoZSBiaW5kaW5nXG4gICAqIEBwYXJhbSBuYW1lICBUaGUgYXR0cmlidXRlIG5hbWVcbiAgICogQHBhcmFtIHN0cmluZ3MgVGhlIHN0cmluZyBsaXRlcmFscy4gVGhlcmUgYXJlIGFsd2F5cyBhdCBsZWFzdCB0d28gc3RyaW5ncyxcbiAgICogICBldmVudCBmb3IgZnVsbHktY29udHJvbGxlZCBiaW5kaW5ncyB3aXRoIGEgc2luZ2xlIGV4cHJlc3Npb24uXG4gICAqL1xuICBoYW5kbGVBdHRyaWJ1dGVFeHByZXNzaW9ucyhcbiAgICAgIGVsZW1lbnQ6IEVsZW1lbnQsIG5hbWU6IHN0cmluZywgc3RyaW5nczogc3RyaW5nW10sXG4gICAgICBvcHRpb25zOiBSZW5kZXJPcHRpb25zKTogUmVhZG9ubHlBcnJheTxQYXJ0PiB7XG4gICAgY29uc3QgcHJlZml4ID0gbmFtZVswXTtcbiAgICBpZiAocHJlZml4ID09PSAnLicpIHtcbiAgICAgIGNvbnN0IGNvbW1pdHRlciA9IG5ldyBQcm9wZXJ0eUNvbW1pdHRlcihlbGVtZW50LCBuYW1lLnNsaWNlKDEpLCBzdHJpbmdzKTtcbiAgICAgIHJldHVybiBjb21taXR0ZXIucGFydHM7XG4gICAgfVxuICAgIGlmIChwcmVmaXggPT09ICdAJykge1xuICAgICAgcmV0dXJuIFtuZXcgRXZlbnRQYXJ0KGVsZW1lbnQsIG5hbWUuc2xpY2UoMSksIG9wdGlvbnMuZXZlbnRDb250ZXh0KV07XG4gICAgfVxuICAgIGlmIChwcmVmaXggPT09ICc/Jykge1xuICAgICAgcmV0dXJuIFtuZXcgQm9vbGVhbkF0dHJpYnV0ZVBhcnQoZWxlbWVudCwgbmFtZS5zbGljZSgxKSwgc3RyaW5ncyldO1xuICAgIH1cbiAgICBjb25zdCBjb21taXR0ZXIgPSBuZXcgQXR0cmlidXRlQ29tbWl0dGVyKGVsZW1lbnQsIG5hbWUsIHN0cmluZ3MpO1xuICAgIHJldHVybiBjb21taXR0ZXIucGFydHM7XG4gIH1cbiAgLyoqXG4gICAqIENyZWF0ZSBwYXJ0cyBmb3IgYSB0ZXh0LXBvc2l0aW9uIGJpbmRpbmcuXG4gICAqIEBwYXJhbSB0ZW1wbGF0ZUZhY3RvcnlcbiAgICovXG4gIGhhbmRsZVRleHRFeHByZXNzaW9uKG9wdGlvbnM6IFJlbmRlck9wdGlvbnMpIHtcbiAgICByZXR1cm4gbmV3IE5vZGVQYXJ0KG9wdGlvbnMpO1xuICB9XG59XG5cbmV4cG9ydCBjb25zdCBkZWZhdWx0VGVtcGxhdGVQcm9jZXNzb3IgPSBuZXcgRGVmYXVsdFRlbXBsYXRlUHJvY2Vzc29yKCk7XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTcgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuICogQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbiAqIHN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuICovXG5cbi8qKlxuICogQG1vZHVsZSBsaXQtaHRtbFxuICovXG5cbmltcG9ydCB7VGVtcGxhdGVSZXN1bHR9IGZyb20gJy4vdGVtcGxhdGUtcmVzdWx0LmpzJztcbmltcG9ydCB7bWFya2VyLCBUZW1wbGF0ZX0gZnJvbSAnLi90ZW1wbGF0ZS5qcyc7XG5cbi8qKlxuICogQSBmdW5jdGlvbiB0eXBlIHRoYXQgY3JlYXRlcyBhIFRlbXBsYXRlIGZyb20gYSBUZW1wbGF0ZVJlc3VsdC5cbiAqXG4gKiBUaGlzIGlzIGEgaG9vayBpbnRvIHRoZSB0ZW1wbGF0ZS1jcmVhdGlvbiBwcm9jZXNzIGZvciByZW5kZXJpbmcgdGhhdFxuICogcmVxdWlyZXMgc29tZSBtb2RpZmljYXRpb24gb2YgdGVtcGxhdGVzIGJlZm9yZSB0aGV5J3JlIHVzZWQsIGxpa2UgU2hhZHlDU1MsXG4gKiB3aGljaCBtdXN0IGFkZCBjbGFzc2VzIHRvIGVsZW1lbnRzIGFuZCByZW1vdmUgc3R5bGVzLlxuICpcbiAqIFRlbXBsYXRlcyBzaG91bGQgYmUgY2FjaGVkIGFzIGFnZ3Jlc3NpdmVseSBhcyBwb3NzaWJsZSwgc28gdGhhdCBtYW55XG4gKiBUZW1wbGF0ZVJlc3VsdHMgcHJvZHVjZWQgZnJvbSB0aGUgc2FtZSBleHByZXNzaW9uIG9ubHkgZG8gdGhlIHdvcmsgb2ZcbiAqIGNyZWF0aW5nIHRoZSBUZW1wbGF0ZSB0aGUgZmlyc3QgdGltZS5cbiAqXG4gKiBUZW1wbGF0ZXMgYXJlIHVzdWFsbHkgY2FjaGVkIGJ5IFRlbXBsYXRlUmVzdWx0LnN0cmluZ3MgYW5kXG4gKiBUZW1wbGF0ZVJlc3VsdC50eXBlLCBidXQgbWF5IGJlIGNhY2hlZCBieSBvdGhlciBrZXlzIGlmIHRoaXMgZnVuY3Rpb25cbiAqIG1vZGlmaWVzIHRoZSB0ZW1wbGF0ZS5cbiAqXG4gKiBOb3RlIHRoYXQgY3VycmVudGx5IFRlbXBsYXRlRmFjdG9yaWVzIG11c3Qgbm90IGFkZCwgcmVtb3ZlLCBvciByZW9yZGVyXG4gKiBleHByZXNzaW9ucywgYmVjYXVzZSB0aGVyZSBpcyBubyB3YXkgdG8gZGVzY3JpYmUgc3VjaCBhIG1vZGlmaWNhdGlvblxuICogdG8gcmVuZGVyKCkgc28gdGhhdCB2YWx1ZXMgYXJlIGludGVycG9sYXRlZCB0byB0aGUgY29ycmVjdCBwbGFjZSBpbiB0aGVcbiAqIHRlbXBsYXRlIGluc3RhbmNlcy5cbiAqL1xuZXhwb3J0IHR5cGUgVGVtcGxhdGVGYWN0b3J5ID0gKHJlc3VsdDogVGVtcGxhdGVSZXN1bHQpID0+IFRlbXBsYXRlO1xuXG4vKipcbiAqIFRoZSBkZWZhdWx0IFRlbXBsYXRlRmFjdG9yeSB3aGljaCBjYWNoZXMgVGVtcGxhdGVzIGtleWVkIG9uXG4gKiByZXN1bHQudHlwZSBhbmQgcmVzdWx0LnN0cmluZ3MuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0ZW1wbGF0ZUZhY3RvcnkocmVzdWx0OiBUZW1wbGF0ZVJlc3VsdCkge1xuICBsZXQgdGVtcGxhdGVDYWNoZSA9IHRlbXBsYXRlQ2FjaGVzLmdldChyZXN1bHQudHlwZSk7XG4gIGlmICh0ZW1wbGF0ZUNhY2hlID09PSB1bmRlZmluZWQpIHtcbiAgICB0ZW1wbGF0ZUNhY2hlID0ge1xuICAgICAgc3RyaW5nc0FycmF5OiBuZXcgV2Vha01hcDxUZW1wbGF0ZVN0cmluZ3NBcnJheSwgVGVtcGxhdGU+KCksXG4gICAgICBrZXlTdHJpbmc6IG5ldyBNYXA8c3RyaW5nLCBUZW1wbGF0ZT4oKVxuICAgIH07XG4gICAgdGVtcGxhdGVDYWNoZXMuc2V0KHJlc3VsdC50eXBlLCB0ZW1wbGF0ZUNhY2hlKTtcbiAgfVxuXG4gIGxldCB0ZW1wbGF0ZSA9IHRlbXBsYXRlQ2FjaGUuc3RyaW5nc0FycmF5LmdldChyZXN1bHQuc3RyaW5ncyk7XG4gIGlmICh0ZW1wbGF0ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuIHRlbXBsYXRlO1xuICB9XG5cbiAgLy8gSWYgdGhlIFRlbXBsYXRlU3RyaW5nc0FycmF5IGlzIG5ldywgZ2VuZXJhdGUgYSBrZXkgZnJvbSB0aGUgc3RyaW5nc1xuICAvLyBUaGlzIGtleSBpcyBzaGFyZWQgYmV0d2VlbiBhbGwgdGVtcGxhdGVzIHdpdGggaWRlbnRpY2FsIGNvbnRlbnRcbiAgY29uc3Qga2V5ID0gcmVzdWx0LnN0cmluZ3Muam9pbihtYXJrZXIpO1xuXG4gIC8vIENoZWNrIGlmIHdlIGFscmVhZHkgaGF2ZSBhIFRlbXBsYXRlIGZvciB0aGlzIGtleVxuICB0ZW1wbGF0ZSA9IHRlbXBsYXRlQ2FjaGUua2V5U3RyaW5nLmdldChrZXkpO1xuICBpZiAodGVtcGxhdGUgPT09IHVuZGVmaW5lZCkge1xuICAgIC8vIElmIHdlIGhhdmUgbm90IHNlZW4gdGhpcyBrZXkgYmVmb3JlLCBjcmVhdGUgYSBuZXcgVGVtcGxhdGVcbiAgICB0ZW1wbGF0ZSA9IG5ldyBUZW1wbGF0ZShyZXN1bHQsIHJlc3VsdC5nZXRUZW1wbGF0ZUVsZW1lbnQoKSk7XG4gICAgLy8gQ2FjaGUgdGhlIFRlbXBsYXRlIGZvciB0aGlzIGtleVxuICAgIHRlbXBsYXRlQ2FjaGUua2V5U3RyaW5nLnNldChrZXksIHRlbXBsYXRlKTtcbiAgfVxuXG4gIC8vIENhY2hlIGFsbCBmdXR1cmUgcXVlcmllcyBmb3IgdGhpcyBUZW1wbGF0ZVN0cmluZ3NBcnJheVxuICB0ZW1wbGF0ZUNhY2hlLnN0cmluZ3NBcnJheS5zZXQocmVzdWx0LnN0cmluZ3MsIHRlbXBsYXRlKTtcbiAgcmV0dXJuIHRlbXBsYXRlO1xufVxuXG4vKipcbiAqIFRoZSBmaXJzdCBhcmd1bWVudCB0byBKUyB0ZW1wbGF0ZSB0YWdzIHJldGFpbiBpZGVudGl0eSBhY3Jvc3MgbXVsdGlwbGVcbiAqIGNhbGxzIHRvIGEgdGFnIGZvciB0aGUgc2FtZSBsaXRlcmFsLCBzbyB3ZSBjYW4gY2FjaGUgd29yayBkb25lIHBlciBsaXRlcmFsXG4gKiBpbiBhIE1hcC5cbiAqXG4gKiBTYWZhcmkgY3VycmVudGx5IGhhcyBhIGJ1ZyB3aGljaCBvY2Nhc2lvbmFsbHkgYnJlYWtzIHRoaXMgYmVoYXZpb3VyLCBzbyB3ZVxuICogbmVlZCB0byBjYWNoZSB0aGUgVGVtcGxhdGUgYXQgdHdvIGxldmVscy4gV2UgZmlyc3QgY2FjaGUgdGhlXG4gKiBUZW1wbGF0ZVN0cmluZ3NBcnJheSwgYW5kIGlmIHRoYXQgZmFpbHMsIHdlIGNhY2hlIGEga2V5IGNvbnN0cnVjdGVkIGJ5XG4gKiBqb2luaW5nIHRoZSBzdHJpbmdzIGFycmF5LlxuICovXG5leHBvcnQgdHlwZSB0ZW1wbGF0ZUNhY2hlID0ge1xuICByZWFkb25seSBzdHJpbmdzQXJyYXk6IFdlYWtNYXA8VGVtcGxhdGVTdHJpbmdzQXJyYXksIFRlbXBsYXRlPjsgLy9cbiAgcmVhZG9ubHkga2V5U3RyaW5nOiBNYXA8c3RyaW5nLCBUZW1wbGF0ZT47XG59O1xuXG5leHBvcnQgY29uc3QgdGVtcGxhdGVDYWNoZXMgPSBuZXcgTWFwPHN0cmluZywgdGVtcGxhdGVDYWNoZT4oKTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAoYykgMjAxNyBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBUaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0XG4gKiBUaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0XG4gKiBDb2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzb1xuICogc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudCBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4gKi9cblxuLyoqXG4gKiBAbW9kdWxlIGxpdC1odG1sXG4gKi9cblxuaW1wb3J0IHtyZW1vdmVOb2Rlc30gZnJvbSAnLi9kb20uanMnO1xuaW1wb3J0IHtOb2RlUGFydH0gZnJvbSAnLi9wYXJ0cy5qcyc7XG5pbXBvcnQge1JlbmRlck9wdGlvbnN9IGZyb20gJy4vcmVuZGVyLW9wdGlvbnMuanMnO1xuaW1wb3J0IHt0ZW1wbGF0ZUZhY3Rvcnl9IGZyb20gJy4vdGVtcGxhdGUtZmFjdG9yeS5qcyc7XG5pbXBvcnQge1RlbXBsYXRlUmVzdWx0fSBmcm9tICcuL3RlbXBsYXRlLXJlc3VsdC5qcyc7XG5cbmV4cG9ydCBjb25zdCBwYXJ0cyA9IG5ldyBXZWFrTWFwPE5vZGUsIE5vZGVQYXJ0PigpO1xuXG4vKipcbiAqIFJlbmRlcnMgYSB0ZW1wbGF0ZSB0byBhIGNvbnRhaW5lci5cbiAqXG4gKiBUbyB1cGRhdGUgYSBjb250YWluZXIgd2l0aCBuZXcgdmFsdWVzLCByZWV2YWx1YXRlIHRoZSB0ZW1wbGF0ZSBsaXRlcmFsIGFuZFxuICogY2FsbCBgcmVuZGVyYCB3aXRoIHRoZSBuZXcgcmVzdWx0LlxuICpcbiAqIEBwYXJhbSByZXN1bHQgYSBUZW1wbGF0ZVJlc3VsdCBjcmVhdGVkIGJ5IGV2YWx1YXRpbmcgYSB0ZW1wbGF0ZSB0YWcgbGlrZVxuICogICAgIGBodG1sYCBvciBgc3ZnYC5cbiAqIEBwYXJhbSBjb250YWluZXIgQSBET00gcGFyZW50IHRvIHJlbmRlciB0by4gVGhlIGVudGlyZSBjb250ZW50cyBhcmUgZWl0aGVyXG4gKiAgICAgcmVwbGFjZWQsIG9yIGVmZmljaWVudGx5IHVwZGF0ZWQgaWYgdGhlIHNhbWUgcmVzdWx0IHR5cGUgd2FzIHByZXZpb3VzXG4gKiAgICAgcmVuZGVyZWQgdGhlcmUuXG4gKiBAcGFyYW0gb3B0aW9ucyBSZW5kZXJPcHRpb25zIGZvciB0aGUgZW50aXJlIHJlbmRlciB0cmVlIHJlbmRlcmVkIHRvIHRoaXNcbiAqICAgICBjb250YWluZXIuIFJlbmRlciBvcHRpb25zIG11c3QgKm5vdCogY2hhbmdlIGJldHdlZW4gcmVuZGVycyB0byB0aGUgc2FtZVxuICogICAgIGNvbnRhaW5lciwgYXMgdGhvc2UgY2hhbmdlcyB3aWxsIG5vdCBlZmZlY3QgcHJldmlvdXNseSByZW5kZXJlZCBET00uXG4gKi9cbmV4cG9ydCBjb25zdCByZW5kZXIgPVxuICAgIChyZXN1bHQ6IFRlbXBsYXRlUmVzdWx0LFxuICAgICBjb250YWluZXI6IEVsZW1lbnR8RG9jdW1lbnRGcmFnbWVudCxcbiAgICAgb3B0aW9ucz86IFBhcnRpYWw8UmVuZGVyT3B0aW9ucz4pID0+IHtcbiAgICAgIGxldCBwYXJ0ID0gcGFydHMuZ2V0KGNvbnRhaW5lcik7XG4gICAgICBpZiAocGFydCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJlbW92ZU5vZGVzKGNvbnRhaW5lciwgY29udGFpbmVyLmZpcnN0Q2hpbGQpO1xuICAgICAgICBwYXJ0cy5zZXQoY29udGFpbmVyLCBwYXJ0ID0gbmV3IE5vZGVQYXJ0KHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZUZhY3RvcnksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICBwYXJ0LmFwcGVuZEludG8oY29udGFpbmVyKTtcbiAgICAgIH1cbiAgICAgIHBhcnQuc2V0VmFsdWUocmVzdWx0KTtcbiAgICAgIHBhcnQuY29tbWl0KCk7XG4gICAgfTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAoYykgMjAxNyBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBUaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0XG4gKiBUaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0XG4gKiBDb2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzb1xuICogc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudCBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4gKi9cblxuLyoqXG4gKlxuICogTWFpbiBsaXQtaHRtbCBtb2R1bGUuXG4gKlxuICogTWFpbiBleHBvcnRzOlxuICpcbiAqIC0gIFtbaHRtbF1dXG4gKiAtICBbW3N2Z11dXG4gKiAtICBbW3JlbmRlcl1dXG4gKlxuICogQG1vZHVsZSBsaXQtaHRtbFxuICogQHByZWZlcnJlZFxuICovXG5cbi8qKlxuICogRG8gbm90IHJlbW92ZSB0aGlzIGNvbW1lbnQ7IGl0IGtlZXBzIHR5cGVkb2MgZnJvbSBtaXNwbGFjaW5nIHRoZSBtb2R1bGVcbiAqIGRvY3MuXG4gKi9cbmltcG9ydCB7ZGVmYXVsdFRlbXBsYXRlUHJvY2Vzc29yfSBmcm9tICcuL2xpYi9kZWZhdWx0LXRlbXBsYXRlLXByb2Nlc3Nvci5qcyc7XG5pbXBvcnQge1NWR1RlbXBsYXRlUmVzdWx0LCBUZW1wbGF0ZVJlc3VsdH0gZnJvbSAnLi9saWIvdGVtcGxhdGUtcmVzdWx0LmpzJztcblxuZXhwb3J0IHtEZWZhdWx0VGVtcGxhdGVQcm9jZXNzb3IsIGRlZmF1bHRUZW1wbGF0ZVByb2Nlc3Nvcn0gZnJvbSAnLi9saWIvZGVmYXVsdC10ZW1wbGF0ZS1wcm9jZXNzb3IuanMnO1xuZXhwb3J0IHtkaXJlY3RpdmUsIERpcmVjdGl2ZUZuLCBpc0RpcmVjdGl2ZX0gZnJvbSAnLi9saWIvZGlyZWN0aXZlLmpzJztcbi8vIFRPRE8oanVzdGluZmFnbmFuaSk6IHJlbW92ZSBsaW5lIHdoZW4gd2UgZ2V0IE5vZGVQYXJ0IG1vdmluZyBtZXRob2RzXG5leHBvcnQge3JlbW92ZU5vZGVzLCByZXBhcmVudE5vZGVzfSBmcm9tICcuL2xpYi9kb20uanMnO1xuZXhwb3J0IHtub0NoYW5nZSwgbm90aGluZywgUGFydH0gZnJvbSAnLi9saWIvcGFydC5qcyc7XG5leHBvcnQge0F0dHJpYnV0ZUNvbW1pdHRlciwgQXR0cmlidXRlUGFydCwgQm9vbGVhbkF0dHJpYnV0ZVBhcnQsIEV2ZW50UGFydCwgaXNJdGVyYWJsZSwgaXNQcmltaXRpdmUsIE5vZGVQYXJ0LCBQcm9wZXJ0eUNvbW1pdHRlciwgUHJvcGVydHlQYXJ0fSBmcm9tICcuL2xpYi9wYXJ0cy5qcyc7XG5leHBvcnQge1JlbmRlck9wdGlvbnN9IGZyb20gJy4vbGliL3JlbmRlci1vcHRpb25zLmpzJztcbmV4cG9ydCB7cGFydHMsIHJlbmRlcn0gZnJvbSAnLi9saWIvcmVuZGVyLmpzJztcbmV4cG9ydCB7dGVtcGxhdGVDYWNoZXMsIHRlbXBsYXRlRmFjdG9yeX0gZnJvbSAnLi9saWIvdGVtcGxhdGUtZmFjdG9yeS5qcyc7XG5leHBvcnQge1RlbXBsYXRlSW5zdGFuY2V9IGZyb20gJy4vbGliL3RlbXBsYXRlLWluc3RhbmNlLmpzJztcbmV4cG9ydCB7VGVtcGxhdGVQcm9jZXNzb3J9IGZyb20gJy4vbGliL3RlbXBsYXRlLXByb2Nlc3Nvci5qcyc7XG5leHBvcnQge1NWR1RlbXBsYXRlUmVzdWx0LCBUZW1wbGF0ZVJlc3VsdH0gZnJvbSAnLi9saWIvdGVtcGxhdGUtcmVzdWx0LmpzJztcbmV4cG9ydCB7Y3JlYXRlTWFya2VyLCBpc1RlbXBsYXRlUGFydEFjdGl2ZSwgVGVtcGxhdGV9IGZyb20gJy4vbGliL3RlbXBsYXRlLmpzJztcblxuZGVjbGFyZSBnbG9iYWwge1xuICBpbnRlcmZhY2UgV2luZG93IHtcbiAgICBsaXRIdG1sVmVyc2lvbnM6IHN0cmluZ1tdO1xuICB9XG59XG5cbi8vIElNUE9SVEFOVDogZG8gbm90IGNoYW5nZSB0aGUgcHJvcGVydHkgbmFtZSBvciB0aGUgYXNzaWdubWVudCBleHByZXNzaW9uLlxuLy8gVGhpcyBsaW5lIHdpbGwgYmUgdXNlZCBpbiByZWdleGVzIHRvIHNlYXJjaCBmb3IgbGl0LWh0bWwgdXNhZ2UuXG4vLyBUT0RPKGp1c3RpbmZhZ25hbmkpOiBpbmplY3QgdmVyc2lvbiBudW1iZXIgYXQgYnVpbGQgdGltZVxuKHdpbmRvd1snbGl0SHRtbFZlcnNpb25zJ10gfHwgKHdpbmRvd1snbGl0SHRtbFZlcnNpb25zJ10gPSBbXSkpLnB1c2goJzEuMC4wJyk7XG5cbi8qKlxuICogSW50ZXJwcmV0cyBhIHRlbXBsYXRlIGxpdGVyYWwgYXMgYW4gSFRNTCB0ZW1wbGF0ZSB0aGF0IGNhbiBlZmZpY2llbnRseVxuICogcmVuZGVyIHRvIGFuZCB1cGRhdGUgYSBjb250YWluZXIuXG4gKi9cbmV4cG9ydCBjb25zdCBodG1sID0gKHN0cmluZ3M6IFRlbXBsYXRlU3RyaW5nc0FycmF5LCAuLi52YWx1ZXM6IHVua25vd25bXSkgPT5cbiAgICBuZXcgVGVtcGxhdGVSZXN1bHQoc3RyaW5ncywgdmFsdWVzLCAnaHRtbCcsIGRlZmF1bHRUZW1wbGF0ZVByb2Nlc3Nvcik7XG5cbi8qKlxuICogSW50ZXJwcmV0cyBhIHRlbXBsYXRlIGxpdGVyYWwgYXMgYW4gU1ZHIHRlbXBsYXRlIHRoYXQgY2FuIGVmZmljaWVudGx5XG4gKiByZW5kZXIgdG8gYW5kIHVwZGF0ZSBhIGNvbnRhaW5lci5cbiAqL1xuZXhwb3J0IGNvbnN0IHN2ZyA9IChzdHJpbmdzOiBUZW1wbGF0ZVN0cmluZ3NBcnJheSwgLi4udmFsdWVzOiB1bmtub3duW10pID0+XG4gICAgbmV3IFNWR1RlbXBsYXRlUmVzdWx0KHN0cmluZ3MsIHZhbHVlcywgJ3N2ZycsIGRlZmF1bHRUZW1wbGF0ZVByb2Nlc3Nvcik7XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTcgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuICogQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbiAqIHN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuICovXG5cbi8qKlxuICogQG1vZHVsZSBzaGFkeS1yZW5kZXJcbiAqL1xuXG5pbXBvcnQge2lzVGVtcGxhdGVQYXJ0QWN0aXZlLCBUZW1wbGF0ZSwgVGVtcGxhdGVQYXJ0fSBmcm9tICcuL3RlbXBsYXRlLmpzJztcblxuY29uc3Qgd2Fsa2VyTm9kZUZpbHRlciA9IDEzMyAvKiBOb2RlRmlsdGVyLlNIT1dfe0VMRU1FTlR8Q09NTUVOVHxURVhUfSAqLztcblxuLyoqXG4gKiBSZW1vdmVzIHRoZSBsaXN0IG9mIG5vZGVzIGZyb20gYSBUZW1wbGF0ZSBzYWZlbHkuIEluIGFkZGl0aW9uIHRvIHJlbW92aW5nXG4gKiBub2RlcyBmcm9tIHRoZSBUZW1wbGF0ZSwgdGhlIFRlbXBsYXRlIHBhcnQgaW5kaWNlcyBhcmUgdXBkYXRlZCB0byBtYXRjaFxuICogdGhlIG11dGF0ZWQgVGVtcGxhdGUgRE9NLlxuICpcbiAqIEFzIHRoZSB0ZW1wbGF0ZSBpcyB3YWxrZWQgdGhlIHJlbW92YWwgc3RhdGUgaXMgdHJhY2tlZCBhbmRcbiAqIHBhcnQgaW5kaWNlcyBhcmUgYWRqdXN0ZWQgYXMgbmVlZGVkLlxuICpcbiAqIGRpdlxuICogICBkaXYjMSAocmVtb3ZlKSA8LS0gc3RhcnQgcmVtb3ZpbmcgKHJlbW92aW5nIG5vZGUgaXMgZGl2IzEpXG4gKiAgICAgZGl2XG4gKiAgICAgICBkaXYjMiAocmVtb3ZlKSAgPC0tIGNvbnRpbnVlIHJlbW92aW5nIChyZW1vdmluZyBub2RlIGlzIHN0aWxsIGRpdiMxKVxuICogICAgICAgICBkaXZcbiAqIGRpdiA8LS0gc3RvcCByZW1vdmluZyBzaW5jZSBwcmV2aW91cyBzaWJsaW5nIGlzIHRoZSByZW1vdmluZyBub2RlIChkaXYjMSxcbiAqIHJlbW92ZWQgNCBub2RlcylcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZU5vZGVzRnJvbVRlbXBsYXRlKFxuICAgIHRlbXBsYXRlOiBUZW1wbGF0ZSwgbm9kZXNUb1JlbW92ZTogU2V0PE5vZGU+KSB7XG4gIGNvbnN0IHtlbGVtZW50OiB7Y29udGVudH0sIHBhcnRzfSA9IHRlbXBsYXRlO1xuICBjb25zdCB3YWxrZXIgPVxuICAgICAgZG9jdW1lbnQuY3JlYXRlVHJlZVdhbGtlcihjb250ZW50LCB3YWxrZXJOb2RlRmlsdGVyLCBudWxsLCBmYWxzZSk7XG4gIGxldCBwYXJ0SW5kZXggPSBuZXh0QWN0aXZlSW5kZXhJblRlbXBsYXRlUGFydHMocGFydHMpO1xuICBsZXQgcGFydCA9IHBhcnRzW3BhcnRJbmRleF07XG4gIGxldCBub2RlSW5kZXggPSAtMTtcbiAgbGV0IHJlbW92ZUNvdW50ID0gMDtcbiAgY29uc3Qgbm9kZXNUb1JlbW92ZUluVGVtcGxhdGUgPSBbXTtcbiAgbGV0IGN1cnJlbnRSZW1vdmluZ05vZGU6IE5vZGV8bnVsbCA9IG51bGw7XG4gIHdoaWxlICh3YWxrZXIubmV4dE5vZGUoKSkge1xuICAgIG5vZGVJbmRleCsrO1xuICAgIGNvbnN0IG5vZGUgPSB3YWxrZXIuY3VycmVudE5vZGUgYXMgRWxlbWVudDtcbiAgICAvLyBFbmQgcmVtb3ZhbCBpZiBzdGVwcGVkIHBhc3QgdGhlIHJlbW92aW5nIG5vZGVcbiAgICBpZiAobm9kZS5wcmV2aW91c1NpYmxpbmcgPT09IGN1cnJlbnRSZW1vdmluZ05vZGUpIHtcbiAgICAgIGN1cnJlbnRSZW1vdmluZ05vZGUgPSBudWxsO1xuICAgIH1cbiAgICAvLyBBIG5vZGUgdG8gcmVtb3ZlIHdhcyBmb3VuZCBpbiB0aGUgdGVtcGxhdGVcbiAgICBpZiAobm9kZXNUb1JlbW92ZS5oYXMobm9kZSkpIHtcbiAgICAgIG5vZGVzVG9SZW1vdmVJblRlbXBsYXRlLnB1c2gobm9kZSk7XG4gICAgICAvLyBUcmFjayBub2RlIHdlJ3JlIHJlbW92aW5nXG4gICAgICBpZiAoY3VycmVudFJlbW92aW5nTm9kZSA9PT0gbnVsbCkge1xuICAgICAgICBjdXJyZW50UmVtb3ZpbmdOb2RlID0gbm9kZTtcbiAgICAgIH1cbiAgICB9XG4gICAgLy8gV2hlbiByZW1vdmluZywgaW5jcmVtZW50IGNvdW50IGJ5IHdoaWNoIHRvIGFkanVzdCBzdWJzZXF1ZW50IHBhcnQgaW5kaWNlc1xuICAgIGlmIChjdXJyZW50UmVtb3ZpbmdOb2RlICE9PSBudWxsKSB7XG4gICAgICByZW1vdmVDb3VudCsrO1xuICAgIH1cbiAgICB3aGlsZSAocGFydCAhPT0gdW5kZWZpbmVkICYmIHBhcnQuaW5kZXggPT09IG5vZGVJbmRleCkge1xuICAgICAgLy8gSWYgcGFydCBpcyBpbiBhIHJlbW92ZWQgbm9kZSBkZWFjdGl2YXRlIGl0IGJ5IHNldHRpbmcgaW5kZXggdG8gLTEgb3JcbiAgICAgIC8vIGFkanVzdCB0aGUgaW5kZXggYXMgbmVlZGVkLlxuICAgICAgcGFydC5pbmRleCA9IGN1cnJlbnRSZW1vdmluZ05vZGUgIT09IG51bGwgPyAtMSA6IHBhcnQuaW5kZXggLSByZW1vdmVDb3VudDtcbiAgICAgIC8vIGdvIHRvIHRoZSBuZXh0IGFjdGl2ZSBwYXJ0LlxuICAgICAgcGFydEluZGV4ID0gbmV4dEFjdGl2ZUluZGV4SW5UZW1wbGF0ZVBhcnRzKHBhcnRzLCBwYXJ0SW5kZXgpO1xuICAgICAgcGFydCA9IHBhcnRzW3BhcnRJbmRleF07XG4gICAgfVxuICB9XG4gIG5vZGVzVG9SZW1vdmVJblRlbXBsYXRlLmZvckVhY2goKG4pID0+IG4ucGFyZW50Tm9kZSEucmVtb3ZlQ2hpbGQobikpO1xufVxuXG5jb25zdCBjb3VudE5vZGVzID0gKG5vZGU6IE5vZGUpID0+IHtcbiAgbGV0IGNvdW50ID0gKG5vZGUubm9kZVR5cGUgPT09IDExIC8qIE5vZGUuRE9DVU1FTlRfRlJBR01FTlRfTk9ERSAqLykgPyAwIDogMTtcbiAgY29uc3Qgd2Fsa2VyID0gZG9jdW1lbnQuY3JlYXRlVHJlZVdhbGtlcihub2RlLCB3YWxrZXJOb2RlRmlsdGVyLCBudWxsLCBmYWxzZSk7XG4gIHdoaWxlICh3YWxrZXIubmV4dE5vZGUoKSkge1xuICAgIGNvdW50Kys7XG4gIH1cbiAgcmV0dXJuIGNvdW50O1xufTtcblxuY29uc3QgbmV4dEFjdGl2ZUluZGV4SW5UZW1wbGF0ZVBhcnRzID1cbiAgICAocGFydHM6IFRlbXBsYXRlUGFydFtdLCBzdGFydEluZGV4OiBudW1iZXIgPSAtMSkgPT4ge1xuICAgICAgZm9yIChsZXQgaSA9IHN0YXJ0SW5kZXggKyAxOyBpIDwgcGFydHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgcGFydCA9IHBhcnRzW2ldO1xuICAgICAgICBpZiAoaXNUZW1wbGF0ZVBhcnRBY3RpdmUocGFydCkpIHtcbiAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIC0xO1xuICAgIH07XG5cbi8qKlxuICogSW5zZXJ0cyB0aGUgZ2l2ZW4gbm9kZSBpbnRvIHRoZSBUZW1wbGF0ZSwgb3B0aW9uYWxseSBiZWZvcmUgdGhlIGdpdmVuXG4gKiByZWZOb2RlLiBJbiBhZGRpdGlvbiB0byBpbnNlcnRpbmcgdGhlIG5vZGUgaW50byB0aGUgVGVtcGxhdGUsIHRoZSBUZW1wbGF0ZVxuICogcGFydCBpbmRpY2VzIGFyZSB1cGRhdGVkIHRvIG1hdGNoIHRoZSBtdXRhdGVkIFRlbXBsYXRlIERPTS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGluc2VydE5vZGVJbnRvVGVtcGxhdGUoXG4gICAgdGVtcGxhdGU6IFRlbXBsYXRlLCBub2RlOiBOb2RlLCByZWZOb2RlOiBOb2RlfG51bGwgPSBudWxsKSB7XG4gIGNvbnN0IHtlbGVtZW50OiB7Y29udGVudH0sIHBhcnRzfSA9IHRlbXBsYXRlO1xuICAvLyBJZiB0aGVyZSdzIG5vIHJlZk5vZGUsIHRoZW4gcHV0IG5vZGUgYXQgZW5kIG9mIHRlbXBsYXRlLlxuICAvLyBObyBwYXJ0IGluZGljZXMgbmVlZCB0byBiZSBzaGlmdGVkIGluIHRoaXMgY2FzZS5cbiAgaWYgKHJlZk5vZGUgPT09IG51bGwgfHwgcmVmTm9kZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgY29udGVudC5hcHBlbmRDaGlsZChub2RlKTtcbiAgICByZXR1cm47XG4gIH1cbiAgY29uc3Qgd2Fsa2VyID1cbiAgICAgIGRvY3VtZW50LmNyZWF0ZVRyZWVXYWxrZXIoY29udGVudCwgd2Fsa2VyTm9kZUZpbHRlciwgbnVsbCwgZmFsc2UpO1xuICBsZXQgcGFydEluZGV4ID0gbmV4dEFjdGl2ZUluZGV4SW5UZW1wbGF0ZVBhcnRzKHBhcnRzKTtcbiAgbGV0IGluc2VydENvdW50ID0gMDtcbiAgbGV0IHdhbGtlckluZGV4ID0gLTE7XG4gIHdoaWxlICh3YWxrZXIubmV4dE5vZGUoKSkge1xuICAgIHdhbGtlckluZGV4Kys7XG4gICAgY29uc3Qgd2Fsa2VyTm9kZSA9IHdhbGtlci5jdXJyZW50Tm9kZSBhcyBFbGVtZW50O1xuICAgIGlmICh3YWxrZXJOb2RlID09PSByZWZOb2RlKSB7XG4gICAgICBpbnNlcnRDb3VudCA9IGNvdW50Tm9kZXMobm9kZSk7XG4gICAgICByZWZOb2RlLnBhcmVudE5vZGUhLmluc2VydEJlZm9yZShub2RlLCByZWZOb2RlKTtcbiAgICB9XG4gICAgd2hpbGUgKHBhcnRJbmRleCAhPT0gLTEgJiYgcGFydHNbcGFydEluZGV4XS5pbmRleCA9PT0gd2Fsa2VySW5kZXgpIHtcbiAgICAgIC8vIElmIHdlJ3ZlIGluc2VydGVkIHRoZSBub2RlLCBzaW1wbHkgYWRqdXN0IGFsbCBzdWJzZXF1ZW50IHBhcnRzXG4gICAgICBpZiAoaW5zZXJ0Q291bnQgPiAwKSB7XG4gICAgICAgIHdoaWxlIChwYXJ0SW5kZXggIT09IC0xKSB7XG4gICAgICAgICAgcGFydHNbcGFydEluZGV4XS5pbmRleCArPSBpbnNlcnRDb3VudDtcbiAgICAgICAgICBwYXJ0SW5kZXggPSBuZXh0QWN0aXZlSW5kZXhJblRlbXBsYXRlUGFydHMocGFydHMsIHBhcnRJbmRleCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgcGFydEluZGV4ID0gbmV4dEFjdGl2ZUluZGV4SW5UZW1wbGF0ZVBhcnRzKHBhcnRzLCBwYXJ0SW5kZXgpO1xuICAgIH1cbiAgfVxufVxuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IChjKSAyMDE3IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqIFRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0XG4gKiBUaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHRcbiAqIENvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzIHBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvXG4gKiBzdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50IGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiAqL1xuXG4vKipcbiAqIE1vZHVsZSB0byBhZGQgc2hhZHkgRE9NL3NoYWR5IENTUyBwb2x5ZmlsbCBzdXBwb3J0IHRvIGxpdC1odG1sIHRlbXBsYXRlXG4gKiByZW5kZXJpbmcuIFNlZSB0aGUgW1tyZW5kZXJdXSBtZXRob2QgZm9yIGRldGFpbHMuXG4gKlxuICogQG1vZHVsZSBzaGFkeS1yZW5kZXJcbiAqIEBwcmVmZXJyZWRcbiAqL1xuXG4vKipcbiAqIERvIG5vdCByZW1vdmUgdGhpcyBjb21tZW50OyBpdCBrZWVwcyB0eXBlZG9jIGZyb20gbWlzcGxhY2luZyB0aGUgbW9kdWxlXG4gKiBkb2NzLlxuICovXG5pbXBvcnQge3JlbW92ZU5vZGVzfSBmcm9tICcuL2RvbS5qcyc7XG5pbXBvcnQge2luc2VydE5vZGVJbnRvVGVtcGxhdGUsIHJlbW92ZU5vZGVzRnJvbVRlbXBsYXRlfSBmcm9tICcuL21vZGlmeS10ZW1wbGF0ZS5qcyc7XG5pbXBvcnQge1JlbmRlck9wdGlvbnN9IGZyb20gJy4vcmVuZGVyLW9wdGlvbnMuanMnO1xuaW1wb3J0IHtwYXJ0cywgcmVuZGVyIGFzIGxpdFJlbmRlcn0gZnJvbSAnLi9yZW5kZXIuanMnO1xuaW1wb3J0IHt0ZW1wbGF0ZUNhY2hlc30gZnJvbSAnLi90ZW1wbGF0ZS1mYWN0b3J5LmpzJztcbmltcG9ydCB7VGVtcGxhdGVJbnN0YW5jZX0gZnJvbSAnLi90ZW1wbGF0ZS1pbnN0YW5jZS5qcyc7XG5pbXBvcnQge1RlbXBsYXRlUmVzdWx0fSBmcm9tICcuL3RlbXBsYXRlLXJlc3VsdC5qcyc7XG5pbXBvcnQge21hcmtlciwgVGVtcGxhdGV9IGZyb20gJy4vdGVtcGxhdGUuanMnO1xuXG5leHBvcnQge2h0bWwsIHN2ZywgVGVtcGxhdGVSZXN1bHR9IGZyb20gJy4uL2xpdC1odG1sLmpzJztcblxuLy8gR2V0IGEga2V5IHRvIGxvb2t1cCBpbiBgdGVtcGxhdGVDYWNoZXNgLlxuY29uc3QgZ2V0VGVtcGxhdGVDYWNoZUtleSA9ICh0eXBlOiBzdHJpbmcsIHNjb3BlTmFtZTogc3RyaW5nKSA9PlxuICAgIGAke3R5cGV9LS0ke3Njb3BlTmFtZX1gO1xuXG5sZXQgY29tcGF0aWJsZVNoYWR5Q1NTVmVyc2lvbiA9IHRydWU7XG5cbmlmICh0eXBlb2Ygd2luZG93LlNoYWR5Q1NTID09PSAndW5kZWZpbmVkJykge1xuICBjb21wYXRpYmxlU2hhZHlDU1NWZXJzaW9uID0gZmFsc2U7XG59IGVsc2UgaWYgKHR5cGVvZiB3aW5kb3cuU2hhZHlDU1MucHJlcGFyZVRlbXBsYXRlRG9tID09PSAndW5kZWZpbmVkJykge1xuICBjb25zb2xlLndhcm4oXG4gICAgICBgSW5jb21wYXRpYmxlIFNoYWR5Q1NTIHZlcnNpb24gZGV0ZWN0ZWQuIGAgK1xuICAgICAgYFBsZWFzZSB1cGRhdGUgdG8gYXQgbGVhc3QgQHdlYmNvbXBvbmVudHMvd2ViY29tcG9uZW50c2pzQDIuMC4yIGFuZCBgICtcbiAgICAgIGBAd2ViY29tcG9uZW50cy9zaGFkeWNzc0AxLjMuMS5gKTtcbiAgY29tcGF0aWJsZVNoYWR5Q1NTVmVyc2lvbiA9IGZhbHNlO1xufVxuXG4vKipcbiAqIFRlbXBsYXRlIGZhY3Rvcnkgd2hpY2ggc2NvcGVzIHRlbXBsYXRlIERPTSB1c2luZyBTaGFkeUNTUy5cbiAqIEBwYXJhbSBzY29wZU5hbWUge3N0cmluZ31cbiAqL1xuY29uc3Qgc2hhZHlUZW1wbGF0ZUZhY3RvcnkgPSAoc2NvcGVOYW1lOiBzdHJpbmcpID0+XG4gICAgKHJlc3VsdDogVGVtcGxhdGVSZXN1bHQpID0+IHtcbiAgICAgIGNvbnN0IGNhY2hlS2V5ID0gZ2V0VGVtcGxhdGVDYWNoZUtleShyZXN1bHQudHlwZSwgc2NvcGVOYW1lKTtcbiAgICAgIGxldCB0ZW1wbGF0ZUNhY2hlID0gdGVtcGxhdGVDYWNoZXMuZ2V0KGNhY2hlS2V5KTtcbiAgICAgIGlmICh0ZW1wbGF0ZUNhY2hlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGVtcGxhdGVDYWNoZSA9IHtcbiAgICAgICAgICBzdHJpbmdzQXJyYXk6IG5ldyBXZWFrTWFwPFRlbXBsYXRlU3RyaW5nc0FycmF5LCBUZW1wbGF0ZT4oKSxcbiAgICAgICAgICBrZXlTdHJpbmc6IG5ldyBNYXA8c3RyaW5nLCBUZW1wbGF0ZT4oKVxuICAgICAgICB9O1xuICAgICAgICB0ZW1wbGF0ZUNhY2hlcy5zZXQoY2FjaGVLZXksIHRlbXBsYXRlQ2FjaGUpO1xuICAgICAgfVxuXG4gICAgICBsZXQgdGVtcGxhdGUgPSB0ZW1wbGF0ZUNhY2hlLnN0cmluZ3NBcnJheS5nZXQocmVzdWx0LnN0cmluZ3MpO1xuICAgICAgaWYgKHRlbXBsYXRlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHRlbXBsYXRlO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBrZXkgPSByZXN1bHQuc3RyaW5ncy5qb2luKG1hcmtlcik7XG4gICAgICB0ZW1wbGF0ZSA9IHRlbXBsYXRlQ2FjaGUua2V5U3RyaW5nLmdldChrZXkpO1xuICAgICAgaWYgKHRlbXBsYXRlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29uc3QgZWxlbWVudCA9IHJlc3VsdC5nZXRUZW1wbGF0ZUVsZW1lbnQoKTtcbiAgICAgICAgaWYgKGNvbXBhdGlibGVTaGFkeUNTU1ZlcnNpb24pIHtcbiAgICAgICAgICB3aW5kb3cuU2hhZHlDU1MhLnByZXBhcmVUZW1wbGF0ZURvbShlbGVtZW50LCBzY29wZU5hbWUpO1xuICAgICAgICB9XG4gICAgICAgIHRlbXBsYXRlID0gbmV3IFRlbXBsYXRlKHJlc3VsdCwgZWxlbWVudCk7XG4gICAgICAgIHRlbXBsYXRlQ2FjaGUua2V5U3RyaW5nLnNldChrZXksIHRlbXBsYXRlKTtcbiAgICAgIH1cbiAgICAgIHRlbXBsYXRlQ2FjaGUuc3RyaW5nc0FycmF5LnNldChyZXN1bHQuc3RyaW5ncywgdGVtcGxhdGUpO1xuICAgICAgcmV0dXJuIHRlbXBsYXRlO1xuICAgIH07XG5cbmNvbnN0IFRFTVBMQVRFX1RZUEVTID0gWydodG1sJywgJ3N2ZyddO1xuXG4vKipcbiAqIFJlbW92ZXMgYWxsIHN0eWxlIGVsZW1lbnRzIGZyb20gVGVtcGxhdGVzIGZvciB0aGUgZ2l2ZW4gc2NvcGVOYW1lLlxuICovXG5jb25zdCByZW1vdmVTdHlsZXNGcm9tTGl0VGVtcGxhdGVzID0gKHNjb3BlTmFtZTogc3RyaW5nKSA9PiB7XG4gIFRFTVBMQVRFX1RZUEVTLmZvckVhY2goKHR5cGUpID0+IHtcbiAgICBjb25zdCB0ZW1wbGF0ZXMgPSB0ZW1wbGF0ZUNhY2hlcy5nZXQoZ2V0VGVtcGxhdGVDYWNoZUtleSh0eXBlLCBzY29wZU5hbWUpKTtcbiAgICBpZiAodGVtcGxhdGVzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHRlbXBsYXRlcy5rZXlTdHJpbmcuZm9yRWFjaCgodGVtcGxhdGUpID0+IHtcbiAgICAgICAgY29uc3Qge2VsZW1lbnQ6IHtjb250ZW50fX0gPSB0ZW1wbGF0ZTtcbiAgICAgICAgLy8gSUUgMTEgZG9lc24ndCBzdXBwb3J0IHRoZSBpdGVyYWJsZSBwYXJhbSBTZXQgY29uc3RydWN0b3JcbiAgICAgICAgY29uc3Qgc3R5bGVzID0gbmV3IFNldDxFbGVtZW50PigpO1xuICAgICAgICBBcnJheS5mcm9tKGNvbnRlbnQucXVlcnlTZWxlY3RvckFsbCgnc3R5bGUnKSkuZm9yRWFjaCgoczogRWxlbWVudCkgPT4ge1xuICAgICAgICAgIHN0eWxlcy5hZGQocyk7XG4gICAgICAgIH0pO1xuICAgICAgICByZW1vdmVOb2Rlc0Zyb21UZW1wbGF0ZSh0ZW1wbGF0ZSwgc3R5bGVzKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSk7XG59O1xuXG5jb25zdCBzaGFkeVJlbmRlclNldCA9IG5ldyBTZXQ8c3RyaW5nPigpO1xuXG4vKipcbiAqIEZvciB0aGUgZ2l2ZW4gc2NvcGUgbmFtZSwgZW5zdXJlcyB0aGF0IFNoYWR5Q1NTIHN0eWxlIHNjb3BpbmcgaXMgcGVyZm9ybWVkLlxuICogVGhpcyBpcyBkb25lIGp1c3Qgb25jZSBwZXIgc2NvcGUgbmFtZSBzbyB0aGUgZnJhZ21lbnQgYW5kIHRlbXBsYXRlIGNhbm5vdFxuICogYmUgbW9kaWZpZWQuXG4gKiAoMSkgZXh0cmFjdHMgc3R5bGVzIGZyb20gdGhlIHJlbmRlcmVkIGZyYWdtZW50IGFuZCBoYW5kcyB0aGVtIHRvIFNoYWR5Q1NTXG4gKiB0byBiZSBzY29wZWQgYW5kIGFwcGVuZGVkIHRvIHRoZSBkb2N1bWVudFxuICogKDIpIHJlbW92ZXMgc3R5bGUgZWxlbWVudHMgZnJvbSBhbGwgbGl0LWh0bWwgVGVtcGxhdGVzIGZvciB0aGlzIHNjb3BlIG5hbWUuXG4gKlxuICogTm90ZSwgPHN0eWxlPiBlbGVtZW50cyBjYW4gb25seSBiZSBwbGFjZWQgaW50byB0ZW1wbGF0ZXMgZm9yIHRoZVxuICogaW5pdGlhbCByZW5kZXJpbmcgb2YgdGhlIHNjb3BlLiBJZiA8c3R5bGU+IGVsZW1lbnRzIGFyZSBpbmNsdWRlZCBpbiB0ZW1wbGF0ZXNcbiAqIGR5bmFtaWNhbGx5IHJlbmRlcmVkIHRvIHRoZSBzY29wZSAoYWZ0ZXIgdGhlIGZpcnN0IHNjb3BlIHJlbmRlciksIHRoZXkgd2lsbFxuICogbm90IGJlIHNjb3BlZCBhbmQgdGhlIDxzdHlsZT4gd2lsbCBiZSBsZWZ0IGluIHRoZSB0ZW1wbGF0ZSBhbmQgcmVuZGVyZWRcbiAqIG91dHB1dC5cbiAqL1xuY29uc3QgcHJlcGFyZVRlbXBsYXRlU3R5bGVzID1cbiAgICAocmVuZGVyZWRET006IERvY3VtZW50RnJhZ21lbnQsIHRlbXBsYXRlOiBUZW1wbGF0ZSwgc2NvcGVOYW1lOiBzdHJpbmcpID0+IHtcbiAgICAgIHNoYWR5UmVuZGVyU2V0LmFkZChzY29wZU5hbWUpO1xuICAgICAgLy8gTW92ZSBzdHlsZXMgb3V0IG9mIHJlbmRlcmVkIERPTSBhbmQgc3RvcmUuXG4gICAgICBjb25zdCBzdHlsZXMgPSByZW5kZXJlZERPTS5xdWVyeVNlbGVjdG9yQWxsKCdzdHlsZScpO1xuICAgICAgY29uc3Qge2xlbmd0aH0gPSBzdHlsZXM7XG4gICAgICAvLyBJZiB0aGVyZSBhcmUgbm8gc3R5bGVzLCBza2lwIHVubmVjZXNzYXJ5IHdvcmtcbiAgICAgIGlmIChsZW5ndGggPT09IDApIHtcbiAgICAgICAgLy8gRW5zdXJlIHByZXBhcmVUZW1wbGF0ZVN0eWxlcyBpcyBjYWxsZWQgdG8gc3VwcG9ydCBhZGRpbmdcbiAgICAgICAgLy8gc3R5bGVzIHZpYSBgcHJlcGFyZUFkb3B0ZWRDc3NUZXh0YCBzaW5jZSB0aGF0IHJlcXVpcmVzIHRoYXRcbiAgICAgICAgLy8gYHByZXBhcmVUZW1wbGF0ZVN0eWxlc2AgaXMgY2FsbGVkLlxuICAgICAgICB3aW5kb3cuU2hhZHlDU1MhLnByZXBhcmVUZW1wbGF0ZVN0eWxlcyh0ZW1wbGF0ZS5lbGVtZW50LCBzY29wZU5hbWUpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBjb25kZW5zZWRTdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7XG4gICAgICAvLyBDb2xsZWN0IHN0eWxlcyBpbnRvIGEgc2luZ2xlIHN0eWxlLiBUaGlzIGhlbHBzIHVzIG1ha2Ugc3VyZSBTaGFkeUNTU1xuICAgICAgLy8gbWFuaXB1bGF0aW9ucyB3aWxsIG5vdCBwcmV2ZW50IHVzIGZyb20gYmVpbmcgYWJsZSB0byBmaXggdXAgdGVtcGxhdGVcbiAgICAgIC8vIHBhcnQgaW5kaWNlcy5cbiAgICAgIC8vIE5PVEU6IGNvbGxlY3Rpbmcgc3R5bGVzIGlzIGluZWZmaWNpZW50IGZvciBicm93c2VycyBidXQgU2hhZHlDU1NcbiAgICAgIC8vIGN1cnJlbnRseSBkb2VzIHRoaXMgYW55d2F5LiBXaGVuIGl0IGRvZXMgbm90LCB0aGlzIHNob3VsZCBiZSBjaGFuZ2VkLlxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBzdHlsZSA9IHN0eWxlc1tpXTtcbiAgICAgICAgc3R5bGUucGFyZW50Tm9kZSEucmVtb3ZlQ2hpbGQoc3R5bGUpO1xuICAgICAgICBjb25kZW5zZWRTdHlsZS50ZXh0Q29udGVudCEgKz0gc3R5bGUudGV4dENvbnRlbnQ7XG4gICAgICB9XG4gICAgICAvLyBSZW1vdmUgc3R5bGVzIGZyb20gbmVzdGVkIHRlbXBsYXRlcyBpbiB0aGlzIHNjb3BlLlxuICAgICAgcmVtb3ZlU3R5bGVzRnJvbUxpdFRlbXBsYXRlcyhzY29wZU5hbWUpO1xuICAgICAgLy8gQW5kIHRoZW4gcHV0IHRoZSBjb25kZW5zZWQgc3R5bGUgaW50byB0aGUgXCJyb290XCIgdGVtcGxhdGUgcGFzc2VkIGluIGFzXG4gICAgICAvLyBgdGVtcGxhdGVgLlxuICAgICAgY29uc3QgY29udGVudCA9IHRlbXBsYXRlLmVsZW1lbnQuY29udGVudDtcbiAgICAgIGluc2VydE5vZGVJbnRvVGVtcGxhdGUodGVtcGxhdGUsIGNvbmRlbnNlZFN0eWxlLCBjb250ZW50LmZpcnN0Q2hpbGQpO1xuICAgICAgLy8gTm90ZSwgaXQncyBpbXBvcnRhbnQgdGhhdCBTaGFkeUNTUyBnZXRzIHRoZSB0ZW1wbGF0ZSB0aGF0IGBsaXQtaHRtbGBcbiAgICAgIC8vIHdpbGwgYWN0dWFsbHkgcmVuZGVyIHNvIHRoYXQgaXQgY2FuIHVwZGF0ZSB0aGUgc3R5bGUgaW5zaWRlIHdoZW5cbiAgICAgIC8vIG5lZWRlZCAoZS5nLiBAYXBwbHkgbmF0aXZlIFNoYWRvdyBET00gY2FzZSkuXG4gICAgICB3aW5kb3cuU2hhZHlDU1MhLnByZXBhcmVUZW1wbGF0ZVN0eWxlcyh0ZW1wbGF0ZS5lbGVtZW50LCBzY29wZU5hbWUpO1xuICAgICAgY29uc3Qgc3R5bGUgPSBjb250ZW50LnF1ZXJ5U2VsZWN0b3IoJ3N0eWxlJyk7XG4gICAgICBpZiAod2luZG93LlNoYWR5Q1NTIS5uYXRpdmVTaGFkb3cgJiYgc3R5bGUgIT09IG51bGwpIHtcbiAgICAgICAgLy8gV2hlbiBpbiBuYXRpdmUgU2hhZG93IERPTSwgZW5zdXJlIHRoZSBzdHlsZSBjcmVhdGVkIGJ5IFNoYWR5Q1NTIGlzXG4gICAgICAgIC8vIGluY2x1ZGVkIGluIGluaXRpYWxseSByZW5kZXJlZCBvdXRwdXQgKGByZW5kZXJlZERPTWApLlxuICAgICAgICByZW5kZXJlZERPTS5pbnNlcnRCZWZvcmUoc3R5bGUuY2xvbmVOb2RlKHRydWUpLCByZW5kZXJlZERPTS5maXJzdENoaWxkKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIFdoZW4gbm8gc3R5bGUgaXMgbGVmdCBpbiB0aGUgdGVtcGxhdGUsIHBhcnRzIHdpbGwgYmUgYnJva2VuIGFzIGFcbiAgICAgICAgLy8gcmVzdWx0LiBUbyBmaXggdGhpcywgd2UgcHV0IGJhY2sgdGhlIHN0eWxlIG5vZGUgU2hhZHlDU1MgcmVtb3ZlZFxuICAgICAgICAvLyBhbmQgdGhlbiB0ZWxsIGxpdCB0byByZW1vdmUgdGhhdCBub2RlIGZyb20gdGhlIHRlbXBsYXRlLlxuICAgICAgICAvLyBUaGVyZSBjYW4gYmUgbm8gc3R5bGUgaW4gdGhlIHRlbXBsYXRlIGluIDIgY2FzZXMgKDEpIHdoZW4gU2hhZHkgRE9NXG4gICAgICAgIC8vIGlzIGluIHVzZSwgU2hhZHlDU1MgcmVtb3ZlcyBhbGwgc3R5bGVzLCAoMikgd2hlbiBuYXRpdmUgU2hhZG93IERPTVxuICAgICAgICAvLyBpcyBpbiB1c2UgU2hhZHlDU1MgcmVtb3ZlcyB0aGUgc3R5bGUgaWYgaXQgY29udGFpbnMgbm8gY29udGVudC5cbiAgICAgICAgLy8gTk9URSwgU2hhZHlDU1MgY3JlYXRlcyBpdHMgb3duIHN0eWxlIHNvIHdlIGNhbiBzYWZlbHkgYWRkL3JlbW92ZVxuICAgICAgICAvLyBgY29uZGVuc2VkU3R5bGVgIGhlcmUuXG4gICAgICAgIGNvbnRlbnQuaW5zZXJ0QmVmb3JlKGNvbmRlbnNlZFN0eWxlLCBjb250ZW50LmZpcnN0Q2hpbGQpO1xuICAgICAgICBjb25zdCByZW1vdmVzID0gbmV3IFNldCgpO1xuICAgICAgICByZW1vdmVzLmFkZChjb25kZW5zZWRTdHlsZSk7XG4gICAgICAgIHJlbW92ZU5vZGVzRnJvbVRlbXBsYXRlKHRlbXBsYXRlLCByZW1vdmVzKTtcbiAgICAgIH1cbiAgICB9O1xuXG5leHBvcnQgaW50ZXJmYWNlIFNoYWR5UmVuZGVyT3B0aW9ucyBleHRlbmRzIFBhcnRpYWw8UmVuZGVyT3B0aW9ucz4ge1xuICBzY29wZU5hbWU6IHN0cmluZztcbn1cblxuLyoqXG4gKiBFeHRlbnNpb24gdG8gdGhlIHN0YW5kYXJkIGByZW5kZXJgIG1ldGhvZCB3aGljaCBzdXBwb3J0cyByZW5kZXJpbmdcbiAqIHRvIFNoYWRvd1Jvb3RzIHdoZW4gdGhlIFNoYWR5RE9NIChodHRwczovL2dpdGh1Yi5jb20vd2ViY29tcG9uZW50cy9zaGFkeWRvbSlcbiAqIGFuZCBTaGFkeUNTUyAoaHR0cHM6Ly9naXRodWIuY29tL3dlYmNvbXBvbmVudHMvc2hhZHljc3MpIHBvbHlmaWxscyBhcmUgdXNlZFxuICogb3Igd2hlbiB0aGUgd2ViY29tcG9uZW50c2pzXG4gKiAoaHR0cHM6Ly9naXRodWIuY29tL3dlYmNvbXBvbmVudHMvd2ViY29tcG9uZW50c2pzKSBwb2x5ZmlsbCBpcyB1c2VkLlxuICpcbiAqIEFkZHMgYSBgc2NvcGVOYW1lYCBvcHRpb24gd2hpY2ggaXMgdXNlZCB0byBzY29wZSBlbGVtZW50IERPTSBhbmQgc3R5bGVzaGVldHNcbiAqIHdoZW4gbmF0aXZlIFNoYWRvd0RPTSBpcyB1bmF2YWlsYWJsZS4gVGhlIGBzY29wZU5hbWVgIHdpbGwgYmUgYWRkZWQgdG9cbiAqIHRoZSBjbGFzcyBhdHRyaWJ1dGUgb2YgYWxsIHJlbmRlcmVkIERPTS4gSW4gYWRkaXRpb24sIGFueSBzdHlsZSBlbGVtZW50cyB3aWxsXG4gKiBiZSBhdXRvbWF0aWNhbGx5IHJlLXdyaXR0ZW4gd2l0aCB0aGlzIGBzY29wZU5hbWVgIHNlbGVjdG9yIGFuZCBtb3ZlZCBvdXRcbiAqIG9mIHRoZSByZW5kZXJlZCBET00gYW5kIGludG8gdGhlIGRvY3VtZW50IGA8aGVhZD5gLlxuICpcbiAqIEl0IGlzIGNvbW1vbiB0byB1c2UgdGhpcyByZW5kZXIgbWV0aG9kIGluIGNvbmp1bmN0aW9uIHdpdGggYSBjdXN0b20gZWxlbWVudFxuICogd2hpY2ggcmVuZGVycyBhIHNoYWRvd1Jvb3QuIFdoZW4gdGhpcyBpcyBkb25lLCB0eXBpY2FsbHkgdGhlIGVsZW1lbnQnc1xuICogYGxvY2FsTmFtZWAgc2hvdWxkIGJlIHVzZWQgYXMgdGhlIGBzY29wZU5hbWVgLlxuICpcbiAqIEluIGFkZGl0aW9uIHRvIERPTSBzY29waW5nLCBTaGFkeUNTUyBhbHNvIHN1cHBvcnRzIGEgYmFzaWMgc2hpbSBmb3IgY3NzXG4gKiBjdXN0b20gcHJvcGVydGllcyAobmVlZGVkIG9ubHkgb24gb2xkZXIgYnJvd3NlcnMgbGlrZSBJRTExKSBhbmQgYSBzaGltIGZvclxuICogYSBkZXByZWNhdGVkIGZlYXR1cmUgY2FsbGVkIGBAYXBwbHlgIHRoYXQgc3VwcG9ydHMgYXBwbHlpbmcgYSBzZXQgb2YgY3NzXG4gKiBjdXN0b20gcHJvcGVydGllcyB0byBhIGdpdmVuIGxvY2F0aW9uLlxuICpcbiAqIFVzYWdlIGNvbnNpZGVyYXRpb25zOlxuICpcbiAqICogUGFydCB2YWx1ZXMgaW4gYDxzdHlsZT5gIGVsZW1lbnRzIGFyZSBvbmx5IGFwcGxpZWQgdGhlIGZpcnN0IHRpbWUgYSBnaXZlblxuICogYHNjb3BlTmFtZWAgcmVuZGVycy4gU3Vic2VxdWVudCBjaGFuZ2VzIHRvIHBhcnRzIGluIHN0eWxlIGVsZW1lbnRzIHdpbGwgaGF2ZVxuICogbm8gZWZmZWN0LiBCZWNhdXNlIG9mIHRoaXMsIHBhcnRzIGluIHN0eWxlIGVsZW1lbnRzIHNob3VsZCBvbmx5IGJlIHVzZWQgZm9yXG4gKiB2YWx1ZXMgdGhhdCB3aWxsIG5ldmVyIGNoYW5nZSwgZm9yIGV4YW1wbGUgcGFydHMgdGhhdCBzZXQgc2NvcGUtd2lkZSB0aGVtZVxuICogdmFsdWVzIG9yIHBhcnRzIHdoaWNoIHJlbmRlciBzaGFyZWQgc3R5bGUgZWxlbWVudHMuXG4gKlxuICogKiBOb3RlLCBkdWUgdG8gYSBsaW1pdGF0aW9uIG9mIHRoZSBTaGFkeURPTSBwb2x5ZmlsbCwgcmVuZGVyaW5nIGluIGFcbiAqIGN1c3RvbSBlbGVtZW50J3MgYGNvbnN0cnVjdG9yYCBpcyBub3Qgc3VwcG9ydGVkLiBJbnN0ZWFkIHJlbmRlcmluZyBzaG91bGRcbiAqIGVpdGhlciBkb25lIGFzeW5jaHJvbm91c2x5LCBmb3IgZXhhbXBsZSBhdCBtaWNyb3Rhc2sgdGltaW5nIChmb3IgZXhhbXBsZVxuICogYFByb21pc2UucmVzb2x2ZSgpYCksIG9yIGJlIGRlZmVycmVkIHVudGlsIHRoZSBmaXJzdCB0aW1lIHRoZSBlbGVtZW50J3NcbiAqIGBjb25uZWN0ZWRDYWxsYmFja2AgcnVucy5cbiAqXG4gKiBVc2FnZSBjb25zaWRlcmF0aW9ucyB3aGVuIHVzaW5nIHNoaW1tZWQgY3VzdG9tIHByb3BlcnRpZXMgb3IgYEBhcHBseWA6XG4gKlxuICogKiBXaGVuZXZlciBhbnkgZHluYW1pYyBjaGFuZ2VzIGFyZSBtYWRlIHdoaWNoIGFmZmVjdFxuICogY3NzIGN1c3RvbSBwcm9wZXJ0aWVzLCBgU2hhZHlDU1Muc3R5bGVFbGVtZW50KGVsZW1lbnQpYCBtdXN0IGJlIGNhbGxlZFxuICogdG8gdXBkYXRlIHRoZSBlbGVtZW50LiBUaGVyZSBhcmUgdHdvIGNhc2VzIHdoZW4gdGhpcyBpcyBuZWVkZWQ6XG4gKiAoMSkgdGhlIGVsZW1lbnQgaXMgY29ubmVjdGVkIHRvIGEgbmV3IHBhcmVudCwgKDIpIGEgY2xhc3MgaXMgYWRkZWQgdG8gdGhlXG4gKiBlbGVtZW50IHRoYXQgY2F1c2VzIGl0IHRvIG1hdGNoIGRpZmZlcmVudCBjdXN0b20gcHJvcGVydGllcy5cbiAqIFRvIGFkZHJlc3MgdGhlIGZpcnN0IGNhc2Ugd2hlbiByZW5kZXJpbmcgYSBjdXN0b20gZWxlbWVudCwgYHN0eWxlRWxlbWVudGBcbiAqIHNob3VsZCBiZSBjYWxsZWQgaW4gdGhlIGVsZW1lbnQncyBgY29ubmVjdGVkQ2FsbGJhY2tgLlxuICpcbiAqICogU2hpbW1lZCBjdXN0b20gcHJvcGVydGllcyBtYXkgb25seSBiZSBkZWZpbmVkIGVpdGhlciBmb3IgYW4gZW50aXJlXG4gKiBzaGFkb3dSb290IChmb3IgZXhhbXBsZSwgaW4gYSBgOmhvc3RgIHJ1bGUpIG9yIHZpYSBhIHJ1bGUgdGhhdCBkaXJlY3RseVxuICogbWF0Y2hlcyBhbiBlbGVtZW50IHdpdGggYSBzaGFkb3dSb290LiBJbiBvdGhlciB3b3JkcywgaW5zdGVhZCBvZiBmbG93aW5nIGZyb21cbiAqIHBhcmVudCB0byBjaGlsZCBhcyBkbyBuYXRpdmUgY3NzIGN1c3RvbSBwcm9wZXJ0aWVzLCBzaGltbWVkIGN1c3RvbSBwcm9wZXJ0aWVzXG4gKiBmbG93IG9ubHkgZnJvbSBzaGFkb3dSb290cyB0byBuZXN0ZWQgc2hhZG93Um9vdHMuXG4gKlxuICogKiBXaGVuIHVzaW5nIGBAYXBwbHlgIG1peGluZyBjc3Mgc2hvcnRoYW5kIHByb3BlcnR5IG5hbWVzIHdpdGhcbiAqIG5vbi1zaG9ydGhhbmQgbmFtZXMgKGZvciBleGFtcGxlIGBib3JkZXJgIGFuZCBgYm9yZGVyLXdpZHRoYCkgaXMgbm90XG4gKiBzdXBwb3J0ZWQuXG4gKi9cbmV4cG9ydCBjb25zdCByZW5kZXIgPVxuICAgIChyZXN1bHQ6IFRlbXBsYXRlUmVzdWx0LFxuICAgICBjb250YWluZXI6IEVsZW1lbnR8RG9jdW1lbnRGcmFnbWVudHxTaGFkb3dSb290LFxuICAgICBvcHRpb25zOiBTaGFkeVJlbmRlck9wdGlvbnMpID0+IHtcbiAgICAgIGNvbnN0IHNjb3BlTmFtZSA9IG9wdGlvbnMuc2NvcGVOYW1lO1xuICAgICAgY29uc3QgaGFzUmVuZGVyZWQgPSBwYXJ0cy5oYXMoY29udGFpbmVyKTtcbiAgICAgIGNvbnN0IG5lZWRzU2NvcGluZyA9IGNvbXBhdGlibGVTaGFkeUNTU1ZlcnNpb24gJiZcbiAgICAgICAgICBjb250YWluZXIubm9kZVR5cGUgPT09IDExIC8qIE5vZGUuRE9DVU1FTlRfRlJBR01FTlRfTk9ERSAqLyAmJlxuICAgICAgICAgICEhKGNvbnRhaW5lciBhcyBTaGFkb3dSb290KS5ob3N0ICYmIHJlc3VsdCBpbnN0YW5jZW9mIFRlbXBsYXRlUmVzdWx0O1xuICAgICAgLy8gSGFuZGxlIGZpcnN0IHJlbmRlciB0byBhIHNjb3BlIHNwZWNpYWxseS4uLlxuICAgICAgY29uc3QgZmlyc3RTY29wZVJlbmRlciA9IG5lZWRzU2NvcGluZyAmJiAhc2hhZHlSZW5kZXJTZXQuaGFzKHNjb3BlTmFtZSk7XG4gICAgICAvLyBPbiBmaXJzdCBzY29wZSByZW5kZXIsIHJlbmRlciBpbnRvIGEgZnJhZ21lbnQ7IHRoaXMgY2Fubm90IGJlIGEgc2luZ2xlXG4gICAgICAvLyBmcmFnbWVudCB0aGF0IGlzIHJldXNlZCBzaW5jZSBuZXN0ZWQgcmVuZGVycyBjYW4gb2NjdXIgc3luY2hyb25vdXNseS5cbiAgICAgIGNvbnN0IHJlbmRlckNvbnRhaW5lciA9XG4gICAgICAgICAgZmlyc3RTY29wZVJlbmRlciA/IGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSA6IGNvbnRhaW5lcjtcbiAgICAgIGxpdFJlbmRlcihcbiAgICAgICAgICByZXN1bHQsXG4gICAgICAgICAgcmVuZGVyQ29udGFpbmVyLFxuICAgICAgICAgIHt0ZW1wbGF0ZUZhY3Rvcnk6IHNoYWR5VGVtcGxhdGVGYWN0b3J5KHNjb3BlTmFtZSksIC4uLm9wdGlvbnN9IGFzXG4gICAgICAgICAgICAgIFJlbmRlck9wdGlvbnMpO1xuICAgICAgLy8gV2hlbiBwZXJmb3JtaW5nIGZpcnN0IHNjb3BlIHJlbmRlcixcbiAgICAgIC8vICgxKSBXZSd2ZSByZW5kZXJlZCBpbnRvIGEgZnJhZ21lbnQgc28gdGhhdCB0aGVyZSdzIGEgY2hhbmNlIHRvXG4gICAgICAvLyBgcHJlcGFyZVRlbXBsYXRlU3R5bGVzYCBiZWZvcmUgc3ViLWVsZW1lbnRzIGhpdCB0aGUgRE9NXG4gICAgICAvLyAod2hpY2ggbWlnaHQgY2F1c2UgdGhlbSB0byByZW5kZXIgYmFzZWQgb24gYSBjb21tb24gcGF0dGVybiBvZlxuICAgICAgLy8gcmVuZGVyaW5nIGluIGEgY3VzdG9tIGVsZW1lbnQncyBgY29ubmVjdGVkQ2FsbGJhY2tgKTtcbiAgICAgIC8vICgyKSBTY29wZSB0aGUgdGVtcGxhdGUgd2l0aCBTaGFkeUNTUyBvbmUgdGltZSBvbmx5IGZvciB0aGlzIHNjb3BlLlxuICAgICAgLy8gKDMpIFJlbmRlciB0aGUgZnJhZ21lbnQgaW50byB0aGUgY29udGFpbmVyIGFuZCBtYWtlIHN1cmUgdGhlXG4gICAgICAvLyBjb250YWluZXIga25vd3MgaXRzIGBwYXJ0YCBpcyB0aGUgb25lIHdlIGp1c3QgcmVuZGVyZWQuIFRoaXMgZW5zdXJlc1xuICAgICAgLy8gRE9NIHdpbGwgYmUgcmUtdXNlZCBvbiBzdWJzZXF1ZW50IHJlbmRlcnMuXG4gICAgICBpZiAoZmlyc3RTY29wZVJlbmRlcikge1xuICAgICAgICBjb25zdCBwYXJ0ID0gcGFydHMuZ2V0KHJlbmRlckNvbnRhaW5lcikhO1xuICAgICAgICBwYXJ0cy5kZWxldGUocmVuZGVyQ29udGFpbmVyKTtcbiAgICAgICAgaWYgKHBhcnQudmFsdWUgaW5zdGFuY2VvZiBUZW1wbGF0ZUluc3RhbmNlKSB7XG4gICAgICAgICAgcHJlcGFyZVRlbXBsYXRlU3R5bGVzKFxuICAgICAgICAgICAgICByZW5kZXJDb250YWluZXIgYXMgRG9jdW1lbnRGcmFnbWVudCxcbiAgICAgICAgICAgICAgcGFydC52YWx1ZS50ZW1wbGF0ZSxcbiAgICAgICAgICAgICAgc2NvcGVOYW1lKTtcbiAgICAgICAgfVxuICAgICAgICByZW1vdmVOb2Rlcyhjb250YWluZXIsIGNvbnRhaW5lci5maXJzdENoaWxkKTtcbiAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHJlbmRlckNvbnRhaW5lcik7XG4gICAgICAgIHBhcnRzLnNldChjb250YWluZXIsIHBhcnQpO1xuICAgICAgfVxuICAgICAgLy8gQWZ0ZXIgZWxlbWVudHMgaGF2ZSBoaXQgdGhlIERPTSwgdXBkYXRlIHN0eWxpbmcgaWYgdGhpcyBpcyB0aGVcbiAgICAgIC8vIGluaXRpYWwgcmVuZGVyIHRvIHRoaXMgY29udGFpbmVyLlxuICAgICAgLy8gVGhpcyBpcyBuZWVkZWQgd2hlbmV2ZXIgZHluYW1pYyBjaGFuZ2VzIGFyZSBtYWRlIHNvIGl0IHdvdWxkIGJlXG4gICAgICAvLyBzYWZlc3QgdG8gZG8gZXZlcnkgcmVuZGVyOyBob3dldmVyLCB0aGlzIHdvdWxkIHJlZ3Jlc3MgcGVyZm9ybWFuY2VcbiAgICAgIC8vIHNvIHdlIGxlYXZlIGl0IHVwIHRvIHRoZSB1c2VyIHRvIGNhbGwgYFNoYWR5Q1NTUy5zdHlsZUVsZW1lbnRgXG4gICAgICAvLyBmb3IgZHluYW1pYyBjaGFuZ2VzLlxuICAgICAgaWYgKCFoYXNSZW5kZXJlZCAmJiBuZWVkc1Njb3BpbmcpIHtcbiAgICAgICAgd2luZG93LlNoYWR5Q1NTIS5zdHlsZUVsZW1lbnQoKGNvbnRhaW5lciBhcyBTaGFkb3dSb290KS5ob3N0KTtcbiAgICAgIH1cbiAgICB9O1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IChjKSAyMDE3IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqIFRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0XG4gKiBUaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHRcbiAqIENvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzIHBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvXG4gKiBzdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50IGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiAqL1xuXG4vKipcbiAqIFdoZW4gdXNpbmcgQ2xvc3VyZSBDb21waWxlciwgSlNDb21waWxlcl9yZW5hbWVQcm9wZXJ0eShwcm9wZXJ0eSwgb2JqZWN0KSBpc1xuICogcmVwbGFjZWQgYXQgY29tcGlsZSB0aW1lIGJ5IHRoZSBtdW5nZWQgbmFtZSBmb3Igb2JqZWN0W3Byb3BlcnR5XS4gV2UgY2Fubm90XG4gKiBhbGlhcyB0aGlzIGZ1bmN0aW9uLCBzbyB3ZSBoYXZlIHRvIHVzZSBhIHNtYWxsIHNoaW0gdGhhdCBoYXMgdGhlIHNhbWVcbiAqIGJlaGF2aW9yIHdoZW4gbm90IGNvbXBpbGluZy5cbiAqL1xud2luZG93LkpTQ29tcGlsZXJfcmVuYW1lUHJvcGVydHkgPVxuICAgIDxQIGV4dGVuZHMgUHJvcGVydHlLZXk+KHByb3A6IFAsIF9vYmo6IHVua25vd24pOiBQID0+IHByb3A7XG5cbmRlY2xhcmUgZ2xvYmFsIHtcbiAgdmFyIEpTQ29tcGlsZXJfcmVuYW1lUHJvcGVydHk6IDxQIGV4dGVuZHMgUHJvcGVydHlLZXk+KFxuICAgICAgcHJvcDogUCwgX29iajogdW5rbm93bikgPT4gUDtcblxuICBpbnRlcmZhY2UgV2luZG93IHtcbiAgICBKU0NvbXBpbGVyX3JlbmFtZVByb3BlcnR5OiB0eXBlb2YgSlNDb21waWxlcl9yZW5hbWVQcm9wZXJ0eTtcbiAgfVxufVxuXG4vKipcbiAqIENvbnZlcnRzIHByb3BlcnR5IHZhbHVlcyB0byBhbmQgZnJvbSBhdHRyaWJ1dGUgdmFsdWVzLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIENvbXBsZXhBdHRyaWJ1dGVDb252ZXJ0ZXI8VHlwZSA9IHVua25vd24sIFR5cGVIaW50ID0gdW5rbm93bj4ge1xuICAvKipcbiAgICogRnVuY3Rpb24gY2FsbGVkIHRvIGNvbnZlcnQgYW4gYXR0cmlidXRlIHZhbHVlIHRvIGEgcHJvcGVydHlcbiAgICogdmFsdWUuXG4gICAqL1xuICBmcm9tQXR0cmlidXRlPyh2YWx1ZTogc3RyaW5nfG51bGwsIHR5cGU/OiBUeXBlSGludCk6IFR5cGU7XG5cbiAgLyoqXG4gICAqIEZ1bmN0aW9uIGNhbGxlZCB0byBjb252ZXJ0IGEgcHJvcGVydHkgdmFsdWUgdG8gYW4gYXR0cmlidXRlXG4gICAqIHZhbHVlLlxuICAgKlxuICAgKiBJdCByZXR1cm5zIHVua25vd24gaW5zdGVhZCBvZiBzdHJpbmcsIHRvIGJlIGNvbXBhdGlibGUgd2l0aFxuICAgKiBodHRwczovL2dpdGh1Yi5jb20vV0lDRy90cnVzdGVkLXR5cGVzIChhbmQgc2ltaWxhciBlZmZvcnRzKS5cbiAgICovXG4gIHRvQXR0cmlidXRlPyh2YWx1ZTogVHlwZSwgdHlwZT86IFR5cGVIaW50KTogdW5rbm93bjtcbn1cblxudHlwZSBBdHRyaWJ1dGVDb252ZXJ0ZXI8VHlwZSA9IHVua25vd24sIFR5cGVIaW50ID0gdW5rbm93bj4gPVxuICAgIENvbXBsZXhBdHRyaWJ1dGVDb252ZXJ0ZXI8VHlwZT58KCh2YWx1ZTogc3RyaW5nLCB0eXBlPzogVHlwZUhpbnQpID0+IFR5cGUpO1xuXG4vKipcbiAqIERlZmluZXMgb3B0aW9ucyBmb3IgYSBwcm9wZXJ0eSBhY2Nlc3Nvci5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBQcm9wZXJ0eURlY2xhcmF0aW9uPFR5cGUgPSB1bmtub3duLCBUeXBlSGludCA9IHVua25vd24+IHtcbiAgLyoqXG4gICAqIEluZGljYXRlcyBob3cgYW5kIHdoZXRoZXIgdGhlIHByb3BlcnR5IGJlY29tZXMgYW4gb2JzZXJ2ZWQgYXR0cmlidXRlLlxuICAgKiBJZiB0aGUgdmFsdWUgaXMgYGZhbHNlYCwgdGhlIHByb3BlcnR5IGlzIG5vdCBhZGRlZCB0byBgb2JzZXJ2ZWRBdHRyaWJ1dGVzYC5cbiAgICogSWYgdHJ1ZSBvciBhYnNlbnQsIHRoZSBsb3dlcmNhc2VkIHByb3BlcnR5IG5hbWUgaXMgb2JzZXJ2ZWQgKGUuZy4gYGZvb0JhcmBcbiAgICogYmVjb21lcyBgZm9vYmFyYCkuIElmIGEgc3RyaW5nLCB0aGUgc3RyaW5nIHZhbHVlIGlzIG9ic2VydmVkIChlLmdcbiAgICogYGF0dHJpYnV0ZTogJ2Zvby1iYXInYCkuXG4gICAqL1xuICByZWFkb25seSBhdHRyaWJ1dGU/OiBib29sZWFufHN0cmluZztcblxuICAvKipcbiAgICogSW5kaWNhdGVzIHRoZSB0eXBlIG9mIHRoZSBwcm9wZXJ0eS4gVGhpcyBpcyB1c2VkIG9ubHkgYXMgYSBoaW50IGZvciB0aGVcbiAgICogYGNvbnZlcnRlcmAgdG8gZGV0ZXJtaW5lIGhvdyB0byBjb252ZXJ0IHRoZSBhdHRyaWJ1dGVcbiAgICogdG8vZnJvbSBhIHByb3BlcnR5LlxuICAgKi9cbiAgcmVhZG9ubHkgdHlwZT86IFR5cGVIaW50O1xuXG4gIC8qKlxuICAgKiBJbmRpY2F0ZXMgaG93IHRvIGNvbnZlcnQgdGhlIGF0dHJpYnV0ZSB0by9mcm9tIGEgcHJvcGVydHkuIElmIHRoaXMgdmFsdWVcbiAgICogaXMgYSBmdW5jdGlvbiwgaXQgaXMgdXNlZCB0byBjb252ZXJ0IHRoZSBhdHRyaWJ1dGUgdmFsdWUgYSB0aGUgcHJvcGVydHlcbiAgICogdmFsdWUuIElmIGl0J3MgYW4gb2JqZWN0LCBpdCBjYW4gaGF2ZSBrZXlzIGZvciBgZnJvbUF0dHJpYnV0ZWAgYW5kXG4gICAqIGB0b0F0dHJpYnV0ZWAuIElmIG5vIGB0b0F0dHJpYnV0ZWAgZnVuY3Rpb24gaXMgcHJvdmlkZWQgYW5kXG4gICAqIGByZWZsZWN0YCBpcyBzZXQgdG8gYHRydWVgLCB0aGUgcHJvcGVydHkgdmFsdWUgaXMgc2V0IGRpcmVjdGx5IHRvIHRoZVxuICAgKiBhdHRyaWJ1dGUuIEEgZGVmYXVsdCBgY29udmVydGVyYCBpcyB1c2VkIGlmIG5vbmUgaXMgcHJvdmlkZWQ7IGl0IHN1cHBvcnRzXG4gICAqIGBCb29sZWFuYCwgYFN0cmluZ2AsIGBOdW1iZXJgLCBgT2JqZWN0YCwgYW5kIGBBcnJheWAuIE5vdGUsXG4gICAqIHdoZW4gYSBwcm9wZXJ0eSBjaGFuZ2VzIGFuZCB0aGUgY29udmVydGVyIGlzIHVzZWQgdG8gdXBkYXRlIHRoZSBhdHRyaWJ1dGUsXG4gICAqIHRoZSBwcm9wZXJ0eSBpcyBuZXZlciB1cGRhdGVkIGFnYWluIGFzIGEgcmVzdWx0IG9mIHRoZSBhdHRyaWJ1dGUgY2hhbmdpbmcsXG4gICAqIGFuZCB2aWNlIHZlcnNhLlxuICAgKi9cbiAgcmVhZG9ubHkgY29udmVydGVyPzogQXR0cmlidXRlQ29udmVydGVyPFR5cGUsIFR5cGVIaW50PjtcblxuICAvKipcbiAgICogSW5kaWNhdGVzIGlmIHRoZSBwcm9wZXJ0eSBzaG91bGQgcmVmbGVjdCB0byBhbiBhdHRyaWJ1dGUuXG4gICAqIElmIGB0cnVlYCwgd2hlbiB0aGUgcHJvcGVydHkgaXMgc2V0LCB0aGUgYXR0cmlidXRlIGlzIHNldCB1c2luZyB0aGVcbiAgICogYXR0cmlidXRlIG5hbWUgZGV0ZXJtaW5lZCBhY2NvcmRpbmcgdG8gdGhlIHJ1bGVzIGZvciB0aGUgYGF0dHJpYnV0ZWBcbiAgICogcHJvcGVydHkgb3B0aW9uIGFuZCB0aGUgdmFsdWUgb2YgdGhlIHByb3BlcnR5IGNvbnZlcnRlZCB1c2luZyB0aGUgcnVsZXNcbiAgICogZnJvbSB0aGUgYGNvbnZlcnRlcmAgcHJvcGVydHkgb3B0aW9uLlxuICAgKi9cbiAgcmVhZG9ubHkgcmVmbGVjdD86IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIEEgZnVuY3Rpb24gdGhhdCBpbmRpY2F0ZXMgaWYgYSBwcm9wZXJ0eSBzaG91bGQgYmUgY29uc2lkZXJlZCBjaGFuZ2VkIHdoZW5cbiAgICogaXQgaXMgc2V0LiBUaGUgZnVuY3Rpb24gc2hvdWxkIHRha2UgdGhlIGBuZXdWYWx1ZWAgYW5kIGBvbGRWYWx1ZWAgYW5kXG4gICAqIHJldHVybiBgdHJ1ZWAgaWYgYW4gdXBkYXRlIHNob3VsZCBiZSByZXF1ZXN0ZWQuXG4gICAqL1xuICBoYXNDaGFuZ2VkPyh2YWx1ZTogVHlwZSwgb2xkVmFsdWU6IFR5cGUpOiBib29sZWFuO1xuXG4gIC8qKlxuICAgKiBJbmRpY2F0ZXMgd2hldGhlciBhbiBhY2Nlc3NvciB3aWxsIGJlIGNyZWF0ZWQgZm9yIHRoaXMgcHJvcGVydHkuIEJ5XG4gICAqIGRlZmF1bHQsIGFuIGFjY2Vzc29yIHdpbGwgYmUgZ2VuZXJhdGVkIGZvciB0aGlzIHByb3BlcnR5IHRoYXQgcmVxdWVzdHMgYW5cbiAgICogdXBkYXRlIHdoZW4gc2V0LiBJZiB0aGlzIGZsYWcgaXMgYHRydWVgLCBubyBhY2Nlc3NvciB3aWxsIGJlIGNyZWF0ZWQsIGFuZFxuICAgKiBpdCB3aWxsIGJlIHRoZSB1c2VyJ3MgcmVzcG9uc2liaWxpdHkgdG8gY2FsbFxuICAgKiBgdGhpcy5yZXF1ZXN0VXBkYXRlKHByb3BlcnR5TmFtZSwgb2xkVmFsdWUpYCB0byByZXF1ZXN0IGFuIHVwZGF0ZSB3aGVuXG4gICAqIHRoZSBwcm9wZXJ0eSBjaGFuZ2VzLlxuICAgKi9cbiAgcmVhZG9ubHkgbm9BY2Nlc3Nvcj86IGJvb2xlYW47XG59XG5cbi8qKlxuICogTWFwIG9mIHByb3BlcnRpZXMgdG8gUHJvcGVydHlEZWNsYXJhdGlvbiBvcHRpb25zLiBGb3IgZWFjaCBwcm9wZXJ0eSBhblxuICogYWNjZXNzb3IgaXMgbWFkZSwgYW5kIHRoZSBwcm9wZXJ0eSBpcyBwcm9jZXNzZWQgYWNjb3JkaW5nIHRvIHRoZVxuICogUHJvcGVydHlEZWNsYXJhdGlvbiBvcHRpb25zLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFByb3BlcnR5RGVjbGFyYXRpb25zIHtcbiAgcmVhZG9ubHkgW2tleTogc3RyaW5nXTogUHJvcGVydHlEZWNsYXJhdGlvbjtcbn1cblxudHlwZSBQcm9wZXJ0eURlY2xhcmF0aW9uTWFwID0gTWFwPFByb3BlcnR5S2V5LCBQcm9wZXJ0eURlY2xhcmF0aW9uPjtcblxudHlwZSBBdHRyaWJ1dGVNYXAgPSBNYXA8c3RyaW5nLCBQcm9wZXJ0eUtleT47XG5cbmV4cG9ydCB0eXBlIFByb3BlcnR5VmFsdWVzID0gTWFwPFByb3BlcnR5S2V5LCB1bmtub3duPjtcblxuZXhwb3J0IGNvbnN0IGRlZmF1bHRDb252ZXJ0ZXI6IENvbXBsZXhBdHRyaWJ1dGVDb252ZXJ0ZXIgPSB7XG5cbiAgdG9BdHRyaWJ1dGUodmFsdWU6IHVua25vd24sIHR5cGU/OiB1bmtub3duKTogdW5rbm93biB7XG4gICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICBjYXNlIEJvb2xlYW46XG4gICAgICAgIHJldHVybiB2YWx1ZSA/ICcnIDogbnVsbDtcbiAgICAgIGNhc2UgT2JqZWN0OlxuICAgICAgY2FzZSBBcnJheTpcbiAgICAgICAgLy8gaWYgdGhlIHZhbHVlIGlzIGBudWxsYCBvciBgdW5kZWZpbmVkYCBwYXNzIHRoaXMgdGhyb3VnaFxuICAgICAgICAvLyB0byBhbGxvdyByZW1vdmluZy9ubyBjaGFuZ2UgYmVoYXZpb3IuXG4gICAgICAgIHJldHVybiB2YWx1ZSA9PSBudWxsID8gdmFsdWUgOiBKU09OLnN0cmluZ2lmeSh2YWx1ZSk7XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZTtcbiAgfSxcblxuICBmcm9tQXR0cmlidXRlKHZhbHVlOiBzdHJpbmd8bnVsbCwgdHlwZT86IHVua25vd24pIHtcbiAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgIGNhc2UgQm9vbGVhbjpcbiAgICAgICAgcmV0dXJuIHZhbHVlICE9PSBudWxsO1xuICAgICAgY2FzZSBOdW1iZXI6XG4gICAgICAgIHJldHVybiB2YWx1ZSA9PT0gbnVsbCA/IG51bGwgOiBOdW1iZXIodmFsdWUpO1xuICAgICAgY2FzZSBPYmplY3Q6XG4gICAgICBjYXNlIEFycmF5OlxuICAgICAgICByZXR1cm4gSlNPTi5wYXJzZSh2YWx1ZSEpO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cblxufTtcblxuZXhwb3J0IGludGVyZmFjZSBIYXNDaGFuZ2VkIHtcbiAgKHZhbHVlOiB1bmtub3duLCBvbGQ6IHVua25vd24pOiBib29sZWFuO1xufVxuXG4vKipcbiAqIENoYW5nZSBmdW5jdGlvbiB0aGF0IHJldHVybnMgdHJ1ZSBpZiBgdmFsdWVgIGlzIGRpZmZlcmVudCBmcm9tIGBvbGRWYWx1ZWAuXG4gKiBUaGlzIG1ldGhvZCBpcyB1c2VkIGFzIHRoZSBkZWZhdWx0IGZvciBhIHByb3BlcnR5J3MgYGhhc0NoYW5nZWRgIGZ1bmN0aW9uLlxuICovXG5leHBvcnQgY29uc3Qgbm90RXF1YWw6IEhhc0NoYW5nZWQgPSAodmFsdWU6IHVua25vd24sIG9sZDogdW5rbm93bik6IGJvb2xlYW4gPT4ge1xuICAvLyBUaGlzIGVuc3VyZXMgKG9sZD09TmFOLCB2YWx1ZT09TmFOKSBhbHdheXMgcmV0dXJucyBmYWxzZVxuICByZXR1cm4gb2xkICE9PSB2YWx1ZSAmJiAob2xkID09PSBvbGQgfHwgdmFsdWUgPT09IHZhbHVlKTtcbn07XG5cbmNvbnN0IGRlZmF1bHRQcm9wZXJ0eURlY2xhcmF0aW9uOiBQcm9wZXJ0eURlY2xhcmF0aW9uID0ge1xuICBhdHRyaWJ1dGU6IHRydWUsXG4gIHR5cGU6IFN0cmluZyxcbiAgY29udmVydGVyOiBkZWZhdWx0Q29udmVydGVyLFxuICByZWZsZWN0OiBmYWxzZSxcbiAgaGFzQ2hhbmdlZDogbm90RXF1YWxcbn07XG5cbmNvbnN0IG1pY3JvdGFza1Byb21pc2UgPSBQcm9taXNlLnJlc29sdmUodHJ1ZSk7XG5cbmNvbnN0IFNUQVRFX0hBU19VUERBVEVEID0gMTtcbmNvbnN0IFNUQVRFX1VQREFURV9SRVFVRVNURUQgPSAxIDw8IDI7XG5jb25zdCBTVEFURV9JU19SRUZMRUNUSU5HX1RPX0FUVFJJQlVURSA9IDEgPDwgMztcbmNvbnN0IFNUQVRFX0lTX1JFRkxFQ1RJTkdfVE9fUFJPUEVSVFkgPSAxIDw8IDQ7XG5jb25zdCBTVEFURV9IQVNfQ09OTkVDVEVEID0gMSA8PCA1O1xudHlwZSBVcGRhdGVTdGF0ZSA9IHR5cGVvZiBTVEFURV9IQVNfVVBEQVRFRHx0eXBlb2YgU1RBVEVfVVBEQVRFX1JFUVVFU1RFRHxcbiAgICB0eXBlb2YgU1RBVEVfSVNfUkVGTEVDVElOR19UT19BVFRSSUJVVEV8XG4gICAgdHlwZW9mIFNUQVRFX0lTX1JFRkxFQ1RJTkdfVE9fUFJPUEVSVFl8dHlwZW9mIFNUQVRFX0hBU19DT05ORUNURUQ7XG5cbi8qKlxuICogQmFzZSBlbGVtZW50IGNsYXNzIHdoaWNoIG1hbmFnZXMgZWxlbWVudCBwcm9wZXJ0aWVzIGFuZCBhdHRyaWJ1dGVzLiBXaGVuXG4gKiBwcm9wZXJ0aWVzIGNoYW5nZSwgdGhlIGB1cGRhdGVgIG1ldGhvZCBpcyBhc3luY2hyb25vdXNseSBjYWxsZWQuIFRoaXMgbWV0aG9kXG4gKiBzaG91bGQgYmUgc3VwcGxpZWQgYnkgc3ViY2xhc3NlcnMgdG8gcmVuZGVyIHVwZGF0ZXMgYXMgZGVzaXJlZC5cbiAqL1xuZXhwb3J0IGFic3RyYWN0IGNsYXNzIFVwZGF0aW5nRWxlbWVudCBleHRlbmRzIEhUTUxFbGVtZW50IHtcbiAgLypcbiAgICogRHVlIHRvIGNsb3N1cmUgY29tcGlsZXIgRVM2IGNvbXBpbGF0aW9uIGJ1Z3MsIEBub2NvbGxhcHNlIGlzIHJlcXVpcmVkIG9uXG4gICAqIGFsbCBzdGF0aWMgbWV0aG9kcyBhbmQgcHJvcGVydGllcyB3aXRoIGluaXRpYWxpemVycy4gIFJlZmVyZW5jZTpcbiAgICogLSBodHRwczovL2dpdGh1Yi5jb20vZ29vZ2xlL2Nsb3N1cmUtY29tcGlsZXIvaXNzdWVzLzE3NzZcbiAgICovXG5cbiAgLyoqXG4gICAqIE1hcHMgYXR0cmlidXRlIG5hbWVzIHRvIHByb3BlcnRpZXM7IGZvciBleGFtcGxlIGBmb29iYXJgIGF0dHJpYnV0ZSB0b1xuICAgKiBgZm9vQmFyYCBwcm9wZXJ0eS4gQ3JlYXRlZCBsYXppbHkgb24gdXNlciBzdWJjbGFzc2VzIHdoZW4gZmluYWxpemluZyB0aGVcbiAgICogY2xhc3MuXG4gICAqL1xuICBwcml2YXRlIHN0YXRpYyBfYXR0cmlidXRlVG9Qcm9wZXJ0eU1hcDogQXR0cmlidXRlTWFwO1xuXG4gIC8qKlxuICAgKiBNYXJrcyBjbGFzcyBhcyBoYXZpbmcgZmluaXNoZWQgY3JlYXRpbmcgcHJvcGVydGllcy5cbiAgICovXG4gIHByb3RlY3RlZCBzdGF0aWMgZmluYWxpemVkID0gdHJ1ZTtcblxuICAvKipcbiAgICogTWVtb2l6ZWQgbGlzdCBvZiBhbGwgY2xhc3MgcHJvcGVydGllcywgaW5jbHVkaW5nIGFueSBzdXBlcmNsYXNzIHByb3BlcnRpZXMuXG4gICAqIENyZWF0ZWQgbGF6aWx5IG9uIHVzZXIgc3ViY2xhc3NlcyB3aGVuIGZpbmFsaXppbmcgdGhlIGNsYXNzLlxuICAgKi9cbiAgcHJpdmF0ZSBzdGF0aWMgX2NsYXNzUHJvcGVydGllcz86IFByb3BlcnR5RGVjbGFyYXRpb25NYXA7XG5cbiAgLyoqXG4gICAqIFVzZXItc3VwcGxpZWQgb2JqZWN0IHRoYXQgbWFwcyBwcm9wZXJ0eSBuYW1lcyB0byBgUHJvcGVydHlEZWNsYXJhdGlvbmBcbiAgICogb2JqZWN0cyBjb250YWluaW5nIG9wdGlvbnMgZm9yIGNvbmZpZ3VyaW5nIHRoZSBwcm9wZXJ0eS5cbiAgICovXG4gIHN0YXRpYyBwcm9wZXJ0aWVzOiBQcm9wZXJ0eURlY2xhcmF0aW9ucztcblxuICAvKipcbiAgICogUmV0dXJucyBhIGxpc3Qgb2YgYXR0cmlidXRlcyBjb3JyZXNwb25kaW5nIHRvIHRoZSByZWdpc3RlcmVkIHByb3BlcnRpZXMuXG4gICAqIEBub2NvbGxhcHNlXG4gICAqL1xuICBzdGF0aWMgZ2V0IG9ic2VydmVkQXR0cmlidXRlcygpIHtcbiAgICAvLyBub3RlOiBwaWdneSBiYWNraW5nIG9uIHRoaXMgdG8gZW5zdXJlIHdlJ3JlIGZpbmFsaXplZC5cbiAgICB0aGlzLmZpbmFsaXplKCk7XG4gICAgY29uc3QgYXR0cmlidXRlczogc3RyaW5nW10gPSBbXTtcbiAgICAvLyBVc2UgZm9yRWFjaCBzbyB0aGlzIHdvcmtzIGV2ZW4gaWYgZm9yL29mIGxvb3BzIGFyZSBjb21waWxlZCB0byBmb3IgbG9vcHNcbiAgICAvLyBleHBlY3RpbmcgYXJyYXlzXG4gICAgdGhpcy5fY2xhc3NQcm9wZXJ0aWVzIS5mb3JFYWNoKCh2LCBwKSA9PiB7XG4gICAgICBjb25zdCBhdHRyID0gdGhpcy5fYXR0cmlidXRlTmFtZUZvclByb3BlcnR5KHAsIHYpO1xuICAgICAgaWYgKGF0dHIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICB0aGlzLl9hdHRyaWJ1dGVUb1Byb3BlcnR5TWFwLnNldChhdHRyLCBwKTtcbiAgICAgICAgYXR0cmlidXRlcy5wdXNoKGF0dHIpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBhdHRyaWJ1dGVzO1xuICB9XG5cbiAgLyoqXG4gICAqIEVuc3VyZXMgdGhlIHByaXZhdGUgYF9jbGFzc1Byb3BlcnRpZXNgIHByb3BlcnR5IG1ldGFkYXRhIGlzIGNyZWF0ZWQuXG4gICAqIEluIGFkZGl0aW9uIHRvIGBmaW5hbGl6ZWAgdGhpcyBpcyBhbHNvIGNhbGxlZCBpbiBgY3JlYXRlUHJvcGVydHlgIHRvXG4gICAqIGVuc3VyZSB0aGUgYEBwcm9wZXJ0eWAgZGVjb3JhdG9yIGNhbiBhZGQgcHJvcGVydHkgbWV0YWRhdGEuXG4gICAqL1xuICAvKiogQG5vY29sbGFwc2UgKi9cbiAgcHJpdmF0ZSBzdGF0aWMgX2Vuc3VyZUNsYXNzUHJvcGVydGllcygpIHtcbiAgICAvLyBlbnN1cmUgcHJpdmF0ZSBzdG9yYWdlIGZvciBwcm9wZXJ0eSBkZWNsYXJhdGlvbnMuXG4gICAgaWYgKCF0aGlzLmhhc093blByb3BlcnR5KFxuICAgICAgICAgICAgSlNDb21waWxlcl9yZW5hbWVQcm9wZXJ0eSgnX2NsYXNzUHJvcGVydGllcycsIHRoaXMpKSkge1xuICAgICAgdGhpcy5fY2xhc3NQcm9wZXJ0aWVzID0gbmV3IE1hcCgpO1xuICAgICAgLy8gTk9URTogV29ya2Fyb3VuZCBJRTExIG5vdCBzdXBwb3J0aW5nIE1hcCBjb25zdHJ1Y3RvciBhcmd1bWVudC5cbiAgICAgIGNvbnN0IHN1cGVyUHJvcGVydGllczogUHJvcGVydHlEZWNsYXJhdGlvbk1hcCA9XG4gICAgICAgICAgT2JqZWN0LmdldFByb3RvdHlwZU9mKHRoaXMpLl9jbGFzc1Byb3BlcnRpZXM7XG4gICAgICBpZiAoc3VwZXJQcm9wZXJ0aWVzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgc3VwZXJQcm9wZXJ0aWVzLmZvckVhY2goXG4gICAgICAgICAgICAodjogUHJvcGVydHlEZWNsYXJhdGlvbiwgazogUHJvcGVydHlLZXkpID0+XG4gICAgICAgICAgICAgICAgdGhpcy5fY2xhc3NQcm9wZXJ0aWVzIS5zZXQoaywgdikpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgcHJvcGVydHkgYWNjZXNzb3Igb24gdGhlIGVsZW1lbnQgcHJvdG90eXBlIGlmIG9uZSBkb2VzIG5vdCBleGlzdC5cbiAgICogVGhlIHByb3BlcnR5IHNldHRlciBjYWxscyB0aGUgcHJvcGVydHkncyBgaGFzQ2hhbmdlZGAgcHJvcGVydHkgb3B0aW9uXG4gICAqIG9yIHVzZXMgYSBzdHJpY3QgaWRlbnRpdHkgY2hlY2sgdG8gZGV0ZXJtaW5lIHdoZXRoZXIgb3Igbm90IHRvIHJlcXVlc3RcbiAgICogYW4gdXBkYXRlLlxuICAgKiBAbm9jb2xsYXBzZVxuICAgKi9cbiAgc3RhdGljIGNyZWF0ZVByb3BlcnR5KFxuICAgICAgbmFtZTogUHJvcGVydHlLZXksXG4gICAgICBvcHRpb25zOiBQcm9wZXJ0eURlY2xhcmF0aW9uID0gZGVmYXVsdFByb3BlcnR5RGVjbGFyYXRpb24pIHtcbiAgICAvLyBOb3RlLCBzaW5jZSB0aGlzIGNhbiBiZSBjYWxsZWQgYnkgdGhlIGBAcHJvcGVydHlgIGRlY29yYXRvciB3aGljaFxuICAgIC8vIGlzIGNhbGxlZCBiZWZvcmUgYGZpbmFsaXplYCwgd2UgZW5zdXJlIHN0b3JhZ2UgZXhpc3RzIGZvciBwcm9wZXJ0eVxuICAgIC8vIG1ldGFkYXRhLlxuICAgIHRoaXMuX2Vuc3VyZUNsYXNzUHJvcGVydGllcygpO1xuICAgIHRoaXMuX2NsYXNzUHJvcGVydGllcyEuc2V0KG5hbWUsIG9wdGlvbnMpO1xuICAgIC8vIERvIG5vdCBnZW5lcmF0ZSBhbiBhY2Nlc3NvciBpZiB0aGUgcHJvdG90eXBlIGFscmVhZHkgaGFzIG9uZSwgc2luY2VcbiAgICAvLyBpdCB3b3VsZCBiZSBsb3N0IG90aGVyd2lzZSBhbmQgdGhhdCB3b3VsZCBuZXZlciBiZSB0aGUgdXNlcidzIGludGVudGlvbjtcbiAgICAvLyBJbnN0ZWFkLCB3ZSBleHBlY3QgdXNlcnMgdG8gY2FsbCBgcmVxdWVzdFVwZGF0ZWAgdGhlbXNlbHZlcyBmcm9tXG4gICAgLy8gdXNlci1kZWZpbmVkIGFjY2Vzc29ycy4gTm90ZSB0aGF0IGlmIHRoZSBzdXBlciBoYXMgYW4gYWNjZXNzb3Igd2Ugd2lsbFxuICAgIC8vIHN0aWxsIG92ZXJ3cml0ZSBpdFxuICAgIGlmIChvcHRpb25zLm5vQWNjZXNzb3IgfHwgdGhpcy5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkobmFtZSkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3Qga2V5ID0gdHlwZW9mIG5hbWUgPT09ICdzeW1ib2wnID8gU3ltYm9sKCkgOiBgX18ke25hbWV9YDtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcy5wcm90b3R5cGUsIG5hbWUsIHtcbiAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby1hbnkgbm8gc3ltYm9sIGluIGluZGV4XG4gICAgICBnZXQoKTogYW55IHtcbiAgICAgICAgcmV0dXJuIHRoaXNba2V5XTtcbiAgICAgIH0sXG4gICAgICBzZXQodGhpczogVXBkYXRpbmdFbGVtZW50LCB2YWx1ZTogdW5rbm93bikge1xuICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bm8tYW55IG5vIHN5bWJvbCBpbiBpbmRleFxuICAgICAgICBjb25zdCBvbGRWYWx1ZSA9ICh0aGlzIGFzIGFueSlbbmFtZV07XG4gICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby1hbnkgbm8gc3ltYm9sIGluIGluZGV4XG4gICAgICAgICh0aGlzIGFzIGFueSlba2V5XSA9IHZhbHVlO1xuICAgICAgICB0aGlzLl9yZXF1ZXN0VXBkYXRlKG5hbWUsIG9sZFZhbHVlKTtcbiAgICAgIH0sXG4gICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICBlbnVtZXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyBwcm9wZXJ0eSBhY2Nlc3NvcnMgZm9yIHJlZ2lzdGVyZWQgcHJvcGVydGllcyBhbmQgZW5zdXJlc1xuICAgKiBhbnkgc3VwZXJjbGFzc2VzIGFyZSBhbHNvIGZpbmFsaXplZC5cbiAgICogQG5vY29sbGFwc2VcbiAgICovXG4gIHByb3RlY3RlZCBzdGF0aWMgZmluYWxpemUoKSB7XG4gICAgaWYgKHRoaXMuaGFzT3duUHJvcGVydHkoSlNDb21waWxlcl9yZW5hbWVQcm9wZXJ0eSgnZmluYWxpemVkJywgdGhpcykpICYmXG4gICAgICAgIHRoaXMuZmluYWxpemVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIC8vIGZpbmFsaXplIGFueSBzdXBlcmNsYXNzZXNcbiAgICBjb25zdCBzdXBlckN0b3IgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YodGhpcyk7XG4gICAgaWYgKHR5cGVvZiBzdXBlckN0b3IuZmluYWxpemUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHN1cGVyQ3Rvci5maW5hbGl6ZSgpO1xuICAgIH1cbiAgICB0aGlzLmZpbmFsaXplZCA9IHRydWU7XG4gICAgdGhpcy5fZW5zdXJlQ2xhc3NQcm9wZXJ0aWVzKCk7XG4gICAgLy8gaW5pdGlhbGl6ZSBNYXAgcG9wdWxhdGVkIGluIG9ic2VydmVkQXR0cmlidXRlc1xuICAgIHRoaXMuX2F0dHJpYnV0ZVRvUHJvcGVydHlNYXAgPSBuZXcgTWFwKCk7XG4gICAgLy8gbWFrZSBhbnkgcHJvcGVydGllc1xuICAgIC8vIE5vdGUsIG9ubHkgcHJvY2VzcyBcIm93blwiIHByb3BlcnRpZXMgc2luY2UgdGhpcyBlbGVtZW50IHdpbGwgaW5oZXJpdFxuICAgIC8vIGFueSBwcm9wZXJ0aWVzIGRlZmluZWQgb24gdGhlIHN1cGVyQ2xhc3MsIGFuZCBmaW5hbGl6YXRpb24gZW5zdXJlc1xuICAgIC8vIHRoZSBlbnRpcmUgcHJvdG90eXBlIGNoYWluIGlzIGZpbmFsaXplZC5cbiAgICBpZiAodGhpcy5oYXNPd25Qcm9wZXJ0eShKU0NvbXBpbGVyX3JlbmFtZVByb3BlcnR5KCdwcm9wZXJ0aWVzJywgdGhpcykpKSB7XG4gICAgICBjb25zdCBwcm9wcyA9IHRoaXMucHJvcGVydGllcztcbiAgICAgIC8vIHN1cHBvcnQgc3ltYm9scyBpbiBwcm9wZXJ0aWVzIChJRTExIGRvZXMgbm90IHN1cHBvcnQgdGhpcylcbiAgICAgIGNvbnN0IHByb3BLZXlzID0gW1xuICAgICAgICAuLi5PYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhwcm9wcyksXG4gICAgICAgIC4uLih0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PT0gJ2Z1bmN0aW9uJykgP1xuICAgICAgICAgICAgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhwcm9wcykgOlxuICAgICAgICAgICAgW11cbiAgICAgIF07XG4gICAgICAvLyBUaGlzIGZvci9vZiBpcyBvayBiZWNhdXNlIHByb3BLZXlzIGlzIGFuIGFycmF5XG4gICAgICBmb3IgKGNvbnN0IHAgb2YgcHJvcEtleXMpIHtcbiAgICAgICAgLy8gbm90ZSwgdXNlIG9mIGBhbnlgIGlzIGR1ZSB0byBUeXBlU3JpcHQgbGFjayBvZiBzdXBwb3J0IGZvciBzeW1ib2wgaW5cbiAgICAgICAgLy8gaW5kZXggdHlwZXNcbiAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLWFueSBubyBzeW1ib2wgaW4gaW5kZXhcbiAgICAgICAgdGhpcy5jcmVhdGVQcm9wZXJ0eShwLCAocHJvcHMgYXMgYW55KVtwXSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIHByb3BlcnR5IG5hbWUgZm9yIHRoZSBnaXZlbiBhdHRyaWJ1dGUgYG5hbWVgLlxuICAgKiBAbm9jb2xsYXBzZVxuICAgKi9cbiAgcHJpdmF0ZSBzdGF0aWMgX2F0dHJpYnV0ZU5hbWVGb3JQcm9wZXJ0eShcbiAgICAgIG5hbWU6IFByb3BlcnR5S2V5LCBvcHRpb25zOiBQcm9wZXJ0eURlY2xhcmF0aW9uKSB7XG4gICAgY29uc3QgYXR0cmlidXRlID0gb3B0aW9ucy5hdHRyaWJ1dGU7XG4gICAgcmV0dXJuIGF0dHJpYnV0ZSA9PT0gZmFsc2UgP1xuICAgICAgICB1bmRlZmluZWQgOlxuICAgICAgICAodHlwZW9mIGF0dHJpYnV0ZSA9PT0gJ3N0cmluZycgP1xuICAgICAgICAgICAgIGF0dHJpYnV0ZSA6XG4gICAgICAgICAgICAgKHR5cGVvZiBuYW1lID09PSAnc3RyaW5nJyA/IG5hbWUudG9Mb3dlckNhc2UoKSA6IHVuZGVmaW5lZCkpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdHJ1ZSBpZiBhIHByb3BlcnR5IHNob3VsZCByZXF1ZXN0IGFuIHVwZGF0ZS5cbiAgICogQ2FsbGVkIHdoZW4gYSBwcm9wZXJ0eSB2YWx1ZSBpcyBzZXQgYW5kIHVzZXMgdGhlIGBoYXNDaGFuZ2VkYFxuICAgKiBvcHRpb24gZm9yIHRoZSBwcm9wZXJ0eSBpZiBwcmVzZW50IG9yIGEgc3RyaWN0IGlkZW50aXR5IGNoZWNrLlxuICAgKiBAbm9jb2xsYXBzZVxuICAgKi9cbiAgcHJpdmF0ZSBzdGF0aWMgX3ZhbHVlSGFzQ2hhbmdlZChcbiAgICAgIHZhbHVlOiB1bmtub3duLCBvbGQ6IHVua25vd24sIGhhc0NoYW5nZWQ6IEhhc0NoYW5nZWQgPSBub3RFcXVhbCkge1xuICAgIHJldHVybiBoYXNDaGFuZ2VkKHZhbHVlLCBvbGQpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIHByb3BlcnR5IHZhbHVlIGZvciB0aGUgZ2l2ZW4gYXR0cmlidXRlIHZhbHVlLlxuICAgKiBDYWxsZWQgdmlhIHRoZSBgYXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrYCBhbmQgdXNlcyB0aGUgcHJvcGVydHknc1xuICAgKiBgY29udmVydGVyYCBvciBgY29udmVydGVyLmZyb21BdHRyaWJ1dGVgIHByb3BlcnR5IG9wdGlvbi5cbiAgICogQG5vY29sbGFwc2VcbiAgICovXG4gIHByaXZhdGUgc3RhdGljIF9wcm9wZXJ0eVZhbHVlRnJvbUF0dHJpYnV0ZShcbiAgICAgIHZhbHVlOiBzdHJpbmd8bnVsbCwgb3B0aW9uczogUHJvcGVydHlEZWNsYXJhdGlvbikge1xuICAgIGNvbnN0IHR5cGUgPSBvcHRpb25zLnR5cGU7XG4gICAgY29uc3QgY29udmVydGVyID0gb3B0aW9ucy5jb252ZXJ0ZXIgfHwgZGVmYXVsdENvbnZlcnRlcjtcbiAgICBjb25zdCBmcm9tQXR0cmlidXRlID1cbiAgICAgICAgKHR5cGVvZiBjb252ZXJ0ZXIgPT09ICdmdW5jdGlvbicgPyBjb252ZXJ0ZXIgOiBjb252ZXJ0ZXIuZnJvbUF0dHJpYnV0ZSk7XG4gICAgcmV0dXJuIGZyb21BdHRyaWJ1dGUgPyBmcm9tQXR0cmlidXRlKHZhbHVlLCB0eXBlKSA6IHZhbHVlO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIGF0dHJpYnV0ZSB2YWx1ZSBmb3IgdGhlIGdpdmVuIHByb3BlcnR5IHZhbHVlLiBJZiB0aGlzXG4gICAqIHJldHVybnMgdW5kZWZpbmVkLCB0aGUgcHJvcGVydHkgd2lsbCAqbm90KiBiZSByZWZsZWN0ZWQgdG8gYW4gYXR0cmlidXRlLlxuICAgKiBJZiB0aGlzIHJldHVybnMgbnVsbCwgdGhlIGF0dHJpYnV0ZSB3aWxsIGJlIHJlbW92ZWQsIG90aGVyd2lzZSB0aGVcbiAgICogYXR0cmlidXRlIHdpbGwgYmUgc2V0IHRvIHRoZSB2YWx1ZS5cbiAgICogVGhpcyB1c2VzIHRoZSBwcm9wZXJ0eSdzIGByZWZsZWN0YCBhbmQgYHR5cGUudG9BdHRyaWJ1dGVgIHByb3BlcnR5IG9wdGlvbnMuXG4gICAqIEBub2NvbGxhcHNlXG4gICAqL1xuICBwcml2YXRlIHN0YXRpYyBfcHJvcGVydHlWYWx1ZVRvQXR0cmlidXRlKFxuICAgICAgdmFsdWU6IHVua25vd24sIG9wdGlvbnM6IFByb3BlcnR5RGVjbGFyYXRpb24pIHtcbiAgICBpZiAob3B0aW9ucy5yZWZsZWN0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgdHlwZSA9IG9wdGlvbnMudHlwZTtcbiAgICBjb25zdCBjb252ZXJ0ZXIgPSBvcHRpb25zLmNvbnZlcnRlcjtcbiAgICBjb25zdCB0b0F0dHJpYnV0ZSA9XG4gICAgICAgIGNvbnZlcnRlciAmJiAoY29udmVydGVyIGFzIENvbXBsZXhBdHRyaWJ1dGVDb252ZXJ0ZXIpLnRvQXR0cmlidXRlIHx8XG4gICAgICAgIGRlZmF1bHRDb252ZXJ0ZXIudG9BdHRyaWJ1dGU7XG4gICAgcmV0dXJuIHRvQXR0cmlidXRlISh2YWx1ZSwgdHlwZSk7XG4gIH1cblxuICBwcml2YXRlIF91cGRhdGVTdGF0ZTogVXBkYXRlU3RhdGUgPSAwO1xuICBwcml2YXRlIF9pbnN0YW5jZVByb3BlcnRpZXM6IFByb3BlcnR5VmFsdWVzfHVuZGVmaW5lZCA9IHVuZGVmaW5lZDtcbiAgcHJpdmF0ZSBfdXBkYXRlUHJvbWlzZTogUHJvbWlzZTx1bmtub3duPiA9IG1pY3JvdGFza1Byb21pc2U7XG4gIHByaXZhdGUgX2hhc0Nvbm5lY3RlZFJlc29sdmVyOiAoKCkgPT4gdm9pZCl8dW5kZWZpbmVkID0gdW5kZWZpbmVkO1xuXG4gIC8qKlxuICAgKiBNYXAgd2l0aCBrZXlzIGZvciBhbnkgcHJvcGVydGllcyB0aGF0IGhhdmUgY2hhbmdlZCBzaW5jZSB0aGUgbGFzdFxuICAgKiB1cGRhdGUgY3ljbGUgd2l0aCBwcmV2aW91cyB2YWx1ZXMuXG4gICAqL1xuICBwcml2YXRlIF9jaGFuZ2VkUHJvcGVydGllczogUHJvcGVydHlWYWx1ZXMgPSBuZXcgTWFwKCk7XG5cbiAgLyoqXG4gICAqIE1hcCB3aXRoIGtleXMgb2YgcHJvcGVydGllcyB0aGF0IHNob3VsZCBiZSByZWZsZWN0ZWQgd2hlbiB1cGRhdGVkLlxuICAgKi9cbiAgcHJpdmF0ZSBfcmVmbGVjdGluZ1Byb3BlcnRpZXM6IE1hcDxQcm9wZXJ0eUtleSwgUHJvcGVydHlEZWNsYXJhdGlvbj58XG4gICAgICB1bmRlZmluZWQgPSB1bmRlZmluZWQ7XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLmluaXRpYWxpemUoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBQZXJmb3JtcyBlbGVtZW50IGluaXRpYWxpemF0aW9uLiBCeSBkZWZhdWx0IGNhcHR1cmVzIGFueSBwcmUtc2V0IHZhbHVlcyBmb3JcbiAgICogcmVnaXN0ZXJlZCBwcm9wZXJ0aWVzLlxuICAgKi9cbiAgcHJvdGVjdGVkIGluaXRpYWxpemUoKSB7XG4gICAgdGhpcy5fc2F2ZUluc3RhbmNlUHJvcGVydGllcygpO1xuICAgIC8vIGVuc3VyZXMgZmlyc3QgdXBkYXRlIHdpbGwgYmUgY2F1Z2h0IGJ5IGFuIGVhcmx5IGFjY2VzcyBvZiBgdXBkYXRlQ29tcGxldGVgXG4gICAgdGhpcy5fcmVxdWVzdFVwZGF0ZSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEZpeGVzIGFueSBwcm9wZXJ0aWVzIHNldCBvbiB0aGUgaW5zdGFuY2UgYmVmb3JlIHVwZ3JhZGUgdGltZS5cbiAgICogT3RoZXJ3aXNlIHRoZXNlIHdvdWxkIHNoYWRvdyB0aGUgYWNjZXNzb3IgYW5kIGJyZWFrIHRoZXNlIHByb3BlcnRpZXMuXG4gICAqIFRoZSBwcm9wZXJ0aWVzIGFyZSBzdG9yZWQgaW4gYSBNYXAgd2hpY2ggaXMgcGxheWVkIGJhY2sgYWZ0ZXIgdGhlXG4gICAqIGNvbnN0cnVjdG9yIHJ1bnMuIE5vdGUsIG9uIHZlcnkgb2xkIHZlcnNpb25zIG9mIFNhZmFyaSAoPD05KSBvciBDaHJvbWVcbiAgICogKDw9NDEpLCBwcm9wZXJ0aWVzIGNyZWF0ZWQgZm9yIG5hdGl2ZSBwbGF0Zm9ybSBwcm9wZXJ0aWVzIGxpa2UgKGBpZGAgb3JcbiAgICogYG5hbWVgKSBtYXkgbm90IGhhdmUgZGVmYXVsdCB2YWx1ZXMgc2V0IGluIHRoZSBlbGVtZW50IGNvbnN0cnVjdG9yLiBPblxuICAgKiB0aGVzZSBicm93c2VycyBuYXRpdmUgcHJvcGVydGllcyBhcHBlYXIgb24gaW5zdGFuY2VzIGFuZCB0aGVyZWZvcmUgdGhlaXJcbiAgICogZGVmYXVsdCB2YWx1ZSB3aWxsIG92ZXJ3cml0ZSBhbnkgZWxlbWVudCBkZWZhdWx0IChlLmcuIGlmIHRoZSBlbGVtZW50IHNldHNcbiAgICogdGhpcy5pZCA9ICdpZCcgaW4gdGhlIGNvbnN0cnVjdG9yLCB0aGUgJ2lkJyB3aWxsIGJlY29tZSAnJyBzaW5jZSB0aGlzIGlzXG4gICAqIHRoZSBuYXRpdmUgcGxhdGZvcm0gZGVmYXVsdCkuXG4gICAqL1xuICBwcml2YXRlIF9zYXZlSW5zdGFuY2VQcm9wZXJ0aWVzKCkge1xuICAgIC8vIFVzZSBmb3JFYWNoIHNvIHRoaXMgd29ya3MgZXZlbiBpZiBmb3Ivb2YgbG9vcHMgYXJlIGNvbXBpbGVkIHRvIGZvciBsb29wc1xuICAgIC8vIGV4cGVjdGluZyBhcnJheXNcbiAgICAodGhpcy5jb25zdHJ1Y3RvciBhcyB0eXBlb2YgVXBkYXRpbmdFbGVtZW50KVxuICAgICAgICAuX2NsYXNzUHJvcGVydGllcyEuZm9yRWFjaCgoX3YsIHApID0+IHtcbiAgICAgICAgICBpZiAodGhpcy5oYXNPd25Qcm9wZXJ0eShwKSkge1xuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSB0aGlzW3AgYXMga2V5b2YgdGhpc107XG4gICAgICAgICAgICBkZWxldGUgdGhpc1twIGFzIGtleW9mIHRoaXNdO1xuICAgICAgICAgICAgaWYgKCF0aGlzLl9pbnN0YW5jZVByb3BlcnRpZXMpIHtcbiAgICAgICAgICAgICAgdGhpcy5faW5zdGFuY2VQcm9wZXJ0aWVzID0gbmV3IE1hcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5faW5zdGFuY2VQcm9wZXJ0aWVzLnNldChwLCB2YWx1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBcHBsaWVzIHByZXZpb3VzbHkgc2F2ZWQgaW5zdGFuY2UgcHJvcGVydGllcy5cbiAgICovXG4gIHByaXZhdGUgX2FwcGx5SW5zdGFuY2VQcm9wZXJ0aWVzKCkge1xuICAgIC8vIFVzZSBmb3JFYWNoIHNvIHRoaXMgd29ya3MgZXZlbiBpZiBmb3Ivb2YgbG9vcHMgYXJlIGNvbXBpbGVkIHRvIGZvciBsb29wc1xuICAgIC8vIGV4cGVjdGluZyBhcnJheXNcbiAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bm8tYW55XG4gICAgdGhpcy5faW5zdGFuY2VQcm9wZXJ0aWVzIS5mb3JFYWNoKCh2LCBwKSA9PiAodGhpcyBhcyBhbnkpW3BdID0gdik7XG4gICAgdGhpcy5faW5zdGFuY2VQcm9wZXJ0aWVzID0gdW5kZWZpbmVkO1xuICB9XG5cbiAgY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgdGhpcy5fdXBkYXRlU3RhdGUgPSB0aGlzLl91cGRhdGVTdGF0ZSB8IFNUQVRFX0hBU19DT05ORUNURUQ7XG4gICAgLy8gRW5zdXJlIGZpcnN0IGNvbm5lY3Rpb24gY29tcGxldGVzIGFuIHVwZGF0ZS4gVXBkYXRlcyBjYW5ub3QgY29tcGxldGUgYmVmb3JlXG4gICAgLy8gY29ubmVjdGlvbiBhbmQgaWYgb25lIGlzIHBlbmRpbmcgY29ubmVjdGlvbiB0aGUgYF9oYXNDb25uZWN0aW9uUmVzb2x2ZXJgXG4gICAgLy8gd2lsbCBleGlzdC4gSWYgc28sIHJlc29sdmUgaXQgdG8gY29tcGxldGUgdGhlIHVwZGF0ZSwgb3RoZXJ3aXNlXG4gICAgLy8gcmVxdWVzdFVwZGF0ZS5cbiAgICBpZiAodGhpcy5faGFzQ29ubmVjdGVkUmVzb2x2ZXIpIHtcbiAgICAgIHRoaXMuX2hhc0Nvbm5lY3RlZFJlc29sdmVyKCk7XG4gICAgICB0aGlzLl9oYXNDb25uZWN0ZWRSZXNvbHZlciA9IHVuZGVmaW5lZDtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQWxsb3dzIGZvciBgc3VwZXIuZGlzY29ubmVjdGVkQ2FsbGJhY2soKWAgaW4gZXh0ZW5zaW9ucyB3aGlsZVxuICAgKiByZXNlcnZpbmcgdGhlIHBvc3NpYmlsaXR5IG9mIG1ha2luZyBub24tYnJlYWtpbmcgZmVhdHVyZSBhZGRpdGlvbnNcbiAgICogd2hlbiBkaXNjb25uZWN0aW5nIGF0IHNvbWUgcG9pbnQgaW4gdGhlIGZ1dHVyZS5cbiAgICovXG4gIGRpc2Nvbm5lY3RlZENhbGxiYWNrKCkge1xuICB9XG5cbiAgLyoqXG4gICAqIFN5bmNocm9uaXplcyBwcm9wZXJ0eSB2YWx1ZXMgd2hlbiBhdHRyaWJ1dGVzIGNoYW5nZS5cbiAgICovXG4gIGF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFjayhuYW1lOiBzdHJpbmcsIG9sZDogc3RyaW5nfG51bGwsIHZhbHVlOiBzdHJpbmd8bnVsbCkge1xuICAgIGlmIChvbGQgIT09IHZhbHVlKSB7XG4gICAgICB0aGlzLl9hdHRyaWJ1dGVUb1Byb3BlcnR5KG5hbWUsIHZhbHVlKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIF9wcm9wZXJ0eVRvQXR0cmlidXRlKFxuICAgICAgbmFtZTogUHJvcGVydHlLZXksIHZhbHVlOiB1bmtub3duLFxuICAgICAgb3B0aW9uczogUHJvcGVydHlEZWNsYXJhdGlvbiA9IGRlZmF1bHRQcm9wZXJ0eURlY2xhcmF0aW9uKSB7XG4gICAgY29uc3QgY3RvciA9ICh0aGlzLmNvbnN0cnVjdG9yIGFzIHR5cGVvZiBVcGRhdGluZ0VsZW1lbnQpO1xuICAgIGNvbnN0IGF0dHIgPSBjdG9yLl9hdHRyaWJ1dGVOYW1lRm9yUHJvcGVydHkobmFtZSwgb3B0aW9ucyk7XG4gICAgaWYgKGF0dHIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgY29uc3QgYXR0clZhbHVlID0gY3Rvci5fcHJvcGVydHlWYWx1ZVRvQXR0cmlidXRlKHZhbHVlLCBvcHRpb25zKTtcbiAgICAgIC8vIGFuIHVuZGVmaW5lZCB2YWx1ZSBkb2VzIG5vdCBjaGFuZ2UgdGhlIGF0dHJpYnV0ZS5cbiAgICAgIGlmIChhdHRyVmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICAvLyBUcmFjayBpZiB0aGUgcHJvcGVydHkgaXMgYmVpbmcgcmVmbGVjdGVkIHRvIGF2b2lkXG4gICAgICAvLyBzZXR0aW5nIHRoZSBwcm9wZXJ0eSBhZ2FpbiB2aWEgYGF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFja2AuIE5vdGU6XG4gICAgICAvLyAxLiB0aGlzIHRha2VzIGFkdmFudGFnZSBvZiB0aGUgZmFjdCB0aGF0IHRoZSBjYWxsYmFjayBpcyBzeW5jaHJvbm91cy5cbiAgICAgIC8vIDIuIHdpbGwgYmVoYXZlIGluY29ycmVjdGx5IGlmIG11bHRpcGxlIGF0dHJpYnV0ZXMgYXJlIGluIHRoZSByZWFjdGlvblxuICAgICAgLy8gc3RhY2sgYXQgdGltZSBvZiBjYWxsaW5nLiBIb3dldmVyLCBzaW5jZSB3ZSBwcm9jZXNzIGF0dHJpYnV0ZXNcbiAgICAgIC8vIGluIGB1cGRhdGVgIHRoaXMgc2hvdWxkIG5vdCBiZSBwb3NzaWJsZSAob3IgYW4gZXh0cmVtZSBjb3JuZXIgY2FzZVxuICAgICAgLy8gdGhhdCB3ZSdkIGxpa2UgdG8gZGlzY292ZXIpLlxuICAgICAgLy8gbWFyayBzdGF0ZSByZWZsZWN0aW5nXG4gICAgICB0aGlzLl91cGRhdGVTdGF0ZSA9IHRoaXMuX3VwZGF0ZVN0YXRlIHwgU1RBVEVfSVNfUkVGTEVDVElOR19UT19BVFRSSUJVVEU7XG4gICAgICBpZiAoYXR0clZhbHVlID09IG51bGwpIHtcbiAgICAgICAgdGhpcy5yZW1vdmVBdHRyaWJ1dGUoYXR0cik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnNldEF0dHJpYnV0ZShhdHRyLCBhdHRyVmFsdWUgYXMgc3RyaW5nKTtcbiAgICAgIH1cbiAgICAgIC8vIG1hcmsgc3RhdGUgbm90IHJlZmxlY3RpbmdcbiAgICAgIHRoaXMuX3VwZGF0ZVN0YXRlID0gdGhpcy5fdXBkYXRlU3RhdGUgJiB+U1RBVEVfSVNfUkVGTEVDVElOR19UT19BVFRSSUJVVEU7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBfYXR0cmlidXRlVG9Qcm9wZXJ0eShuYW1lOiBzdHJpbmcsIHZhbHVlOiBzdHJpbmd8bnVsbCkge1xuICAgIC8vIFVzZSB0cmFja2luZyBpbmZvIHRvIGF2b2lkIGRlc2VyaWFsaXppbmcgYXR0cmlidXRlIHZhbHVlIGlmIGl0IHdhc1xuICAgIC8vIGp1c3Qgc2V0IGZyb20gYSBwcm9wZXJ0eSBzZXR0ZXIuXG4gICAgaWYgKHRoaXMuX3VwZGF0ZVN0YXRlICYgU1RBVEVfSVNfUkVGTEVDVElOR19UT19BVFRSSUJVVEUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgY3RvciA9ICh0aGlzLmNvbnN0cnVjdG9yIGFzIHR5cGVvZiBVcGRhdGluZ0VsZW1lbnQpO1xuICAgIGNvbnN0IHByb3BOYW1lID0gY3Rvci5fYXR0cmlidXRlVG9Qcm9wZXJ0eU1hcC5nZXQobmFtZSk7XG4gICAgaWYgKHByb3BOYW1lICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGNvbnN0IG9wdGlvbnMgPVxuICAgICAgICAgIGN0b3IuX2NsYXNzUHJvcGVydGllcyEuZ2V0KHByb3BOYW1lKSB8fCBkZWZhdWx0UHJvcGVydHlEZWNsYXJhdGlvbjtcbiAgICAgIC8vIG1hcmsgc3RhdGUgcmVmbGVjdGluZ1xuICAgICAgdGhpcy5fdXBkYXRlU3RhdGUgPSB0aGlzLl91cGRhdGVTdGF0ZSB8IFNUQVRFX0lTX1JFRkxFQ1RJTkdfVE9fUFJPUEVSVFk7XG4gICAgICB0aGlzW3Byb3BOYW1lIGFzIGtleW9mIHRoaXNdID1cbiAgICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bm8tYW55XG4gICAgICAgICAgY3Rvci5fcHJvcGVydHlWYWx1ZUZyb21BdHRyaWJ1dGUodmFsdWUsIG9wdGlvbnMpIGFzIGFueTtcbiAgICAgIC8vIG1hcmsgc3RhdGUgbm90IHJlZmxlY3RpbmdcbiAgICAgIHRoaXMuX3VwZGF0ZVN0YXRlID0gdGhpcy5fdXBkYXRlU3RhdGUgJiB+U1RBVEVfSVNfUkVGTEVDVElOR19UT19QUk9QRVJUWTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogVGhpcyBwcml2YXRlIHZlcnNpb24gb2YgYHJlcXVlc3RVcGRhdGVgIGRvZXMgbm90IGFjY2VzcyBvciByZXR1cm4gdGhlXG4gICAqIGB1cGRhdGVDb21wbGV0ZWAgcHJvbWlzZS4gVGhpcyBwcm9taXNlIGNhbiBiZSBvdmVycmlkZGVuIGFuZCBpcyB0aGVyZWZvcmVcbiAgICogbm90IGZyZWUgdG8gYWNjZXNzLlxuICAgKi9cbiAgcHJpdmF0ZSBfcmVxdWVzdFVwZGF0ZShuYW1lPzogUHJvcGVydHlLZXksIG9sZFZhbHVlPzogdW5rbm93bikge1xuICAgIGxldCBzaG91bGRSZXF1ZXN0VXBkYXRlID0gdHJ1ZTtcbiAgICAvLyBJZiB3ZSBoYXZlIGEgcHJvcGVydHkga2V5LCBwZXJmb3JtIHByb3BlcnR5IHVwZGF0ZSBzdGVwcy5cbiAgICBpZiAobmFtZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBjb25zdCBjdG9yID0gdGhpcy5jb25zdHJ1Y3RvciBhcyB0eXBlb2YgVXBkYXRpbmdFbGVtZW50O1xuICAgICAgY29uc3Qgb3B0aW9ucyA9XG4gICAgICAgICAgY3Rvci5fY2xhc3NQcm9wZXJ0aWVzIS5nZXQobmFtZSkgfHwgZGVmYXVsdFByb3BlcnR5RGVjbGFyYXRpb247XG4gICAgICBpZiAoY3Rvci5fdmFsdWVIYXNDaGFuZ2VkKFxuICAgICAgICAgICAgICB0aGlzW25hbWUgYXMga2V5b2YgdGhpc10sIG9sZFZhbHVlLCBvcHRpb25zLmhhc0NoYW5nZWQpKSB7XG4gICAgICAgIGlmICghdGhpcy5fY2hhbmdlZFByb3BlcnRpZXMuaGFzKG5hbWUpKSB7XG4gICAgICAgICAgdGhpcy5fY2hhbmdlZFByb3BlcnRpZXMuc2V0KG5hbWUsIG9sZFZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBBZGQgdG8gcmVmbGVjdGluZyBwcm9wZXJ0aWVzIHNldC5cbiAgICAgICAgLy8gTm90ZSwgaXQncyBpbXBvcnRhbnQgdGhhdCBldmVyeSBjaGFuZ2UgaGFzIGEgY2hhbmNlIHRvIGFkZCB0aGVcbiAgICAgICAgLy8gcHJvcGVydHkgdG8gYF9yZWZsZWN0aW5nUHJvcGVydGllc2AuIFRoaXMgZW5zdXJlcyBzZXR0aW5nXG4gICAgICAgIC8vIGF0dHJpYnV0ZSArIHByb3BlcnR5IHJlZmxlY3RzIGNvcnJlY3RseS5cbiAgICAgICAgaWYgKG9wdGlvbnMucmVmbGVjdCA9PT0gdHJ1ZSAmJlxuICAgICAgICAgICAgISh0aGlzLl91cGRhdGVTdGF0ZSAmIFNUQVRFX0lTX1JFRkxFQ1RJTkdfVE9fUFJPUEVSVFkpKSB7XG4gICAgICAgICAgaWYgKHRoaXMuX3JlZmxlY3RpbmdQcm9wZXJ0aWVzID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuX3JlZmxlY3RpbmdQcm9wZXJ0aWVzID0gbmV3IE1hcCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aGlzLl9yZWZsZWN0aW5nUHJvcGVydGllcy5zZXQobmFtZSwgb3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIEFib3J0IHRoZSByZXF1ZXN0IGlmIHRoZSBwcm9wZXJ0eSBzaG91bGQgbm90IGJlIGNvbnNpZGVyZWQgY2hhbmdlZC5cbiAgICAgICAgc2hvdWxkUmVxdWVzdFVwZGF0ZSA9IGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoIXRoaXMuX2hhc1JlcXVlc3RlZFVwZGF0ZSAmJiBzaG91bGRSZXF1ZXN0VXBkYXRlKSB7XG4gICAgICB0aGlzLl9lbnF1ZXVlVXBkYXRlKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJlcXVlc3RzIGFuIHVwZGF0ZSB3aGljaCBpcyBwcm9jZXNzZWQgYXN5bmNocm9ub3VzbHkuIFRoaXMgc2hvdWxkXG4gICAqIGJlIGNhbGxlZCB3aGVuIGFuIGVsZW1lbnQgc2hvdWxkIHVwZGF0ZSBiYXNlZCBvbiBzb21lIHN0YXRlIG5vdCB0cmlnZ2VyZWRcbiAgICogYnkgc2V0dGluZyBhIHByb3BlcnR5LiBJbiB0aGlzIGNhc2UsIHBhc3Mgbm8gYXJndW1lbnRzLiBJdCBzaG91bGQgYWxzbyBiZVxuICAgKiBjYWxsZWQgd2hlbiBtYW51YWxseSBpbXBsZW1lbnRpbmcgYSBwcm9wZXJ0eSBzZXR0ZXIuIEluIHRoaXMgY2FzZSwgcGFzcyB0aGVcbiAgICogcHJvcGVydHkgYG5hbWVgIGFuZCBgb2xkVmFsdWVgIHRvIGVuc3VyZSB0aGF0IGFueSBjb25maWd1cmVkIHByb3BlcnR5XG4gICAqIG9wdGlvbnMgYXJlIGhvbm9yZWQuIFJldHVybnMgdGhlIGB1cGRhdGVDb21wbGV0ZWAgUHJvbWlzZSB3aGljaCBpcyByZXNvbHZlZFxuICAgKiB3aGVuIHRoZSB1cGRhdGUgY29tcGxldGVzLlxuICAgKlxuICAgKiBAcGFyYW0gbmFtZSB7UHJvcGVydHlLZXl9IChvcHRpb25hbCkgbmFtZSBvZiByZXF1ZXN0aW5nIHByb3BlcnR5XG4gICAqIEBwYXJhbSBvbGRWYWx1ZSB7YW55fSAob3B0aW9uYWwpIG9sZCB2YWx1ZSBvZiByZXF1ZXN0aW5nIHByb3BlcnR5XG4gICAqIEByZXR1cm5zIHtQcm9taXNlfSBBIFByb21pc2UgdGhhdCBpcyByZXNvbHZlZCB3aGVuIHRoZSB1cGRhdGUgY29tcGxldGVzLlxuICAgKi9cbiAgcmVxdWVzdFVwZGF0ZShuYW1lPzogUHJvcGVydHlLZXksIG9sZFZhbHVlPzogdW5rbm93bikge1xuICAgIHRoaXMuX3JlcXVlc3RVcGRhdGUobmFtZSwgb2xkVmFsdWUpO1xuICAgIHJldHVybiB0aGlzLnVwZGF0ZUNvbXBsZXRlO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgdXAgdGhlIGVsZW1lbnQgdG8gYXN5bmNocm9ub3VzbHkgdXBkYXRlLlxuICAgKi9cbiAgcHJpdmF0ZSBhc3luYyBfZW5xdWV1ZVVwZGF0ZSgpIHtcbiAgICAvLyBNYXJrIHN0YXRlIHVwZGF0aW5nLi4uXG4gICAgdGhpcy5fdXBkYXRlU3RhdGUgPSB0aGlzLl91cGRhdGVTdGF0ZSB8IFNUQVRFX1VQREFURV9SRVFVRVNURUQ7XG4gICAgbGV0IHJlc29sdmUhOiAocjogYm9vbGVhbikgPT4gdm9pZDtcbiAgICBsZXQgcmVqZWN0ITogKGU6IEVycm9yKSA9PiB2b2lkO1xuICAgIGNvbnN0IHByZXZpb3VzVXBkYXRlUHJvbWlzZSA9IHRoaXMuX3VwZGF0ZVByb21pc2U7XG4gICAgdGhpcy5fdXBkYXRlUHJvbWlzZSA9IG5ldyBQcm9taXNlKChyZXMsIHJlaikgPT4ge1xuICAgICAgcmVzb2x2ZSA9IHJlcztcbiAgICAgIHJlamVjdCA9IHJlajtcbiAgICB9KTtcbiAgICB0cnkge1xuICAgICAgLy8gRW5zdXJlIGFueSBwcmV2aW91cyB1cGRhdGUgaGFzIHJlc29sdmVkIGJlZm9yZSB1cGRhdGluZy5cbiAgICAgIC8vIFRoaXMgYGF3YWl0YCBhbHNvIGVuc3VyZXMgdGhhdCBwcm9wZXJ0eSBjaGFuZ2VzIGFyZSBiYXRjaGVkLlxuICAgICAgYXdhaXQgcHJldmlvdXNVcGRhdGVQcm9taXNlO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIC8vIElnbm9yZSBhbnkgcHJldmlvdXMgZXJyb3JzLiBXZSBvbmx5IGNhcmUgdGhhdCB0aGUgcHJldmlvdXMgY3ljbGUgaXNcbiAgICAgIC8vIGRvbmUuIEFueSBlcnJvciBzaG91bGQgaGF2ZSBiZWVuIGhhbmRsZWQgaW4gdGhlIHByZXZpb3VzIHVwZGF0ZS5cbiAgICB9XG4gICAgLy8gTWFrZSBzdXJlIHRoZSBlbGVtZW50IGhhcyBjb25uZWN0ZWQgYmVmb3JlIHVwZGF0aW5nLlxuICAgIGlmICghdGhpcy5faGFzQ29ubmVjdGVkKSB7XG4gICAgICBhd2FpdCBuZXcgUHJvbWlzZSgocmVzKSA9PiB0aGlzLl9oYXNDb25uZWN0ZWRSZXNvbHZlciA9IHJlcyk7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXN1bHQgPSB0aGlzLnBlcmZvcm1VcGRhdGUoKTtcbiAgICAgIC8vIElmIGBwZXJmb3JtVXBkYXRlYCByZXR1cm5zIGEgUHJvbWlzZSwgd2UgYXdhaXQgaXQuIFRoaXMgaXMgZG9uZSB0b1xuICAgICAgLy8gZW5hYmxlIGNvb3JkaW5hdGluZyB1cGRhdGVzIHdpdGggYSBzY2hlZHVsZXIuIE5vdGUsIHRoZSByZXN1bHQgaXNcbiAgICAgIC8vIGNoZWNrZWQgdG8gYXZvaWQgZGVsYXlpbmcgYW4gYWRkaXRpb25hbCBtaWNyb3Rhc2sgdW5sZXNzIHdlIG5lZWQgdG8uXG4gICAgICBpZiAocmVzdWx0ICE9IG51bGwpIHtcbiAgICAgICAgYXdhaXQgcmVzdWx0O1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHJlamVjdChlKTtcbiAgICB9XG4gICAgcmVzb2x2ZSghdGhpcy5faGFzUmVxdWVzdGVkVXBkYXRlKTtcbiAgfVxuXG4gIHByaXZhdGUgZ2V0IF9oYXNDb25uZWN0ZWQoKSB7XG4gICAgcmV0dXJuICh0aGlzLl91cGRhdGVTdGF0ZSAmIFNUQVRFX0hBU19DT05ORUNURUQpO1xuICB9XG5cbiAgcHJpdmF0ZSBnZXQgX2hhc1JlcXVlc3RlZFVwZGF0ZSgpIHtcbiAgICByZXR1cm4gKHRoaXMuX3VwZGF0ZVN0YXRlICYgU1RBVEVfVVBEQVRFX1JFUVVFU1RFRCk7XG4gIH1cblxuICBwcm90ZWN0ZWQgZ2V0IGhhc1VwZGF0ZWQoKSB7XG4gICAgcmV0dXJuICh0aGlzLl91cGRhdGVTdGF0ZSAmIFNUQVRFX0hBU19VUERBVEVEKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBQZXJmb3JtcyBhbiBlbGVtZW50IHVwZGF0ZS4gTm90ZSwgaWYgYW4gZXhjZXB0aW9uIGlzIHRocm93biBkdXJpbmcgdGhlXG4gICAqIHVwZGF0ZSwgYGZpcnN0VXBkYXRlZGAgYW5kIGB1cGRhdGVkYCB3aWxsIG5vdCBiZSBjYWxsZWQuXG4gICAqXG4gICAqIFlvdSBjYW4gb3ZlcnJpZGUgdGhpcyBtZXRob2QgdG8gY2hhbmdlIHRoZSB0aW1pbmcgb2YgdXBkYXRlcy4gSWYgdGhpc1xuICAgKiBtZXRob2QgaXMgb3ZlcnJpZGRlbiwgYHN1cGVyLnBlcmZvcm1VcGRhdGUoKWAgbXVzdCBiZSBjYWxsZWQuXG4gICAqXG4gICAqIEZvciBpbnN0YW5jZSwgdG8gc2NoZWR1bGUgdXBkYXRlcyB0byBvY2N1ciBqdXN0IGJlZm9yZSB0aGUgbmV4dCBmcmFtZTpcbiAgICpcbiAgICogYGBgXG4gICAqIHByb3RlY3RlZCBhc3luYyBwZXJmb3JtVXBkYXRlKCk6IFByb21pc2U8dW5rbm93bj4ge1xuICAgKiAgIGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4gcmVzb2x2ZSgpKSk7XG4gICAqICAgc3VwZXIucGVyZm9ybVVwZGF0ZSgpO1xuICAgKiB9XG4gICAqIGBgYFxuICAgKi9cbiAgcHJvdGVjdGVkIHBlcmZvcm1VcGRhdGUoKTogdm9pZHxQcm9taXNlPHVua25vd24+IHtcbiAgICAvLyBNaXhpbiBpbnN0YW5jZSBwcm9wZXJ0aWVzIG9uY2UsIGlmIHRoZXkgZXhpc3QuXG4gICAgaWYgKHRoaXMuX2luc3RhbmNlUHJvcGVydGllcykge1xuICAgICAgdGhpcy5fYXBwbHlJbnN0YW5jZVByb3BlcnRpZXMoKTtcbiAgICB9XG4gICAgbGV0IHNob3VsZFVwZGF0ZSA9IGZhbHNlO1xuICAgIGNvbnN0IGNoYW5nZWRQcm9wZXJ0aWVzID0gdGhpcy5fY2hhbmdlZFByb3BlcnRpZXM7XG4gICAgdHJ5IHtcbiAgICAgIHNob3VsZFVwZGF0ZSA9IHRoaXMuc2hvdWxkVXBkYXRlKGNoYW5nZWRQcm9wZXJ0aWVzKTtcbiAgICAgIGlmIChzaG91bGRVcGRhdGUpIHtcbiAgICAgICAgdGhpcy51cGRhdGUoY2hhbmdlZFByb3BlcnRpZXMpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIC8vIFByZXZlbnQgYGZpcnN0VXBkYXRlZGAgYW5kIGB1cGRhdGVkYCBmcm9tIHJ1bm5pbmcgd2hlbiB0aGVyZSdzIGFuXG4gICAgICAvLyB1cGRhdGUgZXhjZXB0aW9uLlxuICAgICAgc2hvdWxkVXBkYXRlID0gZmFsc2U7XG4gICAgICB0aHJvdyBlO1xuICAgIH0gZmluYWxseSB7XG4gICAgICAvLyBFbnN1cmUgZWxlbWVudCBjYW4gYWNjZXB0IGFkZGl0aW9uYWwgdXBkYXRlcyBhZnRlciBhbiBleGNlcHRpb24uXG4gICAgICB0aGlzLl9tYXJrVXBkYXRlZCgpO1xuICAgIH1cbiAgICBpZiAoc2hvdWxkVXBkYXRlKSB7XG4gICAgICBpZiAoISh0aGlzLl91cGRhdGVTdGF0ZSAmIFNUQVRFX0hBU19VUERBVEVEKSkge1xuICAgICAgICB0aGlzLl91cGRhdGVTdGF0ZSA9IHRoaXMuX3VwZGF0ZVN0YXRlIHwgU1RBVEVfSEFTX1VQREFURUQ7XG4gICAgICAgIHRoaXMuZmlyc3RVcGRhdGVkKGNoYW5nZWRQcm9wZXJ0aWVzKTtcbiAgICAgIH1cbiAgICAgIHRoaXMudXBkYXRlZChjaGFuZ2VkUHJvcGVydGllcyk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBfbWFya1VwZGF0ZWQoKSB7XG4gICAgdGhpcy5fY2hhbmdlZFByb3BlcnRpZXMgPSBuZXcgTWFwKCk7XG4gICAgdGhpcy5fdXBkYXRlU3RhdGUgPSB0aGlzLl91cGRhdGVTdGF0ZSAmIH5TVEFURV9VUERBVEVfUkVRVUVTVEVEO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgYSBQcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2hlbiB0aGUgZWxlbWVudCBoYXMgY29tcGxldGVkIHVwZGF0aW5nLlxuICAgKiBUaGUgUHJvbWlzZSB2YWx1ZSBpcyBhIGJvb2xlYW4gdGhhdCBpcyBgdHJ1ZWAgaWYgdGhlIGVsZW1lbnQgY29tcGxldGVkIHRoZVxuICAgKiB1cGRhdGUgd2l0aG91dCB0cmlnZ2VyaW5nIGFub3RoZXIgdXBkYXRlLiBUaGUgUHJvbWlzZSByZXN1bHQgaXMgYGZhbHNlYCBpZlxuICAgKiBhIHByb3BlcnR5IHdhcyBzZXQgaW5zaWRlIGB1cGRhdGVkKClgLiBJZiB0aGUgUHJvbWlzZSBpcyByZWplY3RlZCwgYW5cbiAgICogZXhjZXB0aW9uIHdhcyB0aHJvd24gZHVyaW5nIHRoZSB1cGRhdGUuIFRoaXMgZ2V0dGVyIGNhbiBiZSBpbXBsZW1lbnRlZCB0b1xuICAgKiBhd2FpdCBhZGRpdGlvbmFsIHN0YXRlLiBGb3IgZXhhbXBsZSwgaXQgaXMgc29tZXRpbWVzIHVzZWZ1bCB0byBhd2FpdCBhXG4gICAqIHJlbmRlcmVkIGVsZW1lbnQgYmVmb3JlIGZ1bGZpbGxpbmcgdGhpcyBQcm9taXNlLiBUbyBkbyB0aGlzLCBmaXJzdCBhd2FpdFxuICAgKiBgc3VwZXIudXBkYXRlQ29tcGxldGVgIHRoZW4gYW55IHN1YnNlcXVlbnQgc3RhdGUuXG4gICAqXG4gICAqIEByZXR1cm5zIHtQcm9taXNlfSBUaGUgUHJvbWlzZSByZXR1cm5zIGEgYm9vbGVhbiB0aGF0IGluZGljYXRlcyBpZiB0aGVcbiAgICogdXBkYXRlIHJlc29sdmVkIHdpdGhvdXQgdHJpZ2dlcmluZyBhbm90aGVyIHVwZGF0ZS5cbiAgICovXG4gIGdldCB1cGRhdGVDb21wbGV0ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fdXBkYXRlUHJvbWlzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb250cm9scyB3aGV0aGVyIG9yIG5vdCBgdXBkYXRlYCBzaG91bGQgYmUgY2FsbGVkIHdoZW4gdGhlIGVsZW1lbnQgcmVxdWVzdHNcbiAgICogYW4gdXBkYXRlLiBCeSBkZWZhdWx0LCB0aGlzIG1ldGhvZCBhbHdheXMgcmV0dXJucyBgdHJ1ZWAsIGJ1dCB0aGlzIGNhbiBiZVxuICAgKiBjdXN0b21pemVkIHRvIGNvbnRyb2wgd2hlbiB0byB1cGRhdGUuXG4gICAqXG4gICAqICogQHBhcmFtIF9jaGFuZ2VkUHJvcGVydGllcyBNYXAgb2YgY2hhbmdlZCBwcm9wZXJ0aWVzIHdpdGggb2xkIHZhbHVlc1xuICAgKi9cbiAgcHJvdGVjdGVkIHNob3VsZFVwZGF0ZShfY2hhbmdlZFByb3BlcnRpZXM6IFByb3BlcnR5VmFsdWVzKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlcyB0aGUgZWxlbWVudC4gVGhpcyBtZXRob2QgcmVmbGVjdHMgcHJvcGVydHkgdmFsdWVzIHRvIGF0dHJpYnV0ZXMuXG4gICAqIEl0IGNhbiBiZSBvdmVycmlkZGVuIHRvIHJlbmRlciBhbmQga2VlcCB1cGRhdGVkIGVsZW1lbnQgRE9NLlxuICAgKiBTZXR0aW5nIHByb3BlcnRpZXMgaW5zaWRlIHRoaXMgbWV0aG9kIHdpbGwgKm5vdCogdHJpZ2dlclxuICAgKiBhbm90aGVyIHVwZGF0ZS5cbiAgICpcbiAgICogKiBAcGFyYW0gX2NoYW5nZWRQcm9wZXJ0aWVzIE1hcCBvZiBjaGFuZ2VkIHByb3BlcnRpZXMgd2l0aCBvbGQgdmFsdWVzXG4gICAqL1xuICBwcm90ZWN0ZWQgdXBkYXRlKF9jaGFuZ2VkUHJvcGVydGllczogUHJvcGVydHlWYWx1ZXMpIHtcbiAgICBpZiAodGhpcy5fcmVmbGVjdGluZ1Byb3BlcnRpZXMgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICB0aGlzLl9yZWZsZWN0aW5nUHJvcGVydGllcy5zaXplID4gMCkge1xuICAgICAgLy8gVXNlIGZvckVhY2ggc28gdGhpcyB3b3JrcyBldmVuIGlmIGZvci9vZiBsb29wcyBhcmUgY29tcGlsZWQgdG8gZm9yXG4gICAgICAvLyBsb29wcyBleHBlY3RpbmcgYXJyYXlzXG4gICAgICB0aGlzLl9yZWZsZWN0aW5nUHJvcGVydGllcy5mb3JFYWNoKFxuICAgICAgICAgICh2LCBrKSA9PiB0aGlzLl9wcm9wZXJ0eVRvQXR0cmlidXRlKGssIHRoaXNbayBhcyBrZXlvZiB0aGlzXSwgdikpO1xuICAgICAgdGhpcy5fcmVmbGVjdGluZ1Byb3BlcnRpZXMgPSB1bmRlZmluZWQ7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEludm9rZWQgd2hlbmV2ZXIgdGhlIGVsZW1lbnQgaXMgdXBkYXRlZC4gSW1wbGVtZW50IHRvIHBlcmZvcm1cbiAgICogcG9zdC11cGRhdGluZyB0YXNrcyB2aWEgRE9NIEFQSXMsIGZvciBleGFtcGxlLCBmb2N1c2luZyBhbiBlbGVtZW50LlxuICAgKlxuICAgKiBTZXR0aW5nIHByb3BlcnRpZXMgaW5zaWRlIHRoaXMgbWV0aG9kIHdpbGwgdHJpZ2dlciB0aGUgZWxlbWVudCB0byB1cGRhdGVcbiAgICogYWdhaW4gYWZ0ZXIgdGhpcyB1cGRhdGUgY3ljbGUgY29tcGxldGVzLlxuICAgKlxuICAgKiAqIEBwYXJhbSBfY2hhbmdlZFByb3BlcnRpZXMgTWFwIG9mIGNoYW5nZWQgcHJvcGVydGllcyB3aXRoIG9sZCB2YWx1ZXNcbiAgICovXG4gIHByb3RlY3RlZCB1cGRhdGVkKF9jaGFuZ2VkUHJvcGVydGllczogUHJvcGVydHlWYWx1ZXMpIHtcbiAgfVxuXG4gIC8qKlxuICAgKiBJbnZva2VkIHdoZW4gdGhlIGVsZW1lbnQgaXMgZmlyc3QgdXBkYXRlZC4gSW1wbGVtZW50IHRvIHBlcmZvcm0gb25lIHRpbWVcbiAgICogd29yayBvbiB0aGUgZWxlbWVudCBhZnRlciB1cGRhdGUuXG4gICAqXG4gICAqIFNldHRpbmcgcHJvcGVydGllcyBpbnNpZGUgdGhpcyBtZXRob2Qgd2lsbCB0cmlnZ2VyIHRoZSBlbGVtZW50IHRvIHVwZGF0ZVxuICAgKiBhZ2FpbiBhZnRlciB0aGlzIHVwZGF0ZSBjeWNsZSBjb21wbGV0ZXMuXG4gICAqXG4gICAqICogQHBhcmFtIF9jaGFuZ2VkUHJvcGVydGllcyBNYXAgb2YgY2hhbmdlZCBwcm9wZXJ0aWVzIHdpdGggb2xkIHZhbHVlc1xuICAgKi9cbiAgcHJvdGVjdGVkIGZpcnN0VXBkYXRlZChfY2hhbmdlZFByb3BlcnRpZXM6IFByb3BlcnR5VmFsdWVzKSB7XG4gIH1cbn1cbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAoYykgMjAxNyBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBUaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0XG4gKiBUaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0XG4gKiBDb2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzb1xuICogc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudCBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4gKi9cblxuaW1wb3J0IHtMaXRFbGVtZW50fSBmcm9tICcuLi9saXQtZWxlbWVudC5qcyc7XG5cbmltcG9ydCB7UHJvcGVydHlEZWNsYXJhdGlvbiwgVXBkYXRpbmdFbGVtZW50fSBmcm9tICcuL3VwZGF0aW5nLWVsZW1lbnQuanMnO1xuXG5leHBvcnQgdHlwZSBDb25zdHJ1Y3RvcjxUPiA9IHtcbiAgbmV3ICguLi5hcmdzOiB1bmtub3duW10pOiBUXG59O1xuXG4vLyBGcm9tIHRoZSBUQzM5IERlY29yYXRvcnMgcHJvcG9zYWxcbmludGVyZmFjZSBDbGFzc0Rlc2NyaXB0b3Ige1xuICBraW5kOiAnY2xhc3MnO1xuICBlbGVtZW50czogQ2xhc3NFbGVtZW50W107XG4gIGZpbmlzaGVyPzogPFQ+KGNsYXp6OiBDb25zdHJ1Y3RvcjxUPikgPT4gdW5kZWZpbmVkIHwgQ29uc3RydWN0b3I8VD47XG59XG5cbi8vIEZyb20gdGhlIFRDMzkgRGVjb3JhdG9ycyBwcm9wb3NhbFxuaW50ZXJmYWNlIENsYXNzRWxlbWVudCB7XG4gIGtpbmQ6ICdmaWVsZCd8J21ldGhvZCc7XG4gIGtleTogUHJvcGVydHlLZXk7XG4gIHBsYWNlbWVudDogJ3N0YXRpYyd8J3Byb3RvdHlwZSd8J293bic7XG4gIGluaXRpYWxpemVyPzogRnVuY3Rpb247XG4gIGV4dHJhcz86IENsYXNzRWxlbWVudFtdO1xuICBmaW5pc2hlcj86IDxUPihjbGF6ejogQ29uc3RydWN0b3I8VD4pID0+IHVuZGVmaW5lZCB8IENvbnN0cnVjdG9yPFQ+O1xuICBkZXNjcmlwdG9yPzogUHJvcGVydHlEZXNjcmlwdG9yO1xufVxuXG5jb25zdCBsZWdhY3lDdXN0b21FbGVtZW50ID1cbiAgICAodGFnTmFtZTogc3RyaW5nLCBjbGF6ejogQ29uc3RydWN0b3I8SFRNTEVsZW1lbnQ+KSA9PiB7XG4gICAgICB3aW5kb3cuY3VzdG9tRWxlbWVudHMuZGVmaW5lKHRhZ05hbWUsIGNsYXp6KTtcbiAgICAgIC8vIENhc3QgYXMgYW55IGJlY2F1c2UgVFMgZG9lc24ndCByZWNvZ25pemUgdGhlIHJldHVybiB0eXBlIGFzIGJlaW5nIGFcbiAgICAgIC8vIHN1YnR5cGUgb2YgdGhlIGRlY29yYXRlZCBjbGFzcyB3aGVuIGNsYXp6IGlzIHR5cGVkIGFzXG4gICAgICAvLyBgQ29uc3RydWN0b3I8SFRNTEVsZW1lbnQ+YCBmb3Igc29tZSByZWFzb24uXG4gICAgICAvLyBgQ29uc3RydWN0b3I8SFRNTEVsZW1lbnQ+YCBpcyBoZWxwZnVsIHRvIG1ha2Ugc3VyZSB0aGUgZGVjb3JhdG9yIGlzXG4gICAgICAvLyBhcHBsaWVkIHRvIGVsZW1lbnRzIGhvd2V2ZXIuXG4gICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bm8tYW55XG4gICAgICByZXR1cm4gY2xhenogYXMgYW55O1xuICAgIH07XG5cbmNvbnN0IHN0YW5kYXJkQ3VzdG9tRWxlbWVudCA9XG4gICAgKHRhZ05hbWU6IHN0cmluZywgZGVzY3JpcHRvcjogQ2xhc3NEZXNjcmlwdG9yKSA9PiB7XG4gICAgICBjb25zdCB7a2luZCwgZWxlbWVudHN9ID0gZGVzY3JpcHRvcjtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGtpbmQsXG4gICAgICAgIGVsZW1lbnRzLFxuICAgICAgICAvLyBUaGlzIGNhbGxiYWNrIGlzIGNhbGxlZCBvbmNlIHRoZSBjbGFzcyBpcyBvdGhlcndpc2UgZnVsbHkgZGVmaW5lZFxuICAgICAgICBmaW5pc2hlcihjbGF6ejogQ29uc3RydWN0b3I8SFRNTEVsZW1lbnQ+KSB7XG4gICAgICAgICAgd2luZG93LmN1c3RvbUVsZW1lbnRzLmRlZmluZSh0YWdOYW1lLCBjbGF6eik7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfTtcblxuLyoqXG4gKiBDbGFzcyBkZWNvcmF0b3IgZmFjdG9yeSB0aGF0IGRlZmluZXMgdGhlIGRlY29yYXRlZCBjbGFzcyBhcyBhIGN1c3RvbSBlbGVtZW50LlxuICpcbiAqIEBwYXJhbSB0YWdOYW1lIHRoZSBuYW1lIG9mIHRoZSBjdXN0b20gZWxlbWVudCB0byBkZWZpbmVcbiAqL1xuZXhwb3J0IGNvbnN0IGN1c3RvbUVsZW1lbnQgPSAodGFnTmFtZTogc3RyaW5nKSA9PlxuICAgIChjbGFzc09yRGVzY3JpcHRvcjogQ29uc3RydWN0b3I8SFRNTEVsZW1lbnQ+fENsYXNzRGVzY3JpcHRvcikgPT5cbiAgICAgICAgKHR5cGVvZiBjbGFzc09yRGVzY3JpcHRvciA9PT0gJ2Z1bmN0aW9uJykgP1xuICAgIGxlZ2FjeUN1c3RvbUVsZW1lbnQodGFnTmFtZSwgY2xhc3NPckRlc2NyaXB0b3IpIDpcbiAgICBzdGFuZGFyZEN1c3RvbUVsZW1lbnQodGFnTmFtZSwgY2xhc3NPckRlc2NyaXB0b3IpO1xuXG5jb25zdCBzdGFuZGFyZFByb3BlcnR5ID1cbiAgICAob3B0aW9uczogUHJvcGVydHlEZWNsYXJhdGlvbiwgZWxlbWVudDogQ2xhc3NFbGVtZW50KSA9PiB7XG4gICAgICAvLyBXaGVuIGRlY29yYXRpbmcgYW4gYWNjZXNzb3IsIHBhc3MgaXQgdGhyb3VnaCBhbmQgYWRkIHByb3BlcnR5IG1ldGFkYXRhLlxuICAgICAgLy8gTm90ZSwgdGhlIGBoYXNPd25Qcm9wZXJ0eWAgY2hlY2sgaW4gYGNyZWF0ZVByb3BlcnR5YCBlbnN1cmVzIHdlIGRvbid0XG4gICAgICAvLyBzdG9tcCBvdmVyIHRoZSB1c2VyJ3MgYWNjZXNzb3IuXG4gICAgICBpZiAoZWxlbWVudC5raW5kID09PSAnbWV0aG9kJyAmJiBlbGVtZW50LmRlc2NyaXB0b3IgJiZcbiAgICAgICAgICAhKCd2YWx1ZScgaW4gZWxlbWVudC5kZXNjcmlwdG9yKSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIC4uLmVsZW1lbnQsXG4gICAgICAgICAgZmluaXNoZXIoY2xheno6IHR5cGVvZiBVcGRhdGluZ0VsZW1lbnQpIHtcbiAgICAgICAgICAgIGNsYXp6LmNyZWF0ZVByb3BlcnR5KGVsZW1lbnQua2V5LCBvcHRpb25zKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBjcmVhdGVQcm9wZXJ0eSgpIHRha2VzIGNhcmUgb2YgZGVmaW5pbmcgdGhlIHByb3BlcnR5LCBidXQgd2Ugc3RpbGxcbiAgICAgICAgLy8gbXVzdCByZXR1cm4gc29tZSBraW5kIG9mIGRlc2NyaXB0b3IsIHNvIHJldHVybiBhIGRlc2NyaXB0b3IgZm9yIGFuXG4gICAgICAgIC8vIHVudXNlZCBwcm90b3R5cGUgZmllbGQuIFRoZSBmaW5pc2hlciBjYWxscyBjcmVhdGVQcm9wZXJ0eSgpLlxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGtpbmQ6ICdmaWVsZCcsXG4gICAgICAgICAga2V5OiBTeW1ib2woKSxcbiAgICAgICAgICBwbGFjZW1lbnQ6ICdvd24nLFxuICAgICAgICAgIGRlc2NyaXB0b3I6IHt9LFxuICAgICAgICAgIC8vIFdoZW4gQGJhYmVsL3BsdWdpbi1wcm9wb3NhbC1kZWNvcmF0b3JzIGltcGxlbWVudHMgaW5pdGlhbGl6ZXJzLFxuICAgICAgICAgIC8vIGRvIHRoaXMgaW5zdGVhZCBvZiB0aGUgaW5pdGlhbGl6ZXIgYmVsb3cuIFNlZTpcbiAgICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vYmFiZWwvYmFiZWwvaXNzdWVzLzkyNjAgZXh0cmFzOiBbXG4gICAgICAgICAgLy8gICB7XG4gICAgICAgICAgLy8gICAgIGtpbmQ6ICdpbml0aWFsaXplcicsXG4gICAgICAgICAgLy8gICAgIHBsYWNlbWVudDogJ293bicsXG4gICAgICAgICAgLy8gICAgIGluaXRpYWxpemVyOiBkZXNjcmlwdG9yLmluaXRpYWxpemVyLFxuICAgICAgICAgIC8vICAgfVxuICAgICAgICAgIC8vIF0sXG4gICAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLWFueSBkZWNvcmF0b3JcbiAgICAgICAgICBpbml0aWFsaXplcih0aGlzOiBhbnkpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgZWxlbWVudC5pbml0aWFsaXplciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICB0aGlzW2VsZW1lbnQua2V5XSA9IGVsZW1lbnQuaW5pdGlhbGl6ZXIuY2FsbCh0aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIGZpbmlzaGVyKGNsYXp6OiB0eXBlb2YgVXBkYXRpbmdFbGVtZW50KSB7XG4gICAgICAgICAgICBjbGF6ei5jcmVhdGVQcm9wZXJ0eShlbGVtZW50LmtleSwgb3B0aW9ucyk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH07XG5cbmNvbnN0IGxlZ2FjeVByb3BlcnR5ID1cbiAgICAob3B0aW9uczogUHJvcGVydHlEZWNsYXJhdGlvbiwgcHJvdG86IE9iamVjdCwgbmFtZTogUHJvcGVydHlLZXkpID0+IHtcbiAgICAgIChwcm90by5jb25zdHJ1Y3RvciBhcyB0eXBlb2YgVXBkYXRpbmdFbGVtZW50KVxuICAgICAgICAgIC5jcmVhdGVQcm9wZXJ0eShuYW1lLCBvcHRpb25zKTtcbiAgICB9O1xuXG4vKipcbiAqIEEgcHJvcGVydHkgZGVjb3JhdG9yIHdoaWNoIGNyZWF0ZXMgYSBMaXRFbGVtZW50IHByb3BlcnR5IHdoaWNoIHJlZmxlY3RzIGFcbiAqIGNvcnJlc3BvbmRpbmcgYXR0cmlidXRlIHZhbHVlLiBBIGBQcm9wZXJ0eURlY2xhcmF0aW9uYCBtYXkgb3B0aW9uYWxseSBiZVxuICogc3VwcGxpZWQgdG8gY29uZmlndXJlIHByb3BlcnR5IGZlYXR1cmVzLlxuICpcbiAqIEBFeHBvcnREZWNvcmF0ZWRJdGVtc1xuICovXG5leHBvcnQgZnVuY3Rpb24gcHJvcGVydHkob3B0aW9ucz86IFByb3BlcnR5RGVjbGFyYXRpb24pIHtcbiAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLWFueSBkZWNvcmF0b3JcbiAgcmV0dXJuIChwcm90b09yRGVzY3JpcHRvcjogT2JqZWN0fENsYXNzRWxlbWVudCwgbmFtZT86IFByb3BlcnR5S2V5KTogYW55ID0+XG4gICAgICAgICAgICAgKG5hbWUgIT09IHVuZGVmaW5lZCkgP1xuICAgICAgbGVnYWN5UHJvcGVydHkob3B0aW9ucyEsIHByb3RvT3JEZXNjcmlwdG9yIGFzIE9iamVjdCwgbmFtZSkgOlxuICAgICAgc3RhbmRhcmRQcm9wZXJ0eShvcHRpb25zISwgcHJvdG9PckRlc2NyaXB0b3IgYXMgQ2xhc3NFbGVtZW50KTtcbn1cblxuLyoqXG4gKiBBIHByb3BlcnR5IGRlY29yYXRvciB0aGF0IGNvbnZlcnRzIGEgY2xhc3MgcHJvcGVydHkgaW50byBhIGdldHRlciB0aGF0XG4gKiBleGVjdXRlcyBhIHF1ZXJ5U2VsZWN0b3Igb24gdGhlIGVsZW1lbnQncyByZW5kZXJSb290LlxuICpcbiAqIEBFeHBvcnREZWNvcmF0ZWRJdGVtc1xuICovXG5leHBvcnQgZnVuY3Rpb24gcXVlcnkoc2VsZWN0b3I6IHN0cmluZykge1xuICByZXR1cm4gKHByb3RvT3JEZXNjcmlwdG9yOiBPYmplY3R8Q2xhc3NFbGVtZW50LFxuICAgICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby1hbnkgZGVjb3JhdG9yXG4gICAgICAgICAgbmFtZT86IFByb3BlcnR5S2V5KTogYW55ID0+IHtcbiAgICBjb25zdCBkZXNjcmlwdG9yID0ge1xuICAgICAgZ2V0KHRoaXM6IExpdEVsZW1lbnQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVuZGVyUm9vdC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKTtcbiAgICAgIH0sXG4gICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgIH07XG4gICAgcmV0dXJuIChuYW1lICE9PSB1bmRlZmluZWQpID9cbiAgICAgICAgbGVnYWN5UXVlcnkoZGVzY3JpcHRvciwgcHJvdG9PckRlc2NyaXB0b3IgYXMgT2JqZWN0LCBuYW1lKSA6XG4gICAgICAgIHN0YW5kYXJkUXVlcnkoZGVzY3JpcHRvciwgcHJvdG9PckRlc2NyaXB0b3IgYXMgQ2xhc3NFbGVtZW50KTtcbiAgfTtcbn1cblxuLyoqXG4gKiBBIHByb3BlcnR5IGRlY29yYXRvciB0aGF0IGNvbnZlcnRzIGEgY2xhc3MgcHJvcGVydHkgaW50byBhIGdldHRlclxuICogdGhhdCBleGVjdXRlcyBhIHF1ZXJ5U2VsZWN0b3JBbGwgb24gdGhlIGVsZW1lbnQncyByZW5kZXJSb290LlxuICpcbiAqIEBFeHBvcnREZWNvcmF0ZWRJdGVtc1xuICovXG5leHBvcnQgZnVuY3Rpb24gcXVlcnlBbGwoc2VsZWN0b3I6IHN0cmluZykge1xuICByZXR1cm4gKHByb3RvT3JEZXNjcmlwdG9yOiBPYmplY3R8Q2xhc3NFbGVtZW50LFxuICAgICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby1hbnkgZGVjb3JhdG9yXG4gICAgICAgICAgbmFtZT86IFByb3BlcnR5S2V5KTogYW55ID0+IHtcbiAgICBjb25zdCBkZXNjcmlwdG9yID0ge1xuICAgICAgZ2V0KHRoaXM6IExpdEVsZW1lbnQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVuZGVyUm9vdC5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKTtcbiAgICAgIH0sXG4gICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgIH07XG4gICAgcmV0dXJuIChuYW1lICE9PSB1bmRlZmluZWQpID9cbiAgICAgICAgbGVnYWN5UXVlcnkoZGVzY3JpcHRvciwgcHJvdG9PckRlc2NyaXB0b3IgYXMgT2JqZWN0LCBuYW1lKSA6XG4gICAgICAgIHN0YW5kYXJkUXVlcnkoZGVzY3JpcHRvciwgcHJvdG9PckRlc2NyaXB0b3IgYXMgQ2xhc3NFbGVtZW50KTtcbiAgfTtcbn1cblxuY29uc3QgbGVnYWN5UXVlcnkgPVxuICAgIChkZXNjcmlwdG9yOiBQcm9wZXJ0eURlc2NyaXB0b3IsIHByb3RvOiBPYmplY3QsIG5hbWU6IFByb3BlcnR5S2V5KSA9PiB7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocHJvdG8sIG5hbWUsIGRlc2NyaXB0b3IpO1xuICAgIH07XG5cbmNvbnN0IHN0YW5kYXJkUXVlcnkgPSAoZGVzY3JpcHRvcjogUHJvcGVydHlEZXNjcmlwdG9yLCBlbGVtZW50OiBDbGFzc0VsZW1lbnQpID0+XG4gICAgKHtcbiAgICAgIGtpbmQ6ICdtZXRob2QnLFxuICAgICAgcGxhY2VtZW50OiAncHJvdG90eXBlJyxcbiAgICAgIGtleTogZWxlbWVudC5rZXksXG4gICAgICBkZXNjcmlwdG9yLFxuICAgIH0pO1xuXG5jb25zdCBzdGFuZGFyZEV2ZW50T3B0aW9ucyA9XG4gICAgKG9wdGlvbnM6IEFkZEV2ZW50TGlzdGVuZXJPcHRpb25zLCBlbGVtZW50OiBDbGFzc0VsZW1lbnQpID0+IHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLmVsZW1lbnQsXG4gICAgICAgIGZpbmlzaGVyKGNsYXp6OiB0eXBlb2YgVXBkYXRpbmdFbGVtZW50KSB7XG4gICAgICAgICAgT2JqZWN0LmFzc2lnbihcbiAgICAgICAgICAgICAgY2xhenoucHJvdG90eXBlW2VsZW1lbnQua2V5IGFzIGtleW9mIFVwZGF0aW5nRWxlbWVudF0sIG9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH07XG5cbmNvbnN0IGxlZ2FjeUV2ZW50T3B0aW9ucyA9XG4gICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLWFueSBsZWdhY3kgZGVjb3JhdG9yXG4gICAgKG9wdGlvbnM6IEFkZEV2ZW50TGlzdGVuZXJPcHRpb25zLCBwcm90bzogYW55LCBuYW1lOiBQcm9wZXJ0eUtleSkgPT4ge1xuICAgICAgT2JqZWN0LmFzc2lnbihwcm90b1tuYW1lXSwgb3B0aW9ucyk7XG4gICAgfTtcblxuLyoqXG4gKiBBZGRzIGV2ZW50IGxpc3RlbmVyIG9wdGlvbnMgdG8gYSBtZXRob2QgdXNlZCBhcyBhbiBldmVudCBsaXN0ZW5lciBpbiBhXG4gKiBsaXQtaHRtbCB0ZW1wbGF0ZS5cbiAqXG4gKiBAcGFyYW0gb3B0aW9ucyBBbiBvYmplY3QgdGhhdCBzcGVjaWZpcyBldmVudCBsaXN0ZW5lciBvcHRpb25zIGFzIGFjY2VwdGVkIGJ5XG4gKiBgRXZlbnRUYXJnZXQjYWRkRXZlbnRMaXN0ZW5lcmAgYW5kIGBFdmVudFRhcmdldCNyZW1vdmVFdmVudExpc3RlbmVyYC5cbiAqXG4gKiBDdXJyZW50IGJyb3dzZXJzIHN1cHBvcnQgdGhlIGBjYXB0dXJlYCwgYHBhc3NpdmVgLCBhbmQgYG9uY2VgIG9wdGlvbnMuIFNlZTpcbiAqIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9FdmVudFRhcmdldC9hZGRFdmVudExpc3RlbmVyI1BhcmFtZXRlcnNcbiAqXG4gKiBAZXhhbXBsZVxuICpcbiAqICAgICBjbGFzcyBNeUVsZW1lbnQge1xuICpcbiAqICAgICAgIGNsaWNrZWQgPSBmYWxzZTtcbiAqXG4gKiAgICAgICByZW5kZXIoKSB7XG4gKiAgICAgICAgIHJldHVybiBodG1sYDxkaXYgQGNsaWNrPSR7dGhpcy5fb25DbGlja31gPjxidXR0b24+PC9idXR0b24+PC9kaXY+YDtcbiAqICAgICAgIH1cbiAqXG4gKiAgICAgICBAZXZlbnRPcHRpb25zKHtjYXB0dXJlOiB0cnVlfSlcbiAqICAgICAgIF9vbkNsaWNrKGUpIHtcbiAqICAgICAgICAgdGhpcy5jbGlja2VkID0gdHJ1ZTtcbiAqICAgICAgIH1cbiAqICAgICB9XG4gKi9cbmV4cG9ydCBjb25zdCBldmVudE9wdGlvbnMgPSAob3B0aW9uczogQWRkRXZlbnRMaXN0ZW5lck9wdGlvbnMpID0+XG4gICAgLy8gUmV0dXJuIHZhbHVlIHR5cGVkIGFzIGFueSB0byBwcmV2ZW50IFR5cGVTY3JpcHQgZnJvbSBjb21wbGFpbmluZyB0aGF0XG4gICAgLy8gc3RhbmRhcmQgZGVjb3JhdG9yIGZ1bmN0aW9uIHNpZ25hdHVyZSBkb2VzIG5vdCBtYXRjaCBUeXBlU2NyaXB0IGRlY29yYXRvclxuICAgIC8vIHNpZ25hdHVyZVxuICAgIC8vIFRPRE8oa3NjaGFhZik6IHVuY2xlYXIgd2h5IGl0IHdhcyBvbmx5IGZhaWxpbmcgb24gdGhpcyBkZWNvcmF0b3IgYW5kIG5vdFxuICAgIC8vIHRoZSBvdGhlcnNcbiAgICAoKHByb3RvT3JEZXNjcmlwdG9yOiBPYmplY3R8Q2xhc3NFbGVtZW50LCBuYW1lPzogc3RyaW5nKSA9PlxuICAgICAgICAgKG5hbWUgIT09IHVuZGVmaW5lZCkgP1xuICAgICAgICAgbGVnYWN5RXZlbnRPcHRpb25zKG9wdGlvbnMsIHByb3RvT3JEZXNjcmlwdG9yIGFzIE9iamVjdCwgbmFtZSkgOlxuICAgICAgICAgc3RhbmRhcmRFdmVudE9wdGlvbnMob3B0aW9ucywgcHJvdG9PckRlc2NyaXB0b3IgYXMgQ2xhc3NFbGVtZW50KSkgYXNcbiAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLWFueSBkZWNvcmF0b3JcbiAgICAgICAgYW55O1xuIiwiLyoqXG5AbGljZW5zZVxuQ29weXJpZ2h0IChjKSAyMDE5IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cblRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdFxuaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0IFRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXRcbmh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dCBUaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmVcbmZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0IENvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzXG5wYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzbyBzdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50XG5mb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiovXG5cbmV4cG9ydCBjb25zdCBzdXBwb3J0c0Fkb3B0aW5nU3R5bGVTaGVldHMgPVxuICAgICgnYWRvcHRlZFN0eWxlU2hlZXRzJyBpbiBEb2N1bWVudC5wcm90b3R5cGUpICYmXG4gICAgKCdyZXBsYWNlJyBpbiBDU1NTdHlsZVNoZWV0LnByb3RvdHlwZSk7XG5cbmNvbnN0IGNvbnN0cnVjdGlvblRva2VuID0gU3ltYm9sKCk7XG5cbmV4cG9ydCBjbGFzcyBDU1NSZXN1bHQge1xuICBfc3R5bGVTaGVldD86IENTU1N0eWxlU2hlZXR8bnVsbDtcblxuICByZWFkb25seSBjc3NUZXh0OiBzdHJpbmc7XG5cbiAgY29uc3RydWN0b3IoY3NzVGV4dDogc3RyaW5nLCBzYWZlVG9rZW46IHN5bWJvbCkge1xuICAgIGlmIChzYWZlVG9rZW4gIT09IGNvbnN0cnVjdGlvblRva2VuKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgJ0NTU1Jlc3VsdCBpcyBub3QgY29uc3RydWN0YWJsZS4gVXNlIGB1bnNhZmVDU1NgIG9yIGBjc3NgIGluc3RlYWQuJyk7XG4gICAgfVxuICAgIHRoaXMuY3NzVGV4dCA9IGNzc1RleHQ7XG4gIH1cblxuICAvLyBOb3RlLCB0aGlzIGlzIGEgZ2V0dGVyIHNvIHRoYXQgaXQncyBsYXp5LiBJbiBwcmFjdGljZSwgdGhpcyBtZWFuc1xuICAvLyBzdHlsZXNoZWV0cyBhcmUgbm90IGNyZWF0ZWQgdW50aWwgdGhlIGZpcnN0IGVsZW1lbnQgaW5zdGFuY2UgaXMgbWFkZS5cbiAgZ2V0IHN0eWxlU2hlZXQoKTogQ1NTU3R5bGVTaGVldHxudWxsIHtcbiAgICBpZiAodGhpcy5fc3R5bGVTaGVldCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAvLyBOb3RlLCBpZiBgYWRvcHRlZFN0eWxlU2hlZXRzYCBpcyBzdXBwb3J0ZWQgdGhlbiB3ZSBhc3N1bWUgQ1NTU3R5bGVTaGVldFxuICAgICAgLy8gaXMgY29uc3RydWN0YWJsZS5cbiAgICAgIGlmIChzdXBwb3J0c0Fkb3B0aW5nU3R5bGVTaGVldHMpIHtcbiAgICAgICAgdGhpcy5fc3R5bGVTaGVldCA9IG5ldyBDU1NTdHlsZVNoZWV0KCk7XG4gICAgICAgIHRoaXMuX3N0eWxlU2hlZXQucmVwbGFjZVN5bmModGhpcy5jc3NUZXh0KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuX3N0eWxlU2hlZXQgPSBudWxsO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdGhpcy5fc3R5bGVTaGVldDtcbiAgfVxuXG4gIHRvU3RyaW5nKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMuY3NzVGV4dDtcbiAgfVxufVxuXG4vKipcbiAqIFdyYXAgYSB2YWx1ZSBmb3IgaW50ZXJwb2xhdGlvbiBpbiBhIGNzcyB0YWdnZWQgdGVtcGxhdGUgbGl0ZXJhbC5cbiAqXG4gKiBUaGlzIGlzIHVuc2FmZSBiZWNhdXNlIHVudHJ1c3RlZCBDU1MgdGV4dCBjYW4gYmUgdXNlZCB0byBwaG9uZSBob21lXG4gKiBvciBleGZpbHRyYXRlIGRhdGEgdG8gYW4gYXR0YWNrZXIgY29udHJvbGxlZCBzaXRlLiBUYWtlIGNhcmUgdG8gb25seSB1c2VcbiAqIHRoaXMgd2l0aCB0cnVzdGVkIGlucHV0LlxuICovXG5leHBvcnQgY29uc3QgdW5zYWZlQ1NTID0gKHZhbHVlOiB1bmtub3duKSA9PiB7XG4gIHJldHVybiBuZXcgQ1NTUmVzdWx0KFN0cmluZyh2YWx1ZSksIGNvbnN0cnVjdGlvblRva2VuKTtcbn07XG5cbmNvbnN0IHRleHRGcm9tQ1NTUmVzdWx0ID0gKHZhbHVlOiBDU1NSZXN1bHQpID0+IHtcbiAgaWYgKHZhbHVlIGluc3RhbmNlb2YgQ1NTUmVzdWx0KSB7XG4gICAgcmV0dXJuIHZhbHVlLmNzc1RleHQ7XG4gIH0gZWxzZSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBgVmFsdWUgcGFzc2VkIHRvICdjc3MnIGZ1bmN0aW9uIG11c3QgYmUgYSAnY3NzJyBmdW5jdGlvbiByZXN1bHQ6ICR7XG4gICAgICAgICAgICB2YWx1ZX0uIFVzZSAndW5zYWZlQ1NTJyB0byBwYXNzIG5vbi1saXRlcmFsIHZhbHVlcywgYnV0XG4gICAgICAgICAgICB0YWtlIGNhcmUgdG8gZW5zdXJlIHBhZ2Ugc2VjdXJpdHkuYCk7XG4gIH1cbn07XG5cbi8qKlxuICogVGVtcGxhdGUgdGFnIHdoaWNoIHdoaWNoIGNhbiBiZSB1c2VkIHdpdGggTGl0RWxlbWVudCdzIGBzdHlsZWAgcHJvcGVydHkgdG9cbiAqIHNldCBlbGVtZW50IHN0eWxlcy4gRm9yIHNlY3VyaXR5IHJlYXNvbnMsIG9ubHkgbGl0ZXJhbCBzdHJpbmcgdmFsdWVzIG1heSBiZVxuICogdXNlZC4gVG8gaW5jb3Jwb3JhdGUgbm9uLWxpdGVyYWwgdmFsdWVzIGB1bnNhZmVDU1NgIG1heSBiZSB1c2VkIGluc2lkZSBhXG4gKiB0ZW1wbGF0ZSBzdHJpbmcgcGFydC5cbiAqL1xuZXhwb3J0IGNvbnN0IGNzcyA9IChzdHJpbmdzOiBUZW1wbGF0ZVN0cmluZ3NBcnJheSwgLi4udmFsdWVzOiBDU1NSZXN1bHRbXSkgPT4ge1xuICBjb25zdCBjc3NUZXh0ID0gdmFsdWVzLnJlZHVjZShcbiAgICAgIChhY2MsIHYsIGlkeCkgPT4gYWNjICsgdGV4dEZyb21DU1NSZXN1bHQodikgKyBzdHJpbmdzW2lkeCArIDFdLFxuICAgICAgc3RyaW5nc1swXSk7XG4gIHJldHVybiBuZXcgQ1NTUmVzdWx0KGNzc1RleHQsIGNvbnN0cnVjdGlvblRva2VuKTtcbn07XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTcgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuICogQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbiAqIHN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuICovXG5pbXBvcnQge1RlbXBsYXRlUmVzdWx0fSBmcm9tICdsaXQtaHRtbCc7XG5pbXBvcnQge3JlbmRlcn0gZnJvbSAnbGl0LWh0bWwvbGliL3NoYWR5LXJlbmRlci5qcyc7XG5cbmltcG9ydCB7UHJvcGVydHlWYWx1ZXMsIFVwZGF0aW5nRWxlbWVudH0gZnJvbSAnLi9saWIvdXBkYXRpbmctZWxlbWVudC5qcyc7XG5cbmV4cG9ydCAqIGZyb20gJy4vbGliL3VwZGF0aW5nLWVsZW1lbnQuanMnO1xuZXhwb3J0ICogZnJvbSAnLi9saWIvZGVjb3JhdG9ycy5qcyc7XG5leHBvcnQge2h0bWwsIHN2ZywgVGVtcGxhdGVSZXN1bHQsIFNWR1RlbXBsYXRlUmVzdWx0fSBmcm9tICdsaXQtaHRtbC9saXQtaHRtbC5qcyc7XG5pbXBvcnQge3N1cHBvcnRzQWRvcHRpbmdTdHlsZVNoZWV0cywgQ1NTUmVzdWx0fSBmcm9tICcuL2xpYi9jc3MtdGFnLmpzJztcbmV4cG9ydCAqIGZyb20gJy4vbGliL2Nzcy10YWcuanMnO1xuXG5kZWNsYXJlIGdsb2JhbCB7XG4gIGludGVyZmFjZSBXaW5kb3cge1xuICAgIGxpdEVsZW1lbnRWZXJzaW9uczogc3RyaW5nW107XG4gIH1cbn1cblxuLy8gSU1QT1JUQU5UOiBkbyBub3QgY2hhbmdlIHRoZSBwcm9wZXJ0eSBuYW1lIG9yIHRoZSBhc3NpZ25tZW50IGV4cHJlc3Npb24uXG4vLyBUaGlzIGxpbmUgd2lsbCBiZSB1c2VkIGluIHJlZ2V4ZXMgdG8gc2VhcmNoIGZvciBMaXRFbGVtZW50IHVzYWdlLlxuLy8gVE9ETyhqdXN0aW5mYWduYW5pKTogaW5qZWN0IHZlcnNpb24gbnVtYmVyIGF0IGJ1aWxkIHRpbWVcbih3aW5kb3dbJ2xpdEVsZW1lbnRWZXJzaW9ucyddIHx8ICh3aW5kb3dbJ2xpdEVsZW1lbnRWZXJzaW9ucyddID0gW10pKVxuICAgIC5wdXNoKCcyLjAuMScpO1xuXG5leHBvcnQgaW50ZXJmYWNlIENTU1Jlc3VsdEFycmF5IGV4dGVuZHMgQXJyYXk8Q1NTUmVzdWx0fENTU1Jlc3VsdEFycmF5PiB7fVxuXG4vKipcbiAqIE1pbmltYWwgaW1wbGVtZW50YXRpb24gb2YgQXJyYXkucHJvdG90eXBlLmZsYXRcbiAqIEBwYXJhbSBhcnIgdGhlIGFycmF5IHRvIGZsYXR0ZW5cbiAqIEBwYXJhbSByZXN1bHQgdGhlIGFjY3VtbGF0ZWQgcmVzdWx0XG4gKi9cbmZ1bmN0aW9uIGFycmF5RmxhdChcbiAgICBzdHlsZXM6IENTU1Jlc3VsdEFycmF5LCByZXN1bHQ6IENTU1Jlc3VsdFtdID0gW10pOiBDU1NSZXN1bHRbXSB7XG4gIGZvciAobGV0IGkgPSAwLCBsZW5ndGggPSBzdHlsZXMubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCB2YWx1ZSA9IHN0eWxlc1tpXTtcbiAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgIGFycmF5RmxhdCh2YWx1ZSwgcmVzdWx0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzdWx0LnB1c2godmFsdWUpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKiogRGVlcGx5IGZsYXR0ZW5zIHN0eWxlcyBhcnJheS4gVXNlcyBuYXRpdmUgZmxhdCBpZiBhdmFpbGFibGUuICovXG5jb25zdCBmbGF0dGVuU3R5bGVzID0gKHN0eWxlczogQ1NTUmVzdWx0QXJyYXkpOiBDU1NSZXN1bHRbXSA9PlxuICAgIHN0eWxlcy5mbGF0ID8gc3R5bGVzLmZsYXQoSW5maW5pdHkpIDogYXJyYXlGbGF0KHN0eWxlcyk7XG5cbmV4cG9ydCBjbGFzcyBMaXRFbGVtZW50IGV4dGVuZHMgVXBkYXRpbmdFbGVtZW50IHtcbiAgLyoqXG4gICAqIEVuc3VyZSB0aGlzIGNsYXNzIGlzIG1hcmtlZCBhcyBgZmluYWxpemVkYCBhcyBhbiBvcHRpbWl6YXRpb24gZW5zdXJpbmdcbiAgICogaXQgd2lsbCBub3QgbmVlZGxlc3NseSB0cnkgdG8gYGZpbmFsaXplYC5cbiAgICovXG4gIHByb3RlY3RlZCBzdGF0aWMgZmluYWxpemVkID0gdHJ1ZTtcblxuICAvKipcbiAgICogUmVuZGVyIG1ldGhvZCB1c2VkIHRvIHJlbmRlciB0aGUgbGl0LWh0bWwgVGVtcGxhdGVSZXN1bHQgdG8gdGhlIGVsZW1lbnQnc1xuICAgKiBET00uXG4gICAqIEBwYXJhbSB7VGVtcGxhdGVSZXN1bHR9IFRlbXBsYXRlIHRvIHJlbmRlci5cbiAgICogQHBhcmFtIHtFbGVtZW50fERvY3VtZW50RnJhZ21lbnR9IE5vZGUgaW50byB3aGljaCB0byByZW5kZXIuXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBFbGVtZW50IG5hbWUuXG4gICAqIEBub2NvbGxhcHNlXG4gICAqL1xuICBzdGF0aWMgcmVuZGVyID0gcmVuZGVyO1xuXG4gIC8qKlxuICAgKiBBcnJheSBvZiBzdHlsZXMgdG8gYXBwbHkgdG8gdGhlIGVsZW1lbnQuIFRoZSBzdHlsZXMgc2hvdWxkIGJlIGRlZmluZWRcbiAgICogdXNpbmcgdGhlIGBjc3NgIHRhZyBmdW5jdGlvbi5cbiAgICovXG4gIHN0YXRpYyBzdHlsZXM/OiBDU1NSZXN1bHR8Q1NTUmVzdWx0QXJyYXk7XG5cbiAgcHJpdmF0ZSBzdGF0aWMgX3N0eWxlczogQ1NTUmVzdWx0W118dW5kZWZpbmVkO1xuXG4gIC8qKiBAbm9jb2xsYXBzZSAqL1xuICBwcm90ZWN0ZWQgc3RhdGljIGZpbmFsaXplKCkge1xuICAgIHN1cGVyLmZpbmFsaXplKCk7XG4gICAgLy8gUHJlcGFyZSBzdHlsaW5nIHRoYXQgaXMgc3RhbXBlZCBhdCBmaXJzdCByZW5kZXIgdGltZS4gU3R5bGluZ1xuICAgIC8vIGlzIGJ1aWx0IGZyb20gdXNlciBwcm92aWRlZCBgc3R5bGVzYCBvciBpcyBpbmhlcml0ZWQgZnJvbSB0aGUgc3VwZXJjbGFzcy5cbiAgICB0aGlzLl9zdHlsZXMgPVxuICAgICAgICB0aGlzLmhhc093blByb3BlcnR5KEpTQ29tcGlsZXJfcmVuYW1lUHJvcGVydHkoJ3N0eWxlcycsIHRoaXMpKSA/XG4gICAgICAgIHRoaXMuX2dldFVuaXF1ZVN0eWxlcygpIDpcbiAgICAgICAgdGhpcy5fc3R5bGVzIHx8IFtdO1xuICB9XG5cbiAgLyoqIEBub2NvbGxhcHNlICovXG4gIHByaXZhdGUgc3RhdGljIF9nZXRVbmlxdWVTdHlsZXMoKTogQ1NTUmVzdWx0W10ge1xuICAgIC8vIFRha2UgY2FyZSBub3QgdG8gY2FsbCBgdGhpcy5zdHlsZXNgIG11bHRpcGxlIHRpbWVzIHNpbmNlIHRoaXMgZ2VuZXJhdGVzXG4gICAgLy8gbmV3IENTU1Jlc3VsdHMgZWFjaCB0aW1lLlxuICAgIC8vIFRPRE8oc29ydmVsbCk6IFNpbmNlIHdlIGRvIG5vdCBjYWNoZSBDU1NSZXN1bHRzIGJ5IGlucHV0LCBhbnlcbiAgICAvLyBzaGFyZWQgc3R5bGVzIHdpbGwgZ2VuZXJhdGUgbmV3IHN0eWxlc2hlZXQgb2JqZWN0cywgd2hpY2ggaXMgd2FzdGVmdWwuXG4gICAgLy8gVGhpcyBzaG91bGQgYmUgYWRkcmVzc2VkIHdoZW4gYSBicm93c2VyIHNoaXBzIGNvbnN0cnVjdGFibGVcbiAgICAvLyBzdHlsZXNoZWV0cy5cbiAgICBjb25zdCB1c2VyU3R5bGVzID0gdGhpcy5zdHlsZXM7XG4gICAgY29uc3Qgc3R5bGVzOiBDU1NSZXN1bHRbXSA9IFtdO1xuICAgIGlmIChBcnJheS5pc0FycmF5KHVzZXJTdHlsZXMpKSB7XG4gICAgICBjb25zdCBmbGF0U3R5bGVzID0gZmxhdHRlblN0eWxlcyh1c2VyU3R5bGVzKTtcbiAgICAgIC8vIEFzIGEgcGVyZm9ybWFuY2Ugb3B0aW1pemF0aW9uIHRvIGF2b2lkIGR1cGxpY2F0ZWQgc3R5bGluZyB0aGF0IGNhblxuICAgICAgLy8gb2NjdXIgZXNwZWNpYWxseSB3aGVuIGNvbXBvc2luZyB2aWEgc3ViY2xhc3NpbmcsIGRlLWR1cGxpY2F0ZSBzdHlsZXNcbiAgICAgIC8vIHByZXNlcnZpbmcgdGhlIGxhc3QgaXRlbSBpbiB0aGUgbGlzdC4gVGhlIGxhc3QgaXRlbSBpcyBrZXB0IHRvXG4gICAgICAvLyB0cnkgdG8gcHJlc2VydmUgY2FzY2FkZSBvcmRlciB3aXRoIHRoZSBhc3N1bXB0aW9uIHRoYXQgaXQncyBtb3N0XG4gICAgICAvLyBpbXBvcnRhbnQgdGhhdCBsYXN0IGFkZGVkIHN0eWxlcyBvdmVycmlkZSBwcmV2aW91cyBzdHlsZXMuXG4gICAgICBjb25zdCBzdHlsZVNldCA9IGZsYXRTdHlsZXMucmVkdWNlUmlnaHQoKHNldCwgcykgPT4ge1xuICAgICAgICBzZXQuYWRkKHMpO1xuICAgICAgICAvLyBvbiBJRSBzZXQuYWRkIGRvZXMgbm90IHJldHVybiB0aGUgc2V0LlxuICAgICAgICByZXR1cm4gc2V0O1xuICAgICAgfSwgbmV3IFNldDxDU1NSZXN1bHQ+KCkpO1xuICAgICAgLy8gQXJyYXkuZnJvbSBkb2VzIG5vdCB3b3JrIG9uIFNldCBpbiBJRVxuICAgICAgc3R5bGVTZXQuZm9yRWFjaCgodikgPT4gc3R5bGVzLnVuc2hpZnQodikpO1xuICAgIH0gZWxzZSBpZiAodXNlclN0eWxlcykge1xuICAgICAgc3R5bGVzLnB1c2godXNlclN0eWxlcyk7XG4gICAgfVxuICAgIHJldHVybiBzdHlsZXM7XG4gIH1cblxuICBwcml2YXRlIF9uZWVkc1NoaW1BZG9wdGVkU3R5bGVTaGVldHM/OiBib29sZWFuO1xuXG4gIC8qKlxuICAgKiBOb2RlIG9yIFNoYWRvd1Jvb3QgaW50byB3aGljaCBlbGVtZW50IERPTSBzaG91bGQgYmUgcmVuZGVyZWQuIERlZmF1bHRzXG4gICAqIHRvIGFuIG9wZW4gc2hhZG93Um9vdC5cbiAgICovXG4gIHJlYWRvbmx5IHJlbmRlclJvb3QhOiBFbGVtZW50fERvY3VtZW50RnJhZ21lbnQ7XG5cbiAgLyoqXG4gICAqIFBlcmZvcm1zIGVsZW1lbnQgaW5pdGlhbGl6YXRpb24uIEJ5IGRlZmF1bHQgdGhpcyBjYWxscyBgY3JlYXRlUmVuZGVyUm9vdGBcbiAgICogdG8gY3JlYXRlIHRoZSBlbGVtZW50IGByZW5kZXJSb290YCBub2RlIGFuZCBjYXB0dXJlcyBhbnkgcHJlLXNldCB2YWx1ZXMgZm9yXG4gICAqIHJlZ2lzdGVyZWQgcHJvcGVydGllcy5cbiAgICovXG4gIHByb3RlY3RlZCBpbml0aWFsaXplKCkge1xuICAgIHN1cGVyLmluaXRpYWxpemUoKTtcbiAgICAodGhpcyBhcyB7cmVuZGVyUm9vdDogRWxlbWVudCB8IERvY3VtZW50RnJhZ21lbnR9KS5yZW5kZXJSb290ID1cbiAgICAgICAgdGhpcy5jcmVhdGVSZW5kZXJSb290KCk7XG4gICAgLy8gTm90ZSwgaWYgcmVuZGVyUm9vdCBpcyBub3QgYSBzaGFkb3dSb290LCBzdHlsZXMgd291bGQvY291bGQgYXBwbHkgdG8gdGhlXG4gICAgLy8gZWxlbWVudCdzIGdldFJvb3ROb2RlKCkuIFdoaWxlIHRoaXMgY291bGQgYmUgZG9uZSwgd2UncmUgY2hvb3Npbmcgbm90IHRvXG4gICAgLy8gc3VwcG9ydCB0aGlzIG5vdyBzaW5jZSBpdCB3b3VsZCByZXF1aXJlIGRpZmZlcmVudCBsb2dpYyBhcm91bmQgZGUtZHVwaW5nLlxuICAgIGlmICh3aW5kb3cuU2hhZG93Um9vdCAmJiB0aGlzLnJlbmRlclJvb3QgaW5zdGFuY2VvZiB3aW5kb3cuU2hhZG93Um9vdCkge1xuICAgICAgdGhpcy5hZG9wdFN0eWxlcygpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBub2RlIGludG8gd2hpY2ggdGhlIGVsZW1lbnQgc2hvdWxkIHJlbmRlciBhbmQgYnkgZGVmYXVsdFxuICAgKiBjcmVhdGVzIGFuZCByZXR1cm5zIGFuIG9wZW4gc2hhZG93Um9vdC4gSW1wbGVtZW50IHRvIGN1c3RvbWl6ZSB3aGVyZSB0aGVcbiAgICogZWxlbWVudCdzIERPTSBpcyByZW5kZXJlZC4gRm9yIGV4YW1wbGUsIHRvIHJlbmRlciBpbnRvIHRoZSBlbGVtZW50J3NcbiAgICogY2hpbGROb2RlcywgcmV0dXJuIGB0aGlzYC5cbiAgICogQHJldHVybnMge0VsZW1lbnR8RG9jdW1lbnRGcmFnbWVudH0gUmV0dXJucyBhIG5vZGUgaW50byB3aGljaCB0byByZW5kZXIuXG4gICAqL1xuICBwcm90ZWN0ZWQgY3JlYXRlUmVuZGVyUm9vdCgpOiBFbGVtZW50fFNoYWRvd1Jvb3Qge1xuICAgIHJldHVybiB0aGlzLmF0dGFjaFNoYWRvdyh7bW9kZTogJ29wZW4nfSk7XG4gIH1cblxuICAvKipcbiAgICogQXBwbGllcyBzdHlsaW5nIHRvIHRoZSBlbGVtZW50IHNoYWRvd1Jvb3QgdXNpbmcgdGhlIGBzdGF0aWMgZ2V0IHN0eWxlc2BcbiAgICogcHJvcGVydHkuIFN0eWxpbmcgd2lsbCBhcHBseSB1c2luZyBgc2hhZG93Um9vdC5hZG9wdGVkU3R5bGVTaGVldHNgIHdoZXJlXG4gICAqIGF2YWlsYWJsZSBhbmQgd2lsbCBmYWxsYmFjayBvdGhlcndpc2UuIFdoZW4gU2hhZG93IERPTSBpcyBwb2x5ZmlsbGVkLFxuICAgKiBTaGFkeUNTUyBzY29wZXMgc3R5bGVzIGFuZCBhZGRzIHRoZW0gdG8gdGhlIGRvY3VtZW50LiBXaGVuIFNoYWRvdyBET01cbiAgICogaXMgYXZhaWxhYmxlIGJ1dCBgYWRvcHRlZFN0eWxlU2hlZXRzYCBpcyBub3QsIHN0eWxlcyBhcmUgYXBwZW5kZWQgdG8gdGhlXG4gICAqIGVuZCBvZiB0aGUgYHNoYWRvd1Jvb3RgIHRvIFttaW1pYyBzcGVjXG4gICAqIGJlaGF2aW9yXShodHRwczovL3dpY2cuZ2l0aHViLmlvL2NvbnN0cnVjdC1zdHlsZXNoZWV0cy8jdXNpbmctY29uc3RydWN0ZWQtc3R5bGVzaGVldHMpLlxuICAgKi9cbiAgcHJvdGVjdGVkIGFkb3B0U3R5bGVzKCkge1xuICAgIGNvbnN0IHN0eWxlcyA9ICh0aGlzLmNvbnN0cnVjdG9yIGFzIHR5cGVvZiBMaXRFbGVtZW50KS5fc3R5bGVzITtcbiAgICBpZiAoc3R5bGVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvLyBUaGVyZSBhcmUgdGhyZWUgc2VwYXJhdGUgY2FzZXMgaGVyZSBiYXNlZCBvbiBTaGFkb3cgRE9NIHN1cHBvcnQuXG4gICAgLy8gKDEpIHNoYWRvd1Jvb3QgcG9seWZpbGxlZDogdXNlIFNoYWR5Q1NTXG4gICAgLy8gKDIpIHNoYWRvd1Jvb3QuYWRvcHRlZFN0eWxlU2hlZXRzIGF2YWlsYWJsZTogdXNlIGl0LlxuICAgIC8vICgzKSBzaGFkb3dSb290LmFkb3B0ZWRTdHlsZVNoZWV0cyBwb2x5ZmlsbGVkOiBhcHBlbmQgc3R5bGVzIGFmdGVyXG4gICAgLy8gcmVuZGVyaW5nXG4gICAgaWYgKHdpbmRvdy5TaGFkeUNTUyAhPT0gdW5kZWZpbmVkICYmICF3aW5kb3cuU2hhZHlDU1MubmF0aXZlU2hhZG93KSB7XG4gICAgICB3aW5kb3cuU2hhZHlDU1MuU2NvcGluZ1NoaW0ucHJlcGFyZUFkb3B0ZWRDc3NUZXh0KFxuICAgICAgICAgIHN0eWxlcy5tYXAoKHMpID0+IHMuY3NzVGV4dCksIHRoaXMubG9jYWxOYW1lKTtcbiAgICB9IGVsc2UgaWYgKHN1cHBvcnRzQWRvcHRpbmdTdHlsZVNoZWV0cykge1xuICAgICAgKHRoaXMucmVuZGVyUm9vdCBhcyBTaGFkb3dSb290KS5hZG9wdGVkU3R5bGVTaGVldHMgPVxuICAgICAgICAgIHN0eWxlcy5tYXAoKHMpID0+IHMuc3R5bGVTaGVldCEpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBUaGlzIG11c3QgYmUgZG9uZSBhZnRlciByZW5kZXJpbmcgc28gdGhlIGFjdHVhbCBzdHlsZSBpbnNlcnRpb24gaXMgZG9uZVxuICAgICAgLy8gaW4gYHVwZGF0ZWAuXG4gICAgICB0aGlzLl9uZWVkc1NoaW1BZG9wdGVkU3R5bGVTaGVldHMgPSB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIGNvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgIHN1cGVyLmNvbm5lY3RlZENhbGxiYWNrKCk7XG4gICAgLy8gTm90ZSwgZmlyc3QgdXBkYXRlL3JlbmRlciBoYW5kbGVzIHN0eWxlRWxlbWVudCBzbyB3ZSBvbmx5IGNhbGwgdGhpcyBpZlxuICAgIC8vIGNvbm5lY3RlZCBhZnRlciBmaXJzdCB1cGRhdGUuXG4gICAgaWYgKHRoaXMuaGFzVXBkYXRlZCAmJiB3aW5kb3cuU2hhZHlDU1MgIT09IHVuZGVmaW5lZCkge1xuICAgICAgd2luZG93LlNoYWR5Q1NTLnN0eWxlRWxlbWVudCh0aGlzKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlcyB0aGUgZWxlbWVudC4gVGhpcyBtZXRob2QgcmVmbGVjdHMgcHJvcGVydHkgdmFsdWVzIHRvIGF0dHJpYnV0ZXNcbiAgICogYW5kIGNhbGxzIGByZW5kZXJgIHRvIHJlbmRlciBET00gdmlhIGxpdC1odG1sLiBTZXR0aW5nIHByb3BlcnRpZXMgaW5zaWRlXG4gICAqIHRoaXMgbWV0aG9kIHdpbGwgKm5vdCogdHJpZ2dlciBhbm90aGVyIHVwZGF0ZS5cbiAgICogKiBAcGFyYW0gX2NoYW5nZWRQcm9wZXJ0aWVzIE1hcCBvZiBjaGFuZ2VkIHByb3BlcnRpZXMgd2l0aCBvbGQgdmFsdWVzXG4gICAqL1xuICBwcm90ZWN0ZWQgdXBkYXRlKGNoYW5nZWRQcm9wZXJ0aWVzOiBQcm9wZXJ0eVZhbHVlcykge1xuICAgIHN1cGVyLnVwZGF0ZShjaGFuZ2VkUHJvcGVydGllcyk7XG4gICAgY29uc3QgdGVtcGxhdGVSZXN1bHQgPSB0aGlzLnJlbmRlcigpIGFzIHVua25vd247XG4gICAgaWYgKHRlbXBsYXRlUmVzdWx0IGluc3RhbmNlb2YgVGVtcGxhdGVSZXN1bHQpIHtcbiAgICAgICh0aGlzLmNvbnN0cnVjdG9yIGFzIHR5cGVvZiBMaXRFbGVtZW50KVxuICAgICAgICAgIC5yZW5kZXIoXG4gICAgICAgICAgICAgIHRlbXBsYXRlUmVzdWx0LFxuICAgICAgICAgICAgICB0aGlzLnJlbmRlclJvb3QsXG4gICAgICAgICAgICAgIHtzY29wZU5hbWU6IHRoaXMubG9jYWxOYW1lLCBldmVudENvbnRleHQ6IHRoaXN9KTtcbiAgICB9XG4gICAgLy8gV2hlbiBuYXRpdmUgU2hhZG93IERPTSBpcyB1c2VkIGJ1dCBhZG9wdGVkU3R5bGVzIGFyZSBub3Qgc3VwcG9ydGVkLFxuICAgIC8vIGluc2VydCBzdHlsaW5nIGFmdGVyIHJlbmRlcmluZyB0byBlbnN1cmUgYWRvcHRlZFN0eWxlcyBoYXZlIGhpZ2hlc3RcbiAgICAvLyBwcmlvcml0eS5cbiAgICBpZiAodGhpcy5fbmVlZHNTaGltQWRvcHRlZFN0eWxlU2hlZXRzKSB7XG4gICAgICB0aGlzLl9uZWVkc1NoaW1BZG9wdGVkU3R5bGVTaGVldHMgPSBmYWxzZTtcbiAgICAgICh0aGlzLmNvbnN0cnVjdG9yIGFzIHR5cGVvZiBMaXRFbGVtZW50KS5fc3R5bGVzIS5mb3JFYWNoKChzKSA9PiB7XG4gICAgICAgIGNvbnN0IHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcbiAgICAgICAgc3R5bGUudGV4dENvbnRlbnQgPSBzLmNzc1RleHQ7XG4gICAgICAgIHRoaXMucmVuZGVyUm9vdC5hcHBlbmRDaGlsZChzdHlsZSk7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogSW52b2tlZCBvbiBlYWNoIHVwZGF0ZSB0byBwZXJmb3JtIHJlbmRlcmluZyB0YXNrcy4gVGhpcyBtZXRob2QgbXVzdCByZXR1cm5cbiAgICogYSBsaXQtaHRtbCBUZW1wbGF0ZVJlc3VsdC4gU2V0dGluZyBwcm9wZXJ0aWVzIGluc2lkZSB0aGlzIG1ldGhvZCB3aWxsICpub3QqXG4gICAqIHRyaWdnZXIgdGhlIGVsZW1lbnQgdG8gdXBkYXRlLlxuICAgKi9cbiAgcHJvdGVjdGVkIHJlbmRlcigpOiBUZW1wbGF0ZVJlc3VsdHx2b2lkIHtcbiAgfVxufVxuIiwiaW1wb3J0IGF4aW9zLCB7IEF4aW9zUmVzcG9uc2UsIENhbmNlbFRva2VuLCBBeGlvc1JlcXVlc3RDb25maWcgfSBmcm9tICdheGlvcyc7XG5pbXBvcnQgeyBodG1sLCBUZW1wbGF0ZVJlc3VsdCB9IGZyb20gJ2xpdC1odG1sJztcblxuZXhwb3J0IGludGVyZmFjZSBBc3NldCB7XG4gICAga2V5Pzogc3RyaW5nO1xufVxuXG5pbnRlcmZhY2UgQXNzZXRQYWdlIHtcbiAgICBhc3NldHM6IEFzc2V0W107XG4gICAgbmV4dDogc3RyaW5nO1xufVxuXG4vKiogR2V0IHRoZSB2YWx1ZSBmb3IgYSBuYW1lZCBjb29raWUgKi9cbmV4cG9ydCBjb25zdCBnZXRDb29raWUgPSAobmFtZTogc3RyaW5nKTogc3RyaW5nID0+IHtcbiAgICBmb3IgKGNvbnN0IGNvb2tpZSBvZiBkb2N1bWVudC5jb29raWUuc3BsaXQoJzsnKSkge1xuICAgICAgICBjb25zdCBpZHggPSBjb29raWUuaW5kZXhPZignPScpO1xuICAgICAgICBsZXQga2V5ID0gY29va2llLnN1YnN0cigwLCBpZHgpO1xuICAgICAgICBsZXQgdmFsdWUgPSBjb29raWUuc3Vic3RyKGlkeCArIDEpO1xuXG4gICAgICAgIC8vIG5vIHNwYWNlcyBhbGxvd2VkXG4gICAgICAgIGtleSA9IGtleS50cmltKCk7XG4gICAgICAgIHZhbHVlID0gdmFsdWUudHJpbSgpO1xuXG4gICAgICAgIGlmIChrZXkgPT09IG5hbWUpIHtcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbn07XG5cbmV4cG9ydCB0eXBlIENsYXNzTWFwID0ge1xuICAgIFtjbGFzc05hbWU6IHN0cmluZ106IGJvb2xlYW5cbn07XG5cbmV4cG9ydCBjb25zdCBnZXRDbGFzc2VzID0gKG1hcDogQ2xhc3NNYXApOiBzdHJpbmcgPT4ge1xuICAgIGNvbnN0IGNsYXNzTmFtZXM6IHN0cmluZ1tdID0gW107XG4gICAgT2JqZWN0LmtleXMobWFwKS5mb3JFYWNoKChjbGFzc05hbWU6IHN0cmluZykgPT4ge1xuICAgICAgICBpZiAobWFwW2NsYXNzTmFtZV0pIHtcbiAgICAgICAgICAgIGNsYXNzTmFtZXMucHVzaChjbGFzc05hbWUpO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICBsZXQgcmVzdWx0ID0gY2xhc3NOYW1lcy5qb2luKCcgJyk7XG4gICAgaWYgKHJlc3VsdC50cmltKCkubGVuZ3RoID4gMCkge1xuICAgICAgICByZXN1bHQgPSAnICcgKyByZXN1bHQ7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0QXNzZXRQYWdlID0gKHVybDogc3RyaW5nKTogUHJvbWlzZTxBc3NldFBhZ2U+ID0+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2U8QXNzZXRQYWdlPigocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgIGdldFVybCh1cmwpXG4gICAgICAgICAgICAudGhlbigocmVzcG9uc2U6IEF4aW9zUmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICByZXNvbHZlKHtcbiAgICAgICAgICAgICAgICAgICAgYXNzZXRzOiByZXNwb25zZS5kYXRhLnJlc3VsdHMsXG4gICAgICAgICAgICAgICAgICAgIG5leHQ6IHJlc3BvbnNlLmRhdGEubmV4dFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5jYXRjaChlcnJvciA9PiByZWplY3QoZXJyb3IpKTtcbiAgICB9KTtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRBc3NldHMgPSBhc3luYyAodXJsOiBzdHJpbmcpOiBQcm9taXNlPEFzc2V0W10+ID0+IHtcbiAgICBpZiAoIXVybCkge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2U8QXNzZXRbXT4oKHJlc29sdmUsIHJlamVjdCkgPT4gcmVzb2x2ZShbXSkpO1xuICAgIH1cblxuICAgIGxldCBhc3NldHM6IEFzc2V0W10gPSBbXTtcbiAgICBsZXQgcGFnZVVybCA9IHVybDtcbiAgICB3aGlsZSAocGFnZVVybCkge1xuICAgICAgICBjb25zdCBhc3NldFBhZ2UgPSBhd2FpdCBnZXRBc3NldFBhZ2UocGFnZVVybCk7XG4gICAgICAgIGFzc2V0cyA9IGFzc2V0cy5jb25jYXQoYXNzZXRQYWdlLmFzc2V0cyk7XG4gICAgICAgIHBhZ2VVcmwgPSBhc3NldFBhZ2UubmV4dDtcbiAgICB9XG4gICAgcmV0dXJuIGFzc2V0cztcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRVcmwgPSAoXG4gICAgdXJsOiBzdHJpbmcsXG4gICAgY2FuY2VsVG9rZW46IENhbmNlbFRva2VuID0gbnVsbFxuKTogUHJvbWlzZTxBeGlvc1Jlc3BvbnNlPiA9PiB7XG4gICAgY29uc3QgY3NyZiA9IGdldENvb2tpZSgnY3NyZnRva2VuJyk7XG4gICAgY29uc3QgaGVhZGVycyA9IGNzcmYgPyB7ICdYLUNTUkZUb2tlbic6IGNzcmYgfSA6IHt9O1xuICAgIGNvbnN0IGNvbmZpZzogQXhpb3NSZXF1ZXN0Q29uZmlnID0geyBoZWFkZXJzIH07XG4gICAgaWYgKGNhbmNlbFRva2VuKSB7XG4gICAgICAgIGNvbmZpZy5jYW5jZWxUb2tlbiA9IGNhbmNlbFRva2VuO1xuICAgIH1cbiAgICByZXR1cm4gYXhpb3MuZ2V0KHVybCwgY29uZmlnKTtcbn07XG5cbmV4cG9ydCBjb25zdCBwb3N0VXJsID0gKHVybDogc3RyaW5nLCBwYXlsb2FkOiBhbnkpOiBQcm9taXNlPEF4aW9zUmVzcG9uc2U+ID0+IHtcbiAgICBjb25zdCBjc3JmID0gZ2V0Q29va2llKCdjc3JmdG9rZW4nKTtcbiAgICBjb25zdCBoZWFkZXJzID0gY3NyZiA/IHsgJ1gtQ1NSRlRva2VuJzogY3NyZiB9IDoge307XG4gICAgcmV0dXJuIGF4aW9zLnBvc3QodXJsLCBwYXlsb2FkLCB7IGhlYWRlcnMgfSk7XG59O1xuXG4vKipcbiAqL1xuZXhwb3J0IGNvbnN0IHJlbmRlcklmID0gKHByZWRpY2F0ZTogYm9vbGVhbiB8IGFueSkgPT4gKFxuICAgIHRoZW46ICgpID0+IFRlbXBsYXRlUmVzdWx0LFxuICAgIG90aGVyd2lzZT86ICgpID0+IFRlbXBsYXRlUmVzdWx0XG4pID0+IHtcbiAgICByZXR1cm4gcHJlZGljYXRlID8gdGhlbigpIDogb3RoZXJ3aXNlID8gb3RoZXJ3aXNlKCkgOiBodG1sYGA7XG59O1xuXG5leHBvcnQgY29uc3QgaGV4VG9SZ2IgPSAoaGV4OiBzdHJpbmcpOiB7IHI6IG51bWJlciwgZzogbnVtYmVyLCBiOiBudW1iZXIgfSA9PiB7XG4gICAgdmFyIHJlc3VsdCA9IC9eIz8oW2EtZlxcZF17Mn0pKFthLWZcXGRdezJ9KShbYS1mXFxkXXsyfSkkL2kuZXhlYyhoZXgpO1xuICAgIHJldHVybiByZXN1bHRcbiAgICAgICAgPyB7XG4gICAgICAgICAgICAgIHI6IHBhcnNlSW50KHJlc3VsdFsxXSwgMTYpLFxuICAgICAgICAgICAgICBnOiBwYXJzZUludChyZXN1bHRbMl0sIDE2KSxcbiAgICAgICAgICAgICAgYjogcGFyc2VJbnQocmVzdWx0WzNdLCAxNilcbiAgICAgICAgICB9XG4gICAgICAgIDogbnVsbDtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRFbGVtZW50T2Zmc2V0ID0gKFxuICAgIGVsZTogSFRNTEVsZW1lbnRcbik6IHtcbiAgICB0b3A6IG51bWJlcixcbiAgICBsZWZ0OiBudW1iZXIsXG4gICAgYm90dG9tOiBudW1iZXIsXG4gICAgcmlnaHQ6IG51bWJlcixcbiAgICB3aWR0aDogbnVtYmVyLFxuICAgIGhlaWdodDogbnVtYmVyXG59ID0+IHtcbiAgICBjb25zdCByZWN0ID0gZWxlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIGNvbnN0IHNjcm9sbExlZnQgPVxuICAgICAgICB3aW5kb3cucGFnZVhPZmZzZXQgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbExlZnQ7XG4gICAgY29uc3Qgc2Nyb2xsVG9wID0gd2luZG93LnBhZ2VZT2Zmc2V0IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3A7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdG9wOiByZWN0LnRvcCArIHNjcm9sbFRvcCxcbiAgICAgICAgbGVmdDogcmVjdC5sZWZ0ICsgc2Nyb2xsTGVmdCxcbiAgICAgICAgYm90dG9tOiByZWN0LnRvcCArIHJlY3QuaGVpZ2h0LFxuICAgICAgICByaWdodDogcmVjdC5sZWZ0ICsgcmVjdC53aWR0aCxcbiAgICAgICAgd2lkdGg6IHJlY3Qud2lkdGgsXG4gICAgICAgIGhlaWdodDogcmVjdC5oZWlnaHRcbiAgICB9O1xufTtcbiIsImltcG9ydCB7IEF4aW9zUmVzcG9uc2UgfSBmcm9tICdheGlvcyc7XG5pbXBvcnQgeyBjc3MsIGN1c3RvbUVsZW1lbnQsIGh0bWwsIExpdEVsZW1lbnQsIHByb3BlcnR5LCBUZW1wbGF0ZVJlc3VsdCB9IGZyb20gJ2xpdC1lbGVtZW50JztcbmltcG9ydCB7IEZlYXR1cmVQcm9wZXJ0aWVzIH0gZnJvbSAnLi4vaW50ZXJmYWNlcyc7XG5pbXBvcnQgeyBnZXRVcmwsIHBvc3RVcmwgfSBmcm9tICcuLi91dGlscyc7XG5pbXBvcnQgYXV0b3NpemUgZnJvbSAnYXV0b3NpemUnO1xuaW1wb3J0IEJ1dHRvbiBmcm9tICcuLi9idXR0b24vQnV0dG9uJztcblxuXG5AY3VzdG9tRWxlbWVudChcImFsaWFzLWVkaXRvclwiKVxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQWxpYXNFZGl0b3IgZXh0ZW5kcyBMaXRFbGVtZW50IHtcblxuICBzdGF0aWMgZ2V0IHN0eWxlcygpIHtcbiAgICByZXR1cm4gY3NzYFxuXG4gICAgICA6aG9zdCB7XG4gICAgICAgIGxpbmUtaGVpZ2h0OiBub3JtYWw7XG4gICAgICB9XG5cbiAgICAgIHRleHRhcmVhIHtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogNXB4O1xuICAgICAgICBib3JkZXItY29sb3I6IHZhcigtLWNvbG9yLWJvcmRlcnMpO1xuICAgICAgICBwYWRkaW5nOiAxMHB4O1xuICAgICAgICBjb2xvcjogdmFyKC0tY29sb3ItdGV4dCk7XG4gICAgICAgIGZvbnQtc2l6ZTogMTRweDtcbiAgICAgICAgcmVzaXplOiBub25lO1xuICAgICAgfVxuXG4gICAgICB0ZXh0YXJlYTpmb2N1cyB7XG4gICAgICAgIGJveC1zaGFkb3c6IG5vbmU7XG4gICAgICAgIG91dGxpbmU6IG5vbmU7XG4gICAgICB9XG5cbiAgICAgICNsZWZ0LWNvbHVtbiB7XG4gICAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICAgICAgbWFyZ2luLWxlZnQ6IDEwcHg7XG4gICAgICAgIHdpZHRoOiAzMDBweDtcbiAgICAgICAgei1pbmRleDogMTAwO1xuICAgICAgfVxuXG4gICAgICAuc2VhcmNoIHtcbiAgICAgICAgbWFyZ2luLWJvdHRvbTogMTBweDtcbiAgICAgIH1cblxuICAgICAgLmZlYXR1cmUge1xuICAgICAgICBwYWRkaW5nOiA0cHggMTRweDtcbiAgICAgICAgZm9udC1zaXplOiAxNnB4O1xuICAgICAgfVxuXG4gICAgICAubGV2ZWwtMCB7XG4gICAgICAgIG1hcmdpbi1sZWZ0OiAwcHg7XG4gICAgICB9XG5cbiAgICAgIC5sZXZlbC0xIHtcbiAgICAgICAgbWFyZ2luLWxlZnQ6IDVweDtcbiAgICAgICAgZm9udC1zaXplOiA5NSU7XG4gICAgICB9XG5cbiAgICAgIC5sZXZlbC0yIHtcbiAgICAgICAgbWFyZ2luLWxlZnQ6IDEwcHg7XG4gICAgICAgIGZvbnQtc2l6ZTogOTAlO1xuICAgICAgfVxuXG4gICAgICAubGV2ZWwtMyB7XG4gICAgICAgIG1hcmdpbi1sZWZ0OiAxNXB4O1xuICAgICAgICBmb250LXNpemU6IDg1JTtcbiAgICAgIH1cblxuICAgICAgLmZlYXR1cmUtbmFtZSB7XG4gICAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICAgIH1cblxuICAgICAgLmNsaWNrYWJsZSB7XG4gICAgICAgIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcbiAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xuICAgICAgICBjb2xvcjogdmFyKC0tY29sb3ItbGluay1wcmltYXJ5KTtcbiAgICAgIH1cblxuICAgICAgLmNsaWNrYWJsZS5zZWNvbmRhcnkge1xuICAgICAgICBjb2xvcjogdmFyKC0tY29sb3ItbGluay1zZWNvbmRhcnkpO1xuICAgICAgfVxuXG4gICAgICAuY2xpY2thYmxlOmhvdmVyIHtcbiAgICAgICAgdGV4dC1kZWNvcmF0aW9uOiB1bmRlcmxpbmU7XG4gICAgICAgIGNvbG9yOiB2YXIoLS1jb2xvci1saW5rLXByaW1hcnktaG92ZXIpO1xuICAgICAgfVxuXG4gICAgICAuZmVhdHVyZTpob3ZlciAuc2hvd29uaG92ZXIge1xuICAgICAgICB2aXNpYmlsaXR5OiB2aXNpYmxlO1xuICAgICAgfVxuXG4gICAgICAuc2hvd29uaG92ZXIge1xuICAgICAgICB2aXNpYmlsaXR5OiBoaWRkZW47XG4gICAgICB9XG5cbiAgICAgIC5hbGlhc2VzIHtcbiAgICAgICAgY29sb3I6ICNiYmI7XG4gICAgICAgIGZvbnQtc2l6ZTogODAlO1xuICAgICAgICBkaXNwbGF5OiBpbmxpbmU7XG4gICAgICAgIG1hcmdpbi1sZWZ0OiA1cHg7XG4gICAgICB9XG5cbiAgICAgIHJwLWxhYmVsIHtcbiAgICAgICAgbWFyZ2luLXJpZ2h0OiAzcHg7XG4gICAgICAgIG1hcmdpbi1ib3R0b206IDNweDtcbiAgICAgICAgdmVydGljYWwtYWxpZ246IHRvcDtcbiAgICAgIH1cblxuICAgICAgLnNlbGVjdGVkIHtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICAgICAgcGFkZGluZzogMTVweDtcbiAgICAgIH1cblxuICAgICAgLnNlbGVjdGVkIC5uYW1lIHtcbiAgICAgICAgZm9udC1zaXplOiAxOHB4O1xuICAgICAgICBwYWRkaW5nOiA1cHg7XG4gICAgICB9XG5cbiAgICAgIC5zZWxlY3RlZCAuaGVscCB7XG4gICAgICAgIHBhZGRpbmc6IDVweCAycHg7XG4gICAgICAgIGZvbnQtc2l6ZTogMTFweDtcbiAgICAgICAgY29sb3I6IHZhcigtLWNvbG9yLXNlY29uZGFyeS1saWdodCk7XG4gICAgICB9XG5cbiAgICAgICNyaWdodC1jb2x1bW4ge1xuICAgICAgICB2ZXJ0aWNhbC1hbGlnbjogdG9wO1xuICAgICAgICBtYXJnaW4tbGVmdDogMjBweDtcbiAgICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgICAgfVxuXG4gICAgICBsZWFmbGV0LW1hcCB7XG4gICAgICAgIGhlaWdodDogMjUwcHg7XG4gICAgICAgIHdpZHRoOiA0NTBweDtcbiAgICAgICAgYm9yZGVyOiAwcHggc29saWQgIzk5OTtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogNXB4O1xuICAgICAgfVxuXG4gICAgICAuZWRpdCB7XG4gICAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICAgICAgbWFyZ2luLXJpZ2h0OiAwcHg7XG4gICAgICB9XG5cbiAgIGA7XG4gIH1cblxuICBAcHJvcGVydHkoe3R5cGU6IEFycmF5LCBhdHRyaWJ1dGU6IGZhbHNlfSlcbiAgcGF0aDogRmVhdHVyZVByb3BlcnRpZXNbXSA9IFtdO1xuXG4gIEBwcm9wZXJ0eSgpXG4gIGVuZHBvaW50OiBzdHJpbmc7XG5cbiAgQHByb3BlcnR5KClcbiAgb3NtSWQ6IHN0cmluZztcblxuICBAcHJvcGVydHkoe3R5cGU6IE9iamVjdH0pXG4gIGhvdmVyZWQ6IEZlYXR1cmVQcm9wZXJ0aWVzO1xuXG4gIEBwcm9wZXJ0eSh7dHlwZTogT2JqZWN0fSlcbiAgZWRpdEZlYXR1cmU6IEZlYXR1cmVQcm9wZXJ0aWVzXG5cbiAgcHVibGljIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gIH1cblxuICBwdWJsaWMgdXBkYXRlZChjaGFuZ2VkUHJvcGVydGllczogTWFwPHN0cmluZywgYW55Pikge1xuXG4gICAgaWYgKGNoYW5nZWRQcm9wZXJ0aWVzLmhhcyhcIm9zbUlkXCIpKSB7XG4gICAgICAvLyBnb2luZyB1cCB0aGUgdHJlZSBkb2Vzbid0IHJlcXVpcmUgYSBmZXRjaFxuICAgICAgY29uc3QgbmV3UGF0aCA9IFtdO1xuICAgICAgZm9yIChsZXQgZmVhdHVyZSBvZiB0aGlzLnBhdGgpIHtcbiAgICAgICAgbmV3UGF0aC5wdXNoKGZlYXR1cmUpO1xuICAgICAgICBpZiAoZmVhdHVyZS5vc21faWQgPT09IHRoaXMub3NtSWQpIHtcbiAgICAgICAgICB0aGlzLnBhdGggPSBbLi4ubmV3UGF0aF07XG4gICAgICAgICAgdGhpcy5oaWRlQWxpYXNEaWFsb2coKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdGhpcy5mZXRjaEZlYXR1cmUoKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGZldGNoRmVhdHVyZSgpIHtcbiAgICBnZXRVcmwodGhpcy5nZXRFbmRwb2ludCgpICsgXCJib3VuZGFyaWVzL1wiICsgdGhpcy5vc21JZCArIFwiL1wiKS50aGVuKChyZXNwb25zZTogQXhpb3NSZXNwb25zZSkgPT4ge1xuICAgICAgdGhpcy5wYXRoID0gcmVzcG9uc2UuZGF0YSBhcyBGZWF0dXJlUHJvcGVydGllc1tdO1xuICAgICAgdGhpcy5oaWRlQWxpYXNEaWFsb2coKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qXG4gICBNYWtlcyBzdXJlIG91ciB0ZXh0YXJlYSBncm93cyB3aXRoIHVzXG4gICAqL1xuICBwcml2YXRlIGZpcmVUZXh0YXJlYUF1dG9zaXplKCk6IHZvaWQge1xuICAgIHdpbmRvdy5zZXRUaW1lb3V0KCgpPT57XG4gICAgICBhdXRvc2l6ZSh0aGlzLnNoYWRvd1Jvb3QucXVlcnlTZWxlY3RvcigndGV4dGFyZWEnKSk7XG4gICAgICBhdXRvc2l6ZS51cGRhdGUodGhpcy5zaGFkb3dSb290LnF1ZXJ5U2VsZWN0b3IoJ3RleHRhcmVhJykpO1xuICAgIH0sIDApO1xuICB9XG4gIFxuICBwcml2YXRlIGhhbmRsZU1hcENsaWNrZWQoZmVhdHVyZTogRmVhdHVyZVByb3BlcnRpZXMpOiB2b2lkIHtcbiAgICB0aGlzLmhvdmVyZWQgPSBudWxsO1xuICAgIGlmICghZmVhdHVyZSB8fCBmZWF0dXJlLm9zbV9pZCAhPT0gdGhpcy5vc21JZCkge1xuICAgICAgdGhpcy5vc21JZCA9IGZlYXR1cmUub3NtX2lkO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgaGFuZGxlUGxhY2VDbGlja2VkKGZlYXR1cmU6IEZlYXR1cmVQcm9wZXJ0aWVzKSB7XG4gICAgdGhpcy5vc21JZCA9IGZlYXR1cmUub3NtX2lkO1xuICB9XG5cbiAgcHJpdmF0ZSBoYW5kbGVTZWFyY2hTZWxlY3Rpb24oZXZ0OiBDdXN0b21FdmVudCkge1xuICAgIGNvbnN0IHNlbGVjdGlvbiA9IGV2dC5kZXRhaWwuc2VsZWN0ZWQgYXMgRmVhdHVyZVByb3BlcnRpZXM7XG4gICAgdGhpcy5zaG93QWxpYXNEaWFsb2coc2VsZWN0aW9uKTtcbiAgfVxuXG4gIHByaXZhdGUgcmVuZGVyRmVhdHVyZShmZWF0dXJlOiBGZWF0dXJlUHJvcGVydGllcywgcmVtYWluaW5nUGF0aDogRmVhdHVyZVByb3BlcnRpZXNbXSk6IFRlbXBsYXRlUmVzdWx0IHtcbiAgICBjb25zdCBzZWxlY3RlZEZlYXR1cmUgPSB0aGlzLnBhdGhbdGhpcy5wYXRoLmxlbmd0aCAtIDFdO1xuICAgIGNvbnN0IGNsaWNrYWJsZSA9ICgoZmVhdHVyZS5oYXNfY2hpbGRyZW4gfHwgZmVhdHVyZS5sZXZlbCA9PT0gMCApJiYgZmVhdHVyZSAhPT0gc2VsZWN0ZWRGZWF0dXJlKTtcbiAgICBjb25zdCByZW5kZXJlZEZlYXR1cmUgPSBodG1sYFxuICAgICAgPGRpdiBjbGFzcz1cImZlYXR1cmVcIj5cbiAgICAgICAgPGRpdiBcbiAgICAgICAgICBAbW91c2VvdmVyPSR7KCkgPT4geyBpZiAoZmVhdHVyZS5sZXZlbCA+IDApIHsgdGhpcy5ob3ZlcmVkID0gZmVhdHVyZSB9fX1cbiAgICAgICAgICBAbW91c2VvdXQ9JHsoKSA9PiB7IHRoaXMuaG92ZXJlZCA9IG51bGwgfX1cbiAgICAgICAgICBjbGFzcz1cImxldmVsLSR7ZmVhdHVyZS5sZXZlbH1cIlxuICAgICAgICA+XG5cbiBcblxuICAgICAgICA8ZGl2IGNsYXNzPVwiZmVhdHVyZS1uYW1lICR7IGNsaWNrYWJsZSA/ICdjbGlja2FibGUnIDogJyd9XCIgXG4gICAgICAgICAgQGNsaWNrPSR7KCkgPT4geyBpZiAoY2xpY2thYmxlKSB7dGhpcy5oYW5kbGVQbGFjZUNsaWNrZWQoZmVhdHVyZSkgfX19PlxuICAgICAgICAgICR7ZmVhdHVyZS5uYW1lfVxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8ZGl2IGNsYXNzPVwiYWxpYXNlc1wiPlxuICAgICAgICAgICR7ZmVhdHVyZS5hbGlhc2VzLnNwbGl0KCdcXG4nKS5tYXAoKGFsaWFzOiBzdHJpbmcpPT5hbGlhcy50cmltKCkubGVuZ3RoID4gMCA/IGh0bWxgXG4gICAgICAgICAgICA8cnAtbGFiZWwgY2xhc3M9XCJhbGlhc1wiIEBjbGljaz0keygpPT57dGhpcy5zaG93QWxpYXNEaWFsb2coZmVhdHVyZSk7fX0gbGlnaHQgY2xpY2thYmxlPiR7YWxpYXN9PC9ycC1sYWJlbD5cbiAgICAgICAgICBgOiBudWxsKX1cblxuICAgICAgICAgICR7ZmVhdHVyZS5sZXZlbCA+IDAgPyBodG1sYFxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJlZGl0IGNsaWNrYWJsZSBzaG93b25ob3ZlclwiIEBjbGljaz0keyhldnQ6IE1vdXNlRXZlbnQpPT4geyB0aGlzLnNob3dBbGlhc0RpYWxvZyhmZWF0dXJlKTsgZXZ0LnByZXZlbnREZWZhdWx0KCk7IGV2dC5zdG9wUHJvcGFnYXRpb24oKX19PlxuICAgICAgICAgICAgPHJwLWljb24gbmFtZT1cInJlZ2lzdGVyXCIgc2l6ZT1cIjEyXCI+PC9ycC1pY29uPlxuICAgICAgICAgIDwvZGl2PmA6ICcnfVxuICAgICAgICA8L2Rpdj5cblxuICAgICAgPC9kaXY+XG4gICAgICAgIFxuICAgICAgPC9kaXY+XG4gICAgICBgO1xuXG4gICAgY29uc3QgcmVuZGVyZWRDaGlsZHJlbiA9IChmZWF0dXJlLmNoaWxkcmVuIHx8IFtdKS5tYXAoKGNoaWxkOiBGZWF0dXJlUHJvcGVydGllcyk9PiB7XG4gICAgXG4gICAgICBpZiAocmVtYWluaW5nUGF0aC5sZW5ndGggPiAwICYmIChyZW1haW5pbmdQYXRoWzBdLm9zbV9pZCA9PT0gY2hpbGQub3NtX2lkKSkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZW5kZXJGZWF0dXJlKHJlbWFpbmluZ1BhdGhbMF0sIHJlbWFpbmluZ1BhdGguc2xpY2UoMSkpO1xuICAgICAgfVxuXG4gICAgICBpZiAocmVtYWluaW5nUGF0aC5sZW5ndGggPT09IDAgfHwgcmVtYWluaW5nUGF0aFswXS5jaGlsZHJlbi5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVuZGVyRmVhdHVyZShjaGlsZCwgcmVtYWluaW5nUGF0aCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBudWxsO1xuICAgIFxuICAgIH0pO1xuXG4gICAgcmV0dXJuIGh0bWxgXG4gICAgICAke3JlbmRlcmVkRmVhdHVyZX1cbiAgICAgICR7cmVuZGVyZWRDaGlsZHJlbn1cbiAgICBgXG4gIH1cblxuICBwdWJsaWMgc2hvd0FsaWFzRGlhbG9nKGZlYXR1cmU6IEZlYXR1cmVQcm9wZXJ0aWVzKSB7XG4gICAgdGhpcy5lZGl0RmVhdHVyZSA9IGZlYXR1cmU7XG4gICAgY29uc3QgYWxpYXNEaWFsb2cgPSB0aGlzLnNoYWRvd1Jvb3QuZ2V0RWxlbWVudEJ5SWQoXCJhbGlhcy1kaWFsb2dcIik7XG4gICAgaWYgKGFsaWFzRGlhbG9nKXtcbiAgICAgIHRoaXMuZmlyZVRleHRhcmVhQXV0b3NpemUoKTtcbiAgICAgIGFsaWFzRGlhbG9nLnNldEF0dHJpYnV0ZSgnb3BlbicsICcnKTtcbiAgICB9XG4gIH1cblxuICBwdWJsaWMgaGlkZUFsaWFzRGlhbG9nKCkge1xuICAgIGNvbnN0IGFsaWFzRGlhbG9nID0gdGhpcy5zaGFkb3dSb290LmdldEVsZW1lbnRCeUlkKFwiYWxpYXMtZGlhbG9nXCIpO1xuICAgIGlmIChhbGlhc0RpYWxvZykge1xuICAgICAgYWxpYXNEaWFsb2cucmVtb3ZlQXR0cmlidXRlKFwib3BlblwiKTtcbiAgICB9XG5cbiAgICB0aGlzLnJlcXVlc3RVcGRhdGUoKTtcbiAgfVxuXG4gIHByaXZhdGUgZ2V0RW5kcG9pbnQoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy5lbmRwb2ludCArICghdGhpcy5lbmRwb2ludC5lbmRzV2l0aCgnLycpID8gJy8nIDogJycpO1xuICB9XG5cbiAgcHJpdmF0ZSBoYW5kbGVEaWFsb2dDbGljayhidXR0b246IEJ1dHRvbikge1xuICAgIGlmIChidXR0b24ubmFtZSA9PT0gXCJTYXZlXCIpIHtcbiAgICAgIGJ1dHRvbi5zZXRQcm9ncmVzcyh0cnVlKTtcbiAgICAgIGNvbnN0IHRleHRhcmVhID0gdGhpcy5zaGFkb3dSb290LmdldEVsZW1lbnRCeUlkKHRoaXMuZWRpdEZlYXR1cmUub3NtX2lkKSBhcyBIVE1MVGV4dEFyZWFFbGVtZW50O1xuICAgICAgY29uc3QgYWxpYXNlcyA9IHRleHRhcmVhLnZhbHVlO1xuICAgICAgY29uc3QgcGF5bG9hZCA9IHsgXCJvc21faWRcIjogIHRoaXMuZWRpdEZlYXR1cmUub3NtX2lkLCBhbGlhc2VzIH07XG4gICAgICBwb3N0VXJsKHRoaXMuZ2V0RW5kcG9pbnQoKSArIFwiYm91bmRhcmllcy9cIiArICB0aGlzLmVkaXRGZWF0dXJlLm9zbV9pZCArIFwiL1wiLCBwYXlsb2FkKS50aGVuKChyZXNwb25zZTogQXhpb3NSZXNwb25zZSkgPT4ge1xuICAgICAgICB0aGlzLmZldGNoRmVhdHVyZSgpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYoYnV0dG9uLm5hbWUgPT09IFwiQ2FuY2VsXCIpIHtcbiAgICAgIHRoaXMuaGlkZUFsaWFzRGlhbG9nKCk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSByZW5kZXJPcHRpb25EZXRhaWwob3B0aW9uOiBGZWF0dXJlUHJvcGVydGllcywgc2VsZWN0ZWQ6IGJvb2xlYW4pOiBUZW1wbGF0ZVJlc3VsdCB7XG4gICAgY29uc3Qgc3R5bGUgPSBodG1sYFxuICAgICAgPHN0eWxlPlxuICAgICAgICBycC1sYWJlbCB7XG4gICAgICAgICAgbWFyZ2luLXRvcDogM3B4O1xuICAgICAgICAgIG1hcmdpbi1yaWdodDogM3B4O1xuICAgICAgICB9XG4gICAgICA8L3N0eWxlPlxuICAgIGA7XG5cbiAgICBjb25zdCBhbGlhc0xpc3QgPSBvcHRpb24uYWxpYXNlcy5zcGxpdCgnXFxuJyk7XG4gICAgY29uc3QgYWxpYXNlcyA9IGFsaWFzTGlzdC5tYXAoKGFsaWFzOiBzdHJpbmcpPT5hbGlhcy50cmltKCkubGVuZ3RoID4gMCA/IGh0bWxgPHJwLWxhYmVsIGNsYXNzPVwiYWxpYXNcIiBkYXJrPiR7YWxpYXN9PC9ycC1sYWJlbD5gOiBudWxsKTtcbiAgICByZXR1cm4gaHRtbGAke3N0eWxlfTxkaXYgY2xhc3M9XCJwYXRoXCI+JHtvcHRpb24ucGF0aC5yZXBsYWNlKC8+L2dpLCBcIuKAo1wiKX08L2Rpdj48ZGl2IGNsYXNzPVwiYWxpYXNlc1wiPiR7YWxpYXNlc308L2Rpdj5gOyAgICBcbiAgfVxuXG4gIHB1YmxpYyByZW5kZXIoKTogVGVtcGxhdGVSZXN1bHQge1xuICAgIGlmICh0aGlzLnBhdGgubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gaHRtbGBgO1xuICAgIH1cblxuICAgIC8vIGlmIHdlIGFyZSBhIGxlYWYsIGhhdmUgb3VyIG1hcCBzaG93IHRoZSBsZXZlbCBhYm92ZVxuICAgIGNvbnN0IHNlbGVjdGVkRmVhdHVyZSA9IHRoaXMucGF0aFt0aGlzLnBhdGgubGVuZ3RoIC0gMV07XG4gICAgY29uc3QgbWFwRmVhdHVyZSA9IHNlbGVjdGVkRmVhdHVyZS5jaGlsZHJlbi5sZW5ndGggPT09IDAgPyB0aGlzLnBhdGhbdGhpcy5wYXRoLmxlbmd0aCAtIDJdIDogc2VsZWN0ZWRGZWF0dXJlO1xuICAgIFxuICAgIGNvbnN0IGVkaXRGZWF0dXJlSWQgPSB0aGlzLmVkaXRGZWF0dXJlID8gdGhpcy5lZGl0RmVhdHVyZS5vc21faWQgOiBudWxsO1xuICAgIGNvbnN0IGVkaXRGZWF0dXJlTmFtZSA9IHRoaXMuZWRpdEZlYXR1cmUgPyB0aGlzLmVkaXRGZWF0dXJlLm5hbWUgOiBudWxsO1xuICAgIGNvbnN0IGVkaXRGZWF0dXJlQWxpYXNlcyA9IHRoaXMuZWRpdEZlYXR1cmUgPyB0aGlzLmVkaXRGZWF0dXJlLmFsaWFzZXMgOiBudWxsO1xuICAgIHJldHVybiBodG1sYFxuICAgICAgPGRpdiBpZD1cImxlZnQtY29sdW1uXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJzZWFyY2hcIj5cbiAgICAgICAgICA8cnAtc2VsZWN0IFxuICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJTZWFyY2hcIiBcbiAgICAgICAgICAgIGVuZHBvaW50PVwiJHt0aGlzLmdldEVuZHBvaW50KCl9Ym91bmRhcmllcy8ke3RoaXMucGF0aFswXS5vc21faWR9Lz9xPVwiXG4gICAgICAgICAgICAucmVuZGVyT3B0aW9uRGV0YWlsPSR7dGhpcy5yZW5kZXJPcHRpb25EZXRhaWx9XG4gICAgICAgICAgICBAcnAtc2VsZWN0aW9uPSR7dGhpcy5oYW5kbGVTZWFyY2hTZWxlY3Rpb24uYmluZCh0aGlzKX1cbiAgICAgICAgICA+PC9ycC1zZWxlY3Q+XG4gICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImZlYXR1cmUtdHJlZVwiPlxuICAgICAgICAgICR7dGhpcy5yZW5kZXJGZWF0dXJlKHRoaXMucGF0aFswXSwgdGhpcy5wYXRoLnNsaWNlKDEpKX1cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cblxuICAgICAgPGRpdiBpZD1cInJpZ2h0LWNvbHVtblwiPlxuICAgICAgICA8bGVhZmxldC1tYXAgXG4gICAgICAgICAgZW5kcG9pbnQ9JHt0aGlzLmdldEVuZHBvaW50KCl9XG4gICAgICAgICAgLmZlYXR1cmU9JHttYXBGZWF0dXJlfVxuICAgICAgICAgIC5vc21JZD0ke21hcEZlYXR1cmUub3NtX2lkfVxuICAgICAgICAgIC5ob3ZlcmVkPSR7dGhpcy5ob3ZlcmVkfVxuICAgICAgICAgIC5vbkZlYXR1cmVDbGlja2VkPSR7dGhpcy5oYW5kbGVNYXBDbGlja2VkLmJpbmQodGhpcyl9PlxuICAgICAgICA8L2xlYWZsZXQtbWFwPlxuICAgICAgPC9kaXY+XG5cbiAgICAgIDxycC1kaWFsb2cgaWQ9XCJhbGlhcy1kaWFsb2dcIiBcbiAgICAgICAgdGl0bGU9XCJBbGlhc2VzIGZvciAke2VkaXRGZWF0dXJlTmFtZX1cIiBcbiAgICAgICAgcHJpbWFyeUJ1dHRvbk5hbWU9XCJTYXZlXCJcbiAgICAgICAgLm9uQnV0dG9uQ2xpY2tlZD0ke3RoaXMuaGFuZGxlRGlhbG9nQ2xpY2suYmluZCh0aGlzKX0+XG5cbiAgICAgICAgPGRpdiBjbGFzcz1cInNlbGVjdGVkXCI+XG4gICAgICAgICAgPHRleHRhcmVhIGlkPVwiJHtlZGl0RmVhdHVyZUlkfVwiIC52YWx1ZT0ke2VkaXRGZWF0dXJlQWxpYXNlc30+PC90ZXh0YXJlYT5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiaGVscFwiPlxuICAgICAgICAgICAgRW50ZXIgb3RoZXIgYWxpYXNlcyBmb3IgJHtlZGl0RmVhdHVyZU5hbWV9LCBvbmUgcGVyIGxpbmVcbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L3JwLWRpYWxvZz4gICAgICAgICAgICAgXG5cbiAgICBgO1xuICB9XG59IiwiaW1wb3J0IHsgTGl0RWxlbWVudCwgVGVtcGxhdGVSZXN1bHQsIGh0bWwsIGNzcywgY3VzdG9tRWxlbWVudCwgcHJvcGVydHkgfSBmcm9tICdsaXQtZWxlbWVudCc7XG5pbXBvcnQgeyBnZXRDbGFzc2VzIH0gZnJvbSAnLi4vdXRpbHMnO1xuXG5AY3VzdG9tRWxlbWVudChcInJwLWJ1dHRvblwiKVxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQnV0dG9uIGV4dGVuZHMgTGl0RWxlbWVudCB7XG5cbiAgc3RhdGljIGdldCBzdHlsZXMoKSB7XG4gICAgcmV0dXJuIGNzc2BcbiAgICAgIC5idXR0b24ge1xuICAgICAgICBiYWNrZ3JvdW5kOiBibHVlO1xuICAgICAgICBjb2xvcjogI2ZmZjtcbiAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xuICAgICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IHZhcigtLWN1cnZhdHVyZSk7XG4gICAgICAgIG91dGxpbmU6IG5vbmU7XG4gICAgICB9XG5cbiAgICAgIC5idXR0b246Zm9jdXMge1xuICAgICAgICBvdXRsaW5lOiBub25lO1xuICAgICAgICBtYXJnaW46IDA7XG4gICAgICB9XG5cbiAgICAgIC5idXR0b246Zm9jdXMgLm1hc2t7XG4gICAgICAgIGJhY2tncm91bmQ6IHJnYigwLDAsMCwuMSk7XG4gICAgICAgIGJveC1zaGFkb3c6IDAgMCAwcHggMnB4IHZhcigtLWNvbG9yLWJ1dHRvbi1wcmltYXJ5KTtcbiAgICAgIH1cblxuICAgICAgLmJ1dHRvbi5zZWNvbmRhcnk6Zm9jdXMgLm1hc2t7XG4gICAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWNvbG9yLWJ1dHRvbi1zZWNvbmRhcnkpO1xuICAgICAgICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDtcbiAgICAgICAgYm94LXNoYWRvdzogMCAwIDBweCAycHggdmFyKC0tY29sb3ItYnV0dG9uLXNlY29uZGFyeSk7XG4gICAgICB9XG5cbiAgICAgIC5tYXNrIHtcbiAgICAgICAgcGFkZGluZzogNXB4IDEwcHg7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IHZhcigtLWN1cnZhdHVyZSk7XG4gICAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHRyYW5zcGFyZW50O1xuICAgICAgfVxuXG4gICAgICAucHJpbWFyeSB7XG4gICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWNvbG9yLWJ1dHRvbi1wcmltYXJ5KTtcbiAgICAgICAgY29sb3I6IHZhcigtLWNvbG9yLWJ1dHRvbi1wcmltYXJ5LXRleHQpO1xuICAgICAgfVxuXG4gICAgICAuc2Vjb25kYXJ5IHtcbiAgICAgICAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7XG4gICAgICAgIGNvbG9yOiB2YXIoLS1jb2xvci1idXR0b24tc2Vjb25kYXJ5KTtcbiAgICAgIH1cblxuICAgICAgLnNlY29uZGFyeTpob3ZlciAubWFza3tcbiAgICAgICAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tY29sb3ItYnV0dG9uLXNlY29uZGFyeSk7XG4gICAgICB9XG5cbiAgICAgIC5idXR0b24ucHJvZ3Jlc3N7XG4gICAgICAgIGJhY2tncm91bmQ6ICNkZGQ7XG4gICAgICB9XG5cbiAgICAgIC5idXR0b24ucHJvZ3Jlc3M6Zm9jdXMgLm1hc2sge1xuICAgICAgICBib3gtc2hhZG93OiAwIDAgMHB4IDJweCB2YXIoLS1jb2xvci1idXR0b24tc2Vjb25kYXJ5KTtcbiAgICAgIH1cblxuICAgICAgLm1hc2s6aG92ZXIge1xuICAgICAgICBiYWNrZ3JvdW5kOiByZ2IoMCwwLDAsLjEpO1xuICAgICAgfVxuXG4gICAgICAuc2Vjb25kYXJ5IC5tYXNrOmhvdmVyIHtcbiAgICAgICAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7XG4gICAgICB9XG5cbiAgYDtcbiAgfVxuXG4gIEBwcm9wZXJ0eSh7dHlwZTogQm9vbGVhbn0pXG4gIHByaW1hcnk6IGJvb2xlYW47XG5cbiAgQHByb3BlcnR5KHt0eXBlOiBCb29sZWFufSlcbiAgc2Vjb25kYXJ5OiBib29sZWFuO1xuXG4gIEBwcm9wZXJ0eSgpXG4gIG5hbWU6IHN0cmluZztcblxuICBAcHJvcGVydHkoKVxuICBpblByb2dlc3NOYW1lOiBzdHJpbmc7XG5cbiAgQHByb3BlcnR5KHt0eXBlOiBCb29sZWFufSlcbiAgaXNQcm9ncmVzczogYm9vbGVhbjtcblxuICBwdWJsaWMgc2V0UHJvZ3Jlc3MocHJvZ3Jlc3M6IGJvb2xlYW4pOiB2b2lkIHtcbiAgICB0aGlzLmlzUHJvZ3Jlc3MgPSBwcm9ncmVzcztcbiAgfVxuXG4gIHByaXZhdGUgaGFuZGxlS2V5VXAoZXZlbnQ6IEtleWJvYXJkRXZlbnQpOiB2b2lkIHtcbiAgICBpZiAoZXZlbnQua2V5ID09PSBcIkVudGVyXCIpIHtcbiAgICAgIHRoaXMuY2xpY2soKTtcbiAgICB9XG4gIH1cblxuICBwdWJsaWMgcmVuZGVyKCk6IFRlbXBsYXRlUmVzdWx0IHtcbiAgICAgIHJldHVybiBodG1sYFxuICAgICAgICA8ZGl2IGNsYXNzPVwiYnV0dG9uIFxuICAgICAgICAgICR7Z2V0Q2xhc3Nlcyh7IFxuICAgICAgICAgIFwicHJvZ3Jlc3NcIjogdGhpcy5pc1Byb2dyZXNzLFxuICAgICAgICAgIFwicHJpbWFyeVwiOiB0aGlzLnByaW1hcnksXG4gICAgICAgICAgXCJzZWNvbmRhcnlcIjogdGhpcy5zZWNvbmRhcnlcbiAgICAgICAgICB9KX1cIlxuICAgICAgICAgIHRhYmluZGV4PVwiMFwiXG4gICAgICAgICAgQGtleXVwPSR7dGhpcy5oYW5kbGVLZXlVcH1cbiAgICAgICAgPlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJtYXNrXCI+XG4gICAgICAgICAgICAke3RoaXMuaXNQcm9ncmVzcyA/IHRoaXMuaW5Qcm9nZXNzTmFtZSB8fCB0aGlzLm5hbWUgOiB0aGlzLm5hbWV9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgYDtcbiAgfVxufSIsImltcG9ydCB7IGN1c3RvbUVsZW1lbnQsIHByb3BlcnR5IH0gZnJvbSAnbGl0LWVsZW1lbnQvbGliL2RlY29yYXRvcnMnO1xuaW1wb3J0IHsgTGl0RWxlbWVudCwgVGVtcGxhdGVSZXN1bHQsIGh0bWwsIGNzcyB9IGZyb20gJ2xpdC1lbGVtZW50JztcbmltcG9ydCBCdXR0b24gZnJvbSAnLi4vYnV0dG9uL0J1dHRvbic7XG5cbkBjdXN0b21FbGVtZW50KFwicnAtZGlhbG9nXCIpXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBEaWFsb2cgZXh0ZW5kcyBMaXRFbGVtZW50IHtcblxuICBzdGF0aWMgZ2V0IHN0eWxlcygpIHtcbiAgICByZXR1cm4gY3NzYFxuXG4gICAgICAubWFzayB7XG4gICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICBiYWNrZ3JvdW5kOiByZ2JhKDAsIDAsIDAsIC41KTtcbiAgICAgICAgb3BhY2l0eTogMDtcbiAgICAgICAgdmlzaWJpbGl0eTogaGlkZGVuO1xuICAgICAgICBwb3NpdGlvbjogZml4ZWQ7XG4gICAgICAgIHRvcDowcHg7XG4gICAgICAgIGxlZnQ6MHB4O1xuICAgICAgICB6LWluZGV4OiAyMDAwO1xuICAgICAgICB0cmFuc2l0aW9uOiBhbGwgZWFzZS1pbiAyNTBtcztcbiAgICAgIH1cblxuICAgICAgLmRpYWxvZyB7XG4gICAgICAgIGJhY2tncm91bmQ6ICNmZmY7XG4gICAgICAgIHdpZHRoOiA1MDBweDtcbiAgICAgICAgbWFyZ2luOiAwcHggYXV0bzsgXG4gICAgICAgIHRvcDogLTIwMHB4O1xuICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgICAgIHRyYW5zaXRpb246IHRvcCBlYXNlLWluLW91dCAyMDBtcztcbiAgICAgICAgYm9yZGVyLXJhZGl1czogdmFyKC0tY3VydmF0dXJlKTtcbiAgICAgICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgICAgICAgYm94LXNoYWRvdzogMHB4IDBweCAwcHggNHB4IHJnYmEoMCwwLDAsLjA0KTtcbiAgICAgIH1cblxuICAgICAgLm1hc2sub3BlbiB7XG4gICAgICAgIG9wYWNpdHk6IDE7XG4gICAgICAgIHZpc2liaWxpdHk6IHZpc2libGU7XG4gICAgICB9XG5cbiAgICAgIC50aXRsZSB7XG4gICAgICAgIHBhZGRpbmc6IDEwcHggMjBweDtcbiAgICAgICAgZm9udC1zaXplOiAxOHB4O1xuICAgICAgICBjb2xvcjogdmFyKC0tY29sb3ItdGV4dC1saWdodCk7XG4gICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWNvbG9yLXByaW1hcnktZGFyayk7XG4gICAgICB9XG5cbiAgICAgIC5mb290ZXIge1xuICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1jb2xvci1wcmltYXJ5LWxpZ2h0KTtcbiAgICAgICAgcGFkZGluZzogMTBweDtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgZmxleC1mbG93OiByb3ctcmV2ZXJzZTtcbiAgICAgIH1cblxuICAgICAgcnAtYnV0dG9uIHtcbiAgICAgICAgbWFyZ2luLWxlZnQ6IDVweDtcbiAgICAgIH1cbiAgYDtcbiAgfVxuXG5cbiAgQHByb3BlcnR5KHt0eXBlIDogQm9vbGVhbn0pXG4gIG9wZW46IGJvb2xlYW47XG5cbiAgQHByb3BlcnR5KClcbiAgdGl0bGU6IHN0cmluZztcblxuICBAcHJvcGVydHkoKVxuICBib2R5OiBzdHJpbmc7XG5cbiAgQHByb3BlcnR5KClcbiAgcHJpbWFyeUJ1dHRvbk5hbWU6IHN0cmluZyA9IFwiT2tcIjtcblxuICBAcHJvcGVydHkoe3R5cGU6IFN0cmluZ30pXG4gIGNhbmNlbEJ1dHRvbk5hbWU6IHN0cmluZyA9IFwiQ2FuY2VsXCI7XG5cbiAgQHByb3BlcnR5KClcbiAgaW5Qcm9ncmVzc05hbWU6IHN0cmluZyA9IFwiU2F2aW5nXCI7XG5cbiAgQHByb3BlcnR5KHthdHRyaWJ1dGU6IGZhbHNlfSlcbiAgb25CdXR0b25DbGlja2VkOiAoYnV0dG9uOiBCdXR0b24pID0+IHZvaWQ7XG5cbiAgcHVibGljIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gIH1cblxuICBwdWJsaWMgdXBkYXRlZChjaGFuZ2VkUHJvcGVydGllczogTWFwPHN0cmluZywgYW55Pikge1xuICAgIGlmIChjaGFuZ2VkUHJvcGVydGllcy5oYXMoXCJvcGVuXCIpKSB7XG4gICAgICAvLyBtYWtlIHN1cmUgb3VyIGJ1dHRvbnMgYXJlbid0IGluIHByb2dyZXNzIG9uIHNob3dcbiAgICAgIGlmICh0aGlzLm9wZW4pIHtcbiAgICAgICAgdGhpcy5zaGFkb3dSb290LnF1ZXJ5U2VsZWN0b3JBbGwoXCJycC1idXR0b25cIikuZm9yRWFjaCgoYnV0dG9uOiBCdXR0b24pPT5idXR0b24uc2V0UHJvZ3Jlc3MoZmFsc2UpKTtcbiAgICAgICAgY29uc3QgaW5wdXRzID0gdGhpcy5xdWVyeVNlbGVjdG9yQWxsKFwidGV4dGFyZWEsaW5wdXRcIik7XG4gICAgICAgIGlmIChpbnB1dHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KCgpPT57XG4gICAgICAgICAgICAoaW5wdXRzWzBdIGFzIGFueSkuZm9jdXMoKTsgICAgICAgICAgICBcbiAgICAgICAgICB9LCAxMDApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcHVibGljIGhhbmRsZUNsaWNrKGV2dDogTW91c2VFdmVudCkge1xuICAgIGNvbnN0IGJ1dHRvbiA9IGV2dC5jdXJyZW50VGFyZ2V0IGFzIEJ1dHRvbjtcbiAgICBpZiAoIWJ1dHRvbi5pc1Byb2dyZXNzKSB7XG4gICAgICB0aGlzLm9uQnV0dG9uQ2xpY2tlZChidXR0b24pO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgZ2V0RG9jdW1lbnRIZWlnaHQoKTogbnVtYmVyIHtcbiAgICBjb25zdCBib2R5ID0gZG9jdW1lbnQuYm9keTtcbiAgICBjb25zdCBodG1sID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xuICAgIHJldHVybiBNYXRoLm1heChib2R5LnNjcm9sbEhlaWdodCwgYm9keS5vZmZzZXRIZWlnaHQsIGh0bWwuY2xpZW50SGVpZ2h0LCBodG1sLnNjcm9sbEhlaWdodCwgaHRtbC5vZmZzZXRIZWlnaHQpO1xuICB9XG5cbiAgcHJpdmF0ZSBoYW5kbGVLZXlVcChldmVudDogS2V5Ym9hcmRFdmVudCkge1xuICAgIGlmIChldmVudC5rZXkgPT09IFwiRXNjYXBlXCIpIHtcbiAgICAgIC8vIGZpbmQgb3VyIGNhbmNlbCBidXR0b24gYW5kIGNsaWNrIGl0XG4gICAgICB0aGlzLnNoYWRvd1Jvb3QucXVlcnlTZWxlY3RvckFsbChcInJwLWJ1dHRvblwiKS5mb3JFYWNoKFxuICAgICAgICAoYnV0dG9uOiBCdXR0b24pPT57IGlmIChidXR0b24ubmFtZSA9PT0gdGhpcy5jYW5jZWxCdXR0b25OYW1lKSB7YnV0dG9uLmNsaWNrKCl9fVxuICAgICAgKVxuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyByZW5kZXIoKTogVGVtcGxhdGVSZXN1bHQge1xuXG4gICAgY29uc3QgaGVpZ2h0ID0gdGhpcy5nZXREb2N1bWVudEhlaWdodCgpO1xuXG4gICAgcmV0dXJuIGh0bWxgXG4gICAgICAgIDxzdHlsZT5cbiAgICAgICAgICAubWFzayB7XG4gICAgICAgICAgICBoZWlnaHQ6ICR7aGVpZ2h0ICsgMTAwfXB4O1xuICAgICAgICAgIH1cbiAgICAgICAgICAubWFzay5vcGVuID4gLmRpYWxvZyB7XG4gICAgICAgICAgICB0b3A6IDEwMHB4O1xuICAgICAgICAgIH1cbiAgICAgICAgPC9zdHlsZT5cbiAgICAgICAgPGRpdiBjbGFzcz1cIm1hc2sgJHt0aGlzLm9wZW4gPyAnb3BlbicgOiAnJ31cIj5cbiAgICAgICAgICA8ZGl2IEBrZXl1cD0ke3RoaXMuaGFuZGxlS2V5VXB9IGNsYXNzPVwiZGlhbG9nXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaGVhZGVyXCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0aXRsZVwiPiR7dGhpcy50aXRsZX08L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImJvZHlcIiBAa2V5cHJlc3M9JHt0aGlzLmhhbmRsZUtleVVwfT4ke3RoaXMuYm9keSA/IHRoaXMuYm9keSA6IGh0bWxgPHNsb3Q+PC9zbG90PmB9PC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZm9vdGVyXCI+XG4gICAgICAgICAgICAgIDxycC1idXR0b24gQGNsaWNrPSR7dGhpcy5oYW5kbGVDbGlja30gbmFtZT0ke3RoaXMucHJpbWFyeUJ1dHRvbk5hbWV9IGluUHJvZ2Vzc05hbWU9JHt0aGlzLmluUHJvZ3Jlc3NOYW1lfSBwcmltYXJ5Pn08L3JwLWJ1dHRvbj5cbiAgICAgICAgICAgICAgPHJwLWJ1dHRvbiBAY2xpY2s9JHt0aGlzLmhhbmRsZUNsaWNrfSBuYW1lPSR7dGhpcy5jYW5jZWxCdXR0b25OYW1lfSBzZWNvbmRhcnk+PC9ycC1idXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj4gICAgICBcbiAgICAgICAgPC9kaXY+XG5cbiAgICBgO1xuICB9XG59IiwiaW1wb3J0IHsgTGl0RWxlbWVudCB9IGZyb20gJ2xpdC1lbGVtZW50JztcbmltcG9ydCB7IEN1c3RvbUV2ZW50VHlwZSB9IGZyb20gJy4vaW50ZXJmYWNlcyc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgRXZlbnRIYW5kbGVyIHtcbiAgZXZlbnQ6IHN0cmluZztcbiAgbWV0aG9kOiBFdmVudExpc3RlbmVyO1xufVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBSYXBpZEVsZW1lbnQgZXh0ZW5kcyBMaXRFbGVtZW50IHtcblxuICBwdWJsaWMgZ2V0RXZlbnRIYW5kbGVycygpOiBFdmVudEhhbmRsZXJbXSB7XG4gICAgcmV0dXJuIFtdO1xuICB9XG5cbiAgY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgc3VwZXIuY29ubmVjdGVkQ2FsbGJhY2soKTtcbiAgICBmb3IgKGNvbnN0IGhhbmRsZXIgb2YgdGhpcy5nZXRFdmVudEhhbmRsZXJzKCkpIHtcbiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoaGFuZGxlci5ldmVudCwgaGFuZGxlci5tZXRob2QuYmluZCh0aGlzKSk7XG4gICAgfVxuICB9XG5cbiAgZGlzY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgZm9yIChjb25zdCBoYW5kbGVyIG9mIHRoaXMuZ2V0RXZlbnRIYW5kbGVycygpKSB7XG4gICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKGhhbmRsZXIuZXZlbnQsIGhhbmRsZXIubWV0aG9kKTtcbiAgICB9XG4gICAgc3VwZXIuZGlzY29ubmVjdGVkQ2FsbGJhY2soKTtcbiAgfVxuXG4gIHB1YmxpYyBmaXJlRXZlbnQodHlwZTogQ3VzdG9tRXZlbnRUeXBlLCBkZXRhaWw6IGFueSA9IHt9KTogdm9pZCB7XG4gICAgY29uc3QgZXZlbnQgPSBuZXcgQ3VzdG9tRXZlbnQodHlwZSwge1xuICAgICAgICBkZXRhaWwsXG4gICAgICAgIGJ1YmJsZXM6IHRydWUsXG4gICAgICAgIGNvbXBvc2VkOiB0cnVlXG4gICAgfSk7XG4gICAgdGhpcy5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcbiAgfTtcbn0iLCJpbXBvcnQgeyBjdXN0b21FbGVtZW50LCBUZW1wbGF0ZVJlc3VsdCwgaHRtbCwgY3NzLCBwcm9wZXJ0eSB9IGZyb20gJ2xpdC1lbGVtZW50JztcbmltcG9ydCBSYXBpZEVsZW1lbnQgZnJvbSAnLi4vUmFwaWRFbGVtZW50JztcblxuQGN1c3RvbUVsZW1lbnQoXCJycC10ZXh0aW5wdXRcIilcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRleHRJbnB1dCBleHRlbmRzIFJhcGlkRWxlbWVudCB7XG4gIHN0YXRpYyBnZXQgc3R5bGVzKCkge1xuICAgIHJldHVybiBjc3NgXG4gICAgICBcbiAgICAgIC5pbnB1dC1jb250YWluZXIge1xuICAgICAgICBib3JkZXItcmFkaXVzOiA1cHg7XG4gICAgICAgIG92ZXJmbG93OiBoaWRkZW47XG4gICAgICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tY29sb3Itd2lkZ2V0LWJnKTtcbiAgICAgICAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tY29sb3Itd2lkZ2V0LWJvcmRlcik7XG4gICAgICAgIGJveC1zaGFkb3c6IG5vbmU7XG4gICAgICAgIHRyYW5zaXRpb246IGFsbCBlYXNlLWluLW91dCAyMDBtcztcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgZmxleC1kaXJlY3Rpb246IHJvdztcbiAgICAgICAgYWxpZ24taXRlbXM6IHN0cmV0Y2g7XG4gICAgICB9XG5cbiAgICAgIC5pbnB1dC1jb250YWluZXI6Zm9jdXMtd2l0aGluIHtcbiAgICAgICAgYm9yZGVyLWNvbG9yOiB2YXIoLS1jb2xvci13aWRnZXQtYm9yZGVyKTtcbiAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tY29sb3Itd2lkZ2V0LWJnLWZvY3VzZWQpO1xuICAgICAgICBib3gtc2hhZG93OiB2YXIoLS1jb2xvci13aWRnZXQtc2hhZG93LWZvY3VzZWQpIDFweCAxcHggNnB4IDBweCBpbnNldDtcbiAgICAgIH1cblxuICAgICAgLmlucHV0LWNvbnRhaW5lcjpob3ZlciB7XG4gICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWNvbG9yLXdpZGdldC1iZy1mb2N1c2VkKTtcbiAgICAgIH1cblxuICAgICAgdGV4dGFyZWEge1xuICAgICAgICBoZWlnaHQ6IDg1JTtcbiAgICAgIH1cblxuICAgICAgLnRleHRpbnB1dCB7XG4gICAgICAgIHBhZGRpbmc6IDhweDtcbiAgICAgICAgYm9yZGVyOiAwcHggc29saWQgcmVkO1xuICAgICAgICBmbGV4OiAxO1xuICAgICAgICBtYXJnaW46IDA7XG4gICAgICAgIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50O1xuICAgICAgICBjb2xvcjogdmFyKC0tY29sb3ItdGV4dCk7XG4gICAgICAgIGZvbnQtc2l6ZTogMTNweDtcbiAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xuICAgICAgICByZXNpemU6IG5vbmU7XG4gICAgICB9XG5cbiAgICAgIC50ZXh0aW5wdXQ6Zm9jdXMge1xuICAgICAgICBvdXRsaW5lOiBub25lO1xuICAgICAgICBjdXJzb3I6IHRleHQ7XG4gICAgICB9XG5cbiAgICBgXG4gIH1cblxuICBAcHJvcGVydHkoe3R5cGU6IEJvb2xlYW59KVxuICB0ZXh0YXJlYTogYm9vbGVhbjtcblxuICBAcHJvcGVydHkoe3R5cGU6IFN0cmluZ30pXG4gIHBsYWNlaG9sZGVyOiBzdHJpbmcgPSBcIlwiO1xuXG4gIEBwcm9wZXJ0eSh7dHlwZTogU3RyaW5nfSlcbiAgdmFsdWU6IHN0cmluZyA9IFwiXCI7XG5cbiAgQHByb3BlcnR5KHt0eXBlOiBPYmplY3R9KVxuICBpbnB1dEVsZW1lbnQ6IEhUTUxJbnB1dEVsZW1lbnQ7XG5cbiAgcHVibGljIGZpcnN0VXBkYXRlZChjaGFuZ2VzOiBNYXA8c3RyaW5nLCBhbnk+KSB7XG4gICAgc3VwZXIuZmlyc3RVcGRhdGVkKGNoYW5nZXMpO1xuICAgIHRoaXMuaW5wdXRFbGVtZW50ID0gdGhpcy5zaGFkb3dSb290LnF1ZXJ5U2VsZWN0b3IoXCIudGV4dGlucHV0XCIpO1xuICB9XG5cbiAgcHVibGljIHJlbmRlcigpOiBUZW1wbGF0ZVJlc3VsdCB7XG4gICAgcmV0dXJuIGh0bWxgXG4gICAgPHN0eWxlPlxuICAgICAgLmlucHV0LWNvbnRhaW5lciB7XG4gICAgICAgIGhlaWdodDogJHt0aGlzLnRleHRhcmVhID8gJzEwMCUnIDogJ2F1dG8nfTtcbiAgICAgIH1cbiAgICA8L3N0eWxlPlxuICAgIDxkaXYgY2xhc3M9XCJpbnB1dC1jb250YWluZXJcIiBAY2xpY2s9JHsoKT0+eyAodGhpcy5zaGFkb3dSb290LnF1ZXJ5U2VsZWN0b3IoXCIudGV4dGlucHV0XCIpIGFzIEhUTUxJbnB1dEVsZW1lbnQpLmZvY3VzKCl9fT5cbiAgICAgICR7dGhpcy50ZXh0YXJlYSA/IGh0bWxgXG4gICAgICAgIDx0ZXh0YXJlYSBjbGFzcz1cInRleHRpbnB1dFwiIFxuICAgICAgICAgIC52YWx1ZT0ke3RoaXMudmFsdWV9XG4gICAgICAgICAgcGxhY2Vob2xkZXI9JHt0aGlzLnBsYWNlaG9sZGVyfT5cbiAgICAgICAgPC90ZXh0YXJlYT5cbiAgICAgIGAgOiBodG1sYFxuICAgICAgICA8aW5wdXQgY2xhc3M9XCJ0ZXh0aW5wdXRcIiBcbiAgICAgICAgICAudmFsdWU9JHt0aGlzLnZhbHVlfVxuICAgICAgICAgIHBsYWNlaG9sZGVyPSR7dGhpcy5wbGFjZWhvbGRlcn0+XG4gICAgICBgfVxuICAgIDwvZGl2PlxuICAgIGA7XG4gIH1cbn1cbiIsImltcG9ydCB7IExpdEVsZW1lbnQsIFRlbXBsYXRlUmVzdWx0LCBodG1sLCBjc3MsIGN1c3RvbUVsZW1lbnQsIHByb3BlcnR5IH0gZnJvbSAnbGl0LWVsZW1lbnQnO1xuaW1wb3J0IHsgZ2V0Q2xhc3NlcyB9IGZyb20gJy4uL3V0aWxzJztcblxuXG5AY3VzdG9tRWxlbWVudChcInJwLWxhYmVsXCIpXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBMYWJlbCBleHRlbmRzIExpdEVsZW1lbnQge1xuXG4gIHN0YXRpYyBnZXQgc3R5bGVzKCkge1xuICAgIHJldHVybiBjc3NgXG5cbiAgICAgIDpob3N0IHtcbiAgICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgICAgfVxuXG4gICAgICAubWFzayB7XG4gICAgICAgIHBhZGRpbmc6IDNweCA2cHg7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IHZhcigtLWN1cnZhdHVyZSk7XG4gICAgICB9XG5cbiAgICAgIC5sYWJlbC5jbGlja2FibGUgLm1hc2s6aG92ZXIge1xuICAgICAgICBiYWNrZ3JvdW5kOiByZ2IoMCwwLDAsLjA1KTtcbiAgICAgIH1cblxuICAgICAgLmxhYmVsIHtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogMnB4O1xuICAgICAgICBmb250LXNpemU6IDgwJTtcbiAgICAgICAgZm9udC13ZWlnaHQ6IDQwMDtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogdmFyKC0tY3VydmF0dXJlKTtcbiAgICAgICAgYmFja2dyb3VuZDogdG9tYXRvO1xuICAgICAgICBjb2xvcjogI2ZmZjtcbiAgICAgICAgdGV4dC1zaGFkb3c6IDAgMC4wNGVtIDAuMDRlbSByZ2JhKDAsMCwwLDAuMzUpO1xuICAgICAgfVxuXG4gICAgICAucHJpbWFyeSB7XG4gICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWNvbG9yLWxhYmVsLXByaW1hcnkpO1xuICAgICAgICBjb2xvcjogdmFyKC0tY29sb3ItbGFiZWwtcHJpbWFyeS10ZXh0KTtcbiAgICAgIH1cblxuICAgICAgLnNlY29uZGFyeSB7XG4gICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWNvbG9yLWxhYmVsLXNlY29uZGFyeSk7XG4gICAgICAgIGNvbG9yOiB2YXIoLS1jb2xvci1sYWJlbC1zZWNvbmRhcnktdGV4dCk7XG4gICAgICAgIHRleHQtc2hhZG93OiBub25lO1xuICAgICAgfVxuXG4gICAgICAubGlnaHQge1xuICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1jb2xvci1vdmVybGF5LWxpZ2h0KTtcbiAgICAgICAgY29sb3I6IHZhcigtLWNvbG9yLW92ZXJsYXktbGlnaHQtdGV4dCk7XG4gICAgICAgIHRleHQtc2hhZG93OiBub25lO1xuICAgICAgfVxuXG4gICAgICAuZGFyayB7XG4gICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWNvbG9yLW92ZXJsYXktZGFyayk7XG4gICAgICAgIGNvbG9yOiB2YXIoLS1jb2xvci1vdmVybGF5LWRhcmstdGV4dCk7XG4gICAgICAgIHRleHQtc2hhZG93OiBub25lO1xuICAgICAgfVxuXG4gICAgICAuY2xpY2thYmxlIHtcbiAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xuICAgICAgfVxuICBgO1xuICB9XG5cbiAgQHByb3BlcnR5KHt0eXBlOiBCb29sZWFufSlcbiAgY2xpY2thYmxlOiBib29sZWFuO1xuICBcbiAgQHByb3BlcnR5KHt0eXBlOiBCb29sZWFufSlcbiAgcHJpbWFyeTogYm9vbGVhbjtcblxuICBAcHJvcGVydHkoe3R5cGU6IEJvb2xlYW59KVxuICBzZWNvbmRhcnk6IGJvb2xlYW47XG5cbiAgQHByb3BlcnR5KHt0eXBlOiBCb29sZWFufSlcbiAgbGlnaHQ6IGJvb2xlYW47XG5cbiAgQHByb3BlcnR5KHt0eXBlOiBCb29sZWFufSlcbiAgZGFyazogYm9vbGVhbjtcblxuICBAcHJvcGVydHkoKVxuICBiYWNrZ3JvdW5kQ29sb3I6IHN0cmluZztcblxuICBAcHJvcGVydHkoKVxuICB0ZXh0Q29sb3I6IHN0cmluZztcblxuICBwdWJsaWMgcmVuZGVyKCk6IFRlbXBsYXRlUmVzdWx0IHtcbiAgICByZXR1cm4gaHRtbGBcbiAgICAgICR7dGhpcy5iYWNrZ3JvdW5kQ29sb3IgJiYgdGhpcy50ZXh0Q29sb3IgPyBodG1sYFxuICAgICAgICA8c3R5bGU+XG4gICAgICAgICAgLmxhYmVsIHtcbiAgICAgICAgICAgIGJhY2tncm91bmQ6ICR7dGhpcy5iYWNrZ3JvdW5kQ29sb3J9O1xuICAgICAgICAgICAgY29sb3I6ICR7dGhpcy50ZXh0Q29sb3J9O1xuICAgICAgICAgIH1cbiAgICAgICAgPC9zdHlsZT5cbiAgICAgIGA6IG51bGx9XG5cbiAgICAgIDxkaXYgY2xhc3M9XCJsYWJlbCAke2dldENsYXNzZXMoeyBcbiAgICAgICAgXCJjbGlja2FibGVcIjogdGhpcy5jbGlja2FibGUsXG4gICAgICAgIFwicHJpbWFyeVwiOiB0aGlzLnByaW1hcnksXG4gICAgICAgIFwic2Vjb25kYXJ5XCI6IHRoaXMuc2Vjb25kYXJ5LFxuICAgICAgICBcImxpZ2h0XCI6IHRoaXMubGlnaHQsXG4gICAgICAgIFwiZGFya1wiOiB0aGlzLmRhcmtcbiAgICAgICAgfSl9XCJcbiAgICAgICA+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJtYXNrXCI+XG4gICAgICAgICAgPHNsb3Q+PC9zbG90PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIGA7XG4gIH1cbn0iLCJleHBvcnQgaW50ZXJmYWNlIEZlYXR1cmVQcm9wZXJ0aWVzIHtcbiAgICBuYW1lOiBzdHJpbmc7XG4gICAgb3NtX2lkOiBzdHJpbmc7XG4gICAgbGV2ZWw6IG51bWJlcjtcbiAgICBjaGlsZHJlbj86IEZlYXR1cmVQcm9wZXJ0aWVzW107XG4gICAgaGFzX2NoaWxkcmVuPzogYm9vbGVhbjtcbiAgICBhbGlhc2VzPzogc3RyaW5nO1xuICAgIHBhcmVudF9vc21faWQ/OiBzdHJpbmc7XG4gICAgaWQ/OiBudW1iZXI7XG4gICAgcGF0aD86IHN0cmluZztcbn1cblxuZXhwb3J0IGVudW0gQ3VzdG9tRXZlbnRUeXBlIHtcbiAgICBDYW5jZWxlZCA9ICdycC1jYW5jZWxlZCcsXG4gICAgQ3Vyc29yQ2hhbmdlZCA9ICdycC1jdXJzb3ItY2hhbmdlZCcsXG4gICAgU2VsZWN0aW9uID0gJ3JwLXNlbGVjdGlvbidcbn0iLCJpbXBvcnQgeyBjdXN0b21FbGVtZW50LCBUZW1wbGF0ZVJlc3VsdCwgaHRtbCwgcHJvcGVydHksIGNzcyB9IGZyb20gJ2xpdC1lbGVtZW50JztcbmltcG9ydCB7IEN1c3RvbUV2ZW50VHlwZSB9IGZyb20gJy4uL2ludGVyZmFjZXMnO1xuaW1wb3J0IFJhcGlkRWxlbWVudCwgeyBFdmVudEhhbmRsZXIgfSBmcm9tICcuLi9SYXBpZEVsZW1lbnQnO1xuXG5AY3VzdG9tRWxlbWVudChcInJwLW9wdGlvbnNcIilcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE9wdGlvbnMgZXh0ZW5kcyBSYXBpZEVsZW1lbnQge1xuXG4gIHN0YXRpYyBnZXQgc3R5bGVzKCkge1xuICAgIHJldHVybiBjc3NgXG4gICAgICAuY29udGFpbmVyIHtcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICB2aXNpYmlsaXR5OiBoaWRkZW47XG4gICAgICAgIG9wYWNpdHk6IDA7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IHZhcigtLWN1cnZhdHVyZSk7XG4gICAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWNvbG9yLWJvcmRlcnMpO1xuICAgICAgICBib3gtc2hhZG93OiAwcHggMHB4IDNweCAxcHggcmdiYSgwLDAsMCwuMDYpO1xuICAgICAgICBiYWNrZ3JvdW5kOiAjZmZmO1xuICAgICAgfVxuXG4gICAgICAub3B0aW9ucyB7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IHZhcigtLWN1cnZhdHVyZSk7XG4gICAgICAgIG92ZXJmbG93LXk6IHNjcm9sbDtcbiAgICAgICAgYmFja2dyb3VuZDogI2ZmZjtcbiAgICAgICAgbWF4LWhlaWdodDogMzAwcHg7XG4gICAgICB9XG5cbiAgICAgIC5zaG93IHtcbiAgICAgICAgb3BhY2l0eTogMTtcbiAgICAgICAgdmlzaWJpbGl0eTogdmlzaWJsZTtcbiAgICAgIH1cblxuICAgICAgLm9wdGlvbiB7XG4gICAgICAgIGZvbnQtc2l6ZTogMTRweDtcbiAgICAgICAgcGFkZGluZzogMTBweCAyMHB4O1xuICAgICAgICBib3JkZXItcmFkaXVzOiA1cHg7XG4gICAgICAgIG1hcmdpbjogNXB4O1xuICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgICAgIGNvbG9yOiB2YXIoLS1jb2xvci10ZXh0KTtcbiAgICAgIH1cblxuICAgICAgLm9wdGlvbi5mb2N1c2VkIHtcbiAgICAgICAgYmFja2dyb3VuZDogcmdiYSh2YXIoLS1wcmltYXJ5LXJnYiksIC44KTtcbiAgICAgICAgY29sb3I6IHZhcigtLWNvbG9yLXRleHQtbGlnaHQpO1xuICAgICAgfVxuXG4gICAgICAub3B0aW9uIC5kZXRhaWwge1xuICAgICAgICBmb250LXNpemU6IDg1JTtcbiAgICAgICAgY29sb3I6IHJnYmEoMjU1LDI1NSwyNTUsLjkpO1xuICAgICAgfVxuXG4gICAgICBjb2RlIHtcbiAgICAgICAgYmFja2dyb3VuZDogcmdiYSgwLDAsMCwuMTUpO1xuICAgICAgICBwYWRkaW5nOiAxcHggNXB4O1xuICAgICAgICBib3JkZXItcmFkaXVzOiB2YXIoLS1jdXJ2YXR1cmUpO1xuICAgICAgfVxuICAgIGBcbiAgfVxuXG4gIEBwcm9wZXJ0eSh7dHlwZTogTnVtYmVyfSlcbiAgdG9wOiBudW1iZXI7XG5cbiAgQHByb3BlcnR5KHt0eXBlOiBOdW1iZXJ9KVxuICBsZWZ0OiBudW1iZXI7XG5cbiAgQHByb3BlcnR5KHt0eXBlOiBOdW1iZXJ9KVxuICB3aWR0aDogbnVtYmVyO1xuXG4gIEBwcm9wZXJ0eSh7dHlwZTogT2JqZWN0fSlcbiAgYW5jaG9yVG86IEhUTUxFbGVtZW50XG5cbiAgQHByb3BlcnR5KHt0eXBlOiBCb29sZWFufSlcbiAgdmlzaWJsZTogYm9vbGVhbjtcblxuICBAcHJvcGVydHkoe3R5cGU6IE51bWJlcn0pXG4gIGN1cnNvckluZGV4OiBudW1iZXIgPSAwO1xuXG4gIEBwcm9wZXJ0eSh7dHlwZTogQXJyYXl9KVxuICBvcHRpb25zOiBhbnlbXVxuXG4gIEBwcm9wZXJ0eSh7YXR0cmlidXRlOiBmYWxzZX0pXG4gIHJlbmRlck9wdGlvbjogKG9wdGlvbjogYW55LCBzZWxlY3RlZDogYm9vbGVhbikgPT4gdm9pZDtcblxuICBAcHJvcGVydHkoe2F0dHJpYnV0ZTogZmFsc2V9KVxuICByZW5kZXJPcHRpb25OYW1lOiAob3B0aW9uOiBhbnksIHNlbGVjdGVkOiBib29sZWFuKSA9PiB2b2lkO1xuXG4gIEBwcm9wZXJ0eSh7YXR0cmlidXRlOiBmYWxzZX0pXG4gIHJlbmRlck9wdGlvbkRldGFpbDogKG9wdGlvbjogYW55LCBzZWxlY3RlZDogYm9vbGVhbikgPT4gdm9pZDtcblxuICBwdWJsaWMgdXBkYXRlZChjaGFuZ2VkUHJvcGVydGllczogTWFwPHN0cmluZywgYW55Pikge1xuICAgIHN1cGVyLnVwZGF0ZWQoY2hhbmdlZFByb3BlcnRpZXMpO1xuXG4gICAgLy8gaWYgb3VyIGN1cnNvciBjaGFuZ2VkLCBsZXRzIG1ha2Ugc3VyZSBvdXIgc2Nyb2xsYm94IGlzIHNob3dpbmcgaXRcbiAgICBpZihjaGFuZ2VkUHJvcGVydGllcy5oYXMoXCJjdXJzb3JJbmRleFwiKSkge1xuICAgICAgY29uc3QgZm9jdXNlZEVsZSA9IHRoaXMuc2hhZG93Um9vdC5xdWVyeVNlbGVjdG9yKFwiLmZvY3VzZWRcIikgYXMgSFRNTERpdkVsZW1lbnQ7XG4gICAgICBpZiAoZm9jdXNlZEVsZSkge1xuICAgICAgICBjb25zdCBzY3JvbGxCb3ggPSAgdGhpcy5zaGFkb3dSb290LnF1ZXJ5U2VsZWN0b3IoXCIub3B0aW9uc1wiKTtcbiAgICAgICAgY29uc3Qgc2Nyb2xsQm94SGVpZ2h0ID0gc2Nyb2xsQm94LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodFxuICAgICAgICBjb25zdCBmb2N1c2VkRWxlSGVpZ2h0ID0gZm9jdXNlZEVsZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQ7ICAgIFxuXG4gICAgICAgIGlmIChmb2N1c2VkRWxlLm9mZnNldFRvcCArIGZvY3VzZWRFbGVIZWlnaHQgPiBzY3JvbGxCb3guc2Nyb2xsVG9wICsgc2Nyb2xsQm94SGVpZ2h0IC0gNSkge1xuICAgICAgICAgIGNvbnN0IHNjcm9sbFRvID0gZm9jdXNlZEVsZS5vZmZzZXRUb3AgLSBzY3JvbGxCb3hIZWlnaHQgKyBmb2N1c2VkRWxlSGVpZ2h0ICsgNTtcbiAgICAgICAgICBzY3JvbGxCb3guc2Nyb2xsVG9wID0gc2Nyb2xsVG87XG4gICAgICAgIH0gZWxzZSBpZiAoZm9jdXNlZEVsZS5vZmZzZXRUb3AgPCBzY3JvbGxCb3guc2Nyb2xsVG9wKSB7XG4gICAgICAgICAgY29uc3Qgc2Nyb2xsVG8gPSBmb2N1c2VkRWxlLm9mZnNldFRvcCAtIDU7XG4gICAgICAgICAgc2Nyb2xsQm94LnNjcm9sbFRvcCA9IHNjcm9sbFRvO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYoY2hhbmdlZFByb3BlcnRpZXMuaGFzKFwib3B0aW9uc1wiKSkge1xuICAgICAgdGhpcy5jYWxjdWxhdGVQb3NpdGlvbigpO1xuICAgICAgdGhpcy5jdXJzb3JJbmRleCA9IDA7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSByZW5kZXJPcHRpb25EZWZhdWx0KG9wdGlvbjogYW55LCBzZWxlY3RlZDogYm9vbGVhbik6IFRlbXBsYXRlUmVzdWx0IHtcbiAgICBjb25zdCByZW5kZXJPcHRpb25OYW1lID0gKHRoaXMucmVuZGVyT3B0aW9uTmFtZSB8fCB0aGlzLnJlbmRlck9wdGlvbk5hbWVEZWZhdWx0KTtcbiAgICBjb25zdCByZW5kZXJPcHRpb25EZXRhaWwgPSAodGhpcy5yZW5kZXJPcHRpb25EZXRhaWwgfHwgdGhpcy5yZW5kZXJPcHRpb25EZXRhaWxEZWZhdWx0KTtcbiAgICBpZiAoc2VsZWN0ZWQpIHtcbiAgICAgIHJldHVybiBodG1sYDxkaXYgY2xhc3M9XCJuYW1lXCI+JHtyZW5kZXJPcHRpb25OYW1lKG9wdGlvbiwgc2VsZWN0ZWQpfTwvZGl2PjxkaXYgY2xhc3M9XCJkZXRhaWxcIj4ke3JlbmRlck9wdGlvbkRldGFpbChvcHRpb24sIHNlbGVjdGVkKX08L2Rpdj5gO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gaHRtbGA8ZGl2IGNsYXNzPVwibmFtZVwiPiR7cmVuZGVyT3B0aW9uTmFtZShvcHRpb24sIHNlbGVjdGVkKX08L2Rpdj5gO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgcmVuZGVyT3B0aW9uTmFtZURlZmF1bHQob3B0aW9uOiBhbnksIHNlbGVjdGVkOiBib29sZWFuKTogVGVtcGxhdGVSZXN1bHQge1xuICAgIHJldHVybiBodG1sYCR7b3B0aW9uLm5hbWV9YFxuICB9XG5cbiAgcHJpdmF0ZSByZW5kZXJPcHRpb25EZXRhaWxEZWZhdWx0KG9wdGlvbjogYW55LCBzZWxlY3RlZDogYm9vbGVhbik6IFRlbXBsYXRlUmVzdWx0IHtcbiAgICByZXR1cm4gaHRtbGAke29wdGlvbi5kZXRhaWx9YFxuICB9XG5cbiAgcHJpdmF0ZSBoYW5kbGVTZWxlY3Rpb24odGFiYmVkOiBib29sZWFuID0gZmFsc2UpIHtcbiAgICBjb25zdCBzZWxlY3RlZCA9IHRoaXMub3B0aW9uc1t0aGlzLmN1cnNvckluZGV4XTtcbiAgICB0aGlzLmZpcmVFdmVudChDdXN0b21FdmVudFR5cGUuU2VsZWN0aW9uLCB7IHNlbGVjdGVkLCB0YWJiZWQgfSk7XG4gIH1cblxuICBwcml2YXRlIG1vdmVDdXJzb3IoZGlyZWN0aW9uOiBudW1iZXIpOiB2b2lkIHtcbiAgICBjb25zdCBuZXdJbmRleCA9IE1hdGgubWF4KE1hdGgubWluKHRoaXMuY3Vyc29ySW5kZXggKyBkaXJlY3Rpb24sIHRoaXMub3B0aW9ucy5sZW5ndGggLSAxKSwgMCk7XG4gICAgdGhpcy5zZXRDdXJzb3IobmV3SW5kZXgpO1xuICB9XG5cbiAgcHJpdmF0ZSBzZXRDdXJzb3IobmV3SW5kZXg6IG51bWJlcik6IHZvaWQge1xuICAgIGlmIChuZXdJbmRleCAhPT0gdGhpcy5jdXJzb3JJbmRleCl7XG4gICAgICB0aGlzLmN1cnNvckluZGV4ID0gbmV3SW5kZXg7XG4gICAgICB0aGlzLmZpcmVFdmVudChDdXN0b21FdmVudFR5cGUuQ3Vyc29yQ2hhbmdlZCwgeyBpbmRleDogbmV3SW5kZXggfSk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBoYW5kbGVLZXlEb3duKGV2dDogS2V5Ym9hcmRFdmVudCkge1xuICAgIGlmICh0aGlzLnZpc2libGUpIHtcbiAgICAgIGlmICgoZXZ0LmN0cmxLZXkgJiYgZXZ0LmtleSA9PT0gXCJuXCIpIHx8IGV2dC5rZXkgPT09IFwiQXJyb3dEb3duXCIpIHtcbiAgICAgICAgdGhpcy5tb3ZlQ3Vyc29yKDEpO1xuICAgICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIH0gZWxzZSBpZiAoKGV2dC5jdHJsS2V5ICYmIGV2dC5rZXkgPT09IFwicFwiKSB8fCBldnQua2V5ID09PSBcIkFycm93VXBcIikge1xuICAgICAgICB0aGlzLm1vdmVDdXJzb3IoLTEpO1xuICAgICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIH0gZWxzZSBpZiAoZXZ0LmtleSA9PT0gXCJFbnRlclwiIHx8IGV2dC5rZXkgPT09IFwiVGFiXCIpIHtcbiAgICAgICAgdGhpcy5oYW5kbGVTZWxlY3Rpb24oZXZ0LmtleSA9PT0gXCJUYWJcIik7XG4gICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgfVxuXG4gICAgICBpZihldnQua2V5ID09PSBcIkVzY2FwZVwiKSB7XG4gICAgICAgIHRoaXMuZmlyZUV2ZW50KEN1c3RvbUV2ZW50VHlwZS5DYW5jZWxlZCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBjYWxjdWxhdGVQb3NpdGlvbigpIHtcbiAgICBjb25zdCBvcHRpb25zQm91bmRzID0gdGhpcy5zaGFkb3dSb290LnF1ZXJ5U2VsZWN0b3IoJy5vcHRpb25zJykuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgaWYgKHRoaXMuYW5jaG9yVG8pIHtcbiAgICAgIGNvbnN0IGFuY2hvckJvdW5kcyA9IHRoaXMuYW5jaG9yVG8uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7ICAgIFxuICAgICAgY29uc3QgdG9wVG9wID0gYW5jaG9yQm91bmRzLnRvcCAtIG9wdGlvbnNCb3VuZHMuaGVpZ2h0O1xuICAgICAgaWYgKHRvcFRvcCA+IDAgJiYgYW5jaG9yQm91bmRzLmJvdHRvbSArIG9wdGlvbnNCb3VuZHMuaGVpZ2h0ID4gd2luZG93LmlubmVySGVpZ2h0KSB7XG4gICAgICAgIHRoaXMudG9wID0gdG9wVG9wICsgd2luZG93LnBhZ2VZT2Zmc2V0O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy50b3AgPSBhbmNob3JCb3VuZHMuYm90dG9tICsgd2luZG93LnBhZ2VZT2Zmc2V0O1xuICAgICAgfVxuXG4gICAgICB0aGlzLmxlZnQgPSBhbmNob3JCb3VuZHMubGVmdDtcbiAgICAgIHRoaXMud2lkdGggPSBhbmNob3JCb3VuZHMud2lkdGg7XG4gICAgfVxuICB9XG5cbiAgcHVibGljIGdldEV2ZW50SGFuZGxlcnMoKTogRXZlbnRIYW5kbGVyW10ge1xuICAgIHJldHVybiBbXG4gICAgICB7IGV2ZW50OiAna2V5ZG93bicsIG1ldGhvZDogdGhpcy5oYW5kbGVLZXlEb3duIH0sXG4gICAgICB7IGV2ZW50OiAnc2Nyb2xsJywgbWV0aG9kOiB0aGlzLmNhbGN1bGF0ZVBvc2l0aW9uIH1cbiAgICBdXG4gIH1cblxuICBwdWJsaWMgcmVuZGVyKCk6IFRlbXBsYXRlUmVzdWx0IHtcbiAgICBjb25zdCByZW5kZXJPcHRpb24gPSAodGhpcy5yZW5kZXJPcHRpb24gfHwgdGhpcy5yZW5kZXJPcHRpb25EZWZhdWx0KS5iaW5kKHRoaXMpO1xuICAgIHJldHVybiBodG1sYFxuICAgICAgPHN0eWxlPlxuICAgICAgICAuY29udGFpbmVyIHtcbiAgICAgICAgICB0b3A6ICR7dGhpcy50b3B9cHg7XG4gICAgICAgICAgbGVmdDogJHt0aGlzLmxlZnR9cHg7XG4gICAgICAgICAgd2lkdGg6ICR7dGhpcy53aWR0aH1weDtcbiAgICAgICAgfVxuXG4gICAgICAgIC5vcHRpb25zIHtcbiAgICAgICAgICB3aWR0aDogJHt0aGlzLndpZHRofXB4O1xuICAgICAgICB9XG4gICAgICA8L3N0eWxlPlxuICAgICAgPGRpdiBjbGFzcz1cImNvbnRhaW5lciAke3RoaXMudmlzaWJsZSA/IFwic2hvd1wiOiBcIlwifVwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwib3B0aW9uc1wiPlxuICAgICAgICAgICR7dGhpcy5vcHRpb25zLm1hcCgob3B0aW9uOiBhbnksIGluZGV4OiBudW1iZXIpPT5odG1sYFxuICAgICAgICAgICAgPGRpdiBcbiAgICAgICAgICAgICAgQG1vdXNlb3Zlcj0keyhldnQ6IE1vdXNlRXZlbnQpPT57XG4gICAgICAgICAgICAgICAgICBpZiAoTWF0aC5hYnMoZXZ0Lm1vdmVtZW50WCkgKyBNYXRoLmFicyhldnQubW92ZW1lbnRZKSA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRDdXJzb3IoaW5kZXgpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICBAY2xpY2s9JHsoKT0+e3RoaXMuaGFuZGxlU2VsZWN0aW9uKCk7fX1cbiAgICAgICAgICAgICAgY2xhc3M9XCJvcHRpb24gJHtpbmRleCA9PSB0aGlzLmN1cnNvckluZGV4ID8gJ2ZvY3VzZWQnIDogJyd9XCI+XG4gICAgICAgICAgICAgICAgJHtyZW5kZXJPcHRpb24ob3B0aW9uLCBpbmRleCA9PSB0aGlzLmN1cnNvckluZGV4KX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIGApfVxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPHNsb3Q+PC9zbG90PlxuICAgICAgPC9kaXY+XG4gICAgICBgO1xuICB9XG59XG4iLCJpbXBvcnQgeyBjdXN0b21FbGVtZW50LCBUZW1wbGF0ZVJlc3VsdCwgaHRtbCwgY3NzLCBwcm9wZXJ0eSB9IGZyb20gJ2xpdC1lbGVtZW50JztcbmltcG9ydCB7IGdldFVybCB9IGZyb20gJy4uL3V0aWxzJztcbmltcG9ydCBheGlvcywgeyBBeGlvc1Jlc3BvbnNlLCBDYW5jZWxUb2tlblNvdXJjZSB9IGZyb20gJ2F4aW9zJztcbmltcG9ydCAnLi4vb3B0aW9ucy9PcHRpb25zJztcbmltcG9ydCBSYXBpZEVsZW1lbnQsIHsgRXZlbnRIYW5kbGVyIH0gZnJvbSAnLi4vUmFwaWRFbGVtZW50JztcbmltcG9ydCB7IEN1c3RvbUV2ZW50VHlwZSB9IGZyb20gJy4uL2ludGVyZmFjZXMnO1xuaW1wb3J0IFRleHRJbnB1dCBmcm9tICcuLi90ZXh0aW5wdXQvVGV4dElucHV0JztcblxuY29uc3QgTE9PS19BSEVBRCA9IDIwO1xuXG5AY3VzdG9tRWxlbWVudChcInJwLXNlbGVjdFwiKVxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2VsZWN0IGV4dGVuZHMgUmFwaWRFbGVtZW50IHtcblxuICBzdGF0aWMgZ2V0IHN0eWxlcygpIHtcbiAgICByZXR1cm4gY3NzYFxuICAgICAgOmhvc3Qge1xuICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgICAgfVxuICAgIGBcbiAgfVxuXG4gIEBwcm9wZXJ0eSh7dHlwZTogQXJyYXl9KVxuICBzZWxlY3RlZDogYW55W10gPSBbXTtcblxuICBAcHJvcGVydHkoKVxuICBwbGFjZWhvbGRlcjogc3RyaW5nID0gJyc7XG5cbiAgQHByb3BlcnR5KClcbiAgZW5kcG9pbnQ6IHN0cmluZztcblxuICBAcHJvcGVydHkoe3R5cGU6IFN0cmluZ30pXG4gIGlucHV0OiBzdHJpbmcgPSAnJztcblxuICBAcHJvcGVydHkoe3R5cGU6IEFycmF5fSlcbiAgb3B0aW9uczogYW55W10gPSBbXTtcblxuICBAcHJvcGVydHkoe3R5cGU6IE51bWJlcn0pXG4gIHF1aWV0TWlsbGlzOiBudW1iZXIgPSAyMDA7XG5cbiAgQHByb3BlcnR5KHt0eXBlOiBCb29sZWFufSlcbiAgZmV0Y2hpbmc6IGJvb2xlYW47XG5cbiAgQHByb3BlcnR5KHthdHRyaWJ1dGU6IGZhbHNlfSlcbiAgY3Vyc29ySW5kZXg6IG51bWJlcjtcblxuICBAcHJvcGVydHkoe2F0dHJpYnV0ZTogZmFsc2V9KVxuICBhbmNob3JFbGVtZW50OiBIVE1MRWxlbWVudDtcblxuICBAcHJvcGVydHkoe2F0dHJpYnV0ZTogZmFsc2V9KVxuICByZW5kZXJPcHRpb246IChvcHRpb246IGFueSwgc2VsZWN0ZWQ6IGJvb2xlYW4pID0+IHZvaWQ7XG5cbiAgQHByb3BlcnR5KHthdHRyaWJ1dGU6IGZhbHNlfSlcbiAgcmVuZGVyT3B0aW9uTmFtZTogKG9wdGlvbjogYW55LCBzZWxlY3RlZDogYm9vbGVhbikgPT4gdm9pZDtcblxuICBAcHJvcGVydHkoe2F0dHJpYnV0ZTogZmFsc2V9KVxuICByZW5kZXJPcHRpb25EZXRhaWw6IChvcHRpb246IGFueSwgc2VsZWN0ZWQ6IGJvb2xlYW4pID0+IHZvaWQgPSAoKT0+e307XG5cbiAgcHJpdmF0ZSBsYXN0UXVlcnk6IG51bWJlcjtcbiAgcHJpdmF0ZSBjYW5jZWxUb2tlbjogQ2FuY2VsVG9rZW5Tb3VyY2U7XG4gIHByaXZhdGUgY29tcGxldGU6IGJvb2xlYW47XG4gIHByaXZhdGUgcGFnZTogbnVtYmVyO1xuICBwcml2YXRlIHF1ZXJ5OiBzdHJpbmc7XG5cbiAgcHVibGljIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gIH1cblxuICBwdWJsaWMgdXBkYXRlZChjaGFuZ2VkUHJvcGVydGllczogTWFwPHN0cmluZywgYW55Pikge1xuICAgIHN1cGVyLnVwZGF0ZWQoY2hhbmdlZFByb3BlcnRpZXMpO1xuICAgIGlmIChjaGFuZ2VkUHJvcGVydGllcy5oYXMoXCJzZWxlY3RlZFwiKSkge1xuICAgICAgdGhpcy5pbnB1dCA9IFwiXCI7XG4gICAgICB0aGlzLnNoYWRvd1Jvb3QucXVlcnlTZWxlY3RvcihcImlucHV0XCIpLmJsdXIoKTtcbiAgICB9XG4gICAgXG4gICAgaWYgKGNoYW5nZWRQcm9wZXJ0aWVzLmhhcyhcImlucHV0XCIpICYmICFjaGFuZ2VkUHJvcGVydGllcy5oYXMoXCJzZWxlY3RlZFwiKSkge1xuICAgICAgaWYgKCF0aGlzLmlucHV0KSB7XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IFtdO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLmxhc3RRdWVyeSkge1xuICAgICAgICB3aW5kb3cuY2xlYXJUaW1lb3V0KHRoaXMubGFzdFF1ZXJ5KTtcbiAgICAgIH1cbiAgICAgIHRoaXMubGFzdFF1ZXJ5ID0gd2luZG93LnNldFRpbWVvdXQoKCk9PntcbiAgICAgICAgdGhpcy5mZXRjaE9wdGlvbnModGhpcy5pbnB1dCk7XG4gICAgICB9LCB0aGlzLnF1aWV0TWlsbGlzKTtcbiAgICB9XG5cbiAgICAgICAvLyBpZiBvdXIgY3Vyc29yIGNoYW5nZWQsIGxldHMgbWFrZSBzdXJlIG91ciBzY3JvbGxib3ggaXMgc2hvd2luZyBpdFxuICAgIGlmKGNoYW5nZWRQcm9wZXJ0aWVzLmhhcyhcImN1cnNvckluZGV4XCIpKSB7XG4gICAgICBpZiAodGhpcy5vcHRpb25zLmxlbmd0aCA+IDAgJiYgXG4gICAgICAgICAgdGhpcy5xdWVyeSAmJiBcbiAgICAgICAgICAhdGhpcy5jb21wbGV0ZSAmJiBcbiAgICAgICAgICB0aGlzLmN1cnNvckluZGV4ID4gdGhpcy5vcHRpb25zLmxlbmd0aCAtIExPT0tfQUhFQUQpIHtcbiAgICAgICAgdGhpcy5mZXRjaE9wdGlvbnModGhpcy5xdWVyeSwgdGhpcy5wYWdlICsgMSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBoYW5kbGVPcHRpb25TZWxlY3Rpb24oZXZlbnQ6IEN1c3RvbUV2ZW50KSB7XG4gICAgY29uc3Qgc2VsZWN0ZWQgPSBldmVudC5kZXRhaWwuc2VsZWN0ZWQ7XG4gICAgdGhpcy5zZWxlY3RlZCA9IFtzZWxlY3RlZF07XG4gICAgdGhpcy5vcHRpb25zID0gW107XG4gICAgdGhpcy5pbnB1dCA9IHNlbGVjdGVkLm5hbWU7XG4gfVxuXG4gIHB1YmxpYyBmZXRjaE9wdGlvbnMocXVlcnk6IHN0cmluZywgcGFnZTogbnVtYmVyID0gMCkge1xuICAgIFxuICAgIGlmICghdGhpcy5mZXRjaGluZykge1xuICAgICAgLy8gbWFrZSBzdXJlIHdlIGNhbmNlbCBhbnkgcHJldmlvdXMgcmVxdWVzdFxuICAgICAgaWYgKHRoaXMuY2FuY2VsVG9rZW4pIHtcbiAgICAgICAgdGhpcy5jYW5jZWxUb2tlbi5jYW5jZWwoKTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgQ2FuY2VsVG9rZW4gPSBheGlvcy5DYW5jZWxUb2tlbjtcbiAgICAgIHRoaXMuY2FuY2VsVG9rZW4gPSBDYW5jZWxUb2tlbi5zb3VyY2UoKTtcblxuICAgICAgdGhpcy5mZXRjaGluZyA9IHRydWU7XG4gICAgICBnZXRVcmwodGhpcy5lbmRwb2ludCArIGVuY29kZVVSSUNvbXBvbmVudChxdWVyeSkgKyBcIiZwYWdlPVwiICsgcGFnZSwgdGhpcy5jYW5jZWxUb2tlbi50b2tlbikudGhlbigocmVzcG9uc2U6IEF4aW9zUmVzcG9uc2UpID0+IHtcbiAgICAgICAgaWYgKHBhZ2UgPT09IDApIHtcbiAgICAgICAgICB0aGlzLm9wdGlvbnMgPSByZXNwb25zZS5kYXRhLmZpbHRlcigob3B0aW9uOiBhbnkpID0+IG9wdGlvbi5sZXZlbCA+IDApO1xuICAgICAgICAgIHRoaXMuY3Vyc29ySW5kZXggPSAwO1xuICAgICAgICAgIHRoaXMucXVlcnkgPSBxdWVyeTtcbiAgICAgICAgICB0aGlzLmNvbXBsZXRlID0gdGhpcy5vcHRpb25zLmxlbmd0aCA9PT0gMDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zdCBuZXdSZXN1bHRzID0gcmVzcG9uc2UuZGF0YS5maWx0ZXIoKG9wdGlvbjogYW55KSA9PiBvcHRpb24ubGV2ZWwgPiAwKTtcbiAgICAgICAgICBpZiAobmV3UmVzdWx0cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB0aGlzLm9wdGlvbnMgPSBbIC4uLnRoaXMub3B0aW9ucywgLi4ubmV3UmVzdWx0c107XG4gICAgICAgICAgfVxuICAgICAgICAgIHRoaXMuY29tcGxldGUgPSBuZXdSZXN1bHRzLmxlbmd0aCA9PT0gMFxuICAgICAgICB9XG4gICAgICAgIHRoaXMuZmV0Y2hpbmcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5wYWdlID0gcGFnZTtcbiAgICAgIH0pLmNhdGNoKChyZWFzb246IGFueSk9PntcbiAgICAgICAgLy8gY2FuY2VsbGVkXG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGhhbmRsZUJsdXIoKSB7XG4gICAgLy8gd2UgZG9uJ3QgZG8gdGhpcyBpbW1lZGlhdGVseSBzbyB3ZSBjYW4gaGFuZGxlIGNsaWNrIGV2ZW50cyBvdXRzaWRlIG9mIG91ciBpbnB1dFxuICAgIHdpbmRvdy5zZXRUaW1lb3V0KCgpPT57dGhpcy5vcHRpb25zID0gW119LCAxMDApO1xuICB9XG5cbiAgcHJpdmF0ZSBoYW5kbGVGb2N1cygpOiB2b2lkIHtcbiAgfVxuXG4gIHByaXZhdGUgaGFuZGxlS2V5VXAoZXZ0OiBLZXlib2FyZEV2ZW50KSB7XG4gICAgY29uc3QgZWxlID0gZXZ0LmN1cnJlbnRUYXJnZXQgYXMgVGV4dElucHV0O1xuICAgIHRoaXMuaW5wdXQgPSBlbGUuaW5wdXRFbGVtZW50LnZhbHVlLnRyaW0oKTtcbiAgfVxuXG4gIHByaXZhdGUgaGFuZGxlQ2FuY2VsKCkge1xuICAgIHRoaXMub3B0aW9ucyA9IFtdO1xuICB9XG5cbiAgcHJpdmF0ZSBoYW5kbGVDdXJzb3JDaGFuZ2VkKGV2ZW50OiBDdXN0b21FdmVudCkge1xuICAgIHRoaXMuY3Vyc29ySW5kZXggPSBldmVudC5kZXRhaWwuaW5kZXg7XG4gIH1cblxuICBwdWJsaWMgZ2V0RXZlbnRIYW5kbGVycygpOiBFdmVudEhhbmRsZXJbXSB7XG4gICAgcmV0dXJuIFtcbiAgICAgIHsgZXZlbnQ6IEN1c3RvbUV2ZW50VHlwZS5DYW5jZWxlZCwgbWV0aG9kOiB0aGlzLmhhbmRsZUNhbmNlbCB9LFxuICAgICAgeyBldmVudDogQ3VzdG9tRXZlbnRUeXBlLkN1cnNvckNoYW5nZWQsIG1ldGhvZDogdGhpcy5oYW5kbGVDdXJzb3JDaGFuZ2VkIH0sXG4gICAgICAvLyB7IGV2ZW50OiBDdXN0b21FdmVudFR5cGUuU2VsZWN0aW9uLCBtZXRob2Q6IHRoaXMuaGFuZGxlT3B0aW9uU2VsZWN0aW9uIH0sXG4gICAgXTtcbiAgfVxuXG4gIHB1YmxpYyBmaXJzdFVwZGF0ZWQoY2hhbmdlZFByb3BlcnRpZXM6IGFueSkge1xuICAgIHRoaXMuYW5jaG9yRWxlbWVudCA9IHRoaXMuc2hhZG93Um9vdC5xdWVyeVNlbGVjdG9yKFwicnAtdGV4dGlucHV0XCIpO1xuICB9XG5cbiAgcHVibGljIHJlbmRlcigpOiBUZW1wbGF0ZVJlc3VsdCB7XG4gICAgcmV0dXJuIGh0bWxgXG4gICAgICA8cnAtdGV4dGlucHV0XG4gICAgICAgIEBrZXl1cD0ke3RoaXMuaGFuZGxlS2V5VXB9XG4gICAgICAgIEBibHVyPSR7dGhpcy5oYW5kbGVCbHVyfSBcbiAgICAgICAgQGZvY3VzPSR7dGhpcy5oYW5kbGVGb2N1c30gXG4gICAgICAgIC52YWx1ZT0ke3RoaXMuaW5wdXR9ICBcbiAgICAgICAgcGxhY2Vob2xkZXI9JHt0aGlzLnBsYWNlaG9sZGVyfVxuICAgICAgPjwvcnAtdGV4dGlucHV0PlxuICAgICAgPHJwLW9wdGlvbnNcbiAgICAgICAgY3Vyc29ySW5kZXg9JHt0aGlzLmN1cnNvckluZGV4fVxuICAgICAgICBAcnAtc2VsZWN0aW9uPSR7dGhpcy5oYW5kbGVPcHRpb25TZWxlY3Rpb259XG4gICAgICAgIC5yZW5kZXJPcHRpb25EZXRhaWw9JHt0aGlzLnJlbmRlck9wdGlvbkRldGFpbH1cbiAgICAgICAgLnJlbmRlck9wdGlvbk5hbWU9JHt0aGlzLnJlbmRlck9wdGlvbk5hbWV9XG4gICAgICAgIC5yZW5kZXJPcHRpb249JHt0aGlzLnJlbmRlck9wdGlvbn1cbiAgICAgICAgLmFuY2hvclRvPSR7dGhpcy5hbmNob3JFbGVtZW50fVxuICAgICAgICAub3B0aW9ucz0ke3RoaXMub3B0aW9uc31cbiAgICAgICAgP3Zpc2libGU9JHt0aGlzLmlucHV0Lmxlbmd0aCA+IDAgJiYgdGhpcy5vcHRpb25zLmxlbmd0aCA+IDB9XG4gICAgICA+PC9ycC1vcHRpb25zPlxuICAgIGBcbiAgfVxufSIsImNvbnN0IFNUQVRFX0JPRFkgPSAwOyAvLyBub3QgaW4gYSBleHByZXNzaW9uXG5jb25zdCBTVEFURV9QUkVGSVggPSAxOyAvLyAnQCcgcHJlZml4IHRoYXQgZGVub3RlcyB0aGUgc3RhcnQgb2YgYW4gZXhwcmVzc2lvblxuY29uc3QgU1RBVEVfSURFTlRJRklFUiA9IDI7IC8vIHRoZSBpZGVudGlmaWVyIHBhcnQsIGUuZy4gJ2NvbnRhY3QuYWdlJyBpbiAnQGNvbnRhY3QuYWdlJ1xuY29uc3QgU1RBVEVfQkFMQU5DRUQgPSAzOyAvLyB0aGUgYmFsYW5jZWQgcGFyZW50aGVzZXMgZGVsaW1pdGVkIHBhcnQsIGUuZy4gJygxICsgMiknIGluICdAKDEgKyAyKSdcbmNvbnN0IFNUQVRFX1NUUklOR19MSVRFUkFMID0gNDsgLy8gYSBzdHJpbmcgbGl0ZXJhbCB3aGljaCBjb3VsZCBjb250YWluIClcbmNvbnN0IFNUQVRFX0VTQ0FQRURfUFJFRklYID0gNTsgLy8gYSAnQCcgcHJlZml4IHByZWNlZGVkIGJ5IGFub3RoZXIgJ0AnXG5jb25zdCBTVEFURV9JR05PUkUgPSA2O1xuXG5leHBvcnQgaW50ZXJmYWNlIEV4cHJlc3Npb24ge1xuICBzdGFydDogbnVtYmVyO1xuICBlbmQ6IG51bWJlcjtcbiAgdGV4dDogc3RyaW5nO1xuICBjbG9zZWQ6IGJvb2xlYW47XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lcyB3aGV0aGVyIHRoZSBnaXZlbiBzdHJpbmcgc3RhcnRzIHdpdGggdGhlIGdpdmVuIHRleHRcbiAqL1xuY29uc3Qgc3RhcnRzV2l0aCA9IChzdHI6IHN0cmluZywgc3RhcnQ6IHN0cmluZyk6IGJvb2xlYW4gPT4ge1xuICByZXR1cm4gc3RyLmluZGV4T2Yoc3RhcnQsIDApID09PSAwO1xufTtcblxuLyoqXG4gKiBDaGVja3MgdGhlIHBhcnNlZCAocG9zc2libHkgcGFydGlhbCkgZXhwcmVzc2lvbiB0byBkZXRlcm1pbmUgaWYgaXQncyB2YWxpZCBiYXNlZCBvbiBob3cgaXQgc3RhcnRzXG4gKi9cbmNvbnN0IGlzVmFsaWRTdGFydCA9IChcbiAgcGFydGlhbEV4cHJlc3Npb246IHN0cmluZyxcbiAgYWxsb3dlZFRvcExldmVsczogc3RyaW5nW10sXG4gIGFsbG93SW5jb21wbGV0ZTogYm9vbGVhblxuKTogYm9vbGVhbiA9PiB7XG4gIGNvbnN0IGJvZHkgPSBwYXJ0aWFsRXhwcmVzc2lvbi5zdWJzdHJpbmcoMSk7IC8vIHN0cmlwIHByZWZpeFxuXG4gIGlmIChib2R5WzBdID09PSAnKCcpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSBlbHNlIHtcbiAgICAvLyBpZiBleHByZXNzaW9uIGRvZXNuJ3Qgc3RhcnQgd2l0aCAoIHRoZW4gY2hlY2sgaXQncyBhbiBhbGxvd2VkIHRvcCBsZXZlbCBjb250ZXh0IHJlZmVyZW5jZVxuICAgIGNvbnN0IHRvcExldmVsID0gYm9keS5zcGxpdCgnLicpWzBdLnRvTG93ZXJDYXNlKCk7XG5cbiAgICBpZiAoYWxsb3dJbmNvbXBsZXRlKSB7XG4gICAgICBmb3IgKGNvbnN0IGFsbG93ZWQgb2YgYWxsb3dlZFRvcExldmVscykge1xuICAgICAgICBpZiAoc3RhcnRzV2l0aChhbGxvd2VkLCB0b3BMZXZlbCkpIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gYWxsb3dlZFRvcExldmVscy5pbmRleE9mKHRvcExldmVsKSA+PSAwO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn07XG5cbi8qKlxuICogRGV0ZXJtaW5lcyB3aGV0aGVyIHRoZSBnaXZlbiBjaGFyYWN0ZXIgaXMgYSB3b3JkIGNoYXJhY3RlciwgaS5lLiBcXHcgaW4gYSByZWdleFxuICovXG5leHBvcnQgY29uc3QgaXNXb3JkQ2hhciA9IChjaDogc3RyaW5nIHwgMCk6IGJvb2xlYW4gPT4ge1xuICByZXR1cm4gKFxuICAgIChjaCA+PSAnYScgJiYgY2ggPD0gJ3onKSB8fCAoY2ggPj0gJ0EnICYmIGNoIDw9ICdaJykgfHwgKGNoID49ICcwJyAmJiBjaCA8PSAnOScpIHx8IGNoID09PSAnXydcbiAgKTtcbn07XG5cbi8qKlxuICogRGV0ZXJtaW5lcyB3aGV0aGVyIHdlIGFyZSBpbiBhIHN0cmluZyBsaXRlcmFsXG4gKi9cbmNvbnN0IGlzSW5TdHJpbmdMaXRlcmFsID0gKHBhcnRpYWxFeHByZXNzaW9uOiBzdHJpbmcpOiBib29sZWFuID0+IHtcbiAgLy8gY291bnQgbnVtYmVyIHF1b3RhdGlvbiBtYXJrc1xuICBsZXQgbnVtUXVvdGVzID0gMDtcbiAgZm9yIChjb25zdCBwb3Mgb2YgcGFydGlhbEV4cHJlc3Npb24pIHtcbiAgICBpZiAocG9zID09PSAnXCInKSB7XG4gICAgICBudW1RdW90ZXMrKztcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG51bVF1b3RlcyAlIDIgIT09IDA7IC8vIG9kZCBtZWFucyBsYXN0IHN0cmluZyBsaXRlcmFsIGlzIG9wZW5cbn07XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEV4Y2VsbGVudFBhcnNlciB7XG4gIHByaXZhdGUgZXhwcmVzc2lvblByZWZpeDogc3RyaW5nO1xuICBwcml2YXRlIGFsbG93ZWRUb3BMZXZlbHM6IHN0cmluZ1tdO1xuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgbmV3IHBhcnNlclxuICAgKiBAcGFyYW0gZXhwcmVzc2lvblByZWZpeCB0aGUgcHJlZml4IGZvciBleHByZXNzaW9ucywgZS5nLiAnQCdcbiAgICogQHBhcmFtIGFsbG93ZWRUb3BMZXZlbHMgdGhlIGNvbnRleHQgbmFtZXMgdGhhdCBhcmUgYWxsb3dlZCB3aXRob3V0IHBhcmVudGhlc2VzLCBlLmcuIFtcImNvbnRhY3RcIiwgXCJmbG93XCIsIC4uLl1cbiAgICovXG4gIGNvbnN0cnVjdG9yKGV4cHJlc3Npb25QcmVmaXg6IHN0cmluZywgYWxsb3dlZFRvcExldmVsczogc3RyaW5nW10pIHtcbiAgICB0aGlzLmV4cHJlc3Npb25QcmVmaXggPSBleHByZXNzaW9uUHJlZml4O1xuICAgIHRoaXMuYWxsb3dlZFRvcExldmVscyA9IGFsbG93ZWRUb3BMZXZlbHM7XG4gIH1cblxuICAvKipcbiAgICogR2l2ZW4gdGhlIHRleHQgdXAgdG8gdGhlIGNhcmV0IHBvc2l0aW9uLCByZXR1cm5zIHRoZSBleHByZXNzaW9uIGN1cnJlbnRseSBiZWluZyBlZGl0ZWQsIHdpdGhvdXQgaXRzIHByZWZpeFxuICAgKi9cbiAgcHVibGljIGV4cHJlc3Npb25Db250ZXh0KHRleHRUb0NhcmV0OiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIGNvbnN0IGV4cHJlc3Npb25zID0gdGhpcy5maW5kRXhwcmVzc2lvbnModGV4dFRvQ2FyZXQpO1xuICAgIGlmIChleHByZXNzaW9ucy5sZW5ndGggPT09IDApIHtcbiAgICAgIC8vIG5vIGV4cHJlc3Npb25zIGZvdW5kXG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBjb25zdCBsYXN0RXhwcmVzc2lvbiA9IGV4cHJlc3Npb25zW2V4cHJlc3Npb25zLmxlbmd0aCAtIDFdO1xuXG4gICAgLy8gaGFzIGxhc3QgZXhwcmVzc2lvbiBhbHJlYWR5IGVuZGVkIG9yIGlzIGl0IGNsb3NlZCAoaS5lLiBoYXMgYmFsYW5jZWQgcGFyZW50aGVzZXMpXG4gICAgaWYgKGxhc3RFeHByZXNzaW9uLmVuZCA8IHRleHRUb0NhcmV0Lmxlbmd0aCB8fCBsYXN0RXhwcmVzc2lvbi5jbG9zZWQpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHJldHVybiBsYXN0RXhwcmVzc2lvbi50ZXh0LnN1YnN0cmluZygxKTsgLy8gcmV0dXJuIHdpdGhvdXQgcHJlZml4XG4gIH1cblxuICAvKipcbiAgICogR2l2ZW4gdGhlIHBhcnRpYWwgZXhwcmVzc2lvbiBjdXJyZW50bHkgYmVpbmcgZWRpdGVkLCByZXR1cm5zIHRoZSBjdXJyZW50IGF1dG8tY29tcGxldGFibGUgaWRlbnRpZmllclxuICAgKiB3aGljaCBtYXkgYmUgYSBmdW5jdGlvbiBuYW1lIG9yIGEgY29udGV4dCByZWZlcmVuY2UuXG4gICAqL1xuICBwdWJsaWMgYXV0b0NvbXBsZXRlQ29udGV4dChwYXJ0aWFsRXhwcmVzc2lvbjogc3RyaW5nKTogc3RyaW5nIHtcbiAgICBpZiAoaXNJblN0cmluZ0xpdGVyYWwocGFydGlhbEV4cHJlc3Npb24pKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBjb25zdCBuZWVkZWRQYXJlbnRoZXNlcyA9IFtdO1xuICAgIGxldCBmcmFnbWVudCA9ICcnO1xuICAgIGxldCBza2lwQ2hhciA9IGZhbHNlO1xuICAgIGxldCBpblF1b3RlcyA9IGZhbHNlO1xuICAgIGxldCBwcmVwZW5kRmxhZyA9ICcnO1xuXG4gICAgZm9yIChsZXQgcG9zID0gcGFydGlhbEV4cHJlc3Npb24ubGVuZ3RoIC0gMTsgcG9zID49IDA7IHBvcy0tKSB7XG4gICAgICBjb25zdCBjaCA9IHBhcnRpYWxFeHByZXNzaW9uW3Bvc107XG5cbiAgICAgIGlmIChjaCA9PT0gJyAnKSB7XG4gICAgICAgIHNraXBDaGFyID0gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKGNoID09PSAnLCcpIHtcbiAgICAgICAgc2tpcENoYXIgPSB0cnVlO1xuICAgICAgICBpZiAobmVlZGVkUGFyZW50aGVzZXNbbmVlZGVkUGFyZW50aGVzZXMubGVuZ3RoIC0gMV0gIT09ICcoJykge1xuICAgICAgICAgIG5lZWRlZFBhcmVudGhlc2VzLnB1c2goJygnKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoY2ggPT09ICcpJyAmJiAhaW5RdW90ZXMpIHtcbiAgICAgICAgc2tpcENoYXIgPSB0cnVlO1xuICAgICAgICBuZWVkZWRQYXJlbnRoZXNlcy5wdXNoKCcoJyk7XG4gICAgICAgIG5lZWRlZFBhcmVudGhlc2VzLnB1c2goJygnKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGNoID09PSAnXCInKSB7XG4gICAgICAgIGluUXVvdGVzID0gIWluUXVvdGVzO1xuICAgICAgfVxuXG4gICAgICBpZiAoc2tpcENoYXIpIHtcbiAgICAgICAgaWYgKGNoID09PSAnKCcgJiYgIWluUXVvdGVzKSB7XG4gICAgICAgICAgaWYgKG5lZWRlZFBhcmVudGhlc2VzW25lZWRlZFBhcmVudGhlc2VzLmxlbmd0aCAtIDFdID09PSAnKCcpIHtcbiAgICAgICAgICAgIG5lZWRlZFBhcmVudGhlc2VzLnBvcCgpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChuZWVkZWRQYXJlbnRoZXNlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHNraXBDaGFyID0gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChjaCA9PT0gJygnICYmIGZyYWdtZW50ID09PSAnJykge1xuICAgICAgICBwcmVwZW5kRmxhZyA9ICcjJztcbiAgICAgIH1cblxuICAgICAgaWYgKHNraXBDaGFyIHx8IGluUXVvdGVzIHx8IChjaCA9PT0gJygnICYmIGZyYWdtZW50ID09PSAnJykpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIGlmIChpc1dvcmRDaGFyKGNoKSB8fCBjaCA9PT0gJy4nKSB7XG4gICAgICAgIGZyYWdtZW50ID0gY2ggKyBmcmFnbWVudDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChmcmFnbWVudC5tYXRjaCgvW0EtWmEtel1bXFx3XSooXFwuW1xcd10rKSovKSkge1xuICAgICAgcmV0dXJuIHByZXBlbmRGbGFnICsgZnJhZ21lbnQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBUT0RPIGZpbmQgdGhlIGZ1bmN0aW9uIGNvbnRleHRcbiAgICovXG4gIHB1YmxpYyBmdW5jdGlvbkNvbnRleHQocGFydGlhbEV4cHJlc3Npb246IHN0cmluZyk6IHN0cmluZyB7XG4gICAgY29uc3QgaW5TdHJpbmcgPSBpc0luU3RyaW5nTGl0ZXJhbChwYXJ0aWFsRXhwcmVzc2lvbik7XG5cbiAgICAvLyBpbml0aWFsIHN0YXRlIGlzIHN0cmluZyBsaXRlcmFsIGlmIG51bWJlciBvZiBxdW90ZXMgaXMgb2RkXG4gICAgbGV0IHN0YXRlID0gaW5TdHJpbmcgPyBTVEFURV9TVFJJTkdfTElURVJBTCA6IFNUQVRFX0lHTk9SRTtcbiAgICBsZXQgaWRlbnRpZmllciA9ICcnO1xuICAgIGxldCBwYXJlbnRoZXNlc0xldmVsID0gcGFydGlhbEV4cHJlc3Npb25bLTFdID09PSAnKCcgPyAwIDogMTtcblxuICAgIGZvciAobGV0IHBvcyA9IHBhcnRpYWxFeHByZXNzaW9uLmxlbmd0aCAtIDE7IHBvcyA+PSAwOyBwb3MtLSkge1xuICAgICAgY29uc3QgY2ggPSBwYXJ0aWFsRXhwcmVzc2lvbltwb3NdO1xuXG4gICAgICBpZiAoY2ggPT09ICdAJykge1xuICAgICAgICByZXR1cm4gJyc7XG4gICAgICB9XG5cbiAgICAgIGlmIChzdGF0ZSA9PT0gU1RBVEVfSUdOT1JFKSB7XG4gICAgICAgIGlmIChwYXJlbnRoZXNlc0xldmVsID09PSAwICYmIChpc1dvcmRDaGFyKGNoKSB8fCBjaCA9PT0gJy4nKSkge1xuICAgICAgICAgIHN0YXRlID0gU1RBVEVfSURFTlRJRklFUjtcbiAgICAgICAgICBpZGVudGlmaWVyID0gY2ggKyBpZGVudGlmaWVyO1xuICAgICAgICB9IGVsc2UgaWYgKGNoID09PSAnXCInKSB7XG4gICAgICAgICAgc3RhdGUgPSBTVEFURV9TVFJJTkdfTElURVJBTDtcbiAgICAgICAgfSBlbHNlIGlmIChjaCA9PT0gJygnKSB7XG4gICAgICAgICAgcGFyZW50aGVzZXNMZXZlbC0tO1xuICAgICAgICB9IGVsc2UgaWYgKGNoID09PSAnKScpIHtcbiAgICAgICAgICBwYXJlbnRoZXNlc0xldmVsKys7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoc3RhdGUgPT09IFNUQVRFX0lERU5USUZJRVIpIHtcbiAgICAgICAgaWYgKGlzV29yZENoYXIoY2gpIHx8IGNoID09PSAnLicpIHtcbiAgICAgICAgICBpZGVudGlmaWVyID0gY2ggKyBpZGVudGlmaWVyO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBpZGVudGlmaWVyO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHN0YXRlID09PSBTVEFURV9TVFJJTkdfTElURVJBTCkge1xuICAgICAgICBpZiAoY2ggPT09ICdcIicpIHtcbiAgICAgICAgICBzdGF0ZSA9IFNUQVRFX0lHTk9SRTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gJyc7XG4gIH1cblxuICBwdWJsaWMgZ2V0Q29udGFjdEZpZWxkcyh0ZXh0OiBzdHJpbmcpOiBzdHJpbmdbXSB7XG4gICAgY29uc3QgZmllbGRzID0ge307XG4gICAgY29uc3QgcmUgPSAvKChwYXJlbnR8Y2hpbGRcXC4pKmNvbnRhY3RcXC4pKmZpZWxkc1xcLihbYS16MC05X10rKS9nO1xuICAgIGNvbnN0IGV4cHJlc3Npb25zID0gdGhpcy5maW5kRXhwcmVzc2lvbnModGV4dCk7XG4gICAgZm9yIChjb25zdCBleHByZXNzaW9uIG9mIGV4cHJlc3Npb25zKSB7XG4gICAgICBsZXQgbWF0Y2g7XG4gICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bm8tY29uZGl0aW9uYWwtYXNzaWdubWVudFxuICAgICAgd2hpbGUgKChtYXRjaCA9IHJlLmV4ZWMoZXhwcmVzc2lvbi50ZXh0KSkpIHtcbiAgICAgICAgKGZpZWxkcyBhcyBhbnkpW21hdGNoWzNdXSA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBPYmplY3Qua2V5cyhmaWVsZHMpO1xuICB9XG5cbiAgLyoqXG4gICAqIEZpbmRzIGFsbCBleHByZXNzaW9ucyBpbiB0aGUgZ2l2ZW4gdGV4dCwgaW5jbHVkaW5nIGFueSBwYXJ0aWFsbHkgY29tcGxldGUgZXhwcmVzc2lvbiBhdCB0aGUgZW5kIG9mIHRoZSBpbnB1dFxuICAgKi9cbiAgcHVibGljIGZpbmRFeHByZXNzaW9ucyh0ZXh0OiBzdHJpbmcpOiBFeHByZXNzaW9uW10ge1xuICAgIGNvbnN0IGV4cHJlc3Npb25zOiBFeHByZXNzaW9uW10gPSBbXTtcbiAgICBsZXQgc3RhdGUgPSBTVEFURV9CT0RZO1xuICAgIGxldCBjdXJyZW50RXhwcmVzc2lvbjogRXhwcmVzc2lvbiA9IG51bGw7XG4gICAgbGV0IHBhcmVudGhlc2VzTGV2ZWwgPSAwO1xuXG4gICAgZm9yIChsZXQgcG9zID0gMDsgcG9zIDwgdGV4dC5sZW5ndGg7IHBvcysrKSB7XG4gICAgICBjb25zdCBjaCA9IHRleHRbcG9zXTtcblxuICAgICAgLy8gaW4gb3JkZXIgdG8gZGV0ZXJtaW5lIGlmIHRoZSBiIGluIGEuYiB0ZXJtaW5hdGVzIGFuIGlkZW50aWZpZXIsIHdlIGhhdmUgdG8gcGVlayB0d28gY2hhcmFjdGVycyBhaGVhZCBhc1xuICAgICAgLy8gaXQgY291bGQgYmUgYS5iLiAoYiB0ZXJtaW5hdGVzKSBvciBhLmIuYyAoYiBkb2Vzbid0IHRlcm1pbmF0ZSlcbiAgICAgIGNvbnN0IG5leHRDaCA9IHBvcyA8IHRleHQubGVuZ3RoIC0gMSA/IHRleHRbcG9zICsgMV0gOiAwO1xuICAgICAgY29uc3QgbmV4dE5leHRDaCA9IHBvcyA8IHRleHQubGVuZ3RoIC0gMiA/IHRleHRbcG9zICsgMl0gOiAwO1xuXG4gICAgICBpZiAoc3RhdGUgPT09IFNUQVRFX0JPRFkpIHtcbiAgICAgICAgaWYgKGNoID09PSB0aGlzLmV4cHJlc3Npb25QcmVmaXggJiYgKGlzV29yZENoYXIobmV4dENoKSB8fCBuZXh0Q2ggPT09ICcoJykpIHtcbiAgICAgICAgICBzdGF0ZSA9IFNUQVRFX1BSRUZJWDtcbiAgICAgICAgICBjdXJyZW50RXhwcmVzc2lvbiA9IHtcbiAgICAgICAgICAgIHN0YXJ0OiBwb3MsXG4gICAgICAgICAgICBlbmQ6IG51bGwsXG4gICAgICAgICAgICB0ZXh0OiBjaCxcbiAgICAgICAgICAgIGNsb3NlZDogZmFsc2VcbiAgICAgICAgICB9O1xuICAgICAgICB9IGVsc2UgaWYgKGNoID09PSB0aGlzLmV4cHJlc3Npb25QcmVmaXggJiYgbmV4dENoID09PSB0aGlzLmV4cHJlc3Npb25QcmVmaXgpIHtcbiAgICAgICAgICBzdGF0ZSA9IFNUQVRFX0VTQ0FQRURfUFJFRklYO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHN0YXRlID09PSBTVEFURV9QUkVGSVgpIHtcbiAgICAgICAgaWYgKGlzV29yZENoYXIoY2gpKSB7XG4gICAgICAgICAgc3RhdGUgPSBTVEFURV9JREVOVElGSUVSOyAvLyB3ZSdyZSBwYXJzaW5nIGFuIGV4cHJlc3Npb24gbGlrZSBAWFhYXG4gICAgICAgIH0gZWxzZSBpZiAoY2ggPT09ICcoJykge1xuICAgICAgICAgIC8vIHdlJ3JlIHBhcnNpbmcgYW4gZXhwcmVzc2lvbiBsaWtlIEAoMSArIDIpXG4gICAgICAgICAgc3RhdGUgPSBTVEFURV9CQUxBTkNFRDtcbiAgICAgICAgICBwYXJlbnRoZXNlc0xldmVsICs9IDE7XG4gICAgICAgIH1cbiAgICAgICAgY3VycmVudEV4cHJlc3Npb24udGV4dCArPSBjaDtcbiAgICAgIH0gZWxzZSBpZiAoc3RhdGUgPT09IFNUQVRFX0lERU5USUZJRVIpIHtcbiAgICAgICAgY3VycmVudEV4cHJlc3Npb24udGV4dCArPSBjaDtcbiAgICAgIH0gZWxzZSBpZiAoc3RhdGUgPT09IFNUQVRFX0JBTEFOQ0VEKSB7XG4gICAgICAgIGlmIChjaCA9PT0gJygnKSB7XG4gICAgICAgICAgcGFyZW50aGVzZXNMZXZlbCArPSAxO1xuICAgICAgICB9IGVsc2UgaWYgKGNoID09PSAnKScpIHtcbiAgICAgICAgICBwYXJlbnRoZXNlc0xldmVsIC09IDE7XG4gICAgICAgIH0gZWxzZSBpZiAoY2ggPT09ICdcIicpIHtcbiAgICAgICAgICBzdGF0ZSA9IFNUQVRFX1NUUklOR19MSVRFUkFMO1xuICAgICAgICB9XG5cbiAgICAgICAgY3VycmVudEV4cHJlc3Npb24udGV4dCArPSBjaDtcblxuICAgICAgICAvLyBleHByZXNzaW9uIHRlcm1pbmF0ZXMgaWYgcGFyZW50aGVzZXMgYmFsYW5jZVxuICAgICAgICBpZiAocGFyZW50aGVzZXNMZXZlbCA9PT0gMCkge1xuICAgICAgICAgIGN1cnJlbnRFeHByZXNzaW9uLmVuZCA9IHBvcyArIDE7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoc3RhdGUgPT09IFNUQVRFX1NUUklOR19MSVRFUkFMKSB7XG4gICAgICAgIGlmIChjaCA9PT0gJ1wiJykge1xuICAgICAgICAgIHN0YXRlID0gU1RBVEVfQkFMQU5DRUQ7XG4gICAgICAgIH1cbiAgICAgICAgY3VycmVudEV4cHJlc3Npb24udGV4dCArPSBjaDtcbiAgICAgIH0gZWxzZSBpZiAoc3RhdGUgPT09IFNUQVRFX0VTQ0FQRURfUFJFRklYKSB7XG4gICAgICAgIHN0YXRlID0gU1RBVEVfQk9EWTtcbiAgICAgIH1cblxuICAgICAgLy8gaWRlbnRpZmllciBjYW4gdGVybWluYXRlIGV4cHJlc3Npb24gaW4gMyB3YXlzOlxuICAgICAgLy8gIDEuIG5leHQgY2hhciBpcyBudWxsIChpLmUuIGVuZCBvZiB0aGUgaW5wdXQpXG4gICAgICAvLyAgMi4gbmV4dCBjaGFyIGlzIG5vdCBhIHdvcmQgY2hhcmFjdGVyIG9yIHBlcmlvZFxuICAgICAgLy8gIDMuIG5leHQgY2hhciBpcyBhIHBlcmlvZCwgYnV0IGl0J3Mgbm90IGZvbGxvd2VkIGJ5IGEgd29yZCBjaGFyYWN0ZXJcbiAgICAgIGlmIChzdGF0ZSA9PT0gU1RBVEVfSURFTlRJRklFUikge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgKCFpc1dvcmRDaGFyKG5leHRDaCkgJiYgbmV4dENoICE9PSAnLicpIHx8XG4gICAgICAgICAgKG5leHRDaCA9PT0gJy4nICYmICFpc1dvcmRDaGFyKG5leHROZXh0Q2gpKVxuICAgICAgICApIHtcbiAgICAgICAgICBjdXJyZW50RXhwcmVzc2lvbi5lbmQgPSBwb3MgKyAxO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChjdXJyZW50RXhwcmVzc2lvbiAhPSBudWxsICYmIChjdXJyZW50RXhwcmVzc2lvbi5lbmQgIT0gbnVsbCB8fCBuZXh0Q2ggPT09IDApKSB7XG4gICAgICAgIGNvbnN0IGFsbG93SW5jb21wbGV0ZSA9IG5leHRDaCA9PT0gMDsgLy8gaWYgd2UncmUgYXQgdGhlIGVuZCBvZiB0aGUgaW5wdXQsIGFsbG93IGluY29tcGxldGUgZXhwcmVzc2lvbnNcbiAgICAgICAgaWYgKGlzVmFsaWRTdGFydChjdXJyZW50RXhwcmVzc2lvbi50ZXh0LCB0aGlzLmFsbG93ZWRUb3BMZXZlbHMsIGFsbG93SW5jb21wbGV0ZSkpIHtcbiAgICAgICAgICBjdXJyZW50RXhwcmVzc2lvbi5jbG9zZWQgPSBjdXJyZW50RXhwcmVzc2lvbi50ZXh0WzFdID09PSAnKCcgJiYgcGFyZW50aGVzZXNMZXZlbCA9PT0gMDtcbiAgICAgICAgICBjdXJyZW50RXhwcmVzc2lvbi5lbmQgPSBwb3MgKyAxO1xuICAgICAgICAgIGV4cHJlc3Npb25zLnB1c2goY3VycmVudEV4cHJlc3Npb24pO1xuICAgICAgICB9XG5cbiAgICAgICAgY3VycmVudEV4cHJlc3Npb24gPSBudWxsO1xuICAgICAgICBzdGF0ZSA9IFNUQVRFX0JPRFk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGV4cHJlc3Npb25zO1xuICB9XG59XG4iLCJpbXBvcnQgeyBDb21wbGV0aW9uT3B0aW9uIH0gZnJvbSAnLi9Db21wbGV0aW9uJztcblxuZXhwb3J0IGludGVyZmFjZSBDb21wbGV0aW9uUHJvcGVydHkge1xuICAgIGtleTogc3RyaW5nO1xuICAgIGhlbHA6IHN0cmluZztcbiAgICB0eXBlOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ29tcGxldGlvblR5cGUge1xuICAgIG5hbWU6IHN0cmluZztcblxuICAgIGtleV9zb3VyY2U/OiBzdHJpbmc7XG4gICAgcHJvcGVydHlfdGVtcGxhdGU/OiBDb21wbGV0aW9uUHJvcGVydHk7XG4gICAgcHJvcGVydGllcz86IENvbXBsZXRpb25Qcm9wZXJ0eVtdO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIENvbXBsZXRpb25TY2hlbWEge1xuICAgIHR5cGVzOiBDb21wbGV0aW9uVHlwZVtdO1xuICAgIHJvb3Q6IENvbXBsZXRpb25Qcm9wZXJ0eVtdO1xuICAgIHJvb3Rfbm9fc2Vzc2lvbjogQ29tcGxldGlvblByb3BlcnR5W107XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUG9zaXRpb24ge1xuICAgIHRvcDogbnVtYmVyO1xuICAgIGxlZnQ6IG51bWJlcjtcbn1cblxuZXhwb3J0IHR5cGUgS2V5ZWRBc3NldHMgPSB7IFthc3NldFR5cGU6IHN0cmluZ106IHN0cmluZ1tdIH07XG5cbmV4cG9ydCBjb25zdCBnZXRGdW5jdGlvbnMgPSAoXG4gICAgZnVuY3Rpb25zOiBDb21wbGV0aW9uT3B0aW9uW10sXG4gICAgcXVlcnk6IHN0cmluZ1xuKTogQ29tcGxldGlvbk9wdGlvbltdID0+IHtcbiAgICBpZiAoIXF1ZXJ5KSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbnM7XG4gICAgfVxuICAgIHJldHVybiBmdW5jdGlvbnMuZmlsdGVyKChvcHRpb246IENvbXBsZXRpb25PcHRpb24pID0+IHtcbiAgICAgICAgaWYgKG9wdGlvbi5zaWduYXR1cmUpIHtcbiAgICAgICAgICAgIHJldHVybiBvcHRpb24uc2lnbmF0dXJlLmluZGV4T2YocXVlcnkpID09PSAwO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9KTtcbn07XG5cbi8qKlxuICogVGFrZXMgYSBkb3QgcXVlcnkgYW5kIHJldHVybnMgdGhlIGNvbXBsZXRpb25zIG9wdGlvbnMgYXQgdGhlIGN1cnJlbnQgbGV2ZWxcbiAqIEBwYXJhbSBkb3RRdWVyeSBxdWVyeSBzdWNoIGFzIFwiY29udGFjdC5maXJzdF9uXCJcbiAqL1xuZXhwb3J0IGNvbnN0IGdldENvbXBsZXRpb25zID0gKFxuICAgIHNjaGVtYTogQ29tcGxldGlvblNjaGVtYSxcbiAgICBkb3RRdWVyeTogc3RyaW5nLFxuICAgIGtleWVkQXNzZXRzOiBLZXllZEFzc2V0cyA9IHt9XG4pOiBDb21wbGV0aW9uT3B0aW9uW10gPT4ge1xuICAgIGNvbnN0IHBhcnRzID0gKGRvdFF1ZXJ5IHx8ICcnKS5zcGxpdCgnLicpO1xuICAgIGxldCBjdXJyZW50UHJvcHM6IENvbXBsZXRpb25Qcm9wZXJ0eVtdID0gc2NoZW1hLnJvb3Rfbm9fc2Vzc2lvbjtcblxuICAgIGxldCBwcmVmaXggPSAnJztcbiAgICBsZXQgcGFydCA9ICcnO1xuICAgIHdoaWxlIChwYXJ0cy5sZW5ndGggPiAwKSB7XG4gICAgICAgIHBhcnQgPSBwYXJ0cy5zaGlmdCgpO1xuICAgICAgICBpZiAocGFydCkge1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4gICAgICAgICAgICBjb25zdCBuZXh0UHJvcCA9IGN1cnJlbnRQcm9wcy5maW5kKFxuICAgICAgICAgICAgICAgIChwcm9wOiBDb21wbGV0aW9uUHJvcGVydHkpID0+IHByb3Aua2V5ID09PSBwYXJ0XG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgaWYgKG5leHRQcm9wKSB7XG4gICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4gICAgICAgICAgICAgICAgY29uc3QgbmV4dFR5cGUgPSBzY2hlbWEudHlwZXMuZmluZChcbiAgICAgICAgICAgICAgICAgICAgKHR5cGU6IENvbXBsZXRpb25UeXBlKSA9PiB0eXBlLm5hbWUgPT09IG5leHRQcm9wLnR5cGVcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIGlmIChuZXh0VHlwZSAmJiBuZXh0VHlwZS5wcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRQcm9wcyA9IG5leHRUeXBlLnByb3BlcnRpZXM7XG4gICAgICAgICAgICAgICAgICAgIHByZWZpeCArPSBwYXJ0ICsgJy4nO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobmV4dFR5cGUgJiYgbmV4dFR5cGUucHJvcGVydHlfdGVtcGxhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgcHJlZml4ICs9IHBhcnQgKyAnLic7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXBsYXRlID0gbmV4dFR5cGUucHJvcGVydHlfdGVtcGxhdGU7XG4gICAgICAgICAgICAgICAgICAgIGlmIChrZXllZEFzc2V0c1tuZXh0VHlwZS5uYW1lXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFByb3BzID0ga2V5ZWRBc3NldHNbbmV4dFR5cGUubmFtZV0ubWFwKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChrZXk6IHN0cmluZykgPT4gKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5OiB0ZW1wbGF0ZS5rZXkucmVwbGFjZSgne2tleX0nLCBrZXkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWxwOiB0ZW1wbGF0ZS5oZWxwLnJlcGxhY2UoJ3trZXl9Jywga2V5KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogdGVtcGxhdGUudHlwZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFByb3BzID0gW107XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudFByb3BzID0gY3VycmVudFByb3BzLmZpbHRlcihcbiAgICAgICAgICAgICAgICAgICAgICAgIChwcm9wOiBDb21wbGV0aW9uUHJvcGVydHkpID0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvcC5rZXkuc3RhcnRzV2l0aChwYXJ0LnRvTG93ZXJDYXNlKCkpXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4gICAgICAgICAgICAgICAgY3VycmVudFByb3BzID0gY3VycmVudFByb3BzLmZpbHRlcigocHJvcDogQ29tcGxldGlvblByb3BlcnR5KSA9PlxuICAgICAgICAgICAgICAgICAgICBwcm9wLmtleS5zdGFydHNXaXRoKHBhcnQudG9Mb3dlckNhc2UoKSlcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGN1cnJlbnRQcm9wcy5tYXAoKHByb3A6IENvbXBsZXRpb25Qcm9wZXJ0eSkgPT4ge1xuICAgICAgICBjb25zdCBuYW1lID1cbiAgICAgICAgICAgIHByb3Aua2V5ID09PSAnX19kZWZhdWx0X18nXG4gICAgICAgICAgICAgICAgPyBwcmVmaXguc3Vic3RyKDAsIHByZWZpeC5sZW5ndGggLSAxKVxuICAgICAgICAgICAgICAgIDogcHJlZml4ICsgcHJvcC5rZXk7XG4gICAgICAgIHJldHVybiB7IG5hbWUsIHN1bW1hcnk6IHByb3AuaGVscCB9O1xuICAgIH0pO1xufTtcblxuZXhwb3J0IGNvbnN0IGdldENvbXBsZXRpb25OYW1lID0gKG9wdGlvbjogQ29tcGxldGlvbk9wdGlvbik6IHN0cmluZyA9PiB7XG4gICAgcmV0dXJuIChcbiAgICAgICAgb3B0aW9uLm5hbWUgfHwgb3B0aW9uLnNpZ25hdHVyZS5zdWJzdHIoMCwgb3B0aW9uLnNpZ25hdHVyZS5pbmRleE9mKCcoJykpXG4gICAgKTtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRDb21wbGV0aW9uU2lnbmF0dXJlID0gKG9wdGlvbjogQ29tcGxldGlvbk9wdGlvbik6IHN0cmluZyA9PiB7XG4gICAgcmV0dXJuIG9wdGlvbi5zaWduYXR1cmUuc3Vic3RyKG9wdGlvbi5zaWduYXR1cmUuaW5kZXhPZignKCcpKTtcbn07XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTcgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuICogQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbiAqIHN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuICovXG5cbmltcG9ydCB7aXNQcmltaXRpdmV9IGZyb20gJy4uL2xpYi9wYXJ0cy5qcyc7XG5pbXBvcnQge2RpcmVjdGl2ZSwgTm9kZVBhcnQsIFBhcnR9IGZyb20gJy4uL2xpdC1odG1sLmpzJztcblxuaW50ZXJmYWNlIFByZXZpb3VzVmFsdWUge1xuICByZWFkb25seSB2YWx1ZTogdW5rbm93bjtcbiAgcmVhZG9ubHkgZnJhZ21lbnQ6IERvY3VtZW50RnJhZ21lbnQ7XG59XG5cbi8vIEZvciBlYWNoIHBhcnQsIHJlbWVtYmVyIHRoZSB2YWx1ZSB0aGF0IHdhcyBsYXN0IHJlbmRlcmVkIHRvIHRoZSBwYXJ0IGJ5IHRoZVxuLy8gdW5zYWZlSFRNTCBkaXJlY3RpdmUsIGFuZCB0aGUgRG9jdW1lbnRGcmFnbWVudCB0aGF0IHdhcyBsYXN0IHNldCBhcyBhIHZhbHVlLlxuLy8gVGhlIERvY3VtZW50RnJhZ21lbnQgaXMgdXNlZCBhcyBhIHVuaXF1ZSBrZXkgdG8gY2hlY2sgaWYgdGhlIGxhc3QgdmFsdWVcbi8vIHJlbmRlcmVkIHRvIHRoZSBwYXJ0IHdhcyB3aXRoIHVuc2FmZUhUTUwuIElmIG5vdCwgd2UnbGwgYWx3YXlzIHJlLXJlbmRlciB0aGVcbi8vIHZhbHVlIHBhc3NlZCB0byB1bnNhZmVIVE1MLlxuY29uc3QgcHJldmlvdXNWYWx1ZXMgPSBuZXcgV2Vha01hcDxOb2RlUGFydCwgUHJldmlvdXNWYWx1ZT4oKTtcblxuLyoqXG4gKiBSZW5kZXJzIHRoZSByZXN1bHQgYXMgSFRNTCwgcmF0aGVyIHRoYW4gdGV4dC5cbiAqXG4gKiBOb3RlLCB0aGlzIGlzIHVuc2FmZSB0byB1c2Ugd2l0aCBhbnkgdXNlci1wcm92aWRlZCBpbnB1dCB0aGF0IGhhc24ndCBiZWVuXG4gKiBzYW5pdGl6ZWQgb3IgZXNjYXBlZCwgYXMgaXQgbWF5IGxlYWQgdG8gY3Jvc3Mtc2l0ZS1zY3JpcHRpbmdcbiAqIHZ1bG5lcmFiaWxpdGllcy5cbiAqL1xuZXhwb3J0IGNvbnN0IHVuc2FmZUhUTUwgPSBkaXJlY3RpdmUoKHZhbHVlOiB1bmtub3duKSA9PiAocGFydDogUGFydCk6IHZvaWQgPT4ge1xuICBpZiAoIShwYXJ0IGluc3RhbmNlb2YgTm9kZVBhcnQpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCd1bnNhZmVIVE1MIGNhbiBvbmx5IGJlIHVzZWQgaW4gdGV4dCBiaW5kaW5ncycpO1xuICB9XG5cbiAgY29uc3QgcHJldmlvdXNWYWx1ZSA9IHByZXZpb3VzVmFsdWVzLmdldChwYXJ0KTtcblxuICBpZiAocHJldmlvdXNWYWx1ZSAhPT0gdW5kZWZpbmVkICYmIGlzUHJpbWl0aXZlKHZhbHVlKSAmJlxuICAgICAgdmFsdWUgPT09IHByZXZpb3VzVmFsdWUudmFsdWUgJiYgcGFydC52YWx1ZSA9PT0gcHJldmlvdXNWYWx1ZS5mcmFnbWVudCkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGNvbnN0IHRlbXBsYXRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGVtcGxhdGUnKTtcbiAgdGVtcGxhdGUuaW5uZXJIVE1MID0gdmFsdWUgYXMgc3RyaW5nOyAgLy8gaW5uZXJIVE1MIGNhc3RzIHRvIHN0cmluZyBpbnRlcm5hbGx5XG4gIGNvbnN0IGZyYWdtZW50ID0gZG9jdW1lbnQuaW1wb3J0Tm9kZSh0ZW1wbGF0ZS5jb250ZW50LCB0cnVlKTtcbiAgcGFydC5zZXRWYWx1ZShmcmFnbWVudCk7XG4gIHByZXZpb3VzVmFsdWVzLnNldChwYXJ0LCB7dmFsdWUsIGZyYWdtZW50fSk7XG59KTtcbiIsImltcG9ydCB7IGN1c3RvbUVsZW1lbnQsIFRlbXBsYXRlUmVzdWx0LCBodG1sLCBjc3MsIHByb3BlcnR5IH0gZnJvbSAnbGl0LWVsZW1lbnQnO1xuaW1wb3J0IFJhcGlkRWxlbWVudCwgeyBFdmVudEhhbmRsZXIgfSBmcm9tICcuLi9SYXBpZEVsZW1lbnQnO1xuaW1wb3J0IEV4Y2VsbGVudFBhcnNlciwgeyBFeHByZXNzaW9uIH0gZnJvbSAnLi9FeGNlbGxlbnRQYXJzZXInO1xuaW1wb3J0IFRleHRJbnB1dCBmcm9tICcuLi90ZXh0aW5wdXQvVGV4dElucHV0JztcbmltcG9ydCB7IGdldENvbXBsZXRpb25zLCBDb21wbGV0aW9uU2NoZW1hLCBnZXRGdW5jdGlvbnMsIFBvc2l0aW9uLCBLZXllZEFzc2V0cyB9IGZyb20gJy4vaGVscGVycyc7XG5pbXBvcnQgeyBnZXRVcmwsIGdldEFzc2V0cywgQXNzZXQgfSBmcm9tICcuLi91dGlscyc7XG5pbXBvcnQgeyBBeGlvc1Jlc3BvbnNlIH0gZnJvbSAnYXhpb3MnO1xuaW1wb3J0IGdldENhcmV0Q29vcmRpbmF0ZXMgZnJvbSAndGV4dGFyZWEtY2FyZXQnO1xuaW1wb3J0IHsgZGlyZWN0aXZlLCBQYXJ0fSBmcm9tICdsaXQtaHRtbCc7XG5pbXBvcnQge3Vuc2FmZUhUTUx9IGZyb20gJ2xpdC1odG1sL2RpcmVjdGl2ZXMvdW5zYWZlLWh0bWwuanMnO1xuXG5jb25zdCBtYXJrZWQgPSByZXF1aXJlKCdtYXJrZWQnKTtcblxuZXhwb3J0IGludGVyZmFjZSBGdW5jdGlvbkV4YW1wbGUge1xuICB0ZW1wbGF0ZTogc3RyaW5nO1xuICBvdXRwdXQ6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBDb21wbGV0aW9uT3B0aW9uIHtcbiAgbmFtZT86IHN0cmluZztcbiAgc3VtbWFyeTogc3RyaW5nO1xuXG4gIC8vIGZ1bmN0aW9uc1xuICBzaWduYXR1cmU/OiBzdHJpbmc7XG4gIGRldGFpbD86IHN0cmluZztcbiAgZXhhbXBsZXM/OiBGdW5jdGlvbkV4YW1wbGVbXTtcbn1cblxuY29uc3QgbWFya2VkUmVuZGVyID0gZGlyZWN0aXZlKChjb250ZW50czogc3RyaW5nKSA9PiAocGFydDogUGFydCkgPT4geyBcbiAgcGFydC5zZXRWYWx1ZSh1bnNhZmVIVE1MKG1hcmtlZChjb250ZW50cykpKVxufSk7XG5cblxuLyoqXG4gKiBDb21wbGV0aW9uIGlzIGEgdGV4dCBpbnB1dCB0aGF0IGhhbmRsZXMgZXhjZWxsZW50IGNvbXBsZXRpb24gb3B0aW9ucyBpbiBhIHBvcHVwXG4gKi9cbkBjdXN0b21FbGVtZW50KFwicnAtY29tcGxldGlvblwiKVxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ29tcGxldGlvbiBleHRlbmRzIFJhcGlkRWxlbWVudCB7XG4gIHN0YXRpYyBnZXQgc3R5bGVzKCkge1xuICAgIHJldHVybiBjc3NgXG5cbiAgICAgICNhbmNob3Ige1xuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgIHZpc2liaWxpdHk6IHZpc2libGU7XG4gICAgICAgIHdpZHRoOiAyNTBweDtcbiAgICAgICAgYm9yZGVyOiAwcHggc29saWQgcHVycGxlO1xuICAgICAgfVxuXG4gICAgICAuZm4tbWFya2VyIHtcbiAgICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gICAgICAgIGZvbnQtc2l6ZTogNDJweDtcbiAgICAgIH1cblxuICAgICAgLm9wdGlvbi1zbG90IHtcbiAgICAgICAgYmFja2dyb3VuZDogI2ZmZjtcbiAgICAgIH1cblxuICAgICAgLmN1cnJlbnQtZm4ge1xuICAgICAgICBwYWRkaW5nOiAxMHB4O1xuICAgICAgICBtYXJnaW46IDVweDtcbiAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tY29sb3Itd2lkZ2V0LWJnKTtcbiAgICAgICAgY29sb3I6IHJnYmEoMCwgMCwgMCwgLjUpO1xuICAgICAgICBib3JkZXItcmFkaXVzOiB2YXIoLS1jdXJ2YXR1cmUpO1xuICAgICAgICBmb250LXNpemU6IDkwJTtcbiAgICAgIH1cblxuICAgICAgLmZvb3RlciB7XG4gICAgICAgIHBhZGRpbmc6IDVweCAxMHB4O1xuICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1jb2xvci13aWRnZXQtYmcpO1xuICAgICAgICBjb2xvcjogcmdiYSgwLCAwLCAwLCAuNSk7XG4gICAgICAgIGZvbnQtc2l6ZTogODAlO1xuICAgICAgfVxuXG4gICAgICBjb2RlIHtcbiAgICAgICAgYmFja2dyb3VuZDogcmdiYSgwLDAsMCwuMSk7XG4gICAgICAgIHBhZGRpbmc6IDFweCA1cHg7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IHZhcigtLWN1cnZhdHVyZSk7XG4gICAgICB9XG4gICAgYFxuICB9XG5cbiAgc3RhdGljIHBhcnNlciA9IG5ldyBFeGNlbGxlbnRQYXJzZXIoJ0AnLCBbXG4gICAgJ2NvbnRhY3QnLFxuICAgICdmaWVsZHMnLFxuICAgICd1cm5zJyxcbiAgXSk7XG5cbiAgLyoqIFJlbW90ZSBkZXNjcmlwdGlvbiBvZiBvdXIgY29tcGxldGlvbiBzY2hlbWEgKi8gIFxuICBwcml2YXRlIHNjaGVtYTogQ29tcGxldGlvblNjaGVtYTtcblxuICAvKiogUmVtb3RlIGxpc3Qgb2Ygb3VyIGZ1bmN0aW9uIG9wdGlvbnMgKi9cbiAgcHJpdmF0ZSBmdW5jdGlvbnM6IENvbXBsZXRpb25PcHRpb25bXTtcblxuICBwcml2YXRlIGtleWVkQXNzZXRzOiBLZXllZEFzc2V0cztcblxuICBAcHJvcGVydHkoeyB0eXBlOiBPYmplY3R9KVxuICBhbmNob3JQb3NpdGlvbjogUG9zaXRpb24gPSB7IGxlZnQ6IDAsIHRvcDogMH07XG5cbiAgQHByb3BlcnR5KHthdHRyaWJ1dGU6IGZhbHNlfSlcbiAgY3VycmVudEZ1bmN0aW9uOiBDb21wbGV0aW9uT3B0aW9uO1xuXG4gIEBwcm9wZXJ0eSh7dHlwZTogU3RyaW5nfSlcbiAgcGxhY2Vob2xkZXI6IHN0cmluZyA9IFwiXCI7XG5cbiAgQHByb3BlcnR5KHthdHRyaWJ1dGU6IGZhbHNlfSlcbiAgdGV4dElucHV0RWxlbWVudDogVGV4dElucHV0O1xuXG4gIEBwcm9wZXJ0eSh7YXR0cmlidXRlOiBmYWxzZX0pXG4gIGFuY2hvckVsZW1lbnQ6IEhUTUxEaXZFbGVtZW50O1xuXG4gIEBwcm9wZXJ0eSh7dHlwZTogQXJyYXl9KVxuICBvcHRpb25zOiBhbnlbXSA9IFtdOyAvLyBbeyBuYW1lOiBcImJvb21cIiwgZGV0YWlsOiBcImJsZXJwXCJ9XTtcblxuICBAcHJvcGVydHkoe3R5cGU6IFN0cmluZ30pXG4gIHZhbHVlOiBzdHJpbmcgPSBcIlwiO1xuXG4gIEBwcm9wZXJ0eSh7dHlwZTogU3RyaW5nfSlcbiAgY29tcGxldGlvbnNFbmRwb2ludDogc3RyaW5nO1xuXG4gIEBwcm9wZXJ0eSh7dHlwZTogU3RyaW5nfSlcbiAgZnVuY3Rpb25zRW5kcG9pbnQ6IHN0cmluZztcblxuICBAcHJvcGVydHkoe3R5cGU6IFN0cmluZ30pXG4gIGZpZWxkc0VuZHBvaW50OiBzdHJpbmc7XG5cbiAgQHByb3BlcnR5KHt0eXBlOiBCb29sZWFufSlcbiAgdGV4dGFyZWE6IGJvb2xlYW47XG5cbiAgcHJpdmF0ZSBpbnB1dEVsZW1lbnQ6IEhUTUxJbnB1dEVsZW1lbnQ7XG4gIHByaXZhdGUgcXVlcnk6IHN0cmluZztcbiAgXG4gIHB1YmxpYyBmaXJzdFVwZGF0ZWQoY2hhbmdlZFByb3BlcnRpZXM6IE1hcDxzdHJpbmcsIGFueT4pIHtcbiAgICB0aGlzLnRleHRJbnB1dEVsZW1lbnQgPSB0aGlzLnNoYWRvd1Jvb3QucXVlcnlTZWxlY3RvcihcInJwLXRleHRpbnB1dFwiKSBhcyBUZXh0SW5wdXQ7XG4gICAgdGhpcy5hbmNob3JFbGVtZW50ID0gdGhpcy5zaGFkb3dSb290LnF1ZXJ5U2VsZWN0b3IoXCIjYW5jaG9yXCIpO1xuXG4gICAgLy8gVE9ETzogZmV0Y2ggdGhlc2Ugb25jZSBwZXIgcGFnZSwgbm90IG9uY2UgcGVyIGNvbnRyb2xcbiAgICBcbiAgICBpZiAodGhpcy5jb21wbGV0aW9uc0VuZHBvaW50KSB7XG4gICAgICBnZXRVcmwodGhpcy5jb21wbGV0aW9uc0VuZHBvaW50KS50aGVuKChyZXNwb25zZTogQXhpb3NSZXNwb25zZSkgPT4ge1xuICAgICAgICB0aGlzLnNjaGVtYSA9IHJlc3BvbnNlLmRhdGEgYXMgQ29tcGxldGlvblNjaGVtYTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmZ1bmN0aW9uc0VuZHBvaW50KSB7XG4gICAgICBnZXRVcmwodGhpcy5mdW5jdGlvbnNFbmRwb2ludCkudGhlbigocmVzcG9uc2U6IEF4aW9zUmVzcG9uc2UpID0+IHtcbiAgICAgICAgdGhpcy5mdW5jdGlvbnMgPSByZXNwb25zZS5kYXRhIGFzIENvbXBsZXRpb25PcHRpb25bXTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmZpZWxkc0VuZHBvaW50KSB7XG4gICAgICBnZXRBc3NldHModGhpcy5maWVsZHNFbmRwb2ludCkudGhlbigoYXNzZXRzOiBBc3NldFtdKT0+e1xuICAgICAgICB0aGlzLmtleWVkQXNzZXRzID0geyBmaWVsZHM6IGFzc2V0cy5tYXAoKGFzc2V0OiBBc3NldCk9PiBhc3NldC5rZXkgKSB9XG4gICAgICB9KTsgICAgICBcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGhhbmRsZUtleVVwKGV2dDogS2V5Ym9hcmRFdmVudCkge1xuXG4gICAgLy8gaWYgd2UgaGF2ZSBvcHRpb25zLCBpZ25vcmUga2V5cyB0aGF0IGFyZSBtZWFudCBmb3IgdGhlbVxuICAgIGlmICh0aGlzLm9wdGlvbnMubGVuZ3RoID4gMCkge1xuXG4gICAgICBpZihldnQua2V5ID09PSBcIkFycm93VXBcIiB8fCBldnQua2V5ID09PSBcIkFycm93RG93blwiKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKGV2dC5jdHJsS2V5KSB7XG4gICAgICAgIGlmIChldnQua2V5ID09PSBcIm5cIiB8fCBldnQua2V5ID09PSBcInBcIikge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZihldnQua2V5ID09PSBcIkVudGVyXCIgfHwgZXZ0LmtleSA9PT0gXCJFc2NhcGVcIiB8fCBldnQua2V5ID09PSBcIlRhYlwiIHx8IGV2dC5rZXkuc3RhcnRzV2l0aChcIkNvbnRyb2xcIikpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmV4ZWN1dGVRdWVyeShldnQuY3VycmVudFRhcmdldCBhcyBUZXh0SW5wdXQpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgaGFuZGxlQ2xpY2soZXZ0OiBNb3VzZUV2ZW50KSB7XG4gICAgdGhpcy5leGVjdXRlUXVlcnkoZXZ0LmN1cnJlbnRUYXJnZXQgYXMgVGV4dElucHV0KVxuICB9XG5cbiAgLyoqXG4gICAqIGhhbmRsZSB0aGUgdXNlciBtb3ZpbmcgdGhlIGNhcmV0IHRvIGEgbmV3IGxvY2F0aW9uXG4gICAqL1xuICBwcml2YXRlIGV4ZWN1dGVRdWVyeShlbGU6IFRleHRJbnB1dCkge1xuICAgIHRoaXMuaW5wdXRFbGVtZW50ID0gZWxlLmlucHV0RWxlbWVudDtcbiAgICB0aGlzLmN1cnJlbnRGdW5jdGlvbiA9IG51bGw7XG5cbiAgICBpZiAodGhpcy5zY2hlbWEpIHtcbiAgICAgIGNvbnN0IGN1cnNvciA9IGVsZS5pbnB1dEVsZW1lbnQuc2VsZWN0aW9uU3RhcnQ7XG4gICAgICBjb25zdCBpbnB1dCA9IGVsZS5pbnB1dEVsZW1lbnQudmFsdWUudHJpbSgpLnN1YnN0cmluZygwLCBjdXJzb3IpO1xuICAgICAgY29uc3QgZXhwcmVzc2lvbnMgPSBDb21wbGV0aW9uLnBhcnNlci5maW5kRXhwcmVzc2lvbnMoaW5wdXQpO1xuICAgICAgY29uc3QgY3VycmVudEV4cHJlc3Npb24gPSBleHByZXNzaW9ucy5maW5kKChleHByOiBFeHByZXNzaW9uKT0+ZXhwci5zdGFydCA8PSBjdXJzb3IgJiYgKGV4cHIuZW5kID4gY3Vyc29yIHx8IGV4cHIuZW5kID09PSBjdXJzb3IgJiYgIWV4cHIuY2xvc2VkKSk7XG5cbiAgICAgIGlmIChjdXJyZW50RXhwcmVzc2lvbikge1xuICAgICAgICBjb25zdCBpbmNsdWRlRnVuY3Rpb25zID0gY3VycmVudEV4cHJlc3Npb24udGV4dC5pbmRleE9mKCcoJykgPiAtMTtcbiAgICAgICAgaWYgKGluY2x1ZGVGdW5jdGlvbnMpIHtcbiAgICAgICAgICBjb25zdCBmdW5jdGlvblF1ZXJ5ID0gQ29tcGxldGlvbi5wYXJzZXIuZnVuY3Rpb25Db250ZXh0KGN1cnJlbnRFeHByZXNzaW9uLnRleHQpO1xuICAgICAgICAgIGlmIChmdW5jdGlvblF1ZXJ5KSB7XG4gICAgICAgICAgICBjb25zdCBmbnMgPSBnZXRGdW5jdGlvbnModGhpcy5mdW5jdGlvbnMsIGZ1bmN0aW9uUXVlcnkpO1xuICAgICAgICAgICAgaWYgKGZucy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgIHRoaXMuY3VycmVudEZ1bmN0aW9uID0gZm5zWzBdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgXG4gICAgICAgIGZvciAobGV0IGkgPSBjdXJyZW50RXhwcmVzc2lvbi50ZXh0Lmxlbmd0aDsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICBjb25zdCBjdXJyID0gY3VycmVudEV4cHJlc3Npb24udGV4dFtpXTtcbiAgICAgICAgICBpZiAoY3VyciA9PT0gJ0AnIHx8IGN1cnIgPT09ICcoJyB8fCBjdXJyID09PSAnICcgfHwgY3VyciA9PT0gJywnIHx8IGN1cnIgPT09ICcpJyB8fCBpID09PSAwKSB7XG4gICAgICAgICAgICAvLyBkb24ndCBpbmNsdWRlIG5vbi1leHByZXNzaW9uIGNoYXJzXG4gICAgICAgICAgICBpZiAoY3VyciA9PT0gJygnIHx8IGN1cnIgPT09ICcgJyB8fCBjdXJyID09PSAnLCcgfHwgY3VyciA9PT0gJyknIHx8IGN1cnIgPT09ICdAJykge1xuICAgICAgICAgICAgICBpKys7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBjYXJldCA9IGdldENhcmV0Q29vcmRpbmF0ZXMoZWxlLmlucHV0RWxlbWVudCwgY3VycmVudEV4cHJlc3Npb24uc3RhcnQgKyBpKTtcbiAgICAgICAgICAgIHRoaXMuYW5jaG9yUG9zaXRpb24gPSB7IFxuICAgICAgICAgICAgICBsZWZ0OiBjYXJldC5sZWZ0ICsgNSwgXG4gICAgICAgICAgICAgIHRvcDogZWxlLmlucHV0RWxlbWVudC5vZmZzZXRUb3AgKyBjYXJldC50b3AgLSBlbGUuaW5wdXRFbGVtZW50LnNjcm9sbFRvcCAgKyAyMH1cblxuICAgICAgICAgICAgdGhpcy5xdWVyeSA9IGN1cnJlbnRFeHByZXNzaW9uLnRleHQuc3Vic3RyKGksIGN1cnJlbnRFeHByZXNzaW9uLnRleHQubGVuZ3RoIC0gaSk7XG4gICAgICAgICAgICB0aGlzLm9wdGlvbnMgPSBbXG4gICAgICAgICAgICAgIC4uLmdldENvbXBsZXRpb25zKHRoaXMuc2NoZW1hLCB0aGlzLnF1ZXJ5LCB0aGlzLmtleWVkQXNzZXRzKSxcbiAgICAgICAgICAgICAgLi4uKGluY2x1ZGVGdW5jdGlvbnMgPyBnZXRGdW5jdGlvbnModGhpcy5mdW5jdGlvbnMsIHRoaXMucXVlcnkpIDogW10pXG4gICAgICAgICAgICBdO1xuXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSBbXTtcbiAgICAgICAgdGhpcy5xdWVyeSA9IFwiXCI7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBoYW5kbGVJbnB1dChldnQ6IEtleWJvYXJkRXZlbnQpIHtcbiAgICBjb25zdCBlbGUgPSBldnQuY3VycmVudFRhcmdldCBhcyBUZXh0SW5wdXQ7XG4gICAgdGhpcy5leGVjdXRlUXVlcnkoZWxlKTtcbiAgfVxuXG4gIHByaXZhdGUgaGFuZGxlT3B0aW9uQ2FuY2VsZWQoZXZ0OiBDdXN0b21FdmVudCkge1xuICAgIHRoaXMub3B0aW9ucyA9IFtdO1xuICAgIHRoaXMucXVlcnkgPSBcIlwiO1xuICB9XG4gIFxuICBwcml2YXRlIGhhbmRsZU9wdGlvblNlbGVjdGlvbihldnQ6IEN1c3RvbUV2ZW50KSB7XG4gICAgY29uc3Qgb3B0aW9uID0gZXZ0LmRldGFpbC5zZWxlY3RlZCBhcyBDb21wbGV0aW9uT3B0aW9uO1xuICAgIGNvbnN0IHRhYmJlZCA9IGV2dC5kZXRhaWwudGFiYmVkO1xuXG4gICAgbGV0IGluc2VydFRleHQgPSBcIlwiO1xuICAgIFxuICAgIGlmIChvcHRpb24uc2lnbmF0dXJlKSB7XG4gICAgICAvLyB0aGV5IHNlbGVjdGVkIGEgZnVuY3Rpb25cbiAgICAgIGluc2VydFRleHQgPSBvcHRpb24uc2lnbmF0dXJlLnN1YnN0cigwLCBvcHRpb24uc2lnbmF0dXJlLmluZGV4T2YoXCIoXCIpICsgMSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGluc2VydFRleHQgPSBvcHRpb24ubmFtZTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5pbnB1dEVsZW1lbnQpIHtcbiAgICAgIGxldCB2YWx1ZSA9IHRoaXMuaW5wdXRFbGVtZW50LnZhbHVlO1xuICAgICAgXG4gICAgICAvLyBzdHJpcCBvdXQgb3VyIHF1ZXJ5XG4gICAgICB2YWx1ZSA9IHZhbHVlLnN1YnN0cigwLCB2YWx1ZS5sYXN0SW5kZXhPZih0aGlzLnF1ZXJ5KSk7XG4gICAgXG4gICAgICAvLyBub3cgYWRkIG9uIG91ciBzZWxlY3Rpb25cbiAgICAgIHZhbHVlICs9IGluc2VydFRleHQ7XG5cbiAgICAgIHRoaXMuaW5wdXRFbGVtZW50LnZhbHVlID0gdmFsdWU7XG4gICAgfVxuXG4gICAgdGhpcy5xdWVyeSA9IFwiXCI7XG4gICAgdGhpcy5vcHRpb25zID0gW107XG4gICAgXG4gICAgaWYgKHRhYmJlZCkge1xuICAgICAgdGhpcy5leGVjdXRlUXVlcnkodGhpcy50ZXh0SW5wdXRFbGVtZW50KTtcbiAgICB9XG4gIH1cblxuXG4gIHByaXZhdGUgcmVuZGVyQ29tcGxldGlvbk9wdGlvbihvcHRpb246IENvbXBsZXRpb25PcHRpb24sIHNlbGVjdGVkOiBib29sZWFuKSB7XG4gICAgaWYob3B0aW9uLnNpZ25hdHVyZSkge1xuXG4gICAgICBjb25zdCBhcmdTdGFydCA9IG9wdGlvbi5zaWduYXR1cmUuaW5kZXhPZihcIihcIilcbiAgICAgIGNvbnN0IG5hbWUgPSBvcHRpb24uc2lnbmF0dXJlLnN1YnN0cigwLCBhcmdTdGFydCk7XG4gICAgICBjb25zdCBhcmdzID0gb3B0aW9uLnNpZ25hdHVyZS5zdWJzdHIoYXJnU3RhcnQpO1xuXG4gICAgICByZXR1cm4gaHRtbGBcbiAgICAgICAgPGRpdiBzdHlsZT1cIiR7c2VsZWN0ZWQgPyAnZm9udC13ZWlnaHQ6IDQwMCcgOiAnJ31cIj5cbiAgICAgICAgICA8ZGl2IHN0eWxlPVwiZGlzcGxheTppbmxpbmUtYmxvY2s7XCI+xpI8L2Rpdj5cbiAgICAgICAgICA8ZGl2IHN0eWxlPVwiZGlzcGxheTppbmxpbmUtYmxvY2tcIj4ke25hbWV9PC9kaXY+XG4gICAgICAgICAgJHtzZWxlY3RlZCA/IGh0bWxgXG4gICAgICAgICAgICA8ZGl2IHN0eWxlPVwiZGlzcGxheTppbmxpbmUtYmxvY2s7IGZvbnQtd2VpZ2h0OiAzMDA7IGZvbnQtc2l6ZTogODUlXCI+JHthcmdzfTwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImRldGFpbFwiPiR7bWFya2VkUmVuZGVyKG9wdGlvbi5zdW1tYXJ5KX08L2Rpdj5cbiAgICAgICAgICBgIDogbnVsbH1cbiAgICAgICAgPC9kaXY+YDtcbiAgICAgIH1cblxuICAgIHJldHVybiBodG1sYFxuICAgIDxkaXY+XG4gICAgICA8ZGl2IHN0eWxlPVwiJHtzZWxlY3RlZCA/ICdmb250LXdlaWdodDogNDAwJyA6ICcnfVwiPiR7b3B0aW9uLm5hbWV9PC9kaXY+XG4gICAgICAke3NlbGVjdGVkID8gaHRtbGA8ZGl2IHN0eWxlPVwiZm9udC1zaXplOiA4NSVcIj4ke29wdGlvbi5zdW1tYXJ5fTwvZGl2PmAgOiBudWxsfVxuICAgIDwvZGl2PmBcbiAgfVxuXG4gIHB1YmxpYyByZW5kZXIoKTogVGVtcGxhdGVSZXN1bHQge1xuICAgIHJldHVybiBodG1sYFxuICAgICAgPHN0eWxlPlxuICAgICAgICAjYW5jaG9yIHtcbiAgICAgICAgICB0b3A6JHt0aGlzLmFuY2hvclBvc2l0aW9uLnRvcH1weDtcbiAgICAgICAgICBsZWZ0OiR7dGhpcy5hbmNob3JQb3NpdGlvbi5sZWZ0fXB4O1xuICAgICAgICB9XG4gICAgICA8L3N0eWxlPlxuICAgICAgPGRpdiBpZD1cImFuY2hvclwiPjwvZGl2PlxuICAgICAgPHJwLXRleHRpbnB1dCBcbiAgICAgICAgcGxhY2Vob2xkZXI9JHt0aGlzLnBsYWNlaG9sZGVyfVxuICAgICAgICBAa2V5dXA9JHt0aGlzLmhhbmRsZUtleVVwfVxuICAgICAgICBAY2xpY2s9JHt0aGlzLmhhbmRsZUNsaWNrfVxuICAgICAgICBAaW5wdXQ9JHt0aGlzLmhhbmRsZUlucHV0fVxuICAgICAgICAudmFsdWU9JHt0aGlzLnZhbHVlfVxuICAgICAgICA/dGV4dGFyZWE9JHt0aGlzLnRleHRhcmVhfVxuICAgICAgICA+XG4gICAgICA8L3JwLXRleHRpbnB1dD5cbiAgICAgIDxycC1vcHRpb25zXG4gICAgICAgIEBycC1zZWxlY3Rpb249JHt0aGlzLmhhbmRsZU9wdGlvblNlbGVjdGlvbn1cbiAgICAgICAgQHJwLWNhbmNlbGVkPSR7dGhpcy5oYW5kbGVPcHRpb25DYW5jZWxlZH1cbiAgICAgICAgLmFuY2hvclRvPSR7dGhpcy5hbmNob3JFbGVtZW50fVxuICAgICAgICAub3B0aW9ucz0ke3RoaXMub3B0aW9uc31cbiAgICAgICAgLnJlbmRlck9wdGlvbj0ke3RoaXMucmVuZGVyQ29tcGxldGlvbk9wdGlvbn1cbiAgICAgICAgP3Zpc2libGU9JHt0aGlzLm9wdGlvbnMubGVuZ3RoID4gMH1cbiAgICAgID5cbiAgICAgICAgJHt0aGlzLmN1cnJlbnRGdW5jdGlvbiA/IGh0bWxgPGRpdiBjbGFzcz1cImN1cnJlbnQtZm5cIj4ke3RoaXMucmVuZGVyQ29tcGxldGlvbk9wdGlvbih0aGlzLmN1cnJlbnRGdW5jdGlvbiwgdHJ1ZSl9PC9kaXY+YDogbnVsbH1cbiAgICAgICAgPGRpdiBjbGFzcz1cImZvb3RlclwiPlRhYiB0byBjb21wbGV0ZSwgZW50ZXIgdG8gc2VsZWN0PC9kaXY+XG4gICAgPC9ycC1vcHRpb25zPlxuICAgIGA7XG4gIH1cbn0iXSwic291cmNlUm9vdCI6IiJ9