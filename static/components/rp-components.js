!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports["rp-components"]=t():e["rp-components"]=t()}(window,function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=10)}([function(e,t,n){"use strict";var r=n(4),o=n(12),i=Object.prototype.toString;function s(e){return"[object Array]"===i.call(e)}function a(e){return null!==e&&"object"==typeof e}function l(e){return"[object Function]"===i.call(e)}function c(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),s(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}e.exports={isArray:s,isArrayBuffer:function(e){return"[object ArrayBuffer]"===i.call(e)},isBuffer:o,isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:a,isUndefined:function(e){return void 0===e},isDate:function(e){return"[object Date]"===i.call(e)},isFile:function(e){return"[object File]"===i.call(e)},isBlob:function(e){return"[object Blob]"===i.call(e)},isFunction:l,isStream:function(e){return a(e)&&l(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:c,merge:function e(){var t={};function n(n,r){"object"==typeof t[r]&&"object"==typeof n?t[r]=e(t[r],n):t[r]=n}for(var r=0,o=arguments.length;r<o;r++)c(arguments[r],n);return t},extend:function(e,t,n){return c(t,function(t,o){e[o]=n&&"function"==typeof t?r(t,n):t}),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(e,t,n){e.exports=n(11)},function(e,t,n){"use strict";(function(t){var r=n(0),o=n(15),i={"Content-Type":"application/x-www-form-urlencoded"};function s(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var a,l={adapter:("undefined"!=typeof XMLHttpRequest?a=n(5):void 0!==t&&(a=n(5)),a),transformRequest:[function(e,t){return o(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e)?e:r.isArrayBufferView(e)?e.buffer:r.isURLSearchParams(e)?(s(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):r.isObject(e)?(s(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300}};l.headers={common:{Accept:"application/json, text/plain, */*"}},r.forEach(["delete","get","head"],function(e){l.headers[e]={}}),r.forEach(["post","put","patch"],function(e){l.headers[e]=r.merge(i)}),e.exports=l}).call(this,n(14))},function(e,t,n){var r,o,i;o=[e,t],void 0===(i="function"==typeof(r=function(e,t){"use strict";var n,r,o="function"==typeof Map?new Map:(n=[],r=[],{has:function(e){return n.indexOf(e)>-1},get:function(e){return r[n.indexOf(e)]},set:function(e,t){-1===n.indexOf(e)&&(n.push(e),r.push(t))},delete:function(e){var t=n.indexOf(e);t>-1&&(n.splice(t,1),r.splice(t,1))}}),i=function(e){return new Event(e,{bubbles:!0})};try{new Event("test")}catch(e){i=function(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!1),t}}function s(e){if(e&&e.nodeName&&"TEXTAREA"===e.nodeName&&!o.has(e)){var t=null,n=null,r=null,s=function(){e.clientWidth!==n&&p()},a=function(t){window.removeEventListener("resize",s,!1),e.removeEventListener("input",p,!1),e.removeEventListener("keyup",p,!1),e.removeEventListener("autosize:destroy",a,!1),e.removeEventListener("autosize:update",p,!1),Object.keys(t).forEach(function(n){e.style[n]=t[n]}),o.delete(e)}.bind(e,{height:e.style.height,resize:e.style.resize,overflowY:e.style.overflowY,overflowX:e.style.overflowX,wordWrap:e.style.wordWrap});e.addEventListener("autosize:destroy",a,!1),"onpropertychange"in e&&"oninput"in e&&e.addEventListener("keyup",p,!1),window.addEventListener("resize",s,!1),e.addEventListener("input",p,!1),e.addEventListener("autosize:update",p,!1),e.style.overflowX="hidden",e.style.wordWrap="break-word",o.set(e,{destroy:a,update:p}),"vertical"===(l=window.getComputedStyle(e,null)).resize?e.style.resize="none":"both"===l.resize&&(e.style.resize="horizontal"),t="content-box"===l.boxSizing?-(parseFloat(l.paddingTop)+parseFloat(l.paddingBottom)):parseFloat(l.borderTopWidth)+parseFloat(l.borderBottomWidth),isNaN(t)&&(t=0),p()}var l;function c(t){var n=e.style.width;e.style.width="0px",e.offsetWidth,e.style.width=n,e.style.overflowY=t}function u(){if(0!==e.scrollHeight){var r=function(e){for(var t=[];e&&e.parentNode&&e.parentNode instanceof Element;)e.parentNode.scrollTop&&t.push({node:e.parentNode,scrollTop:e.parentNode.scrollTop}),e=e.parentNode;return t}(e),o=document.documentElement&&document.documentElement.scrollTop;e.style.height="",e.style.height=e.scrollHeight+t+"px",n=e.clientWidth,r.forEach(function(e){e.node.scrollTop=e.scrollTop}),o&&(document.documentElement.scrollTop=o)}}function p(){u();var t=Math.round(parseFloat(e.style.height)),n=window.getComputedStyle(e,null),o="content-box"===n.boxSizing?Math.round(parseFloat(n.height)):e.offsetHeight;if(o<t?"hidden"===n.overflowY&&(c("scroll"),u(),o="content-box"===n.boxSizing?Math.round(parseFloat(window.getComputedStyle(e,null).height)):e.offsetHeight):"hidden"!==n.overflowY&&(c("hidden"),u(),o="content-box"===n.boxSizing?Math.round(parseFloat(window.getComputedStyle(e,null).height)):e.offsetHeight),r!==o){r=o;var s=i("autosize:resized");try{e.dispatchEvent(s)}catch(e){}}}}function a(e){var t=o.get(e);t&&t.destroy()}function l(e){var t=o.get(e);t&&t.update()}var c=null;"undefined"==typeof window||"function"!=typeof window.getComputedStyle?((c=function(e){return e}).destroy=function(e){return e},c.update=function(e){return e}):((c=function(e,t){return e&&Array.prototype.forEach.call(e.length?e:[e],function(e){return s(e)}),e}).destroy=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],a),e},c.update=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],l),e}),t.default=c,e.exports=t.default})?r.apply(t,o):r)||(e.exports=i)},function(e,t,n){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},function(e,t,n){"use strict";var r=n(0),o=n(16),i=n(18),s=n(19),a=n(20),l=n(6),c="undefined"!=typeof window&&window.btoa&&window.btoa.bind(window)||n(21);e.exports=function(e){return new Promise(function(t,u){var p=e.data,h=e.headers;r.isFormData(p)&&delete h["Content-Type"];var d=new XMLHttpRequest,f="onreadystatechange",g=!1;if("undefined"==typeof window||!window.XDomainRequest||"withCredentials"in d||a(e.url)||(d=new window.XDomainRequest,f="onload",g=!0,d.onprogress=function(){},d.ontimeout=function(){}),e.auth){var m=e.auth.username||"",y=e.auth.password||"";h.Authorization="Basic "+c(m+":"+y)}if(d.open(e.method.toUpperCase(),i(e.url,e.params,e.paramsSerializer),!0),d.timeout=e.timeout,d[f]=function(){if(d&&(4===d.readyState||g)&&(0!==d.status||d.responseURL&&0===d.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in d?s(d.getAllResponseHeaders()):null,r={data:e.responseType&&"text"!==e.responseType?d.response:d.responseText,status:1223===d.status?204:d.status,statusText:1223===d.status?"No Content":d.statusText,headers:n,config:e,request:d};o(t,u,r),d=null}},d.onerror=function(){u(l("Network Error",e,null,d)),d=null},d.ontimeout=function(){u(l("timeout of "+e.timeout+"ms exceeded",e,"ECONNABORTED",d)),d=null},r.isStandardBrowserEnv()){var v=n(22),b=(e.withCredentials||a(e.url))&&e.xsrfCookieName?v.read(e.xsrfCookieName):void 0;b&&(h[e.xsrfHeaderName]=b)}if("setRequestHeader"in d&&r.forEach(h,function(e,t){void 0===p&&"content-type"===t.toLowerCase()?delete h[t]:d.setRequestHeader(t,e)}),e.withCredentials&&(d.withCredentials=!0),e.responseType)try{d.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&d.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&d.upload&&d.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then(function(e){d&&(d.abort(),u(e),d=null)}),void 0===p&&(p=null),d.send(p)})}},function(e,t,n){"use strict";var r=n(17);e.exports=function(e,t,n,o,i){var s=new Error(e);return r(s,t,n,o,i)}},function(e,t,n){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,t,n){"use strict";function r(e){this.message=e}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,e.exports=r},function(e,t,n){!function(){var t=["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderStyle","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing","tabSize","MozTabSize"],n="undefined"!=typeof window,r=n&&null!=window.mozInnerScreenX;function o(e,o,i){if(!n)throw new Error("textarea-caret-position#getCaretCoordinates should only be called in a browser");var s=i&&i.debug||!1;if(s){var a=document.querySelector("#input-textarea-caret-position-mirror-div");a&&a.parentNode.removeChild(a)}var l=document.createElement("div");l.id="input-textarea-caret-position-mirror-div",document.body.appendChild(l);var c=l.style,u=window.getComputedStyle?window.getComputedStyle(e):e.currentStyle,p="INPUT"===e.nodeName;c.whiteSpace="pre-wrap",p||(c.wordWrap="break-word"),c.position="absolute",s||(c.visibility="hidden"),t.forEach(function(e){p&&"lineHeight"===e?c.lineHeight=u.height:c[e]=u[e]}),r?e.scrollHeight>parseInt(u.height)&&(c.overflowY="scroll"):c.overflow="hidden",l.textContent=e.value.substring(0,o),p&&(l.textContent=l.textContent.replace(/\s/g," "));var h=document.createElement("span");h.textContent=e.value.substring(o)||".",l.appendChild(h);var d={top:h.offsetTop+parseInt(u.borderTopWidth),left:h.offsetLeft+parseInt(u.borderLeftWidth),height:parseInt(u.lineHeight)};return s?h.style.backgroundColor="#aaa":document.body.removeChild(l),d}void 0!==e.exports?e.exports=o:n&&(window.getCaretCoordinates=o)}()},function(e,t,n){e.exports=n(32)},function(e,t,n){"use strict";var r=n(0),o=n(4),i=n(13),s=n(2);function a(e){var t=new i(e),n=o(i.prototype.request,t);return r.extend(n,i.prototype,t),r.extend(n,t),n}var l=a(s);l.Axios=i,l.create=function(e){return a(r.merge(s,e))},l.Cancel=n(8),l.CancelToken=n(28),l.isCancel=n(7),l.all=function(e){return Promise.all(e)},l.spread=n(29),e.exports=l,e.exports.default=l},function(e,t){function n(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}e.exports=function(e){return null!=e&&(n(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&n(e.slice(0,0))}(e)||!!e._isBuffer)}},function(e,t,n){"use strict";var r=n(2),o=n(0),i=n(23),s=n(24);function a(e){this.defaults=e,this.interceptors={request:new i,response:new i}}a.prototype.request=function(e){"string"==typeof e&&(e=o.merge({url:arguments[0]},arguments[1])),(e=o.merge(r,{method:"get"},this.defaults,e)).method=e.method.toLowerCase();var t=[s,void 0],n=Promise.resolve(e);for(this.interceptors.request.forEach(function(e){t.unshift(e.fulfilled,e.rejected)}),this.interceptors.response.forEach(function(e){t.push(e.fulfilled,e.rejected)});t.length;)n=n.then(t.shift(),t.shift());return n},o.forEach(["delete","get","head","options"],function(e){a.prototype[e]=function(t,n){return this.request(o.merge(n||{},{method:e,url:t}))}}),o.forEach(["post","put","patch"],function(e){a.prototype[e]=function(t,n,r){return this.request(o.merge(r||{},{method:e,url:t,data:n}))}}),e.exports=a},function(e,t){var n,r,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(e){r=s}}();var l,c=[],u=!1,p=-1;function h(){u&&l&&(u=!1,l.length?c=l.concat(c):p=-1,c.length&&d())}function d(){if(!u){var e=a(h);u=!0;for(var t=c.length;t;){for(l=c,c=[];++p<t;)l&&l[p].run();p=-1,t=c.length}l=null,u=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function g(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new f(e,t)),1!==c.length||u||a(d)},f.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=g,o.addListener=g,o.once=g,o.off=g,o.removeListener=g,o.removeAllListeners=g,o.emit=g,o.prependListener=g,o.prependOnceListener=g,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t,n){"use strict";var r=n(0);e.exports=function(e,t){r.forEach(e,function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])})}},function(e,t,n){"use strict";var r=n(6);e.exports=function(e,t,n){var o=n.config.validateStatus;n.status&&o&&!o(n.status)?t(r("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},function(e,t,n){"use strict";e.exports=function(e,t,n,r,o){return e.config=t,n&&(e.code=n),e.request=r,e.response=o,e}},function(e,t,n){"use strict";var r=n(0);function o(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var i;if(n)i=n(t);else if(r.isURLSearchParams(t))i=t.toString();else{var s=[];r.forEach(t,function(e,t){null!=e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),s.push(o(t)+"="+o(e))}))}),i=s.join("&")}return i&&(e+=(-1===e.indexOf("?")?"?":"&")+i),e}},function(e,t,n){"use strict";var r=n(0),o=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,i,s={};return e?(r.forEach(e.split("\n"),function(e){if(i=e.indexOf(":"),t=r.trim(e.substr(0,i)).toLowerCase(),n=r.trim(e.substr(i+1)),t){if(s[t]&&o.indexOf(t)>=0)return;s[t]="set-cookie"===t?(s[t]?s[t]:[]).concat([n]):s[t]?s[t]+", "+n:n}}),s):s}},function(e,t,n){"use strict";var r=n(0);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function o(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=o(window.location.href),function(t){var n=r.isString(t)?o(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},function(e,t,n){"use strict";var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function o(){this.message="String contains an invalid character"}o.prototype=new Error,o.prototype.code=5,o.prototype.name="InvalidCharacterError",e.exports=function(e){for(var t,n,i=String(e),s="",a=0,l=r;i.charAt(0|a)||(l="=",a%1);s+=l.charAt(63&t>>8-a%1*8)){if((n=i.charCodeAt(a+=.75))>255)throw new o;t=t<<8|n}return s}},function(e,t,n){"use strict";var r=n(0);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,o,i,s){var a=[];a.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),r.isString(o)&&a.push("path="+o),r.isString(i)&&a.push("domain="+i),!0===s&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(e,t,n){"use strict";var r=n(0);function o(){this.handlers=[]}o.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},o.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},o.prototype.forEach=function(e){r.forEach(this.handlers,function(t){null!==t&&e(t)})},e.exports=o},function(e,t,n){"use strict";var r=n(0),o=n(25),i=n(7),s=n(2),a=n(26),l=n(27);function c(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return c(e),e.baseURL&&!a(e.url)&&(e.url=l(e.baseURL,e.url)),e.headers=e.headers||{},e.data=o(e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers||{}),r.forEach(["delete","get","head","post","put","patch","common"],function(t){delete e.headers[t]}),(e.adapter||s.adapter)(e).then(function(t){return c(e),t.data=o(t.data,t.headers,e.transformResponse),t},function(t){return i(t)||(c(e),t&&t.response&&(t.response.data=o(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)})}},function(e,t,n){"use strict";var r=n(0);e.exports=function(e,t,n){return r.forEach(n,function(n){e=n(e,t)}),e}},function(e,t,n){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(e,t,n){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},function(e,t,n){"use strict";var r=n(8);function o(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(e){t=e});var n=this;e(function(e){n.reason||(n.reason=new r(e),t(n.reason))})}o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},o.source=function(){var e;return{token:new o(function(t){e=t}),cancel:e}},e.exports=o},function(e,t,n){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},function(e,t,n){(function(t){!function(t){"use strict";var n={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:/^ {0,3}(`{3,}|~{3,})([^`~\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?:\n+|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6}) +([^\n]*?)(?: +#+)? *(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3})(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:"^ {0,3}(?:<(script|pre|style)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?\\?>\\n*|<![A-Z][\\s\\S]*?>\\n*|<!\\[CDATA\\[[\\s\\S]*?\\]\\]>\\n*|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:\\n{2,}|$)|<(?!script|pre|style)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$)|</(?!script|pre|style)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$))",def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,nptable:m,table:m,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html)[^\n]+)*)/,text:/^[^\n]+/};function r(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||_.defaults,this.rules=n.normal,this.options.pedantic?this.rules=n.pedantic:this.options.gfm&&(this.rules=n.gfm)}n._label=/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/,n._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,n.def=h(n.def).replace("label",n._label).replace("title",n._title).getRegex(),n.bullet=/(?:[*+-]|\d{1,9}\.)/,n.item=/^( *)(bull) ?[^\n]*(?:\n(?!\1bull ?)[^\n]*)*/,n.item=h(n.item,"gm").replace(/bull/g,n.bullet).getRegex(),n.list=h(n.list).replace(/bull/g,n.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+n.def.source+")").getRegex(),n._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",n._comment=/<!--(?!-?>)[\s\S]*?-->/,n.html=h(n.html,"i").replace("comment",n._comment).replace("tag",n._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),n.paragraph=h(n._paragraph).replace("hr",n.hr).replace("heading"," {0,3}#{1,6} +").replace("|lheading","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}|~{3,})[^`\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",n._tag).getRegex(),n.blockquote=h(n.blockquote).replace("paragraph",n.paragraph).getRegex(),n.normal=y({},n),n.gfm=y({},n.normal,{nptable:/^ *([^|\n ].*\|.*)\n *([-:]+ *\|[-| :]*)(?:\n((?:.*[^>\n ].*(?:\n|$))*)\n*|$)/,table:/^ *\|(.+)\n *\|?( *[-:]+[-| :]*)(?:\n((?: *[^>\n ].*(?:\n|$))*)\n*|$)/}),n.pedantic=y({},n.normal,{html:h("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",n._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *(?:#+ *)?(?:\n+|$)/,fences:m,paragraph:h(n.normal._paragraph).replace("hr",n.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",n.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()}),r.rules=n,r.lex=function(e,t){return new r(t).lex(e)},r.prototype.lex=function(e){return e=e.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,"\n"),this.token(e,!0)},r.prototype.token=function(e,t){var r,o,i,s,a,l,c,p,h,d,f,g,m,y,x,w;for(e=e.replace(/^ +$/gm,"");e;)if((i=this.rules.newline.exec(e))&&(e=e.substring(i[0].length),i[0].length>1&&this.tokens.push({type:"space"})),i=this.rules.code.exec(e)){var _=this.tokens[this.tokens.length-1];e=e.substring(i[0].length),_&&"paragraph"===_.type?_.text+="\n"+i[0].trimRight():(i=i[0].replace(/^ {4}/gm,""),this.tokens.push({type:"code",codeBlockStyle:"indented",text:this.options.pedantic?i:b(i,"\n")}))}else if(i=this.rules.fences.exec(e))e=e.substring(i[0].length),this.tokens.push({type:"code",lang:i[2]?i[2].trim():i[2],text:i[3]||""});else if(i=this.rules.heading.exec(e))e=e.substring(i[0].length),this.tokens.push({type:"heading",depth:i[1].length,text:i[2]});else if((i=this.rules.nptable.exec(e))&&(l={type:"table",header:v(i[1].replace(/^ *| *\| *$/g,"")),align:i[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:i[3]?i[3].replace(/\n$/,"").split("\n"):[]}).header.length===l.align.length){for(e=e.substring(i[0].length),f=0;f<l.align.length;f++)/^ *-+: *$/.test(l.align[f])?l.align[f]="right":/^ *:-+: *$/.test(l.align[f])?l.align[f]="center":/^ *:-+ *$/.test(l.align[f])?l.align[f]="left":l.align[f]=null;for(f=0;f<l.cells.length;f++)l.cells[f]=v(l.cells[f],l.header.length);this.tokens.push(l)}else if(i=this.rules.hr.exec(e))e=e.substring(i[0].length),this.tokens.push({type:"hr"});else if(i=this.rules.blockquote.exec(e))e=e.substring(i[0].length),this.tokens.push({type:"blockquote_start"}),i=i[0].replace(/^ *> ?/gm,""),this.token(i,t),this.tokens.push({type:"blockquote_end"});else if(i=this.rules.list.exec(e)){for(e=e.substring(i[0].length),c={type:"list_start",ordered:y=(s=i[2]).length>1,start:y?+s:"",loose:!1},this.tokens.push(c),p=[],r=!1,m=(i=i[0].match(this.rules.item)).length,f=0;f<m;f++)d=(l=i[f]).length,~(l=l.replace(/^ *([*+-]|\d+\.) */,"")).indexOf("\n ")&&(d-=l.length,l=this.options.pedantic?l.replace(/^ {1,4}/gm,""):l.replace(new RegExp("^ {1,"+d+"}","gm"),"")),f!==m-1&&(a=n.bullet.exec(i[f+1])[0],(s.length>1?1===a.length:a.length>1||this.options.smartLists&&a!==s)&&(e=i.slice(f+1).join("\n")+e,f=m-1)),o=r||/\n\n(?!\s*$)/.test(l),f!==m-1&&(r="\n"===l.charAt(l.length-1),o||(o=r)),o&&(c.loose=!0),w=void 0,(x=/^\[[ xX]\] /.test(l))&&(w=" "!==l[1],l=l.replace(/^\[[ xX]\] +/,"")),h={type:"list_item_start",task:x,checked:w,loose:o},p.push(h),this.tokens.push(h),this.token(l,!1),this.tokens.push({type:"list_item_end"});if(c.loose)for(m=p.length,f=0;f<m;f++)p[f].loose=!0;this.tokens.push({type:"list_end"})}else if(i=this.rules.html.exec(e))e=e.substring(i[0].length),this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:!this.options.sanitizer&&("pre"===i[1]||"script"===i[1]||"style"===i[1]),text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(i[0]):u(i[0]):i[0]});else if(t&&(i=this.rules.def.exec(e)))e=e.substring(i[0].length),i[3]&&(i[3]=i[3].substring(1,i[3].length-1)),g=i[1].toLowerCase().replace(/\s+/g," "),this.tokens.links[g]||(this.tokens.links[g]={href:i[2],title:i[3]});else if((i=this.rules.table.exec(e))&&(l={type:"table",header:v(i[1].replace(/^ *| *\| *$/g,"")),align:i[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:i[3]?i[3].replace(/\n$/,"").split("\n"):[]}).header.length===l.align.length){for(e=e.substring(i[0].length),f=0;f<l.align.length;f++)/^ *-+: *$/.test(l.align[f])?l.align[f]="right":/^ *:-+: *$/.test(l.align[f])?l.align[f]="center":/^ *:-+ *$/.test(l.align[f])?l.align[f]="left":l.align[f]=null;for(f=0;f<l.cells.length;f++)l.cells[f]=v(l.cells[f].replace(/^ *\| *| *\| *$/g,""),l.header.length);this.tokens.push(l)}else if(i=this.rules.lheading.exec(e))e=e.substring(i[0].length),this.tokens.push({type:"heading",depth:"="===i[2].charAt(0)?1:2,text:i[1]});else if(t&&(i=this.rules.paragraph.exec(e)))e=e.substring(i[0].length),this.tokens.push({type:"paragraph",text:"\n"===i[1].charAt(i[1].length-1)?i[1].slice(0,-1):i[1]});else if(i=this.rules.text.exec(e))e=e.substring(i[0].length),this.tokens.push({type:"text",text:i[0]});else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0));return this.tokens};var o={escape:/^\\([!"#$%&'()*+,\-.\/:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:m,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,nolink:/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,strong:/^__([^\s_])__(?!_)|^\*\*([^\s*])\*\*(?!\*)|^__([^\s][\s\S]*?[^\s])__(?!_)|^\*\*([^\s][\s\S]*?[^\s])\*\*(?!\*)/,em:/^_([^\s_])_(?!_)|^\*([^\s*<\[])\*(?!\*)|^_([^\s<][\s\S]*?[^\s_])_(?!_|[^\spunctuation])|^_([^\s_<][\s\S]*?[^\s])_(?!_|[^\spunctuation])|^\*([^\s<"][\s\S]*?[^\s\*])\*(?!\*|[^\spunctuation])|^\*([^\s*"<\[][\s\S]*?[^\s])\*(?!\*)/,code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:m,text:/^(`+|[^`])(?:[\s\S]*?(?:(?=[\\<!\[`*]|\b_|$)|[^ ](?= {2,}\n))|(?= {2,}\n))/};function i(e,t){if(this.options=t||_.defaults,this.links=e,this.rules=o.normal,this.renderer=this.options.renderer||new s,this.renderer.options=this.options,!this.links)throw new Error("Tokens array requires a `links` property.");this.options.pedantic?this.rules=o.pedantic:this.options.gfm&&(this.options.breaks?this.rules=o.breaks:this.rules=o.gfm)}function s(e){this.options=e||_.defaults}function a(){}function l(e){this.tokens=[],this.token=null,this.options=e||_.defaults,this.options.renderer=this.options.renderer||new s,this.renderer=this.options.renderer,this.renderer.options=this.options,this.slugger=new c}function c(){this.seen={}}function u(e,t){if(t){if(u.escapeTest.test(e))return e.replace(u.escapeReplace,function(e){return u.replacements[e]})}else if(u.escapeTestNoEncode.test(e))return e.replace(u.escapeReplaceNoEncode,function(e){return u.replacements[e]});return e}function p(e){return e.replace(/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi,function(e,t){return"colon"===(t=t.toLowerCase())?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""})}function h(e,t){return e=e.source||e,t=t||"",{replace:function(t,n){return n=(n=n.source||n).replace(/(^|[^\[])\^/g,"$1"),e=e.replace(t,n),this},getRegex:function(){return new RegExp(e,t)}}}function d(e,t,n){if(e){try{var r=decodeURIComponent(p(n)).replace(/[^\w:]/g,"").toLowerCase()}catch(e){return null}if(0===r.indexOf("javascript:")||0===r.indexOf("vbscript:")||0===r.indexOf("data:"))return null}t&&!g.test(n)&&(n=function(e,t){f[" "+e]||(/^[^:]+:\/*[^\/]*$/.test(e)?f[" "+e]=e+"/":f[" "+e]=b(e,"/",!0));return e=f[" "+e],"//"===t.slice(0,2)?e.replace(/:[\s\S]*/,":")+t:"/"===t.charAt(0)?e.replace(/(:\/*[^\/]*)[\s\S]*/,"$1")+t:e+t}(t,n));try{n=encodeURI(n).replace(/%25/g,"%")}catch(e){return null}return n}o._punctuation="!\"#$%&'()*+,\\-./:;<=>?@\\[^_{|}~",o.em=h(o.em).replace(/punctuation/g,o._punctuation).getRegex(),o._escapes=/\\([!"#$%&'()*+,\-.\/:;<=>?@\[\]\\^_`{|}~])/g,o._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,o._email=/[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,o.autolink=h(o.autolink).replace("scheme",o._scheme).replace("email",o._email).getRegex(),o._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,o.tag=h(o.tag).replace("comment",n._comment).replace("attribute",o._attribute).getRegex(),o._label=/(?:\[[^\[\]]*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,o._href=/<(?:\\[<>]?|[^\s<>\\])*>|[^\s\x00-\x1f]*/,o._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,o.link=h(o.link).replace("label",o._label).replace("href",o._href).replace("title",o._title).getRegex(),o.reflink=h(o.reflink).replace("label",o._label).getRegex(),o.normal=y({},o),o.pedantic=y({},o.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/,link:h(/^!?\[(label)\]\((.*?)\)/).replace("label",o._label).getRegex(),reflink:h(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",o._label).getRegex()}),o.gfm=y({},o.normal,{escape:h(o.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^~+(?=\S)([\s\S]*?\S)~+/,text:/^(`+|[^`])(?:[\s\S]*?(?:(?=[\\<!\[`*~]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))|(?= {2,}\n|[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))/}),o.gfm.url=h(o.gfm.url,"i").replace("email",o.gfm._extended_email).getRegex(),o.breaks=y({},o.gfm,{br:h(o.br).replace("{2,}","*").getRegex(),text:h(o.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()}),i.rules=o,i.output=function(e,t,n){return new i(t,n).output(e)},i.prototype.output=function(e){for(var t,n,r,o,s,a,l="";e;)if(s=this.rules.escape.exec(e))e=e.substring(s[0].length),l+=u(s[1]);else if(s=this.rules.tag.exec(e))!this.inLink&&/^<a /i.test(s[0])?this.inLink=!0:this.inLink&&/^<\/a>/i.test(s[0])&&(this.inLink=!1),!this.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(s[0])?this.inRawBlock=!0:this.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(s[0])&&(this.inRawBlock=!1),e=e.substring(s[0].length),l+=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(s[0]):u(s[0]):s[0];else if(s=this.rules.link.exec(e)){var c=x(s[2],"()");if(c>-1){var p=4+s[1].length+c;s[2]=s[2].substring(0,c),s[0]=s[0].substring(0,p).trim(),s[3]=""}e=e.substring(s[0].length),this.inLink=!0,r=s[2],this.options.pedantic?(t=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(r))?(r=t[1],o=t[3]):o="":o=s[3]?s[3].slice(1,-1):"",r=r.trim().replace(/^<([\s\S]*)>$/,"$1"),l+=this.outputLink(s,{href:i.escapes(r),title:i.escapes(o)}),this.inLink=!1}else if((s=this.rules.reflink.exec(e))||(s=this.rules.nolink.exec(e))){if(e=e.substring(s[0].length),t=(s[2]||s[1]).replace(/\s+/g," "),!(t=this.links[t.toLowerCase()])||!t.href){l+=s[0].charAt(0),e=s[0].substring(1)+e;continue}this.inLink=!0,l+=this.outputLink(s,t),this.inLink=!1}else if(s=this.rules.strong.exec(e))e=e.substring(s[0].length),l+=this.renderer.strong(this.output(s[4]||s[3]||s[2]||s[1]));else if(s=this.rules.em.exec(e))e=e.substring(s[0].length),l+=this.renderer.em(this.output(s[6]||s[5]||s[4]||s[3]||s[2]||s[1]));else if(s=this.rules.code.exec(e))e=e.substring(s[0].length),l+=this.renderer.codespan(u(s[2].trim(),!0));else if(s=this.rules.br.exec(e))e=e.substring(s[0].length),l+=this.renderer.br();else if(s=this.rules.del.exec(e))e=e.substring(s[0].length),l+=this.renderer.del(this.output(s[1]));else if(s=this.rules.autolink.exec(e))e=e.substring(s[0].length),r="@"===s[2]?"mailto:"+(n=u(this.mangle(s[1]))):n=u(s[1]),l+=this.renderer.link(r,null,n);else if(this.inLink||!(s=this.rules.url.exec(e))){if(s=this.rules.text.exec(e))e=e.substring(s[0].length),this.inRawBlock?l+=this.renderer.text(this.options.sanitize?this.options.sanitizer?this.options.sanitizer(s[0]):u(s[0]):s[0]):l+=this.renderer.text(u(this.smartypants(s[0])));else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0))}else{if("@"===s[2])r="mailto:"+(n=u(s[0]));else{do{a=s[0],s[0]=this.rules._backpedal.exec(s[0])[0]}while(a!==s[0]);n=u(s[0]),r="www."===s[1]?"http://"+n:n}e=e.substring(s[0].length),l+=this.renderer.link(r,null,n)}return l},i.escapes=function(e){return e?e.replace(i.rules._escapes,"$1"):e},i.prototype.outputLink=function(e,t){var n=t.href,r=t.title?u(t.title):null;return"!"!==e[0].charAt(0)?this.renderer.link(n,r,this.output(e[1])):this.renderer.image(n,r,u(e[1]))},i.prototype.smartypants=function(e){return this.options.smartypants?e.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014\/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014\/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…"):e},i.prototype.mangle=function(e){if(!this.options.mangle)return e;for(var t,n="",r=e.length,o=0;o<r;o++)t=e.charCodeAt(o),Math.random()>.5&&(t="x"+t.toString(16)),n+="&#"+t+";";return n},s.prototype.code=function(e,t,n){var r=(t||"").match(/\S*/)[0];if(this.options.highlight){var o=this.options.highlight(e,r);null!=o&&o!==e&&(n=!0,e=o)}return r?'<pre><code class="'+this.options.langPrefix+u(r,!0)+'">'+(n?e:u(e,!0))+"</code></pre>\n":"<pre><code>"+(n?e:u(e,!0))+"</code></pre>"},s.prototype.blockquote=function(e){return"<blockquote>\n"+e+"</blockquote>\n"},s.prototype.html=function(e){return e},s.prototype.heading=function(e,t,n,r){return this.options.headerIds?"<h"+t+' id="'+this.options.headerPrefix+r.slug(n)+'">'+e+"</h"+t+">\n":"<h"+t+">"+e+"</h"+t+">\n"},s.prototype.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},s.prototype.list=function(e,t,n){var r=t?"ol":"ul";return"<"+r+(t&&1!==n?' start="'+n+'"':"")+">\n"+e+"</"+r+">\n"},s.prototype.listitem=function(e){return"<li>"+e+"</li>\n"},s.prototype.checkbox=function(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},s.prototype.paragraph=function(e){return"<p>"+e+"</p>\n"},s.prototype.table=function(e,t){return t&&(t="<tbody>"+t+"</tbody>"),"<table>\n<thead>\n"+e+"</thead>\n"+t+"</table>\n"},s.prototype.tablerow=function(e){return"<tr>\n"+e+"</tr>\n"},s.prototype.tablecell=function(e,t){var n=t.header?"th":"td";return(t.align?"<"+n+' align="'+t.align+'">':"<"+n+">")+e+"</"+n+">\n"},s.prototype.strong=function(e){return"<strong>"+e+"</strong>"},s.prototype.em=function(e){return"<em>"+e+"</em>"},s.prototype.codespan=function(e){return"<code>"+e+"</code>"},s.prototype.br=function(){return this.options.xhtml?"<br/>":"<br>"},s.prototype.del=function(e){return"<del>"+e+"</del>"},s.prototype.link=function(e,t,n){if(null===(e=d(this.options.sanitize,this.options.baseUrl,e)))return n;var r='<a href="'+u(e)+'"';return t&&(r+=' title="'+t+'"'),r+=">"+n+"</a>"},s.prototype.image=function(e,t,n){if(null===(e=d(this.options.sanitize,this.options.baseUrl,e)))return n;var r='<img src="'+e+'" alt="'+n+'"';return t&&(r+=' title="'+t+'"'),r+=this.options.xhtml?"/>":">"},s.prototype.text=function(e){return e},a.prototype.strong=a.prototype.em=a.prototype.codespan=a.prototype.del=a.prototype.text=function(e){return e},a.prototype.link=a.prototype.image=function(e,t,n){return""+n},a.prototype.br=function(){return""},l.parse=function(e,t){return new l(t).parse(e)},l.prototype.parse=function(e){this.inline=new i(e.links,this.options),this.inlineText=new i(e.links,y({},this.options,{renderer:new a})),this.tokens=e.reverse();for(var t="";this.next();)t+=this.tok();return t},l.prototype.next=function(){return this.token=this.tokens.pop(),this.token},l.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0},l.prototype.parseText=function(){for(var e=this.token.text;"text"===this.peek().type;)e+="\n"+this.next().text;return this.inline.output(e)},l.prototype.tok=function(){switch(this.token.type){case"space":return"";case"hr":return this.renderer.hr();case"heading":return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,p(this.inlineText.output(this.token.text)),this.slugger);case"code":return this.renderer.code(this.token.text,this.token.lang,this.token.escaped);case"table":var e,t,n,r,o="",i="";for(n="",e=0;e<this.token.header.length;e++)n+=this.renderer.tablecell(this.inline.output(this.token.header[e]),{header:!0,align:this.token.align[e]});for(o+=this.renderer.tablerow(n),e=0;e<this.token.cells.length;e++){for(t=this.token.cells[e],n="",r=0;r<t.length;r++)n+=this.renderer.tablecell(this.inline.output(t[r]),{header:!1,align:this.token.align[r]});i+=this.renderer.tablerow(n)}return this.renderer.table(o,i);case"blockquote_start":for(i="";"blockquote_end"!==this.next().type;)i+=this.tok();return this.renderer.blockquote(i);case"list_start":i="";for(var s=this.token.ordered,a=this.token.start;"list_end"!==this.next().type;)i+=this.tok();return this.renderer.list(i,s,a);case"list_item_start":i="";var l=this.token.loose,c=this.token.checked,u=this.token.task;for(this.token.task&&(i+=this.renderer.checkbox(c));"list_item_end"!==this.next().type;)i+=l||"text"!==this.token.type?this.tok():this.parseText();return this.renderer.listitem(i,u,c);case"html":return this.renderer.html(this.token.text);case"paragraph":return this.renderer.paragraph(this.inline.output(this.token.text));case"text":return this.renderer.paragraph(this.parseText());default:var h='Token with "'+this.token.type+'" type was not found.';if(!this.options.silent)throw new Error(h);console.log(h)}},c.prototype.slug=function(e){var t=e.toLowerCase().trim().replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,.\/:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-");if(this.seen.hasOwnProperty(t)){var n=t;do{this.seen[n]++,t=n+"-"+this.seen[n]}while(this.seen.hasOwnProperty(t))}return this.seen[t]=0,t},u.escapeTest=/[&<>"']/,u.escapeReplace=/[&<>"']/g,u.replacements={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},u.escapeTestNoEncode=/[<>"']|&(?!#?\w+;)/,u.escapeReplaceNoEncode=/[<>"']|&(?!#?\w+;)/g;var f={},g=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function m(){}function y(e){for(var t,n,r=1;r<arguments.length;r++)for(n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function v(e,t){var n=e.replace(/\|/g,function(e,t,n){for(var r=!1,o=t;--o>=0&&"\\"===n[o];)r=!r;return r?"|":" |"}).split(/ \|/),r=0;if(n.length>t)n.splice(t);else for(;n.length<t;)n.push("");for(;r<n.length;r++)n[r]=n[r].trim().replace(/\\\|/g,"|");return n}function b(e,t,n){if(0===e.length)return"";for(var r=0;r<e.length;){var o=e.charAt(e.length-r-1);if(o!==t||n){if(o===t||!n)break;r++}else r++}return e.substr(0,e.length-r)}function x(e,t){if(-1===e.indexOf(t[1]))return-1;for(var n=0,r=0;r<e.length;r++)if("\\"===e[r])r++;else if(e[r]===t[0])n++;else if(e[r]===t[1]&&--n<0)return r;return-1}function w(e){e&&e.sanitize&&!e.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function _(e,t,n){if(null==e)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof e)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");if(n||"function"==typeof t){n||(n=t,t=null),w(t=y({},_.defaults,t||{}));var o,i,s=t.highlight,a=0;try{o=r.lex(e,t)}catch(e){return n(e)}i=o.length;var c=function(e){if(e)return t.highlight=s,n(e);var r;try{r=l.parse(o,t)}catch(t){e=t}return t.highlight=s,e?n(e):n(null,r)};if(!s||s.length<3)return c();if(delete t.highlight,!i)return c();for(;a<o.length;a++)!function(e){"code"!==e.type?--i||c():s(e.text,e.lang,function(t,n){return t?c(t):null==n||n===e.text?--i||c():(e.text=n,e.escaped=!0,void(--i||c()))})}(o[a])}else try{return t&&(t=y({},_.defaults,t)),w(t),l.parse(r.lex(e,t),t)}catch(e){if(e.message+="\nPlease report this to https://github.com/markedjs/marked.",(t||_.defaults).silent)return"<p>An error occurred:</p><pre>"+u(e.message+"",!0)+"</pre>";throw e}}m.exec=m,_.options=_.setOptions=function(e){return y(_.defaults,e),_},_.getDefaults=function(){return{baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:new s,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,xhtml:!1}},_.defaults=_.getDefaults(),_.Parser=l,_.parser=l.parse,_.Renderer=s,_.TextRenderer=a,_.Lexer=r,_.lexer=r.lex,_.InlineLexer=i,_.inlineLexer=i.output,_.Slugger=c,_.parse=_,e.exports=_}(this||"undefined"!=typeof window&&window)}).call(this,n(31))},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";n.r(t);const r=new WeakMap,o=e=>(function(){const t=e(...arguments);return r.set(t,!0),t}),i=e=>"function"==typeof e&&r.has(e),s=void 0!==window.customElements&&void 0!==window.customElements.polyfillWrapFlushCallback,a=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;for(;t!==n;){const n=t.nextSibling;e.removeChild(t),t=n}},l={},c={},u="{{lit-".concat(String(Math.random()).slice(2),"}}"),p="\x3c!--".concat(u,"--\x3e"),h=new RegExp("".concat(u,"|").concat(p)),d="$lit$";class f{constructor(e,t){this.parts=[],this.element=t;const n=[],r=[],o=document.createTreeWalker(t.content,133,null,!1);let i=0,s=-1,a=0;const{strings:l,values:{length:c}}=e;for(;a<c;){const e=o.nextNode();if(null!==e){if(s++,1===e.nodeType){if(e.hasAttributes()){const t=e.attributes,{length:n}=t;let r=0;for(let e=0;e<n;e++)g(t[e].name,d)&&r++;for(;r-- >0;){const t=l[a],n=v.exec(t)[2],r=n.toLowerCase()+d,o=e.getAttribute(r);e.removeAttribute(r);const i=o.split(h);this.parts.push({type:"attribute",index:s,name:n,strings:i}),a+=i.length-1}}"TEMPLATE"===e.tagName&&(r.push(e),o.currentNode=e.content)}else if(3===e.nodeType){const t=e.data;if(t.indexOf(u)>=0){const r=e.parentNode,o=t.split(h),i=o.length-1;for(let t=0;t<i;t++){let n,i=o[t];if(""===i)n=y();else{const e=v.exec(i);null!==e&&g(e[2],d)&&(i=i.slice(0,e.index)+e[1]+e[2].slice(0,-d.length)+e[3]),n=document.createTextNode(i)}r.insertBefore(n,e),this.parts.push({type:"node",index:++s})}""===o[i]?(r.insertBefore(y(),e),n.push(e)):e.data=o[i],a+=i}}else if(8===e.nodeType)if(e.data===u){const t=e.parentNode;null!==e.previousSibling&&s!==i||(s++,t.insertBefore(y(),e)),i=s,this.parts.push({type:"node",index:s}),null===e.nextSibling?e.data="":(n.push(e),s--),a++}else{let t=-1;for(;-1!==(t=e.data.indexOf(u,t+1));)this.parts.push({type:"node",index:-1}),a++}}else o.currentNode=r.pop()}for(const e of n)e.parentNode.removeChild(e)}}const g=(e,t)=>{const n=e.length-t.length;return n>=0&&e.slice(n)===t},m=e=>-1!==e.index,y=()=>document.createComment(""),v=/([ \x09\x0a\x0c\x0d])([^\0-\x1F\x7F-\x9F "'>=\/]+)([ \x09\x0a\x0c\x0d]*=[ \x09\x0a\x0c\x0d]*(?:[^ \x09\x0a\x0c\x0d"'`<>=]*|"[^"]*|'[^']*))$/;class b{constructor(e,t,n){this.__parts=[],this.template=e,this.processor=t,this.options=n}update(e){let t=0;for(const n of this.__parts)void 0!==n&&n.setValue(e[t]),t++;for(const e of this.__parts)void 0!==e&&e.commit()}_clone(){const e=s?this.template.element.content.cloneNode(!0):document.importNode(this.template.element.content,!0),t=[],n=this.template.parts,r=document.createTreeWalker(e,133,null,!1);let o,i=0,a=0,l=r.nextNode();for(;i<n.length;)if(o=n[i],m(o)){for(;a<o.index;)a++,"TEMPLATE"===l.nodeName&&(t.push(l),r.currentNode=l.content),null===(l=r.nextNode())&&(r.currentNode=t.pop(),l=r.nextNode());if("node"===o.type){const e=this.processor.handleTextExpression(this.options);e.insertAfterNode(l.previousSibling),this.__parts.push(e)}else this.__parts.push(...this.processor.handleAttributeExpressions(l,o.name,o.strings,this.options));i++}else this.__parts.push(void 0),i++;return s&&(document.adoptNode(e),customElements.upgrade(e)),e}}class x{constructor(e,t,n,r){this.strings=e,this.values=t,this.type=n,this.processor=r}getHTML(){const e=this.strings.length-1;let t="",n=!1;for(let r=0;r<e;r++){const e=this.strings[r],o=e.lastIndexOf("\x3c!--");n=(o>-1||n)&&-1===e.indexOf("--\x3e",o+1);const i=v.exec(e);t+=null===i?e+(n?u:p):e.substr(0,i.index)+i[1]+i[2]+d+i[3]+u}return t+=this.strings[e]}getTemplateElement(){const e=document.createElement("template");return e.innerHTML=this.getHTML(),e}}const w=e=>null===e||!("object"==typeof e||"function"==typeof e),_=e=>Array.isArray(e)||!(!e||!e[Symbol.iterator]);class k{constructor(e,t,n){this.dirty=!0,this.element=e,this.name=t,this.strings=n,this.parts=[];for(let e=0;e<n.length-1;e++)this.parts[e]=this._createPart()}_createPart(){return new S(this)}_getValue(){const e=this.strings,t=e.length-1;let n="";for(let r=0;r<t;r++){n+=e[r];const t=this.parts[r];if(void 0!==t){const e=t.value;if(w(e)||!_(e))n+="string"==typeof e?e:String(e);else for(const t of e)n+="string"==typeof t?t:String(t)}}return n+=e[t]}commit(){this.dirty&&(this.dirty=!1,this.element.setAttribute(this.name,this._getValue()))}}class S{constructor(e){this.value=void 0,this.committer=e}setValue(e){e===l||w(e)&&e===this.value||(this.value=e,i(e)||(this.committer.dirty=!0))}commit(){for(;i(this.value);){const e=this.value;this.value=l,e(this)}this.value!==l&&this.committer.commit()}}class C{constructor(e){this.value=void 0,this.__pendingValue=void 0,this.options=e}appendInto(e){this.startNode=e.appendChild(y()),this.endNode=e.appendChild(y())}insertAfterNode(e){this.startNode=e,this.endNode=e.nextSibling}appendIntoPart(e){e.__insert(this.startNode=y()),e.__insert(this.endNode=y())}insertAfterPart(e){e.__insert(this.startNode=y()),this.endNode=e.endNode,e.endNode=this.startNode}setValue(e){this.__pendingValue=e}commit(){for(;i(this.__pendingValue);){const e=this.__pendingValue;this.__pendingValue=l,e(this)}const e=this.__pendingValue;e!==l&&(w(e)?e!==this.value&&this.__commitText(e):e instanceof x?this.__commitTemplateResult(e):e instanceof Node?this.__commitNode(e):_(e)?this.__commitIterable(e):e===c?(this.value=c,this.clear()):this.__commitText(e))}__insert(e){this.endNode.parentNode.insertBefore(e,this.endNode)}__commitNode(e){this.value!==e&&(this.clear(),this.__insert(e),this.value=e)}__commitText(e){const t=this.startNode.nextSibling;e=null==e?"":e,t===this.endNode.previousSibling&&3===t.nodeType?t.data=e:this.__commitNode(document.createTextNode("string"==typeof e?e:String(e))),this.value=e}__commitTemplateResult(e){const t=this.options.templateFactory(e);if(this.value instanceof b&&this.value.template===t)this.value.update(e.values);else{const n=new b(t,e.processor,this.options),r=n._clone();n.update(e.values),this.__commitNode(r),this.value=n}}__commitIterable(e){Array.isArray(this.value)||(this.value=[],this.clear());const t=this.value;let n,r=0;for(const o of e)void 0===(n=t[r])&&(n=new C(this.options),t.push(n),0===r?n.appendIntoPart(this):n.insertAfterPart(t[r-1])),n.setValue(o),n.commit(),r++;r<t.length&&(t.length=r,this.clear(n&&n.endNode))}clear(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.startNode;a(this.startNode.parentNode,e.nextSibling,this.endNode)}}class E{constructor(e,t,n){if(this.value=void 0,this.__pendingValue=void 0,2!==n.length||""!==n[0]||""!==n[1])throw new Error("Boolean attributes can only contain a single expression");this.element=e,this.name=t,this.strings=n}setValue(e){this.__pendingValue=e}commit(){for(;i(this.__pendingValue);){const e=this.__pendingValue;this.__pendingValue=l,e(this)}if(this.__pendingValue===l)return;const e=!!this.__pendingValue;this.value!==e&&(e?this.element.setAttribute(this.name,""):this.element.removeAttribute(this.name),this.value=e),this.__pendingValue=l}}class O extends k{constructor(e,t,n){super(e,t,n),this.single=2===n.length&&""===n[0]&&""===n[1]}_createPart(){return new T(this)}_getValue(){return this.single?this.parts[0].value:super._getValue()}commit(){this.dirty&&(this.dirty=!1,this.element[this.name]=this._getValue())}}class T extends S{}let P=!1;try{const e={get capture(){return P=!0,!1}};window.addEventListener("test",e,e),window.removeEventListener("test",e,e)}catch(e){}class A{constructor(e,t,n){this.value=void 0,this.__pendingValue=void 0,this.element=e,this.eventName=t,this.eventContext=n,this.__boundHandleEvent=(e=>this.handleEvent(e))}setValue(e){this.__pendingValue=e}commit(){for(;i(this.__pendingValue);){const e=this.__pendingValue;this.__pendingValue=l,e(this)}if(this.__pendingValue===l)return;const e=this.__pendingValue,t=this.value,n=null==e||null!=t&&(e.capture!==t.capture||e.once!==t.once||e.passive!==t.passive),r=null!=e&&(null==t||n);n&&this.element.removeEventListener(this.eventName,this.__boundHandleEvent,this.__options),r&&(this.__options=R(e),this.element.addEventListener(this.eventName,this.__boundHandleEvent,this.__options)),this.value=e,this.__pendingValue=l}handleEvent(e){"function"==typeof this.value?this.value.call(this.eventContext||this.element,e):this.value.handleEvent(e)}}const R=e=>e&&(P?{capture:e.capture,passive:e.passive,once:e.once}:e.capture);const z=new class{handleAttributeExpressions(e,t,n,r){const o=t[0];return"."===o?new O(e,t.slice(1),n).parts:"@"===o?[new A(e,t.slice(1),r.eventContext)]:"?"===o?[new E(e,t.slice(1),n)]:new k(e,t,n).parts}handleTextExpression(e){return new C(e)}};function N(e){let t=j.get(e.type);void 0===t&&(t={stringsArray:new WeakMap,keyString:new Map},j.set(e.type,t));let n=t.stringsArray.get(e.strings);if(void 0!==n)return n;const r=e.strings.join(u);return void 0===(n=t.keyString.get(r))&&(n=new f(e,e.getTemplateElement()),t.keyString.set(r,n)),t.stringsArray.set(e.strings,n),n}const j=new Map,q=new WeakMap;(window.litHtmlVersions||(window.litHtmlVersions=[])).push("1.0.0");const L=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return new x(e,n,"html",z)},B=133;function D(e,t){const{element:{content:n},parts:r}=e,o=document.createTreeWalker(n,B,null,!1);let i=U(r),s=r[i],a=-1,l=0;const c=[];let u=null;for(;o.nextNode();){a++;const e=o.currentNode;for(e.previousSibling===u&&(u=null),t.has(e)&&(c.push(e),null===u&&(u=e)),null!==u&&l++;void 0!==s&&s.index===a;)s.index=null!==u?-1:s.index-l,s=r[i=U(r,i)]}c.forEach(e=>e.parentNode.removeChild(e))}const I=e=>{let t=11===e.nodeType?0:1;const n=document.createTreeWalker(e,B,null,!1);for(;n.nextNode();)t++;return t},U=function(e){for(let t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1)+1;t<e.length;t++){const n=e[t];if(m(n))return t}return-1};const $=(e,t)=>"".concat(e,"--").concat(t);let F=!0;void 0===window.ShadyCSS?F=!1:void 0===window.ShadyCSS.prepareTemplateDom&&(console.warn("Incompatible ShadyCSS version detected. Please update to at least @webcomponents/webcomponentsjs@2.0.2 and @webcomponents/shadycss@1.3.1."),F=!1);const V=e=>t=>{const n=$(t.type,e);let r=j.get(n);void 0===r&&(r={stringsArray:new WeakMap,keyString:new Map},j.set(n,r));let o=r.stringsArray.get(t.strings);if(void 0!==o)return o;const i=t.strings.join(u);if(void 0===(o=r.keyString.get(i))){const n=t.getTemplateElement();F&&window.ShadyCSS.prepareTemplateDom(n,e),o=new f(t,n),r.keyString.set(i,o)}return r.stringsArray.set(t.strings,o),o},M=["html","svg"],H=new Set,W=(e,t,n)=>{H.add(n);const r=e.querySelectorAll("style"),{length:o}=r;if(0===o)return void window.ShadyCSS.prepareTemplateStyles(t.element,n);const i=document.createElement("style");for(let e=0;e<o;e++){const t=r[e];t.parentNode.removeChild(t),i.textContent+=t.textContent}(e=>{M.forEach(t=>{const n=j.get($(t,e));void 0!==n&&n.keyString.forEach(e=>{const{element:{content:t}}=e,n=new Set;Array.from(t.querySelectorAll("style")).forEach(e=>{n.add(e)}),D(e,n)})})})(n);const s=t.element.content;!function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const{element:{content:r},parts:o}=e;if(null==n)return void r.appendChild(t);const i=document.createTreeWalker(r,B,null,!1);let s=U(o),a=0,l=-1;for(;i.nextNode();)for(l++,i.currentNode===n&&(a=I(t),n.parentNode.insertBefore(t,n));-1!==s&&o[s].index===l;){if(a>0){for(;-1!==s;)o[s].index+=a,s=U(o,s);return}s=U(o,s)}}(t,i,s.firstChild),window.ShadyCSS.prepareTemplateStyles(t.element,n);const a=s.querySelector("style");if(window.ShadyCSS.nativeShadow&&null!==a)e.insertBefore(a.cloneNode(!0),e.firstChild);else{s.insertBefore(i,s.firstChild);const e=new Set;e.add(i),D(t,e)}};window.JSCompiler_renameProperty=((e,t)=>e);const Z={toAttribute(e,t){switch(t){case Boolean:return e?"":null;case Object:case Array:return null==e?e:JSON.stringify(e)}return e},fromAttribute(e,t){switch(t){case Boolean:return null!==e;case Number:return null===e?null:Number(e);case Object:case Array:return JSON.parse(e)}return e}},X=(e,t)=>t!==e&&(t==t||e==e),K={attribute:!0,type:String,converter:Z,reflect:!1,hasChanged:X},J=Promise.resolve(!0),Y=1,Q=4,G=8,ee=16,te=32;class ne extends HTMLElement{constructor(){super(),this._updateState=0,this._instanceProperties=void 0,this._updatePromise=J,this._hasConnectedResolver=void 0,this._changedProperties=new Map,this._reflectingProperties=void 0,this.initialize()}static get observedAttributes(){this.finalize();const e=[];return this._classProperties.forEach((t,n)=>{const r=this._attributeNameForProperty(n,t);void 0!==r&&(this._attributeToPropertyMap.set(r,n),e.push(r))}),e}static _ensureClassProperties(){if(!this.hasOwnProperty(JSCompiler_renameProperty("_classProperties",this))){this._classProperties=new Map;const e=Object.getPrototypeOf(this)._classProperties;void 0!==e&&e.forEach((e,t)=>this._classProperties.set(t,e))}}static createProperty(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:K;if(this._ensureClassProperties(),this._classProperties.set(e,t),t.noAccessor||this.prototype.hasOwnProperty(e))return;const n="symbol"==typeof e?Symbol():"__".concat(e);Object.defineProperty(this.prototype,e,{get(){return this[n]},set(t){const r=this[e];this[n]=t,this._requestUpdate(e,r)},configurable:!0,enumerable:!0})}static finalize(){if(this.hasOwnProperty(JSCompiler_renameProperty("finalized",this))&&this.finalized)return;const e=Object.getPrototypeOf(this);if("function"==typeof e.finalize&&e.finalize(),this.finalized=!0,this._ensureClassProperties(),this._attributeToPropertyMap=new Map,this.hasOwnProperty(JSCompiler_renameProperty("properties",this))){const e=this.properties,t=[...Object.getOwnPropertyNames(e),..."function"==typeof Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e):[]];for(const n of t)this.createProperty(n,e[n])}}static _attributeNameForProperty(e,t){const n=t.attribute;return!1===n?void 0:"string"==typeof n?n:"string"==typeof e?e.toLowerCase():void 0}static _valueHasChanged(e,t){return(arguments.length>2&&void 0!==arguments[2]?arguments[2]:X)(e,t)}static _propertyValueFromAttribute(e,t){const n=t.type,r=t.converter||Z,o="function"==typeof r?r:r.fromAttribute;return o?o(e,n):e}static _propertyValueToAttribute(e,t){if(void 0===t.reflect)return;const n=t.type,r=t.converter;return(r&&r.toAttribute||Z.toAttribute)(e,n)}initialize(){this._saveInstanceProperties(),this._requestUpdate()}_saveInstanceProperties(){this.constructor._classProperties.forEach((e,t)=>{if(this.hasOwnProperty(t)){const e=this[t];delete this[t],this._instanceProperties||(this._instanceProperties=new Map),this._instanceProperties.set(t,e)}})}_applyInstanceProperties(){this._instanceProperties.forEach((e,t)=>this[t]=e),this._instanceProperties=void 0}connectedCallback(){this._updateState=this._updateState|te,this._hasConnectedResolver&&(this._hasConnectedResolver(),this._hasConnectedResolver=void 0)}disconnectedCallback(){}attributeChangedCallback(e,t,n){t!==n&&this._attributeToProperty(e,n)}_propertyToAttribute(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:K;const r=this.constructor,o=r._attributeNameForProperty(e,n);if(void 0!==o){const e=r._propertyValueToAttribute(t,n);if(void 0===e)return;this._updateState=this._updateState|G,null==e?this.removeAttribute(o):this.setAttribute(o,e),this._updateState=this._updateState&~G}}_attributeToProperty(e,t){if(this._updateState&G)return;const n=this.constructor,r=n._attributeToPropertyMap.get(e);if(void 0!==r){const e=n._classProperties.get(r)||K;this._updateState=this._updateState|ee,this[r]=n._propertyValueFromAttribute(t,e),this._updateState=this._updateState&~ee}}_requestUpdate(e,t){let n=!0;if(void 0!==e){const r=this.constructor,o=r._classProperties.get(e)||K;r._valueHasChanged(this[e],t,o.hasChanged)?(this._changedProperties.has(e)||this._changedProperties.set(e,t),!0!==o.reflect||this._updateState&ee||(void 0===this._reflectingProperties&&(this._reflectingProperties=new Map),this._reflectingProperties.set(e,o))):n=!1}!this._hasRequestedUpdate&&n&&this._enqueueUpdate()}requestUpdate(e,t){return this._requestUpdate(e,t),this.updateComplete}async _enqueueUpdate(){let e,t;this._updateState=this._updateState|Q;const n=this._updatePromise;this._updatePromise=new Promise((n,r)=>{e=n,t=r});try{await n}catch(e){}this._hasConnected||await new Promise(e=>this._hasConnectedResolver=e);try{const e=this.performUpdate();null!=e&&await e}catch(e){t(e)}e(!this._hasRequestedUpdate)}get _hasConnected(){return this._updateState&te}get _hasRequestedUpdate(){return this._updateState&Q}get hasUpdated(){return this._updateState&Y}performUpdate(){this._instanceProperties&&this._applyInstanceProperties();let e=!1;const t=this._changedProperties;try{(e=this.shouldUpdate(t))&&this.update(t)}catch(t){throw e=!1,t}finally{this._markUpdated()}e&&(this._updateState&Y||(this._updateState=this._updateState|Y,this.firstUpdated(t)),this.updated(t))}_markUpdated(){this._changedProperties=new Map,this._updateState=this._updateState&~Q}get updateComplete(){return this._updatePromise}shouldUpdate(e){return!0}update(e){void 0!==this._reflectingProperties&&this._reflectingProperties.size>0&&(this._reflectingProperties.forEach((e,t)=>this._propertyToAttribute(t,this[t],e)),this._reflectingProperties=void 0)}updated(e){}firstUpdated(e){}}ne.finalized=!0;const re=e=>t=>"function"==typeof t?((e,t)=>(window.customElements.define(e,t),t))(e,t):((e,t)=>{const{kind:n,elements:r}=t;return{kind:n,elements:r,finisher(t){window.customElements.define(e,t)}}})(e,t),oe=(e,t)=>"method"!==t.kind||!t.descriptor||"value"in t.descriptor?{kind:"field",key:Symbol(),placement:"own",descriptor:{},initializer(){"function"==typeof t.initializer&&(this[t.key]=t.initializer.call(this))},finisher(n){n.createProperty(t.key,e)}}:Object.assign({},t,{finisher(n){n.createProperty(t.key,e)}}),ie=(e,t,n)=>{t.constructor.createProperty(n,e)};function se(e){return(t,n)=>void 0!==n?ie(e,t,n):oe(e,t)}const ae="adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,le=Symbol();class ce{constructor(e,t){if(t!==le)throw new Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e}get styleSheet(){return void 0===this._styleSheet&&(ae?(this._styleSheet=new CSSStyleSheet,this._styleSheet.replaceSync(this.cssText)):this._styleSheet=null),this._styleSheet}toString(){return this.cssText}}const ue=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const o=n.reduce((t,n,r)=>t+(e=>{if(e instanceof ce)return e.cssText;throw new Error("Value passed to 'css' function must be a 'css' function result: ".concat(e,". Use 'unsafeCSS' to pass non-literal values, but\n            take care to ensure page security."))})(n)+e[r+1],e[0]);return new ce(o,le)};(window.litElementVersions||(window.litElementVersions=[])).push("2.0.1");const pe=e=>e.flat?e.flat(1/0):function e(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];for(let r=0,o=t.length;r<o;r++){const o=t[r];Array.isArray(o)?e(o,n):n.push(o)}return n}(e);class he extends ne{static finalize(){super.finalize(),this._styles=this.hasOwnProperty(JSCompiler_renameProperty("styles",this))?this._getUniqueStyles():this._styles||[]}static _getUniqueStyles(){const e=this.styles,t=[];if(Array.isArray(e)){pe(e).reduceRight((e,t)=>(e.add(t),e),new Set).forEach(e=>t.unshift(e))}else e&&t.push(e);return t}initialize(){super.initialize(),this.renderRoot=this.createRenderRoot(),window.ShadowRoot&&this.renderRoot instanceof window.ShadowRoot&&this.adoptStyles()}createRenderRoot(){return this.attachShadow({mode:"open"})}adoptStyles(){const e=this.constructor._styles;0!==e.length&&(void 0===window.ShadyCSS||window.ShadyCSS.nativeShadow?ae?this.renderRoot.adoptedStyleSheets=e.map(e=>e.styleSheet):this._needsShimAdoptedStyleSheets=!0:window.ShadyCSS.ScopingShim.prepareAdoptedCssText(e.map(e=>e.cssText),this.localName))}connectedCallback(){super.connectedCallback(),this.hasUpdated&&void 0!==window.ShadyCSS&&window.ShadyCSS.styleElement(this)}update(e){super.update(e);const t=this.render();t instanceof x&&this.constructor.render(t,this.renderRoot,{scopeName:this.localName,eventContext:this}),this._needsShimAdoptedStyleSheets&&(this._needsShimAdoptedStyleSheets=!1,this.constructor._styles.forEach(e=>{const t=document.createElement("style");t.textContent=e.cssText,this.renderRoot.appendChild(t)}))}render(){}}he.finalized=!0,he.render=((e,t,n)=>{const r=n.scopeName,o=q.has(t),i=F&&11===t.nodeType&&!!t.host&&e instanceof x,s=i&&!H.has(r),l=s?document.createDocumentFragment():t;if(((e,t,n)=>{let r=q.get(t);void 0===r&&(a(t,t.firstChild),q.set(t,r=new C(Object.assign({templateFactory:N},n))),r.appendInto(t)),r.setValue(e),r.commit()})(e,l,Object.assign({templateFactory:V(r)},n)),s){const e=q.get(l);q.delete(l),e.value instanceof b&&W(l,e.value.template,r),a(t,t.firstChild),t.appendChild(l),q.set(t,e)}!o&&i&&window.ShadyCSS.styleElement(t.host)});var de=n(1),fe=n.n(de);const ge=e=>{for(const t of document.cookie.split(";")){const n=t.indexOf("=");let r=t.substr(0,n),o=t.substr(n+1);if(r=r.trim(),o=o.trim(),r===e)return o}return null},me=e=>{const t=[];Object.keys(e).forEach(n=>{e[n]&&t.push(n)});let n=t.join(" ");return n.trim().length>0&&(n=" "+n),n},ye=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=ge("csrftoken"),r={headers:n?{"X-CSRFToken":n}:{}};return t&&(r.cancelToken=t),fe.a.get(e,r)};var ve=n(3),be=n.n(ve);function xe(){const e=Ae(['<div id="left-column"><div class="search"><rp-select placeholder="Search" endpoint="',"boundaries/",'/?q=" .renderOptionDetail="','" @rp-selection="','"></rp-select></div><div class="feature-tree">','</div></div><div id="right-column"><leaflet-map endpoint="','" .feature="','" .osmId="','" .hovered="','" .onFeatureClicked="','"></leaflet-map></div><rp-dialog id="alias-dialog" title="Aliases for ','" primaryButtonName="Save" .onButtonClicked="','"><div class="selected"><textarea id="','" .value="','"></textarea><div class="help">Enter other aliases for ',", one per line</div></div></rp-dialog>"]);return xe=function(){return e},e}function we(){const e=Ae([""]);return we=function(){return e},e}function _e(){const e=Ae(["",'<div class="path">','</div><div class="aliases">',"</div>"]);return _e=function(){return e},e}function ke(){const e=Ae(['<rp-label class="alias" dark>',"</rp-label>"]);return ke=function(){return e},e}function Se(){const e=Ae(["<style>rp-label {\n          margin-top: 3px;\n          margin-right: 3px;\n        }</style>"]);return Se=function(){return e},e}function Ce(){const e=Ae([""," ",""]);return Ce=function(){return e},e}function Ee(){const e=Ae(['<div class="edit clickable showonhover" @click="','"><rp-icon name="register" size="12"></rp-icon></div>']);return Ee=function(){return e},e}function Oe(){const e=Ae(['<rp-label class="alias" @click="','" light clickable>',"</rp-label>"]);return Oe=function(){return e},e}function Te(){const e=Ae(['<div class="feature"><div @mouseover="','" @mouseout="','" class="level-','"><div class="feature-name ','" @click="','">','</div><div class="aliases">'," ","</div></div></div>"]);return Te=function(){return e},e}function Pe(){const e=Ae([":host {\n        line-height: normal;\n      }\n\n      textarea {\n        border-radius: 5px;\n        border-color: var(--color-borders);\n        padding: 10px;\n        color: var(--color-text);\n        font-size: 14px;\n        resize: none;\n      }\n\n      textarea:focus {\n        box-shadow: none;\n        outline: none;\n      }\n\n      #left-column {\n        display: inline-block;\n        margin-left: 10px;\n        width: 300px;\n        z-index: 100;\n      }\n\n      .search {\n        margin-bottom: 10px;\n      }\n\n      .feature {\n        padding: 4px 14px;\n        font-size: 16px;\n      }\n\n      .level-0 {\n        margin-left: 0px;\n      }\n\n      .level-1 {\n        margin-left: 5px;\n        font-size: 95%;\n      }\n\n      .level-2 {\n        margin-left: 10px;\n        font-size: 90%;\n      }\n\n      .level-3 {\n        margin-left: 15px;\n        font-size: 85%;\n      }\n\n      .feature-name {\n        display: inline-block;\n      }\n\n      .clickable {\n        text-decoration: none;\n        cursor: pointer;\n        color: var(--color-link-primary);\n      }\n\n      .clickable.secondary {\n        color: var(--color-link-secondary);\n      }\n\n      .clickable:hover {\n        text-decoration: underline;\n        color: var(--color-link-primary-hover);\n      }\n\n      .feature:hover .showonhover {\n        visibility: visible;\n      }\n\n      .showonhover {\n        visibility: hidden;\n      }\n\n      .aliases {\n        color: #bbb;\n        font-size: 80%;\n        display: inline;\n        margin-left: 5px;\n      }\n\n      rp-label {\n        margin-right: 3px;\n        margin-bottom: 3px;\n        vertical-align: top;\n      }\n\n      .selected {\n        display: flex;\n        flex-direction: column;\n        padding: 15px;\n      }\n\n      .selected .name {\n        font-size: 18px;\n        padding: 5px;\n      }\n\n      .selected .help {\n        padding: 5px 2px;\n        font-size: 11px;\n        color: var(--color-secondary-light);\n      }\n\n      #right-column {\n        vertical-align: top;\n        margin-left: 20px;\n        display: inline-block;\n      }\n\n      leaflet-map {\n        height: 250px;\n        width: 450px;\n        border: 0px solid #999;\n        border-radius: 5px;\n      }\n\n      .edit {\n        display: inline-block;\n        margin-right: 0px;\n      }"]);return Pe=function(){return e},e}function Ae(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var Re=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};let ze=class extends he{constructor(){super(),this.path=[]}static get styles(){return ue(Pe())}updated(e){if(e.has("osmId")){const e=[];for(let t of this.path)if(e.push(t),t.osm_id===this.osmId)return this.path=[...e],void this.hideAliasDialog();this.fetchFeature()}}fetchFeature(){ye(this.getEndpoint()+"boundaries/"+this.osmId+"/").then(e=>{this.path=e.data,this.hideAliasDialog()})}fireTextareaAutosize(){window.setTimeout(()=>{be()(this.shadowRoot.querySelector("textarea")),be.a.update(this.shadowRoot.querySelector("textarea"))},0)}handleMapClicked(e){this.hovered=null,e&&e.osm_id===this.osmId||(this.osmId=e.osm_id)}handlePlaceClicked(e){this.osmId=e.osm_id}handleSearchSelection(e){const t=e.detail.selected;this.showAliasDialog(t)}renderFeature(e,t){const n=this.path[this.path.length-1],r=(e.has_children||0===e.level)&&e!==n,o=L(Te(),()=>{e.level>0&&(this.hovered=e)},()=>{this.hovered=null},e.level,r?"clickable":"",()=>{r&&this.handlePlaceClicked(e)},e.name,e.aliases.split("\n").map(t=>t.trim().length>0?L(Oe(),()=>{this.showAliasDialog(e)},t):null),e.level>0?L(Ee(),t=>{this.showAliasDialog(e),t.preventDefault(),t.stopPropagation()}):""),i=(e.children||[]).map(e=>t.length>0&&t[0].osm_id===e.osm_id?this.renderFeature(t[0],t.slice(1)):0===t.length||0===t[0].children.length?this.renderFeature(e,t):null);return L(Ce(),o,i)}showAliasDialog(e){this.editFeature=e;const t=this.shadowRoot.getElementById("alias-dialog");t&&(this.fireTextareaAutosize(),t.setAttribute("open",""))}hideAliasDialog(){const e=this.shadowRoot.getElementById("alias-dialog");e&&e.removeAttribute("open"),this.requestUpdate()}getEndpoint(){return this.endpoint+(this.endpoint.endsWith("/")?"":"/")}handleDialogClick(e){if("Save"===e.name){e.setProgress(!0);const t=this.shadowRoot.getElementById(this.editFeature.osm_id).value,n={osm_id:this.editFeature.osm_id,aliases:t};((e,t)=>{const n=ge("csrftoken"),r=n?{"X-CSRFToken":n}:{};return fe.a.post(e,t,{headers:r})})(this.getEndpoint()+"boundaries/"+this.editFeature.osm_id+"/",n).then(e=>{this.fetchFeature()})}"Cancel"===e.name&&this.hideAliasDialog()}renderOptionDetail(e,t){const n=L(Se()),r=e.aliases.split("\n").map(e=>e.trim().length>0?L(ke(),e):null);return L(_e(),n,e.path.replace(/>/gi,"‣"),r)}render(){if(0===this.path.length)return L(we());const e=this.path[this.path.length-1],t=0===e.children.length?this.path[this.path.length-2]:e,n=this.editFeature?this.editFeature.osm_id:null,r=this.editFeature?this.editFeature.name:null,o=this.editFeature?this.editFeature.aliases:null;return L(xe(),this.getEndpoint(),this.path[0].osm_id,this.renderOptionDetail,this.handleSearchSelection.bind(this),this.renderFeature(this.path[0],this.path.slice(1)),this.getEndpoint(),t,t.osm_id,this.hovered,this.handleMapClicked.bind(this),r,this.handleDialogClick.bind(this),n,o,r)}};Re([se({type:Array,attribute:!1})],ze.prototype,"path",void 0),Re([se()],ze.prototype,"endpoint",void 0),Re([se()],ze.prototype,"osmId",void 0),Re([se({type:Object})],ze.prototype,"hovered",void 0),Re([se({type:Object})],ze.prototype,"editFeature",void 0);ze=Re([re("alias-editor")],ze);function Ne(){const e=qe(['<div class="button ','" tabindex="0" @keyup="','"><div class="mask">',"</div></div>"]);return Ne=function(){return e},e}function je(){const e=qe([".button {\n        background: blue;\n        color: #fff;\n        cursor: pointer;\n        display: inline-block;\n        border-radius: var(--curvature);\n        outline: none;\n      }\n\n      .button:focus {\n        outline: none;\n        margin: 0;\n      }\n\n      .button:focus .mask{\n        background: rgb(0,0,0,.1);\n        box-shadow: 0 0 0px 2px var(--color-button-primary);\n      }\n\n      .button.secondary:focus .mask{\n        border: 1px solid var(--color-button-secondary);\n        background: transparent;\n        box-shadow: 0 0 0px 2px var(--color-button-secondary);\n      }\n\n      .mask {\n        padding: 5px 10px;\n        border-radius: var(--curvature);\n        border: 1px solid transparent;\n      }\n\n      .primary {\n        background: var(--color-button-primary);\n        color: var(--color-button-primary-text);\n      }\n\n      .secondary {\n        background: transparent;\n        color: var(--color-button-secondary);\n      }\n\n      .secondary:hover .mask{\n        border: 1px solid var(--color-button-secondary);\n      }\n\n      .button.progress{\n        background: #ddd;\n      }\n\n      .button.progress:focus .mask {\n        box-shadow: 0 0 0px 2px var(--color-button-secondary);\n      }\n\n      .mask:hover {\n        background: rgb(0,0,0,.1);\n      }\n\n      .secondary .mask:hover {\n        background: transparent;\n      }"]);return je=function(){return e},e}function qe(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var Le=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};let Be=class extends he{static get styles(){return ue(je())}setProgress(e){this.isProgress=e}handleKeyUp(e){"Enter"===e.key&&this.click()}render(){return L(Ne(),me({progress:this.isProgress,primary:this.primary,secondary:this.secondary}),this.handleKeyUp,this.isProgress&&this.inProgessName||this.name)}};Le([se({type:Boolean})],Be.prototype,"primary",void 0),Le([se({type:Boolean})],Be.prototype,"secondary",void 0),Le([se()],Be.prototype,"name",void 0),Le([se()],Be.prototype,"inProgessName",void 0),Le([se({type:Boolean})],Be.prototype,"isProgress",void 0);Be=Le([re("rp-button")],Be);function De(){const e=$e(["<slot></slot>"]);return De=function(){return e},e}function Ie(){const e=$e(["<style>.mask {\n            height: ",'px;\n          }\n          .mask.open > .dialog {\n            top: 100px;\n          }</style><div class="mask ','"><div @keyup="','" class="dialog"><div class="header"><div class="title">','</div></div><div class="body" @keypress="','">','</div><div class="footer"><rp-button @click="','" name="','" inProgessName="','" primary>}</rp-button><rp-button @click="','" name="','" secondary></rp-button></div></div></div>']);return Ie=function(){return e},e}function Ue(){const e=$e([".mask {\n        width: 100%;\n        background: rgba(0, 0, 0, .5);\n        opacity: 0;\n        visibility: hidden;\n        position: fixed;\n        top:0px;\n        left:0px;\n        z-index: 2000;\n        transition: all ease-in 250ms;\n      }\n\n      .dialog {\n        background: #fff;\n        width: 500px;\n        margin: 0px auto; \n        top: -200px;\n        position: relative;\n        transition: top ease-in-out 200ms;\n        border-radius: var(--curvature);\n        overflow: hidden;\n        box-shadow: 0px 0px 0px 4px rgba(0,0,0,.04);\n      }\n\n      .mask.open {\n        opacity: 1;\n        visibility: visible;\n      }\n\n      .title {\n        padding: 10px 20px;\n        font-size: 18px;\n        color: var(--color-text-light);\n        background: var(--color-primary-dark);\n      }\n\n      .footer {\n        background: var(--color-primary-light);\n        padding: 10px;\n        display: flex;\n        flex-flow: row-reverse;\n      }\n\n      rp-button {\n        margin-left: 5px;\n      }"]);return Ue=function(){return e},e}function $e(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var Fe=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};let Ve=class extends he{constructor(){super(),this.primaryButtonName="Ok",this.cancelButtonName="Cancel",this.inProgressName="Saving"}static get styles(){return ue(Ue())}updated(e){if(e.has("open")&&this.open){this.shadowRoot.querySelectorAll("rp-button").forEach(e=>e.setProgress(!1));const e=this.querySelectorAll("textarea,input");e.length>0&&window.setTimeout(()=>{e[0].focus()},100)}}handleClick(e){const t=e.currentTarget;t.isProgress||this.onButtonClicked(t)}getDocumentHeight(){const e=document.body,t=document.documentElement;return Math.max(e.scrollHeight,e.offsetHeight,t.clientHeight,t.scrollHeight,t.offsetHeight)}handleKeyUp(e){"Escape"===e.key&&this.shadowRoot.querySelectorAll("rp-button").forEach(e=>{e.name===this.cancelButtonName&&e.click()})}render(){const e=this.getDocumentHeight();return L(Ie(),e+100,this.open?"open":"",this.handleKeyUp,this.title,this.handleKeyUp,this.body?this.body:L(De()),this.handleClick,this.primaryButtonName,this.inProgressName,this.handleClick,this.cancelButtonName)}};Fe([se({type:Boolean})],Ve.prototype,"open",void 0),Fe([se()],Ve.prototype,"title",void 0),Fe([se()],Ve.prototype,"body",void 0),Fe([se()],Ve.prototype,"primaryButtonName",void 0),Fe([se({type:String})],Ve.prototype,"cancelButtonName",void 0),Fe([se()],Ve.prototype,"inProgressName",void 0),Fe([se({attribute:!1})],Ve.prototype,"onButtonClicked",void 0);Ve=Fe([re("rp-dialog")],Ve);class Me extends he{getEventHandlers(){return[]}connectedCallback(){super.connectedCallback();for(const e of this.getEventHandlers())document.addEventListener(e.event,e.method.bind(this))}disconnectedCallback(){for(const e of this.getEventHandlers())document.removeEventListener(e.event,e.method);super.disconnectedCallback()}fireEvent(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=new CustomEvent(e,{detail:t,bubbles:!0,composed:!0});this.dispatchEvent(n)}}function He(){const e=Ke(['<input class="textinput" .value="','" placeholder="','">']);return He=function(){return e},e}function We(){const e=Ke(['<textarea class="textinput" .value="','" placeholder="','">\n        </textarea>']);return We=function(){return e},e}function Ze(){const e=Ke(["<style>.input-container {\n        height: ",';\n      }</style><div class="input-container" @click="','">',"</div>"]);return Ze=function(){return e},e}function Xe(){const e=Ke([".input-container {\n        border-radius: 5px;\n        overflow: hidden;\n        cursor: pointer;\n        background: var(--color-widget-bg);\n        border: 1px solid var(--color-widget-border);\n        box-shadow: none;\n        transition: all ease-in-out 200ms;\n        display: flex;\n        flex-direction: row;\n        align-items: stretch;\n      }\n\n      .input-container:focus-within {\n        border-color: var(--color-widget-border);\n        background: var(--color-widget-bg-focused);\n        box-shadow: var(--color-widget-shadow-focused) 1px 1px 6px 0px inset;\n      }\n\n      .input-container:hover {\n        background: var(--color-widget-bg-focused);\n      }\n\n      textarea {\n        height: 85%;\n      }\n\n      .textinput {\n        padding: 8px;\n        border: 0px solid red;\n        flex: 1;\n        margin: 0;\n        background: transparent;\n        color: var(--color-text);\n        font-size: 13px;\n        cursor: pointer;\n        resize: none;\n      }\n\n      .textinput:focus {\n        outline: none;\n        cursor: text;\n      }"]);return Xe=function(){return e},e}function Ke(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var Je=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};let Ye=class extends Me{constructor(){super(...arguments),this.placeholder="",this.value=""}static get styles(){return ue(Xe())}firstUpdated(e){super.firstUpdated(e),this.inputElement=this.shadowRoot.querySelector(".textinput")}render(){return L(Ze(),this.textarea?"100%":"auto",()=>{this.shadowRoot.querySelector(".textinput").focus()},this.textarea?L(We(),this.value,this.placeholder):L(He(),this.value,this.placeholder))}};Je([se({type:Boolean})],Ye.prototype,"textarea",void 0),Je([se({type:String})],Ye.prototype,"placeholder",void 0),Je([se({type:String})],Ye.prototype,"value",void 0),Je([se({type:Object})],Ye.prototype,"inputElement",void 0);Ye=Je([re("rp-textinput")],Ye);function Qe(){const e=tt(["<style>.label {\n            background: ",";\n            color: ",";\n          }</style>"]);return Qe=function(){return e},e}function Ge(){const e=tt(["",'<div class="label ','"><div class="mask"><slot></slot></div></div>']);return Ge=function(){return e},e}function et(){const e=tt([":host {\n        display: inline-block;\n      }\n\n      .mask {\n        padding: 3px 6px;\n        border-radius: var(--curvature);\n      }\n\n      .label.clickable .mask:hover {\n        background: rgb(0,0,0,.05);\n      }\n\n      .label {\n        border-radius: 2px;\n        font-size: 80%;\n        font-weight: 400;\n        border-radius: var(--curvature);\n        background: tomato;\n        color: #fff;\n        text-shadow: 0 0.04em 0.04em rgba(0,0,0,0.35);\n      }\n\n      .primary {\n        background: var(--color-label-primary);\n        color: var(--color-label-primary-text);\n      }\n\n      .secondary {\n        background: var(--color-label-secondary);\n        color: var(--color-label-secondary-text);\n        text-shadow: none;\n      }\n\n      .light {\n        background: var(--color-overlay-light);\n        color: var(--color-overlay-light-text);\n        text-shadow: none;\n      }\n\n      .dark {\n        background: var(--color-overlay-dark);\n        color: var(--color-overlay-dark-text);\n        text-shadow: none;\n      }\n\n      .clickable {\n        cursor: pointer;\n      }"]);return et=function(){return e},e}function tt(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var nt=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};let rt=class extends he{static get styles(){return ue(et())}render(){return L(Ge(),this.backgroundColor&&this.textColor?L(Qe(),this.backgroundColor,this.textColor):null,me({clickable:this.clickable,primary:this.primary,secondary:this.secondary,light:this.light,dark:this.dark}))}};nt([se({type:Boolean})],rt.prototype,"clickable",void 0),nt([se({type:Boolean})],rt.prototype,"primary",void 0),nt([se({type:Boolean})],rt.prototype,"secondary",void 0),nt([se({type:Boolean})],rt.prototype,"light",void 0),nt([se({type:Boolean})],rt.prototype,"dark",void 0),nt([se()],rt.prototype,"backgroundColor",void 0),nt([se()],rt.prototype,"textColor",void 0);var ot;rt=nt([re("rp-label")],rt);function it(){const e=ht(['<div @mousemove="','" @click="','" class="option ','">',"</div>"]);return it=function(){return e},e}function st(){const e=ht(["<style>.options {\n          top: ","px;\n          left: ","px;\n          width: ",'px;\n        }</style><div class="options ','">',"</div>"]);return st=function(){return e},e}function at(){const e=ht(["",""]);return at=function(){return e},e}function lt(){const e=ht(["",""]);return lt=function(){return e},e}function ct(){const e=ht(['<div class="name">',"</div>"]);return ct=function(){return e},e}function ut(){const e=ht(['<div class="name">','</div><div class="detail">',"</div>"]);return ut=function(){return e},e}function pt(){const e=ht([".options {\n        overflow-y: scroll;\n        background: #fff;\n        border-radius: 5px;\n        position: absolute;\n        border: 1px solid var(--color-borders);\n        box-shadow: 0px 0px 3px 1px rgba(0,0,0,.06);\n        /* transition: opacity ease-in-out 200ms, top ease-in-out 100ms; */\n        max-height: 300px;\n        opacity: 0;\n        visibility: hidden;\n      }\n\n      .show {\n        opacity: 1;\n        visibility: visible;\n      }\n\n      .option {\n        font-size: 14px;\n        padding: 10px 20px;\n        border-radius: 5px;\n        margin: 5px;\n        cursor: pointer;\n        color: var(--color-text);\n      }\n\n      .option.focused {\n        background: rgba(var(--primary-rgb), .8);\n        color: var(--color-text-light);\n      }\n\n      .option .detail {\n        font-size: 85%;\n        color: rgba(255,255,255,.9);\n      }\n\n      code {\n        background: rgba(0,0,0,.15);\n        padding: 1px 5px;\n        border-radius: 4px;\n      }"]);return pt=function(){return e},e}function ht(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}!function(e){e.Canceled="rp-canceled",e.CursorChanged="rp-cursor-changed",e.Selection="rp-selection"}(ot||(ot={}));var dt=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};let ft=class extends Me{constructor(){super(...arguments),this.cursorIndex=0}static get styles(){return ue(pt())}updated(e){if(super.updated(e),e.has("cursorIndex")){const e=this.shadowRoot.querySelector(".focused");if(e){const t=this.shadowRoot.querySelector(".options"),n=t.getBoundingClientRect().height,r=e.getBoundingClientRect().height;if(e.offsetTop+r>t.scrollTop+n-5){const o=e.offsetTop-n+r+5;t.scrollTo({top:o})}else if(e.offsetTop<t.scrollTop){const n=e.offsetTop-5;t.scrollTo({top:n})}}}e.has("options")&&(this.calculatePosition(),this.cursorIndex=0)}renderOptionDefault(e,t){const n=this.renderOptionName||this.renderOptionNameDefault,r=this.renderOptionDetail||this.renderOptionDetailDefault;return t?L(ut(),n(e,t),r(e,t)):L(ct(),n(e,t))}renderOptionNameDefault(e,t){return L(lt(),e.name)}renderOptionDetailDefault(e,t){return L(at(),e.detail)}handleSelection(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=this.options[this.cursorIndex];this.fireEvent(ot.Selection,{selected:t,tabbed:e})}moveCursor(e){const t=Math.max(Math.min(this.cursorIndex+e,this.options.length-1),0);this.setCursor(t)}setCursor(e){e!==this.cursorIndex&&(this.cursorIndex=e,this.fireEvent(ot.CursorChanged,{index:e}))}handleKeyDown(e){this.visible&&(e.ctrlKey&&"n"===e.key||"ArrowDown"===e.key?(this.moveCursor(1),e.preventDefault()):e.ctrlKey&&"p"===e.key||"ArrowUp"===e.key?(this.moveCursor(-1),e.preventDefault()):"Enter"!==e.key&&"Tab"!==e.key||(this.handleSelection("Tab"===e.key),e.preventDefault()),"Escape"===e.key&&this.fireEvent(ot.Canceled))}calculatePosition(){const e=this.shadowRoot.querySelector(".options").getBoundingClientRect();if(this.anchorTo){const t=this.anchorTo.getBoundingClientRect(),n=t.top-e.height;n>0&&t.bottom+e.height>window.innerHeight?this.top=n+window.pageYOffset:this.top=t.bottom+window.pageYOffset,this.left=t.left,this.width=t.width}}getEventHandlers(){return[{event:"keydown",method:this.handleKeyDown},{event:"scroll",method:this.calculatePosition}]}render(){const e=(this.renderOption||this.renderOptionDefault).bind(this);return L(st(),this.top,this.left,this.width,this.visible?"show":"",this.options.map((t,n)=>L(it(),()=>{this.setCursor(n)},()=>{this.handleSelection()},n==this.cursorIndex?"focused":"",e(t,n==this.cursorIndex))))}};dt([se({type:Number})],ft.prototype,"top",void 0),dt([se({type:Number})],ft.prototype,"left",void 0),dt([se({type:Number})],ft.prototype,"width",void 0),dt([se({type:Object})],ft.prototype,"anchorTo",void 0),dt([se({type:Boolean})],ft.prototype,"visible",void 0),dt([se({type:Number})],ft.prototype,"cursorIndex",void 0),dt([se({type:Array})],ft.prototype,"options",void 0),dt([se({attribute:!1})],ft.prototype,"renderOption",void 0),dt([se({attribute:!1})],ft.prototype,"renderOptionName",void 0),dt([se({attribute:!1})],ft.prototype,"renderOptionDetail",void 0);ft=dt([re("rp-options")],ft);function gt(){const e=yt(['<rp-textinput @keyup="','" @blur="','" @focus="','" .value="','" placeholder="','"></rp-textinput><rp-options cursorIndex="','" @rp-selection="','" .renderOptionDetail="','" .renderOptionName="','" .renderOption="','" .anchorTo="','" .options="','" ?visible="','"></rp-options>']);return gt=function(){return e},e}function mt(){const e=yt([":host {\n        display: flex;\n        flex-direction: column;\n      }"]);return mt=function(){return e},e}function yt(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var vt=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};let bt=class extends Me{constructor(){super(),this.selected=[],this.placeholder="",this.input="",this.options=[],this.quietMillis=200,this.renderOptionDetail=(()=>{})}static get styles(){return ue(mt())}updated(e){if(super.updated(e),e.has("selected")&&(this.input="",this.shadowRoot.querySelector("input").blur()),e.has("input")&&!e.has("selected")){if(!this.input)return void(this.options=[]);this.lastQuery&&window.clearTimeout(this.lastQuery),this.lastQuery=window.setTimeout(()=>{this.fetchOptions(this.input)},this.quietMillis)}e.has("cursorIndex")&&this.options.length>0&&this.query&&!this.complete&&this.cursorIndex>this.options.length-20&&this.fetchOptions(this.query,this.page+1)}handleOptionSelection(e){const t=e.detail.selected;this.selected=[t],this.options=[],this.input=t.name}fetchOptions(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!this.fetching){this.cancelToken&&this.cancelToken.cancel();const n=fe.a.CancelToken;this.cancelToken=n.source(),this.fetching=!0,ye(this.endpoint+encodeURIComponent(e)+"&page="+t,this.cancelToken.token).then(n=>{if(0===t)this.options=n.data.filter(e=>e.level>0),this.cursorIndex=0,this.query=e,this.complete=0===this.options.length;else{const e=n.data.filter(e=>e.level>0);e.length>0&&(this.options=[...this.options,...e]),this.complete=0===e.length}this.fetching=!1,this.page=t}).catch(e=>{})}}handleBlur(){window.setTimeout(()=>{this.options=[]},100)}handleFocus(){}handleKeyUp(e){const t=e.currentTarget;this.input=t.inputElement.value.trim()}handleCancel(){this.options=[]}handleCursorChanged(e){this.cursorIndex=e.detail.index}getEventHandlers(){return[{event:ot.Canceled,method:this.handleCancel},{event:ot.CursorChanged,method:this.handleCursorChanged}]}firstUpdated(e){this.anchorElement=this.shadowRoot.querySelector("rp-textinput")}render(){return L(gt(),this.handleKeyUp,this.handleBlur,this.handleFocus,this.input,this.placeholder,this.cursorIndex,this.handleOptionSelection,this.renderOptionDetail,this.renderOptionName,this.renderOption,this.anchorElement,this.options,this.input.length>0&&this.options.length>0)}};vt([se({type:Array})],bt.prototype,"selected",void 0),vt([se()],bt.prototype,"placeholder",void 0),vt([se()],bt.prototype,"endpoint",void 0),vt([se({type:String})],bt.prototype,"input",void 0),vt([se({type:Array})],bt.prototype,"options",void 0),vt([se({type:Number})],bt.prototype,"quietMillis",void 0),vt([se({type:Boolean})],bt.prototype,"fetching",void 0),vt([se({attribute:!1})],bt.prototype,"cursorIndex",void 0),vt([se({attribute:!1})],bt.prototype,"anchorElement",void 0),vt([se({attribute:!1})],bt.prototype,"renderOption",void 0),vt([se({attribute:!1})],bt.prototype,"renderOptionName",void 0),vt([se({attribute:!1})],bt.prototype,"renderOptionDetail",void 0);bt=vt([re("rp-select")],bt);const xt=0,wt=1,_t=2,kt=3,St=4,Ct=5,Et=6,Ot=(e,t)=>0===e.indexOf(t,0),Tt=(e,t,n)=>{const r=e.substring(1);if("("===r[0])return!0;{const e=r.split(".")[0].toLowerCase();if(!n)return t.indexOf(e)>=0;for(const n of t)if(Ot(n,e))return!0;return!1}},Pt=e=>e>="a"&&e<="z"||e>="A"&&e<="Z"||e>="0"&&e<="9"||"_"===e,At=e=>{let t=0;for(const n of e)'"'===n&&t++;return t%2!=0};const Rt=(e,t)=>t?e.filter(e=>!!e.signature&&0===e.signature.indexOf(t)):e,zt=(e,t)=>{const n=(t||"").split(".");let r=e.root_no_session,o="",i="";for(;n.length>0;)if(i=n.shift()){const t=r.find(e=>e.key===i);if(!t){r=r.filter(e=>e.key.startsWith(i.toLowerCase()));break}{const n=e.types.find(e=>e.name===t.type);if(!n||!n.properties){r=r.filter(e=>e.key.startsWith(i.toLowerCase()));break}r=n.properties,o+=i+"."}}return r.map(e=>{return{name:"__default__"===e.key?o.substr(0,o.length-1):o+e.key,summary:e.help}})};var Nt=n(9),jt=n.n(Nt);const qt=new WeakMap,Lt=o(e=>t=>{if(!(t instanceof C))throw new Error("unsafeHTML can only be used in text bindings");const n=qt.get(t);if(void 0!==n&&w(e)&&e===n.value&&t.value===n.fragment)return;const r=document.createElement("template");r.innerHTML=e;const o=document.importNode(r.content,!0);t.setValue(o),qt.set(t,{value:e,fragment:o})});function Bt(){const e=Vt(["<style>#anchor {\n          top:","px;\n          left:",'px;\n        }</style><div id="anchor"></div><rp-textinput placeholder="','" @keyup="','" @click="','" @input="','" .value="','" ?textarea="','"></rp-textinput><rp-options @rp-selection="','" .anchorTo="','" .options="','" .renderOption="','" ?visible="','"></rp-options>']);return Bt=function(){return e},e}function Dt(){const e=Vt(['<div style="font-size: 85%">',"</div>"]);return Dt=function(){return e},e}function It(){const e=Vt(['<div><div style="','">',"</div>","</div>"]);return It=function(){return e},e}function Ut(){const e=Vt(['<div style="display:inline-block; font-weight: 300; font-size: 85%">','</div><div class="detail">',"</div>"]);return Ut=function(){return e},e}function $t(){const e=Vt(['<div style="','"><div style="display:inline-block;">ƒ</div><div style="display:inline-block">',"</div>","</div>"]);return $t=function(){return e},e}function Ft(){const e=Vt(["#anchor {\n        position: absolute;\n        visibility: visible;\n        width: 250px;\n        border: 0px solid purple;\n      }\n\n      .fn-marker {\n        font-weight: bold;\n        font-size: 42px;\n      }"]);return Ft=function(){return e},e}function Vt(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var Mt,Ht=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};const Wt=n(30),Zt=o(e=>t=>{t.setValue(Lt(Wt(e)))});let Xt=Mt=class extends Me{constructor(){super(...arguments),this.anchorPosition={left:0,top:0},this.placeholder="",this.options=[],this.value=""}static get styles(){return ue(Ft())}firstUpdated(e){this.textInputElement=this.shadowRoot.querySelector("rp-textinput"),this.anchorElement=this.shadowRoot.querySelector("#anchor"),this.completionsEndpoint&&ye(this.completionsEndpoint).then(e=>{this.schema=e.data}),this.functionsEndpoint&&ye(this.functionsEndpoint).then(e=>{this.functions=e.data})}handleKeyUp(e){if(this.options.length>0){if("ArrowUp"===e.key||"ArrowDown"===e.key)return;if(e.ctrlKey&&("n"===e.key||"p"===e.key))return;if("Enter"===e.key||"Escape"===e.key||"Tab"===e.key||e.key.startsWith("Control"))return;this.executeQuery(e.currentTarget)}}handleClick(e){this.executeQuery(e.currentTarget)}executeQuery(e){if(this.inputElement=e.inputElement,this.schema){const n=e.inputElement.selectionStart,r=e.inputElement.value.trim().substring(0,n),o=Mt.parser.findExpressions(r).find(e=>e.start<=n&&(e.end>n||e.end===n&&!e.closed));if(o){const n=o.text.indexOf("(")>-1;if(n){const e=Mt.parser.functionContext(o.text);if(e){const t=Rt(this.functions,e);t.length>0&&(this.currentFunction=t[0])}}for(let r=o.text.length;r>=0;r--){const i=o.text[r];if("@"===i||"("===i||" "===i||","===i||")"===i||0===r){"("!==i&&" "!==i&&","!==i&&")"!==i&&"@"!==i||r++;var t=jt()(e.inputElement,o.start+r);return this.anchorPosition={left:t.left+5,top:e.inputElement.offsetTop+t.top-e.inputElement.scrollTop+20},this.query=o.text.substr(r,o.text.length-r),void(this.options=[...zt(this.schema,this.query),...n?Rt(this.functions,this.query):[]])}}}else this.options=[],this.query=""}}handleInput(e){const t=e.currentTarget;this.executeQuery(t)}handleOptionSelection(e){const t=e.detail.selected,n=e.detail.tabbed;let r="";if(r=t.signature?t.signature.substr(0,t.signature.indexOf("(")+1):t.name,this.inputElement){let e=this.inputElement.value;e=e.substr(0,e.lastIndexOf(this.query)),e+=r,this.inputElement.value=e}this.query="",this.options=[],n&&this.executeQuery(this.textInputElement)}renderCompletionOption(e,t){if(e.signature){const n=e.signature.indexOf("("),r=e.signature.substr(0,n),o=e.signature.substr(n);return L($t(),t?"font-weight: 400":"",r,t?L(Ut(),o,Zt(e.summary)):null)}return L(It(),t?"font-weight: 400":"",e.name,t?L(Dt(),e.summary):null)}render(){return L(Bt(),this.anchorPosition.top,this.anchorPosition.left,this.placeholder,this.handleKeyUp,this.handleClick,this.handleInput,this.value,this.textarea,this.handleOptionSelection,this.anchorElement,this.options,this.renderCompletionOption,this.options.length>0)}};Xt.parser=new class{constructor(e,t){this.expressionPrefix=e,this.allowedTopLevels=t}expressionContext(e){const t=this.findExpressions(e);if(0===t.length)return null;const n=t[t.length-1];return n.end<e.length||n.closed?null:n.text.substring(1)}autoCompleteContext(e){if(At(e))return null;const t=[];let n="",r=!1,o=!1,i="";for(let s=e.length-1;s>=0;s--){const a=e[s];if(" "===a&&(r=!0),","===a&&(r=!0,"("!==t[t.length-1]&&t.push("(")),")"!==a||o||(r=!0,t.push("("),t.push("(")),'"'===a&&(o=!o),r&&("("!==a||o||("("===t[t.length-1]&&t.pop(),0===t.length&&(r=!1))),"("===a&&""===n&&(i="#"),!(r||o||"("===a&&""===n)){if(!Pt(a)&&"."!==a)break;n=a+n}}return n.match(/[A-Za-z][\w]*(\.[\w]+)*/)?i+n:null}functionContext(e){let t=At(e)?St:Et,n="",r="("===e[-1]?0:1;for(let o=e.length-1;o>=0;o--){const i=e[o];if("@"===i)return"";if(t===Et)0!==r||!Pt(i)&&"."!==i?'"'===i?t=St:"("===i?r--:")"===i&&r++:(t=_t,n=i+n);else if(t===_t){if(!Pt(i)&&"."!==i)return n;n=i+n}else t===St&&'"'===i&&(t=Et)}return""}getContactFields(e){const t={},n=/((parent|child\.)*contact\.)*fields\.([a-z0-9_]+)/g,r=this.findExpressions(e);for(const e of r){let r;for(;r=n.exec(e.text);)t[r[3]]=!0}return Object.keys(t)}findExpressions(e){const t=[];let n=xt,r=null,o=0;for(let i=0;i<e.length;i++){const s=e[i],a=i<e.length-1?e[i+1]:0,l=i<e.length-2?e[i+2]:0;if(n===xt?s!==this.expressionPrefix||!Pt(a)&&"("!==a?s===this.expressionPrefix&&a===this.expressionPrefix&&(n=Ct):(n=wt,r={start:i,end:null,text:s,closed:!1}):n===wt?(Pt(s)?n=_t:"("===s&&(n=kt,o+=1),r.text+=s):n===_t?r.text+=s:n===kt?("("===s?o+=1:")"===s?o-=1:'"'===s&&(n=St),r.text+=s,0===o&&(r.end=i+1)):n===St?('"'===s&&(n=kt),r.text+=s):n===Ct&&(n=xt),n===_t&&(!Pt(a)&&"."!==a||"."===a&&!Pt(l))&&(r.end=i+1),null!=r&&(null!=r.end||0===a)){const e=0===a;Tt(r.text,this.allowedTopLevels,e)&&(r.closed="("===r.text[1]&&0===o,r.end=i+1,t.push(r)),r=null,n=xt}}return t}}("@",["contact","fields","urns"]),Ht([se({type:Object})],Xt.prototype,"anchorPosition",void 0),Ht([se({attribute:!1})],Xt.prototype,"currentFunction",void 0),Ht([se({type:String})],Xt.prototype,"placeholder",void 0),Ht([se({attribute:!1})],Xt.prototype,"textInputElement",void 0),Ht([se({attribute:!1})],Xt.prototype,"anchorElement",void 0),Ht([se({type:Array})],Xt.prototype,"options",void 0),Ht([se({type:String})],Xt.prototype,"value",void 0),Ht([se({type:String})],Xt.prototype,"completionsEndpoint",void 0),Ht([se({type:String})],Xt.prototype,"functionsEndpoint",void 0),Ht([se({type:Boolean})],Xt.prototype,"textarea",void 0);Xt=Mt=Ht([re("rp-completion")],Xt)}])});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ycC1jb21wb25lbnRzL3dlYnBhY2svdW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbiIsIndlYnBhY2s6Ly9ycC1jb21wb25lbnRzL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL3JwLWNvbXBvbmVudHMvLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL3V0aWxzLmpzIiwid2VicGFjazovL3JwLWNvbXBvbmVudHMvLi9ub2RlX21vZHVsZXMvYXhpb3MvaW5kZXguanMiLCJ3ZWJwYWNrOi8vcnAtY29tcG9uZW50cy8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvZGVmYXVsdHMuanMiLCJ3ZWJwYWNrOi8vcnAtY29tcG9uZW50cy8uL25vZGVfbW9kdWxlcy9hdXRvc2l6ZS9kaXN0L2F1dG9zaXplLmpzIiwid2VicGFjazovL3JwLWNvbXBvbmVudHMvLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2hlbHBlcnMvYmluZC5qcyIsIndlYnBhY2s6Ly9ycC1jb21wb25lbnRzLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9hZGFwdGVycy94aHIuanMiLCJ3ZWJwYWNrOi8vcnAtY29tcG9uZW50cy8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvY29yZS9jcmVhdGVFcnJvci5qcyIsIndlYnBhY2s6Ly9ycC1jb21wb25lbnRzLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9jYW5jZWwvaXNDYW5jZWwuanMiLCJ3ZWJwYWNrOi8vcnAtY29tcG9uZW50cy8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvY2FuY2VsL0NhbmNlbC5qcyIsIndlYnBhY2s6Ly9ycC1jb21wb25lbnRzLy4vbm9kZV9tb2R1bGVzL3RleHRhcmVhLWNhcmV0L2luZGV4LmpzIiwid2VicGFjazovL3JwLWNvbXBvbmVudHMvLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2F4aW9zLmpzIiwid2VicGFjazovL3JwLWNvbXBvbmVudHMvLi9ub2RlX21vZHVsZXMvaXMtYnVmZmVyL2luZGV4LmpzIiwid2VicGFjazovL3JwLWNvbXBvbmVudHMvLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2NvcmUvQXhpb3MuanMiLCJ3ZWJwYWNrOi8vcnAtY29tcG9uZW50cy8uL25vZGVfbW9kdWxlcy9wcm9jZXNzL2Jyb3dzZXIuanMiLCJ3ZWJwYWNrOi8vcnAtY29tcG9uZW50cy8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvaGVscGVycy9ub3JtYWxpemVIZWFkZXJOYW1lLmpzIiwid2VicGFjazovL3JwLWNvbXBvbmVudHMvLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2NvcmUvc2V0dGxlLmpzIiwid2VicGFjazovL3JwLWNvbXBvbmVudHMvLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2NvcmUvZW5oYW5jZUVycm9yLmpzIiwid2VicGFjazovL3JwLWNvbXBvbmVudHMvLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2hlbHBlcnMvYnVpbGRVUkwuanMiLCJ3ZWJwYWNrOi8vcnAtY29tcG9uZW50cy8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvaGVscGVycy9wYXJzZUhlYWRlcnMuanMiLCJ3ZWJwYWNrOi8vcnAtY29tcG9uZW50cy8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvaGVscGVycy9pc1VSTFNhbWVPcmlnaW4uanMiLCJ3ZWJwYWNrOi8vcnAtY29tcG9uZW50cy8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvaGVscGVycy9idG9hLmpzIiwid2VicGFjazovL3JwLWNvbXBvbmVudHMvLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2hlbHBlcnMvY29va2llcy5qcyIsIndlYnBhY2s6Ly9ycC1jb21wb25lbnRzLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9jb3JlL0ludGVyY2VwdG9yTWFuYWdlci5qcyIsIndlYnBhY2s6Ly9ycC1jb21wb25lbnRzLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9jb3JlL2Rpc3BhdGNoUmVxdWVzdC5qcyIsIndlYnBhY2s6Ly9ycC1jb21wb25lbnRzLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9jb3JlL3RyYW5zZm9ybURhdGEuanMiLCJ3ZWJwYWNrOi8vcnAtY29tcG9uZW50cy8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvaGVscGVycy9pc0Fic29sdXRlVVJMLmpzIiwid2VicGFjazovL3JwLWNvbXBvbmVudHMvLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2hlbHBlcnMvY29tYmluZVVSTHMuanMiLCJ3ZWJwYWNrOi8vcnAtY29tcG9uZW50cy8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvY2FuY2VsL0NhbmNlbFRva2VuLmpzIiwid2VicGFjazovL3JwLWNvbXBvbmVudHMvLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2hlbHBlcnMvc3ByZWFkLmpzIiwid2VicGFjazovL3JwLWNvbXBvbmVudHMvLi9ub2RlX21vZHVsZXMvbWFya2VkL2xpYi9tYXJrZWQuanMiLCJ3ZWJwYWNrOi8vcnAtY29tcG9uZW50cy8od2VicGFjaykvYnVpbGRpbi9nbG9iYWwuanMiLCJ3ZWJwYWNrOi8vcnAtY29tcG9uZW50cy8uLi9zcmMvbGliL2RpcmVjdGl2ZS50cyIsIndlYnBhY2s6Ly9ycC1jb21wb25lbnRzLy4uL3NyYy9saWIvZG9tLnRzIiwid2VicGFjazovL3JwLWNvbXBvbmVudHMvLi4vc3JjL2xpYi9wYXJ0LnRzIiwid2VicGFjazovL3JwLWNvbXBvbmVudHMvLi4vc3JjL2xpYi90ZW1wbGF0ZS50cyIsIndlYnBhY2s6Ly9ycC1jb21wb25lbnRzLy4uL3NyYy9saWIvdGVtcGxhdGUtaW5zdGFuY2UudHMiLCJ3ZWJwYWNrOi8vcnAtY29tcG9uZW50cy8uLi9zcmMvbGliL3RlbXBsYXRlLXJlc3VsdC50cyIsIndlYnBhY2s6Ly9ycC1jb21wb25lbnRzLy4uL3NyYy9saWIvcGFydHMudHMiLCJ3ZWJwYWNrOi8vcnAtY29tcG9uZW50cy8uLi9zcmMvbGliL2RlZmF1bHQtdGVtcGxhdGUtcHJvY2Vzc29yLnRzIiwid2VicGFjazovL3JwLWNvbXBvbmVudHMvLi4vc3JjL2xpYi90ZW1wbGF0ZS1mYWN0b3J5LnRzIiwid2VicGFjazovL3JwLWNvbXBvbmVudHMvLi4vc3JjL2xpYi9yZW5kZXIudHMiLCJ3ZWJwYWNrOi8vcnAtY29tcG9uZW50cy9zcmMvbGl0LWh0bWwudHMiLCJ3ZWJwYWNrOi8vcnAtY29tcG9uZW50cy8uLi9zcmMvbGliL21vZGlmeS10ZW1wbGF0ZS50cyIsIndlYnBhY2s6Ly9ycC1jb21wb25lbnRzLy4uL3NyYy9saWIvc2hhZHktcmVuZGVyLnRzIiwid2VicGFjazovL3JwLWNvbXBvbmVudHMvLi4vc3JjL2xpYi91cGRhdGluZy1lbGVtZW50LnRzIiwid2VicGFjazovL3JwLWNvbXBvbmVudHMvLi4vc3JjL2xpYi9kZWNvcmF0b3JzLnRzIiwid2VicGFjazovL3JwLWNvbXBvbmVudHMvLi4vc3JjL2xpYi9jc3MtdGFnLnRzIiwid2VicGFjazovL3JwLWNvbXBvbmVudHMvc3JjL2xpdC1lbGVtZW50LnRzIiwid2VicGFjazovL3JwLWNvbXBvbmVudHMvLi9zcmMvdXRpbHMvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vcnAtY29tcG9uZW50cy8uL3NyYy9hbGlhc2VkaXRvci9BbGlhc0VkaXRvci50cyIsIndlYnBhY2s6Ly9ycC1jb21wb25lbnRzLy4vc3JjL2J1dHRvbi9CdXR0b24udHMiLCJ3ZWJwYWNrOi8vcnAtY29tcG9uZW50cy8uL3NyYy9kaWFsb2cvRGlhbG9nLnRzIiwid2VicGFjazovL3JwLWNvbXBvbmVudHMvLi9zcmMvUmFwaWRFbGVtZW50LnRzIiwid2VicGFjazovL3JwLWNvbXBvbmVudHMvLi9zcmMvdGV4dGlucHV0L1RleHRJbnB1dC50cyIsIndlYnBhY2s6Ly9ycC1jb21wb25lbnRzLy4vc3JjL2xhYmVsL0xhYmVsLnRzIiwid2VicGFjazovL3JwLWNvbXBvbmVudHMvLi9zcmMvaW50ZXJmYWNlcy50cyIsIndlYnBhY2s6Ly9ycC1jb21wb25lbnRzLy4vc3JjL29wdGlvbnMvT3B0aW9ucy50cyIsIndlYnBhY2s6Ly9ycC1jb21wb25lbnRzLy4vc3JjL3NlbGVjdC9TZWxlY3QudHMiLCJ3ZWJwYWNrOi8vcnAtY29tcG9uZW50cy8uL3NyYy9jb21wbGV0aW9uL0V4Y2VsbGVudFBhcnNlci50cyIsIndlYnBhY2s6Ly9ycC1jb21wb25lbnRzLy4vc3JjL2NvbXBsZXRpb24vaGVscGVycy50cyIsIndlYnBhY2s6Ly9ycC1jb21wb25lbnRzLy4uL3NyYy9kaXJlY3RpdmVzL3Vuc2FmZS1odG1sLnRzIiwid2VicGFjazovL3JwLWNvbXBvbmVudHMvLi9zcmMvY29tcGxldGlvbi9Db21wbGV0aW9uLnRzIl0sIm5hbWVzIjpbInJvb3QiLCJmYWN0b3J5IiwiZXhwb3J0cyIsIm1vZHVsZSIsImRlZmluZSIsImFtZCIsIndpbmRvdyIsImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJyZXF1aXJlIiwiaXNCdWZmZXIiLCJ0b1N0cmluZyIsImlzQXJyYXkiLCJ2YWwiLCJpc09iamVjdCIsImlzRnVuY3Rpb24iLCJmb3JFYWNoIiwib2JqIiwiZm4iLCJsZW5ndGgiLCJpc0FycmF5QnVmZmVyIiwiaXNGb3JtRGF0YSIsIkZvcm1EYXRhIiwiaXNBcnJheUJ1ZmZlclZpZXciLCJBcnJheUJ1ZmZlciIsImlzVmlldyIsImJ1ZmZlciIsImlzU3RyaW5nIiwiaXNOdW1iZXIiLCJpc1VuZGVmaW5lZCIsImlzRGF0ZSIsImlzRmlsZSIsImlzQmxvYiIsImlzU3RyZWFtIiwicGlwZSIsImlzVVJMU2VhcmNoUGFyYW1zIiwiVVJMU2VhcmNoUGFyYW1zIiwiaXNTdGFuZGFyZEJyb3dzZXJFbnYiLCJuYXZpZ2F0b3IiLCJwcm9kdWN0IiwiZG9jdW1lbnQiLCJtZXJnZSIsInJlc3VsdCIsImFzc2lnblZhbHVlIiwiYXJndW1lbnRzIiwiZXh0ZW5kIiwiYSIsImIiLCJ0aGlzQXJnIiwidHJpbSIsInN0ciIsInJlcGxhY2UiLCJwcm9jZXNzIiwidXRpbHMiLCJub3JtYWxpemVIZWFkZXJOYW1lIiwiREVGQVVMVF9DT05URU5UX1RZUEUiLCJDb250ZW50LVR5cGUiLCJzZXRDb250ZW50VHlwZUlmVW5zZXQiLCJoZWFkZXJzIiwiYWRhcHRlciIsImRlZmF1bHRzIiwiWE1MSHR0cFJlcXVlc3QiLCJ0cmFuc2Zvcm1SZXF1ZXN0IiwiZGF0YSIsIkpTT04iLCJzdHJpbmdpZnkiLCJ0cmFuc2Zvcm1SZXNwb25zZSIsInBhcnNlIiwiZSIsInRpbWVvdXQiLCJ4c3JmQ29va2llTmFtZSIsInhzcmZIZWFkZXJOYW1lIiwibWF4Q29udGVudExlbmd0aCIsInZhbGlkYXRlU3RhdHVzIiwic3RhdHVzIiwiY29tbW9uIiwiQWNjZXB0IiwibWV0aG9kIiwiX19XRUJQQUNLX0FNRF9ERUZJTkVfRkFDVE9SWV9fIiwiX19XRUJQQUNLX0FNRF9ERUZJTkVfQVJSQVlfXyIsIl9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fIiwidW5kZWZpbmVkIiwia2V5cyIsInZhbHVlcyIsIm1hcCIsIk1hcCIsImhhcyIsImluZGV4T2YiLCJzZXQiLCJwdXNoIiwiZGVsZXRlIiwiaW5kZXgiLCJzcGxpY2UiLCJjcmVhdGVFdmVudCIsIkV2ZW50IiwiYnViYmxlcyIsImV2dCIsImluaXRFdmVudCIsImFzc2lnbiIsInRhIiwibm9kZU5hbWUiLCJoZWlnaHRPZmZzZXQiLCJjbGllbnRXaWR0aCIsImNhY2hlZEhlaWdodCIsInBhZ2VSZXNpemUiLCJ1cGRhdGUiLCJkZXN0cm95Iiwic3R5bGUiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiaGVpZ2h0IiwicmVzaXplIiwib3ZlcmZsb3dZIiwib3ZlcmZsb3dYIiwid29yZFdyYXAiLCJhZGRFdmVudExpc3RlbmVyIiwiZ2V0Q29tcHV0ZWRTdHlsZSIsImJveFNpemluZyIsInBhcnNlRmxvYXQiLCJwYWRkaW5nVG9wIiwicGFkZGluZ0JvdHRvbSIsImJvcmRlclRvcFdpZHRoIiwiYm9yZGVyQm90dG9tV2lkdGgiLCJpc05hTiIsImNoYW5nZU92ZXJmbG93Iiwid2lkdGgiLCJvZmZzZXRXaWR0aCIsInNjcm9sbEhlaWdodCIsIm92ZXJmbG93cyIsImVsIiwiYXJyIiwicGFyZW50Tm9kZSIsIkVsZW1lbnQiLCJzY3JvbGxUb3AiLCJub2RlIiwiZ2V0UGFyZW50T3ZlcmZsb3dzIiwiZG9jVG9wIiwiZG9jdW1lbnRFbGVtZW50Iiwic3R5bGVIZWlnaHQiLCJNYXRoIiwicm91bmQiLCJjb21wdXRlZCIsImFjdHVhbEhlaWdodCIsIm9mZnNldEhlaWdodCIsImRpc3BhdGNoRXZlbnQiLCJlcnIiLCJtZXRob2RzIiwiYXV0b3NpemUiLCJvcHRpb25zIiwiQXJyYXkiLCJ4IiwiZGVmYXVsdCIsImFwcGx5IiwiYXJncyIsInNldHRsZSIsImJ1aWxkVVJMIiwicGFyc2VIZWFkZXJzIiwiaXNVUkxTYW1lT3JpZ2luIiwiY3JlYXRlRXJyb3IiLCJidG9hIiwiY29uZmlnIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJyZXF1ZXN0RGF0YSIsInJlcXVlc3RIZWFkZXJzIiwicmVxdWVzdCIsImxvYWRFdmVudCIsInhEb21haW4iLCJYRG9tYWluUmVxdWVzdCIsInVybCIsIm9ucHJvZ3Jlc3MiLCJvbnRpbWVvdXQiLCJhdXRoIiwidXNlcm5hbWUiLCJwYXNzd29yZCIsIkF1dGhvcml6YXRpb24iLCJvcGVuIiwidG9VcHBlckNhc2UiLCJwYXJhbXMiLCJwYXJhbXNTZXJpYWxpemVyIiwicmVhZHlTdGF0ZSIsInJlc3BvbnNlVVJMIiwicmVzcG9uc2VIZWFkZXJzIiwiZ2V0QWxsUmVzcG9uc2VIZWFkZXJzIiwicmVzcG9uc2UiLCJyZXNwb25zZVR5cGUiLCJyZXNwb25zZVRleHQiLCJzdGF0dXNUZXh0Iiwib25lcnJvciIsImNvb2tpZXMiLCJ4c3JmVmFsdWUiLCJ3aXRoQ3JlZGVudGlhbHMiLCJyZWFkIiwidG9Mb3dlckNhc2UiLCJzZXRSZXF1ZXN0SGVhZGVyIiwib25Eb3dubG9hZFByb2dyZXNzIiwib25VcGxvYWRQcm9ncmVzcyIsInVwbG9hZCIsImNhbmNlbFRva2VuIiwicHJvbWlzZSIsInRoZW4iLCJjYW5jZWwiLCJhYm9ydCIsInNlbmQiLCJlbmhhbmNlRXJyb3IiLCJtZXNzYWdlIiwiY29kZSIsImVycm9yIiwiRXJyb3IiLCJfX0NBTkNFTF9fIiwiQ2FuY2VsIiwidGhpcyIsInByb3BlcnRpZXMiLCJpc0Jyb3dzZXIiLCJpc0ZpcmVmb3giLCJtb3pJbm5lclNjcmVlblgiLCJnZXRDYXJldENvb3JkaW5hdGVzIiwiZWxlbWVudCIsInBvc2l0aW9uIiwiZGVidWciLCJxdWVyeVNlbGVjdG9yIiwicmVtb3ZlQ2hpbGQiLCJkaXYiLCJjcmVhdGVFbGVtZW50IiwiaWQiLCJib2R5IiwiYXBwZW5kQ2hpbGQiLCJjdXJyZW50U3R5bGUiLCJpc0lucHV0Iiwid2hpdGVTcGFjZSIsInZpc2liaWxpdHkiLCJwcm9wIiwibGluZUhlaWdodCIsInBhcnNlSW50Iiwib3ZlcmZsb3ciLCJ0ZXh0Q29udGVudCIsInN1YnN0cmluZyIsInNwYW4iLCJjb29yZGluYXRlcyIsInRvcCIsIm9mZnNldFRvcCIsImxlZnQiLCJvZmZzZXRMZWZ0IiwiYmFja2dyb3VuZENvbG9yIiwiQXhpb3MiLCJjcmVhdGVJbnN0YW5jZSIsImRlZmF1bHRDb25maWciLCJjb250ZXh0IiwiaW5zdGFuY2UiLCJheGlvcyIsImluc3RhbmNlQ29uZmlnIiwiQ2FuY2VsVG9rZW4iLCJpc0NhbmNlbCIsImFsbCIsInByb21pc2VzIiwic3ByZWFkIiwiY29uc3RydWN0b3IiLCJyZWFkRmxvYXRMRSIsInNsaWNlIiwiaXNTbG93QnVmZmVyIiwiX2lzQnVmZmVyIiwiSW50ZXJjZXB0b3JNYW5hZ2VyIiwiZGlzcGF0Y2hSZXF1ZXN0IiwiaW50ZXJjZXB0b3JzIiwiY2hhaW4iLCJpbnRlcmNlcHRvciIsInVuc2hpZnQiLCJmdWxmaWxsZWQiLCJyZWplY3RlZCIsInNoaWZ0IiwiY2FjaGVkU2V0VGltZW91dCIsImNhY2hlZENsZWFyVGltZW91dCIsImRlZmF1bHRTZXRUaW1vdXQiLCJkZWZhdWx0Q2xlYXJUaW1lb3V0IiwicnVuVGltZW91dCIsImZ1biIsInNldFRpbWVvdXQiLCJjbGVhclRpbWVvdXQiLCJjdXJyZW50UXVldWUiLCJxdWV1ZSIsImRyYWluaW5nIiwicXVldWVJbmRleCIsImNsZWFuVXBOZXh0VGljayIsImNvbmNhdCIsImRyYWluUXVldWUiLCJsZW4iLCJydW4iLCJtYXJrZXIiLCJydW5DbGVhclRpbWVvdXQiLCJJdGVtIiwiYXJyYXkiLCJub29wIiwibmV4dFRpY2siLCJ0aXRsZSIsImJyb3dzZXIiLCJlbnYiLCJhcmd2IiwidmVyc2lvbiIsInZlcnNpb25zIiwib24iLCJhZGRMaXN0ZW5lciIsIm9uY2UiLCJvZmYiLCJyZW1vdmVMaXN0ZW5lciIsInJlbW92ZUFsbExpc3RlbmVycyIsImVtaXQiLCJwcmVwZW5kTGlzdGVuZXIiLCJwcmVwZW5kT25jZUxpc3RlbmVyIiwibGlzdGVuZXJzIiwiYmluZGluZyIsImN3ZCIsImNoZGlyIiwiZGlyIiwidW1hc2siLCJub3JtYWxpemVkTmFtZSIsImVuY29kZSIsImVuY29kZVVSSUNvbXBvbmVudCIsInNlcmlhbGl6ZWRQYXJhbXMiLCJwYXJ0cyIsInYiLCJ0b0lTT1N0cmluZyIsImpvaW4iLCJpZ25vcmVEdXBsaWNhdGVPZiIsInBhcnNlZCIsInNwbGl0IiwibGluZSIsInN1YnN0ciIsIm9yaWdpblVSTCIsIm1zaWUiLCJ0ZXN0IiwidXNlckFnZW50IiwidXJsUGFyc2luZ05vZGUiLCJyZXNvbHZlVVJMIiwiaHJlZiIsInNldEF0dHJpYnV0ZSIsInByb3RvY29sIiwiaG9zdCIsInNlYXJjaCIsImhhc2giLCJob3N0bmFtZSIsInBvcnQiLCJwYXRobmFtZSIsImNoYXJBdCIsImxvY2F0aW9uIiwicmVxdWVzdFVSTCIsImNoYXJzIiwiRSIsImlucHV0IiwiYmxvY2siLCJjaGFyQ29kZSIsIlN0cmluZyIsIm91dHB1dCIsImlkeCIsImNoYXJDb2RlQXQiLCJ3cml0ZSIsImV4cGlyZXMiLCJwYXRoIiwiZG9tYWluIiwic2VjdXJlIiwiY29va2llIiwiRGF0ZSIsInRvR01UU3RyaW5nIiwibWF0Y2giLCJSZWdFeHAiLCJkZWNvZGVVUklDb21wb25lbnQiLCJyZW1vdmUiLCJub3ciLCJoYW5kbGVycyIsInVzZSIsImVqZWN0IiwiaCIsInRyYW5zZm9ybURhdGEiLCJpc0Fic29sdXRlVVJMIiwiY29tYmluZVVSTHMiLCJ0aHJvd0lmQ2FuY2VsbGF0aW9uUmVxdWVzdGVkIiwidGhyb3dJZlJlcXVlc3RlZCIsImJhc2VVUkwiLCJyZWFzb24iLCJmbnMiLCJyZWxhdGl2ZVVSTCIsImV4ZWN1dG9yIiwiVHlwZUVycm9yIiwicmVzb2x2ZVByb21pc2UiLCJ0b2tlbiIsInNvdXJjZSIsImNhbGxiYWNrIiwiZ2xvYmFsIiwibmV3bGluZSIsImZlbmNlcyIsImhyIiwiaGVhZGluZyIsImJsb2NrcXVvdGUiLCJsaXN0IiwiaHRtbCIsImRlZiIsIm5wdGFibGUiLCJ0YWJsZSIsImxoZWFkaW5nIiwiX3BhcmFncmFwaCIsInRleHQiLCJMZXhlciIsInRva2VucyIsImxpbmtzIiwibWFya2VkIiwicnVsZXMiLCJub3JtYWwiLCJwZWRhbnRpYyIsImdmbSIsIl9sYWJlbCIsIl90aXRsZSIsImVkaXQiLCJnZXRSZWdleCIsImJ1bGxldCIsIml0ZW0iLCJfdGFnIiwiX2NvbW1lbnQiLCJwYXJhZ3JhcGgiLCJsZXgiLCJzcmMiLCJuZXh0IiwibG9vc2UiLCJjYXAiLCJidWxsIiwibGlzdFN0YXJ0IiwibGlzdEl0ZW1zIiwic3BhY2UiLCJ0YWciLCJpc29yZGVyZWQiLCJpc3Rhc2siLCJpc2NoZWNrZWQiLCJleGVjIiwidHlwZSIsImxhc3RUb2tlbiIsInRyaW1SaWdodCIsImNvZGVCbG9ja1N0eWxlIiwicnRyaW0iLCJsYW5nIiwiZGVwdGgiLCJoZWFkZXIiLCJzcGxpdENlbGxzIiwiYWxpZ24iLCJjZWxscyIsIm9yZGVyZWQiLCJzdGFydCIsInNtYXJ0TGlzdHMiLCJ0YXNrIiwiY2hlY2tlZCIsInNhbml0aXplIiwicHJlIiwic2FuaXRpemVyIiwiZXNjYXBlIiwiaW5saW5lIiwiYXV0b2xpbmsiLCJsaW5rIiwicmVmbGluayIsIm5vbGluayIsInN0cm9uZyIsImVtIiwiYnIiLCJkZWwiLCJJbmxpbmVMZXhlciIsInJlbmRlcmVyIiwiUmVuZGVyZXIiLCJicmVha3MiLCJUZXh0UmVuZGVyZXIiLCJQYXJzZXIiLCJzbHVnZ2VyIiwiU2x1Z2dlciIsInNlZW4iLCJlc2NhcGVUZXN0IiwiZXNjYXBlUmVwbGFjZSIsImNoIiwicmVwbGFjZW1lbnRzIiwiZXNjYXBlVGVzdE5vRW5jb2RlIiwiZXNjYXBlUmVwbGFjZU5vRW5jb2RlIiwidW5lc2NhcGUiLCJfIiwiZnJvbUNoYXJDb2RlIiwicmVnZXgiLCJvcHQiLCJjbGVhblVybCIsImJhc2UiLCJwcm90Iiwib3JpZ2luSW5kZXBlbmRlbnRVcmwiLCJiYXNlVXJscyIsInJlc29sdmVVcmwiLCJlbmNvZGVVUkkiLCJfcHVuY3R1YXRpb24iLCJfZXNjYXBlcyIsIl9zY2hlbWUiLCJfZW1haWwiLCJfYXR0cmlidXRlIiwiX2hyZWYiLCJfZXh0ZW5kZWRfZW1haWwiLCJfYmFja3BlZGFsIiwicHJldkNhcFplcm8iLCJvdXQiLCJpbkxpbmsiLCJpblJhd0Jsb2NrIiwibGFzdFBhcmVuSW5kZXgiLCJmaW5kQ2xvc2luZ0JyYWNrZXQiLCJsaW5rTGVuIiwib3V0cHV0TGluayIsImVzY2FwZXMiLCJjb2Rlc3BhbiIsIm1hbmdsZSIsInNtYXJ0eXBhbnRzIiwiaW1hZ2UiLCJyYW5kb20iLCJpbmZvc3RyaW5nIiwiZXNjYXBlZCIsImhpZ2hsaWdodCIsImxhbmdQcmVmaXgiLCJxdW90ZSIsImxldmVsIiwicmF3IiwiaGVhZGVySWRzIiwiaGVhZGVyUHJlZml4Iiwic2x1ZyIsInhodG1sIiwibGlzdGl0ZW0iLCJjaGVja2JveCIsInRhYmxlcm93IiwiY29udGVudCIsInRhYmxlY2VsbCIsImZsYWdzIiwiYmFzZVVybCIsImlubGluZVRleHQiLCJyZXZlcnNlIiwidG9rIiwicG9wIiwicGVlayIsInBhcnNlVGV4dCIsInJvdyIsImNlbGwiLCJqIiwiZXJyTXNnIiwic2lsZW50IiwiY29uc29sZSIsImxvZyIsIm9yaWdpbmFsU2x1ZyIsIiYiLCI8IiwiPiIsIlwiIiwiJyIsInRhcmdldCIsInRhYmxlUm93IiwiY291bnQiLCJvZmZzZXQiLCJjdXJyIiwiaW52ZXJ0Iiwic3VmZkxlbiIsImN1cnJDaGFyIiwiY2hlY2tTYW5pdGl6ZURlcHJlY2F0aW9uIiwid2FybiIsInBlbmRpbmciLCJkb25lIiwic2V0T3B0aW9ucyIsImdldERlZmF1bHRzIiwicGFyc2VyIiwibGV4ZXIiLCJpbmxpbmVMZXhlciIsImciLCJGdW5jdGlvbiIsImRpcmVjdGl2ZXMiLCJXZWFrTWFwIiwiZGlyZWN0aXZlX2RpcmVjdGl2ZSIsImYiLCJpc0RpcmVjdGl2ZSIsImlzQ0VQb2x5ZmlsbCIsImN1c3RvbUVsZW1lbnRzIiwicG9seWZpbGxXcmFwRmx1c2hDYWxsYmFjayIsInJlbW92ZU5vZGVzIiwiY29udGFpbmVyIiwiZW5kIiwibmV4dFNpYmxpbmciLCJub0NoYW5nZSIsIm5vdGhpbmciLCJub2RlTWFya2VyIiwibWFya2VyUmVnZXgiLCJib3VuZEF0dHJpYnV0ZVN1ZmZpeCIsIlRlbXBsYXRlIiwiW29iamVjdCBPYmplY3RdIiwibm9kZXNUb1JlbW92ZSIsInN0YWNrIiwid2Fsa2VyIiwiY3JlYXRlVHJlZVdhbGtlciIsImxhc3RQYXJ0SW5kZXgiLCJwYXJ0SW5kZXgiLCJzdHJpbmdzIiwibmV4dE5vZGUiLCJub2RlVHlwZSIsImhhc0F0dHJpYnV0ZXMiLCJhdHRyaWJ1dGVzIiwiZW5kc1dpdGgiLCJzdHJpbmdGb3JQYXJ0IiwibGFzdEF0dHJpYnV0ZU5hbWVSZWdleCIsImF0dHJpYnV0ZUxvb2t1cE5hbWUiLCJhdHRyaWJ1dGVWYWx1ZSIsImdldEF0dHJpYnV0ZSIsInJlbW92ZUF0dHJpYnV0ZSIsInN0YXRpY3MiLCJ0YWdOYW1lIiwiY3VycmVudE5vZGUiLCJwYXJlbnQiLCJsYXN0SW5kZXgiLCJpbnNlcnQiLCJjcmVhdGVNYXJrZXIiLCJjcmVhdGVUZXh0Tm9kZSIsImluc2VydEJlZm9yZSIsInByZXZpb3VzU2libGluZyIsInN1ZmZpeCIsImlzVGVtcGxhdGVQYXJ0QWN0aXZlIiwicGFydCIsImNyZWF0ZUNvbW1lbnQiLCJ0ZW1wbGF0ZV9pbnN0YW5jZV9UZW1wbGF0ZUluc3RhbmNlIiwidGVtcGxhdGUiLCJwcm9jZXNzb3IiLCJfX3BhcnRzIiwic2V0VmFsdWUiLCJjb21taXQiLCJmcmFnbWVudCIsImNsb25lTm9kZSIsImltcG9ydE5vZGUiLCJub2RlSW5kZXgiLCJoYW5kbGVUZXh0RXhwcmVzc2lvbiIsImluc2VydEFmdGVyTm9kZSIsImhhbmRsZUF0dHJpYnV0ZUV4cHJlc3Npb25zIiwiYWRvcHROb2RlIiwidXBncmFkZSIsInRlbXBsYXRlX3Jlc3VsdF9UZW1wbGF0ZVJlc3VsdCIsImlzQ29tbWVudEJpbmRpbmciLCJjb21tZW50T3BlbiIsImxhc3RJbmRleE9mIiwiYXR0cmlidXRlTWF0Y2giLCJpbm5lckhUTUwiLCJnZXRIVE1MIiwiaXNQcmltaXRpdmUiLCJpc0l0ZXJhYmxlIiwiaXRlcmF0b3IiLCJBdHRyaWJ1dGVDb21taXR0ZXIiLCJkaXJ0eSIsIl9jcmVhdGVQYXJ0IiwicGFydHNfQXR0cmlidXRlUGFydCIsIl9nZXRWYWx1ZSIsImNvbW1pdHRlciIsImRpcmVjdGl2ZSIsInBhcnRzX05vZGVQYXJ0IiwiX19wZW5kaW5nVmFsdWUiLCJzdGFydE5vZGUiLCJlbmROb2RlIiwicmVmIiwiX19pbnNlcnQiLCJfX2NvbW1pdFRleHQiLCJfX2NvbW1pdFRlbXBsYXRlUmVzdWx0IiwiTm9kZSIsIl9fY29tbWl0Tm9kZSIsIl9fY29tbWl0SXRlcmFibGUiLCJjbGVhciIsInRlbXBsYXRlRmFjdG9yeSIsIl9jbG9uZSIsIml0ZW1QYXJ0cyIsIml0ZW1QYXJ0IiwiYXBwZW5kSW50b1BhcnQiLCJpbnNlcnRBZnRlclBhcnQiLCJwYXJ0c19Cb29sZWFuQXR0cmlidXRlUGFydCIsIlByb3BlcnR5Q29tbWl0dGVyIiwic3VwZXIiLCJzaW5nbGUiLCJQcm9wZXJ0eVBhcnQiLCJldmVudE9wdGlvbnNTdXBwb3J0ZWQiLCJjYXB0dXJlIiwiX2UiLCJwYXJ0c19FdmVudFBhcnQiLCJldmVudE5hbWUiLCJldmVudENvbnRleHQiLCJfX2JvdW5kSGFuZGxlRXZlbnQiLCJoYW5kbGVFdmVudCIsIm5ld0xpc3RlbmVyIiwib2xkTGlzdGVuZXIiLCJzaG91bGRSZW1vdmVMaXN0ZW5lciIsInBhc3NpdmUiLCJzaG91bGRBZGRMaXN0ZW5lciIsIl9fb3B0aW9ucyIsImdldE9wdGlvbnMiLCJldmVudCIsImRlZmF1bHRUZW1wbGF0ZVByb2Nlc3NvciIsInByZWZpeCIsInRlbXBsYXRlQ2FjaGUiLCJ0ZW1wbGF0ZUNhY2hlcyIsInN0cmluZ3NBcnJheSIsImtleVN0cmluZyIsImdldFRlbXBsYXRlRWxlbWVudCIsInJlbmRlcl9wYXJ0cyIsImxpdF9odG1sX2h0bWwiLCJfbGVuIiwiX2tleSIsIndhbGtlck5vZGVGaWx0ZXIiLCJyZW1vdmVOb2Rlc0Zyb21UZW1wbGF0ZSIsIm1vZGlmeV90ZW1wbGF0ZV9uZXh0QWN0aXZlSW5kZXhJblRlbXBsYXRlUGFydHMiLCJyZW1vdmVDb3VudCIsIm5vZGVzVG9SZW1vdmVJblRlbXBsYXRlIiwiY3VycmVudFJlbW92aW5nTm9kZSIsImNvdW50Tm9kZXMiLCJnZXRUZW1wbGF0ZUNhY2hlS2V5Iiwic2NvcGVOYW1lIiwiY29tcGF0aWJsZVNoYWR5Q1NTVmVyc2lvbiIsIlNoYWR5Q1NTIiwicHJlcGFyZVRlbXBsYXRlRG9tIiwic2hhZHlUZW1wbGF0ZUZhY3RvcnkiLCJjYWNoZUtleSIsIlRFTVBMQVRFX1RZUEVTIiwic2hhZHlSZW5kZXJTZXQiLCJTZXQiLCJwcmVwYXJlVGVtcGxhdGVTdHlsZXMiLCJyZW5kZXJlZERPTSIsImFkZCIsInN0eWxlcyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJjb25kZW5zZWRTdHlsZSIsInRlbXBsYXRlcyIsImZyb20iLCJyZW1vdmVTdHlsZXNGcm9tTGl0VGVtcGxhdGVzIiwicmVmTm9kZSIsImluc2VydENvdW50Iiwid2Fsa2VySW5kZXgiLCJpbnNlcnROb2RlSW50b1RlbXBsYXRlIiwiZmlyc3RDaGlsZCIsIm5hdGl2ZVNoYWRvdyIsInJlbW92ZXMiLCJKU0NvbXBpbGVyX3JlbmFtZVByb3BlcnR5IiwiX29iaiIsImRlZmF1bHRDb252ZXJ0ZXIiLCJCb29sZWFuIiwiTnVtYmVyIiwibm90RXF1YWwiLCJvbGQiLCJkZWZhdWx0UHJvcGVydHlEZWNsYXJhdGlvbiIsImF0dHJpYnV0ZSIsImNvbnZlcnRlciIsInJlZmxlY3QiLCJoYXNDaGFuZ2VkIiwibWljcm90YXNrUHJvbWlzZSIsIlNUQVRFX0hBU19VUERBVEVEIiwiU1RBVEVfVVBEQVRFX1JFUVVFU1RFRCIsIlNUQVRFX0lTX1JFRkxFQ1RJTkdfVE9fQVRUUklCVVRFIiwiU1RBVEVfSVNfUkVGTEVDVElOR19UT19QUk9QRVJUWSIsIlNUQVRFX0hBU19DT05ORUNURUQiLCJVcGRhdGluZ0VsZW1lbnQiLCJIVE1MRWxlbWVudCIsIl91cGRhdGVTdGF0ZSIsIl9pbnN0YW5jZVByb3BlcnRpZXMiLCJfdXBkYXRlUHJvbWlzZSIsIl9oYXNDb25uZWN0ZWRSZXNvbHZlciIsIl9jaGFuZ2VkUHJvcGVydGllcyIsIl9yZWZsZWN0aW5nUHJvcGVydGllcyIsImluaXRpYWxpemUiLCJvYnNlcnZlZEF0dHJpYnV0ZXMiLCJmaW5hbGl6ZSIsIl9jbGFzc1Byb3BlcnRpZXMiLCJhdHRyIiwiX2F0dHJpYnV0ZU5hbWVGb3JQcm9wZXJ0eSIsIl9hdHRyaWJ1dGVUb1Byb3BlcnR5TWFwIiwic3VwZXJQcm9wZXJ0aWVzIiwiZ2V0UHJvdG90eXBlT2YiLCJrIiwiX2Vuc3VyZUNsYXNzUHJvcGVydGllcyIsIm5vQWNjZXNzb3IiLCJvbGRWYWx1ZSIsIl9yZXF1ZXN0VXBkYXRlIiwiY29uZmlndXJhYmxlIiwiZmluYWxpemVkIiwic3VwZXJDdG9yIiwicHJvcHMiLCJwcm9wS2V5cyIsImdldE93blByb3BlcnR5TmFtZXMiLCJnZXRPd25Qcm9wZXJ0eVN5bWJvbHMiLCJjcmVhdGVQcm9wZXJ0eSIsImZyb21BdHRyaWJ1dGUiLCJ0b0F0dHJpYnV0ZSIsIl9zYXZlSW5zdGFuY2VQcm9wZXJ0aWVzIiwiX3YiLCJfYXR0cmlidXRlVG9Qcm9wZXJ0eSIsImN0b3IiLCJhdHRyVmFsdWUiLCJfcHJvcGVydHlWYWx1ZVRvQXR0cmlidXRlIiwicHJvcE5hbWUiLCJfcHJvcGVydHlWYWx1ZUZyb21BdHRyaWJ1dGUiLCJzaG91bGRSZXF1ZXN0VXBkYXRlIiwiX3ZhbHVlSGFzQ2hhbmdlZCIsIl9oYXNSZXF1ZXN0ZWRVcGRhdGUiLCJfZW5xdWV1ZVVwZGF0ZSIsInVwZGF0ZUNvbXBsZXRlIiwicHJldmlvdXNVcGRhdGVQcm9taXNlIiwicmVzIiwicmVqIiwiX2hhc0Nvbm5lY3RlZCIsInBlcmZvcm1VcGRhdGUiLCJoYXNVcGRhdGVkIiwiX2FwcGx5SW5zdGFuY2VQcm9wZXJ0aWVzIiwic2hvdWxkVXBkYXRlIiwiY2hhbmdlZFByb3BlcnRpZXMiLCJfbWFya1VwZGF0ZWQiLCJmaXJzdFVwZGF0ZWQiLCJ1cGRhdGVkIiwic2l6ZSIsIl9wcm9wZXJ0eVRvQXR0cmlidXRlIiwiY3VzdG9tRWxlbWVudCIsImNsYXNzT3JEZXNjcmlwdG9yIiwiY2xhenoiLCJsZWdhY3lDdXN0b21FbGVtZW50IiwiZGVzY3JpcHRvciIsImtpbmQiLCJlbGVtZW50cyIsInN0YW5kYXJkQ3VzdG9tRWxlbWVudCIsInN0YW5kYXJkUHJvcGVydHkiLCJwbGFjZW1lbnQiLCJpbml0aWFsaXplciIsImxlZ2FjeVByb3BlcnR5IiwicHJvdG8iLCJwcm90b09yRGVzY3JpcHRvciIsInN1cHBvcnRzQWRvcHRpbmdTdHlsZVNoZWV0cyIsIkRvY3VtZW50IiwiQ1NTU3R5bGVTaGVldCIsImNvbnN0cnVjdGlvblRva2VuIiwiQ1NTUmVzdWx0IiwiY3NzVGV4dCIsInNhZmVUb2tlbiIsInN0eWxlU2hlZXQiLCJfc3R5bGVTaGVldCIsInJlcGxhY2VTeW5jIiwiY3NzIiwicmVkdWNlIiwiYWNjIiwidGV4dEZyb21DU1NSZXN1bHQiLCJmbGF0dGVuU3R5bGVzIiwiZmxhdCIsIkluZmluaXR5IiwiYXJyYXlGbGF0IiwibGl0X2VsZW1lbnRfTGl0RWxlbWVudCIsIl9zdHlsZXMiLCJfZ2V0VW5pcXVlU3R5bGVzIiwidXNlclN0eWxlcyIsInJlZHVjZVJpZ2h0IiwicmVuZGVyUm9vdCIsImNyZWF0ZVJlbmRlclJvb3QiLCJTaGFkb3dSb290IiwiYWRvcHRTdHlsZXMiLCJhdHRhY2hTaGFkb3ciLCJhZG9wdGVkU3R5bGVTaGVldHMiLCJfbmVlZHNTaGltQWRvcHRlZFN0eWxlU2hlZXRzIiwiU2NvcGluZ1NoaW0iLCJwcmVwYXJlQWRvcHRlZENzc1RleHQiLCJsb2NhbE5hbWUiLCJjb25uZWN0ZWRDYWxsYmFjayIsInN0eWxlRWxlbWVudCIsInRlbXBsYXRlUmVzdWx0IiwicmVuZGVyIiwiaGFzUmVuZGVyZWQiLCJuZWVkc1Njb3BpbmciLCJmaXJzdFNjb3BlUmVuZGVyIiwicmVuZGVyQ29udGFpbmVyIiwiY3JlYXRlRG9jdW1lbnRGcmFnbWVudCIsImFwcGVuZEludG8iLCJnZXRDb29raWUiLCJnZXRDbGFzc2VzIiwiY2xhc3NOYW1lcyIsImNsYXNzTmFtZSIsInV0aWxzX2dldFVybCIsImNzcmYiLCJYLUNTUkZUb2tlbiIsImF4aW9zX2RlZmF1bHQiLCJBbGlhc0VkaXRvcl9BbGlhc0VkaXRvciIsIkFsaWFzRWRpdG9yX3RlbXBsYXRlT2JqZWN0IiwibmV3UGF0aCIsImZlYXR1cmUiLCJvc21faWQiLCJvc21JZCIsImhpZGVBbGlhc0RpYWxvZyIsImZldGNoRmVhdHVyZSIsImdldEVuZHBvaW50IiwiYXV0b3NpemVfZGVmYXVsdCIsInNoYWRvd1Jvb3QiLCJob3ZlcmVkIiwic2VsZWN0aW9uIiwiZGV0YWlsIiwic2VsZWN0ZWQiLCJzaG93QWxpYXNEaWFsb2ciLCJyZW1haW5pbmdQYXRoIiwic2VsZWN0ZWRGZWF0dXJlIiwiY2xpY2thYmxlIiwiaGFzX2NoaWxkcmVuIiwicmVuZGVyZWRGZWF0dXJlIiwiX3RlbXBsYXRlT2JqZWN0MiIsImhhbmRsZVBsYWNlQ2xpY2tlZCIsImFsaWFzZXMiLCJhbGlhcyIsIl90ZW1wbGF0ZU9iamVjdDMiLCJfdGVtcGxhdGVPYmplY3Q0IiwicHJldmVudERlZmF1bHQiLCJzdG9wUHJvcGFnYXRpb24iLCJyZW5kZXJlZENoaWxkcmVuIiwiY2hpbGRyZW4iLCJjaGlsZCIsInJlbmRlckZlYXR1cmUiLCJfdGVtcGxhdGVPYmplY3Q1IiwiZWRpdEZlYXR1cmUiLCJhbGlhc0RpYWxvZyIsImdldEVsZW1lbnRCeUlkIiwiZmlyZVRleHRhcmVhQXV0b3NpemUiLCJyZXF1ZXN0VXBkYXRlIiwiZW5kcG9pbnQiLCJidXR0b24iLCJzZXRQcm9ncmVzcyIsInBheWxvYWQiLCJwb3N0IiwicG9zdFVybCIsIm9wdGlvbiIsIl90ZW1wbGF0ZU9iamVjdDYiLCJfdGVtcGxhdGVPYmplY3Q3IiwiX3RlbXBsYXRlT2JqZWN0OCIsIl90ZW1wbGF0ZU9iamVjdDkiLCJtYXBGZWF0dXJlIiwiZWRpdEZlYXR1cmVJZCIsImVkaXRGZWF0dXJlTmFtZSIsImVkaXRGZWF0dXJlQWxpYXNlcyIsIl90ZW1wbGF0ZU9iamVjdDEwIiwicmVuZGVyT3B0aW9uRGV0YWlsIiwiaGFuZGxlU2VhcmNoU2VsZWN0aW9uIiwiaGFuZGxlTWFwQ2xpY2tlZCIsImhhbmRsZURpYWxvZ0NsaWNrIiwiX19kZWNvcmF0ZSIsIkJ1dHRvbl9CdXR0b24iLCJCdXR0b25fdGVtcGxhdGVPYmplY3QiLCJwcm9ncmVzcyIsImlzUHJvZ3Jlc3MiLCJjbGljayIsIkJ1dHRvbl90ZW1wbGF0ZU9iamVjdDIiLCJwcmltYXJ5Iiwic2Vjb25kYXJ5IiwiaGFuZGxlS2V5VXAiLCJpblByb2dlc3NOYW1lIiwiQnV0dG9uX2RlY29yYXRlIiwiRGlhbG9nX0RpYWxvZyIsInByaW1hcnlCdXR0b25OYW1lIiwiY2FuY2VsQnV0dG9uTmFtZSIsImluUHJvZ3Jlc3NOYW1lIiwiRGlhbG9nX3RlbXBsYXRlT2JqZWN0IiwiaW5wdXRzIiwiZm9jdXMiLCJjdXJyZW50VGFyZ2V0Iiwib25CdXR0b25DbGlja2VkIiwibWF4IiwiY2xpZW50SGVpZ2h0IiwiZ2V0RG9jdW1lbnRIZWlnaHQiLCJEaWFsb2dfdGVtcGxhdGVPYmplY3QyIiwiRGlhbG9nX3RlbXBsYXRlT2JqZWN0MyIsImhhbmRsZUNsaWNrIiwiRGlhbG9nX2RlY29yYXRlIiwiUmFwaWRFbGVtZW50X1JhcGlkRWxlbWVudCIsImhhbmRsZXIiLCJnZXRFdmVudEhhbmRsZXJzIiwiZGlzY29ubmVjdGVkQ2FsbGJhY2siLCJDdXN0b21FdmVudCIsImNvbXBvc2VkIiwiVGV4dElucHV0X1RleHRJbnB1dCIsInBsYWNlaG9sZGVyIiwiVGV4dElucHV0X3RlbXBsYXRlT2JqZWN0IiwiY2hhbmdlcyIsImlucHV0RWxlbWVudCIsIlRleHRJbnB1dF90ZW1wbGF0ZU9iamVjdDIiLCJ0ZXh0YXJlYSIsIlRleHRJbnB1dF90ZW1wbGF0ZU9iamVjdDMiLCJUZXh0SW5wdXRfdGVtcGxhdGVPYmplY3Q0IiwiVGV4dElucHV0X2RlY29yYXRlIiwiTGFiZWxfTGFiZWwiLCJMYWJlbF90ZW1wbGF0ZU9iamVjdCIsIkxhYmVsX3RlbXBsYXRlT2JqZWN0MiIsInRleHRDb2xvciIsIkxhYmVsX3RlbXBsYXRlT2JqZWN0MyIsImxpZ2h0IiwiZGFyayIsIkxhYmVsX2RlY29yYXRlIiwiQ3VzdG9tRXZlbnRUeXBlIiwiT3B0aW9uc19PcHRpb25zIiwiY3Vyc29ySW5kZXgiLCJPcHRpb25zX3RlbXBsYXRlT2JqZWN0IiwiZm9jdXNlZEVsZSIsInNjcm9sbEJveCIsInNjcm9sbEJveEhlaWdodCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsImZvY3VzZWRFbGVIZWlnaHQiLCJzY3JvbGxUbyIsImNhbGN1bGF0ZVBvc2l0aW9uIiwicmVuZGVyT3B0aW9uTmFtZSIsInJlbmRlck9wdGlvbk5hbWVEZWZhdWx0IiwicmVuZGVyT3B0aW9uRGV0YWlsRGVmYXVsdCIsIk9wdGlvbnNfdGVtcGxhdGVPYmplY3QyIiwiT3B0aW9uc190ZW1wbGF0ZU9iamVjdDMiLCJPcHRpb25zX3RlbXBsYXRlT2JqZWN0NCIsIk9wdGlvbnNfdGVtcGxhdGVPYmplY3Q1IiwidGFiYmVkIiwiZmlyZUV2ZW50IiwiU2VsZWN0aW9uIiwiZGlyZWN0aW9uIiwibmV3SW5kZXgiLCJtaW4iLCJzZXRDdXJzb3IiLCJDdXJzb3JDaGFuZ2VkIiwidmlzaWJsZSIsImN0cmxLZXkiLCJtb3ZlQ3Vyc29yIiwiaGFuZGxlU2VsZWN0aW9uIiwiQ2FuY2VsZWQiLCJvcHRpb25zQm91bmRzIiwiYW5jaG9yVG8iLCJhbmNob3JCb3VuZHMiLCJ0b3BUb3AiLCJib3R0b20iLCJpbm5lckhlaWdodCIsInBhZ2VZT2Zmc2V0IiwiaGFuZGxlS2V5RG93biIsInJlbmRlck9wdGlvbiIsInJlbmRlck9wdGlvbkRlZmF1bHQiLCJPcHRpb25zX3RlbXBsYXRlT2JqZWN0NiIsIk9wdGlvbnNfdGVtcGxhdGVPYmplY3Q3IiwiT3B0aW9uc19kZWNvcmF0ZSIsIlNlbGVjdF9TZWxlY3QiLCJxdWlldE1pbGxpcyIsIlNlbGVjdF90ZW1wbGF0ZU9iamVjdCIsImJsdXIiLCJsYXN0UXVlcnkiLCJmZXRjaE9wdGlvbnMiLCJxdWVyeSIsImNvbXBsZXRlIiwicGFnZSIsImZldGNoaW5nIiwiZmlsdGVyIiwibmV3UmVzdWx0cyIsImNhdGNoIiwiZWxlIiwiaGFuZGxlQ2FuY2VsIiwiaGFuZGxlQ3Vyc29yQ2hhbmdlZCIsImFuY2hvckVsZW1lbnQiLCJTZWxlY3RfdGVtcGxhdGVPYmplY3QyIiwiaGFuZGxlQmx1ciIsImhhbmRsZUZvY3VzIiwiaGFuZGxlT3B0aW9uU2VsZWN0aW9uIiwiU2VsZWN0X2RlY29yYXRlIiwiU1RBVEVfQk9EWSIsIlNUQVRFX1BSRUZJWCIsIlNUQVRFX0lERU5USUZJRVIiLCJTVEFURV9CQUxBTkNFRCIsIlNUQVRFX1NUUklOR19MSVRFUkFMIiwiU1RBVEVfRVNDQVBFRF9QUkVGSVgiLCJTVEFURV9JR05PUkUiLCJzdGFydHNXaXRoIiwiaXNWYWxpZFN0YXJ0IiwicGFydGlhbEV4cHJlc3Npb24iLCJhbGxvd2VkVG9wTGV2ZWxzIiwiYWxsb3dJbmNvbXBsZXRlIiwidG9wTGV2ZWwiLCJhbGxvd2VkIiwiaXNXb3JkQ2hhciIsImlzSW5TdHJpbmdMaXRlcmFsIiwibnVtUXVvdGVzIiwicG9zIiwiZ2V0RnVuY3Rpb25zIiwiZnVuY3Rpb25zIiwic2lnbmF0dXJlIiwiZ2V0Q29tcGxldGlvbnMiLCJzY2hlbWEiLCJkb3RRdWVyeSIsImN1cnJlbnRQcm9wcyIsInJvb3Rfbm9fc2Vzc2lvbiIsIm5leHRQcm9wIiwiZmluZCIsIm5leHRUeXBlIiwidHlwZXMiLCJzdW1tYXJ5IiwiaGVscCIsInByZXZpb3VzVmFsdWVzIiwidW5zYWZlSFRNTCIsInByZXZpb3VzVmFsdWUiLCJtYXJrZWRSZW5kZXIiLCJjb250ZW50cyIsIkNvbXBsZXRpb25fQ29tcGxldGlvbiIsIkNvbXBsZXRpb25fMSIsImFuY2hvclBvc2l0aW9uIiwiQ29tcGxldGlvbl90ZW1wbGF0ZU9iamVjdCIsInRleHRJbnB1dEVsZW1lbnQiLCJjb21wbGV0aW9uc0VuZHBvaW50IiwiZnVuY3Rpb25zRW5kcG9pbnQiLCJleGVjdXRlUXVlcnkiLCJjdXJzb3IiLCJzZWxlY3Rpb25TdGFydCIsImN1cnJlbnRFeHByZXNzaW9uIiwiZmluZEV4cHJlc3Npb25zIiwiZXhwciIsImNsb3NlZCIsImluY2x1ZGVGdW5jdGlvbnMiLCJmdW5jdGlvblF1ZXJ5IiwiZnVuY3Rpb25Db250ZXh0IiwiY3VycmVudEZ1bmN0aW9uIiwiY2FyZXQiLCJ0ZXh0YXJlYV9jYXJldF9kZWZhdWx0IiwiaW5zZXJ0VGV4dCIsImFyZ1N0YXJ0IiwiQ29tcGxldGlvbl90ZW1wbGF0ZU9iamVjdDIiLCJDb21wbGV0aW9uX3RlbXBsYXRlT2JqZWN0MyIsIkNvbXBsZXRpb25fdGVtcGxhdGVPYmplY3Q0IiwiQ29tcGxldGlvbl90ZW1wbGF0ZU9iamVjdDUiLCJDb21wbGV0aW9uX3RlbXBsYXRlT2JqZWN0NiIsImhhbmRsZUlucHV0IiwicmVuZGVyQ29tcGxldGlvbk9wdGlvbiIsImV4cHJlc3Npb25QcmVmaXgiLCJ0ZXh0VG9DYXJldCIsImV4cHJlc3Npb25zIiwibGFzdEV4cHJlc3Npb24iLCJuZWVkZWRQYXJlbnRoZXNlcyIsInNraXBDaGFyIiwiaW5RdW90ZXMiLCJwcmVwZW5kRmxhZyIsInN0YXRlIiwiaWRlbnRpZmllciIsInBhcmVudGhlc2VzTGV2ZWwiLCJmaWVsZHMiLCJyZSIsImV4cHJlc3Npb24iLCJuZXh0Q2giLCJuZXh0TmV4dENoIiwiQ29tcGxldGlvbl9kZWNvcmF0ZSJdLCJtYXBwaW5ncyI6IkNBQUEsU0FBQUEsRUFBQUMsR0FDQSxpQkFBQUMsU0FBQSxpQkFBQUMsT0FDQUEsT0FBQUQsUUFBQUQsSUFDQSxtQkFBQUcsZUFBQUMsSUFDQUQsT0FBQSxHQUFBSCxHQUNBLGlCQUFBQyxRQUNBQSxRQUFBLGlCQUFBRCxJQUVBRCxFQUFBLGlCQUFBQyxJQVJBLENBU0NLLE9BQUEsV0FDRCxtQkNUQSxJQUFBQyxFQUFBLEdBR0EsU0FBQUMsRUFBQUMsR0FHQSxHQUFBRixFQUFBRSxHQUNBLE9BQUFGLEVBQUFFLEdBQUFQLFFBR0EsSUFBQUMsRUFBQUksRUFBQUUsR0FBQSxDQUNBQyxFQUFBRCxFQUNBRSxHQUFBLEVBQ0FULFFBQUEsSUFVQSxPQU5BVSxFQUFBSCxHQUFBSSxLQUFBVixFQUFBRCxRQUFBQyxJQUFBRCxRQUFBTSxHQUdBTCxFQUFBUSxHQUFBLEVBR0FSLEVBQUFELFFBMERBLE9BckRBTSxFQUFBTSxFQUFBRixFQUdBSixFQUFBTyxFQUFBUixFQUdBQyxFQUFBUSxFQUFBLFNBQUFkLEVBQUFlLEVBQUFDLEdBQ0FWLEVBQUFXLEVBQUFqQixFQUFBZSxJQUNBRyxPQUFB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aUJBQWtCQyxLQUM5RG9DLEVBQWtCRyxPQUF1QyxNQUE5QkgsRUFBa0IxckIsS0FBSyxJQUFtQyxJQUFyQnV0QixFQUNoRTdCLEVBQWtCMWdCLElBQU00ZSxFQUFNLEVBQzlCbUQsRUFBWXJnQyxLQUFLZy9CLElBR25CQSxFQUFvQixLQUNwQjJCLEVBQVExRSxJQUlaLE9BQU9vRSxJR2xSMkIsSUFBSyxDQUN2QyxVQUNBLFNBQ0EsU0FVRmMsR0FBQSxDQURDeG1DLEdBQVMsQ0FBRTJhLEtBQU01YixnREFJbEJ5bkMsR0FBQSxDQURDeG1DLEdBQVMsQ0FBQyt0QixXQUFXLDRDQUl0QnlZLEdBQUEsQ0FEQ3htQyxHQUFTLENBQUMyYSxLQUFNakYsNkNBSWpCOHdCLEdBQUEsQ0FEQ3htQyxHQUFTLENBQUMrdEIsV0FBVyw2Q0FJdEJ5WSxHQUFBLENBREN4bUMsR0FBUyxDQUFDK3RCLFdBQVcsMENBSXRCeVksR0FBQSxDQURDeG1DLEdBQVMsQ0FBQzJhLEtBQU0zUix3Q0FJakJ3OUIsR0FBQSxDQURDeG1DLEdBQVMsQ0FBQzJhLEtBQU1qRix1Q0FJakI4d0IsR0FBQSxDQURDeG1DLEdBQVMsQ0FBQzJhLEtBQU1qRixxREFJakI4d0IsR0FBQSxDQURDeG1DLEdBQVMsQ0FBQzJhLEtBQU1qRixtREFJakI4d0IsR0FBQSxDQURDeG1DLEdBQVMsQ0FBQzJhLEtBQU0rUywyQ0F6REVpVyxHQUFVQyxHQUFBNEMsR0FBQSxDQUQ5QnBVLEdBQWMsa0JBQ011UiIsImZpbGUiOiJycC1jb21wb25lbnRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIHdlYnBhY2tVbml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uKHJvb3QsIGZhY3RvcnkpIHtcblx0aWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnKVxuXHRcdG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xuXHRlbHNlIGlmKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZClcblx0XHRkZWZpbmUoW10sIGZhY3RvcnkpO1xuXHRlbHNlIGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jylcblx0XHRleHBvcnRzW1wicnAtY29tcG9uZW50c1wiXSA9IGZhY3RvcnkoKTtcblx0ZWxzZVxuXHRcdHJvb3RbXCJycC1jb21wb25lbnRzXCJdID0gZmFjdG9yeSgpO1xufSkod2luZG93LCBmdW5jdGlvbigpIHtcbnJldHVybiAiLCIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMTApO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgYmluZCA9IHJlcXVpcmUoJy4vaGVscGVycy9iaW5kJyk7XG52YXIgaXNCdWZmZXIgPSByZXF1aXJlKCdpcy1idWZmZXInKTtcblxuLypnbG9iYWwgdG9TdHJpbmc6dHJ1ZSovXG5cbi8vIHV0aWxzIGlzIGEgbGlicmFyeSBvZiBnZW5lcmljIGhlbHBlciBmdW5jdGlvbnMgbm9uLXNwZWNpZmljIHRvIGF4aW9zXG5cbnZhciB0b1N0cmluZyA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmc7XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYW4gQXJyYXlcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhbiBBcnJheSwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzQXJyYXkodmFsKSB7XG4gIHJldHVybiB0b1N0cmluZy5jYWxsKHZhbCkgPT09ICdbb2JqZWN0IEFycmF5XSc7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYW4gQXJyYXlCdWZmZXJcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhbiBBcnJheUJ1ZmZlciwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzQXJyYXlCdWZmZXIodmFsKSB7XG4gIHJldHVybiB0b1N0cmluZy5jYWxsKHZhbCkgPT09ICdbb2JqZWN0IEFycmF5QnVmZmVyXSc7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBGb3JtRGF0YVxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGFuIEZvcm1EYXRhLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNGb3JtRGF0YSh2YWwpIHtcbiAgcmV0dXJuICh0eXBlb2YgRm9ybURhdGEgIT09ICd1bmRlZmluZWQnKSAmJiAodmFsIGluc3RhbmNlb2YgRm9ybURhdGEpO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgdmlldyBvbiBhbiBBcnJheUJ1ZmZlclxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgdmlldyBvbiBhbiBBcnJheUJ1ZmZlciwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzQXJyYXlCdWZmZXJWaWV3KHZhbCkge1xuICB2YXIgcmVzdWx0O1xuICBpZiAoKHR5cGVvZiBBcnJheUJ1ZmZlciAhPT0gJ3VuZGVmaW5lZCcpICYmIChBcnJheUJ1ZmZlci5pc1ZpZXcpKSB7XG4gICAgcmVzdWx0ID0gQXJyYXlCdWZmZXIuaXNWaWV3KHZhbCk7XG4gIH0gZWxzZSB7XG4gICAgcmVzdWx0ID0gKHZhbCkgJiYgKHZhbC5idWZmZXIpICYmICh2YWwuYnVmZmVyIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBTdHJpbmdcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIFN0cmluZywgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzU3RyaW5nKHZhbCkge1xuICByZXR1cm4gdHlwZW9mIHZhbCA9PT0gJ3N0cmluZyc7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBOdW1iZXJcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIE51bWJlciwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzTnVtYmVyKHZhbCkge1xuICByZXR1cm4gdHlwZW9mIHZhbCA9PT0gJ251bWJlcic7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgdW5kZWZpbmVkXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdGhlIHZhbHVlIGlzIHVuZGVmaW5lZCwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzVW5kZWZpbmVkKHZhbCkge1xuICByZXR1cm4gdHlwZW9mIHZhbCA9PT0gJ3VuZGVmaW5lZCc7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYW4gT2JqZWN0XG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYW4gT2JqZWN0LCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNPYmplY3QodmFsKSB7XG4gIHJldHVybiB2YWwgIT09IG51bGwgJiYgdHlwZW9mIHZhbCA9PT0gJ29iamVjdCc7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBEYXRlXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBEYXRlLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNEYXRlKHZhbCkge1xuICByZXR1cm4gdG9TdHJpbmcuY2FsbCh2YWwpID09PSAnW29iamVjdCBEYXRlXSc7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBGaWxlXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBGaWxlLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNGaWxlKHZhbCkge1xuICByZXR1cm4gdG9TdHJpbmcuY2FsbCh2YWwpID09PSAnW29iamVjdCBGaWxlXSc7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBCbG9iXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBCbG9iLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNCbG9iKHZhbCkge1xuICByZXR1cm4gdG9TdHJpbmcuY2FsbCh2YWwpID09PSAnW29iamVjdCBCbG9iXSc7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBGdW5jdGlvblxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgRnVuY3Rpb24sIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0Z1bmN0aW9uKHZhbCkge1xuICByZXR1cm4gdG9TdHJpbmcuY2FsbCh2YWwpID09PSAnW29iamVjdCBGdW5jdGlvbl0nO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgU3RyZWFtXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBTdHJlYW0sIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc1N0cmVhbSh2YWwpIHtcbiAgcmV0dXJuIGlzT2JqZWN0KHZhbCkgJiYgaXNGdW5jdGlvbih2YWwucGlwZSk7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBVUkxTZWFyY2hQYXJhbXMgb2JqZWN0XG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBVUkxTZWFyY2hQYXJhbXMgb2JqZWN0LCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNVUkxTZWFyY2hQYXJhbXModmFsKSB7XG4gIHJldHVybiB0eXBlb2YgVVJMU2VhcmNoUGFyYW1zICE9PSAndW5kZWZpbmVkJyAmJiB2YWwgaW5zdGFuY2VvZiBVUkxTZWFyY2hQYXJhbXM7XG59XG5cbi8qKlxuICogVHJpbSBleGNlc3Mgd2hpdGVzcGFjZSBvZmYgdGhlIGJlZ2lubmluZyBhbmQgZW5kIG9mIGEgc3RyaW5nXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHN0ciBUaGUgU3RyaW5nIHRvIHRyaW1cbiAqIEByZXR1cm5zIHtTdHJpbmd9IFRoZSBTdHJpbmcgZnJlZWQgb2YgZXhjZXNzIHdoaXRlc3BhY2VcbiAqL1xuZnVuY3Rpb24gdHJpbShzdHIpIHtcbiAgcmV0dXJuIHN0ci5yZXBsYWNlKC9eXFxzKi8sICcnKS5yZXBsYWNlKC9cXHMqJC8sICcnKTtcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgd2UncmUgcnVubmluZyBpbiBhIHN0YW5kYXJkIGJyb3dzZXIgZW52aXJvbm1lbnRcbiAqXG4gKiBUaGlzIGFsbG93cyBheGlvcyB0byBydW4gaW4gYSB3ZWIgd29ya2VyLCBhbmQgcmVhY3QtbmF0aXZlLlxuICogQm90aCBlbnZpcm9ubWVudHMgc3VwcG9ydCBYTUxIdHRwUmVxdWVzdCwgYnV0IG5vdCBmdWxseSBzdGFuZGFyZCBnbG9iYWxzLlxuICpcbiAqIHdlYiB3b3JrZXJzOlxuICogIHR5cGVvZiB3aW5kb3cgLT4gdW5kZWZpbmVkXG4gKiAgdHlwZW9mIGRvY3VtZW50IC0+IHVuZGVmaW5lZFxuICpcbiAqIHJlYWN0LW5hdGl2ZTpcbiAqICBuYXZpZ2F0b3IucHJvZHVjdCAtPiAnUmVhY3ROYXRpdmUnXG4gKi9cbmZ1bmN0aW9uIGlzU3RhbmRhcmRCcm93c2VyRW52KCkge1xuICBpZiAodHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcgJiYgbmF2aWdhdG9yLnByb2R1Y3QgPT09ICdSZWFjdE5hdGl2ZScpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIChcbiAgICB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJlxuICAgIHR5cGVvZiBkb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCdcbiAgKTtcbn1cblxuLyoqXG4gKiBJdGVyYXRlIG92ZXIgYW4gQXJyYXkgb3IgYW4gT2JqZWN0IGludm9raW5nIGEgZnVuY3Rpb24gZm9yIGVhY2ggaXRlbS5cbiAqXG4gKiBJZiBgb2JqYCBpcyBhbiBBcnJheSBjYWxsYmFjayB3aWxsIGJlIGNhbGxlZCBwYXNzaW5nXG4gKiB0aGUgdmFsdWUsIGluZGV4LCBhbmQgY29tcGxldGUgYXJyYXkgZm9yIGVhY2ggaXRlbS5cbiAqXG4gKiBJZiAnb2JqJyBpcyBhbiBPYmplY3QgY2FsbGJhY2sgd2lsbCBiZSBjYWxsZWQgcGFzc2luZ1xuICogdGhlIHZhbHVlLCBrZXksIGFuZCBjb21wbGV0ZSBvYmplY3QgZm9yIGVhY2ggcHJvcGVydHkuXG4gKlxuICogQHBhcmFtIHtPYmplY3R8QXJyYXl9IG9iaiBUaGUgb2JqZWN0IHRvIGl0ZXJhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIFRoZSBjYWxsYmFjayB0byBpbnZva2UgZm9yIGVhY2ggaXRlbVxuICovXG5mdW5jdGlvbiBmb3JFYWNoKG9iaiwgZm4pIHtcbiAgLy8gRG9uJ3QgYm90aGVyIGlmIG5vIHZhbHVlIHByb3ZpZGVkXG4gIGlmIChvYmogPT09IG51bGwgfHwgdHlwZW9mIG9iaiA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvLyBGb3JjZSBhbiBhcnJheSBpZiBub3QgYWxyZWFkeSBzb21ldGhpbmcgaXRlcmFibGVcbiAgaWYgKHR5cGVvZiBvYmogIT09ICdvYmplY3QnKSB7XG4gICAgLyplc2xpbnQgbm8tcGFyYW0tcmVhc3NpZ246MCovXG4gICAgb2JqID0gW29ial07XG4gIH1cblxuICBpZiAoaXNBcnJheShvYmopKSB7XG4gICAgLy8gSXRlcmF0ZSBvdmVyIGFycmF5IHZhbHVlc1xuICAgIGZvciAodmFyIGkgPSAwLCBsID0gb2JqLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgZm4uY2FsbChudWxsLCBvYmpbaV0sIGksIG9iaik7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIC8vIEl0ZXJhdGUgb3ZlciBvYmplY3Qga2V5c1xuICAgIGZvciAodmFyIGtleSBpbiBvYmopIHtcbiAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSB7XG4gICAgICAgIGZuLmNhbGwobnVsbCwgb2JqW2tleV0sIGtleSwgb2JqKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBBY2NlcHRzIHZhcmFyZ3MgZXhwZWN0aW5nIGVhY2ggYXJndW1lbnQgdG8gYmUgYW4gb2JqZWN0LCB0aGVuXG4gKiBpbW11dGFibHkgbWVyZ2VzIHRoZSBwcm9wZXJ0aWVzIG9mIGVhY2ggb2JqZWN0IGFuZCByZXR1cm5zIHJlc3VsdC5cbiAqXG4gKiBXaGVuIG11bHRpcGxlIG9iamVjdHMgY29udGFpbiB0aGUgc2FtZSBrZXkgdGhlIGxhdGVyIG9iamVjdCBpblxuICogdGhlIGFyZ3VtZW50cyBsaXN0IHdpbGwgdGFrZSBwcmVjZWRlbmNlLlxuICpcbiAqIEV4YW1wbGU6XG4gKlxuICogYGBganNcbiAqIHZhciByZXN1bHQgPSBtZXJnZSh7Zm9vOiAxMjN9LCB7Zm9vOiA0NTZ9KTtcbiAqIGNvbnNvbGUubG9nKHJlc3VsdC5mb28pOyAvLyBvdXRwdXRzIDQ1NlxuICogYGBgXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IG9iajEgT2JqZWN0IHRvIG1lcmdlXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXN1bHQgb2YgYWxsIG1lcmdlIHByb3BlcnRpZXNcbiAqL1xuZnVuY3Rpb24gbWVyZ2UoLyogb2JqMSwgb2JqMiwgb2JqMywgLi4uICovKSB7XG4gIHZhciByZXN1bHQgPSB7fTtcbiAgZnVuY3Rpb24gYXNzaWduVmFsdWUodmFsLCBrZXkpIHtcbiAgICBpZiAodHlwZW9mIHJlc3VsdFtrZXldID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgdmFsID09PSAnb2JqZWN0Jykge1xuICAgICAgcmVzdWx0W2tleV0gPSBtZXJnZShyZXN1bHRba2V5XSwgdmFsKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzdWx0W2tleV0gPSB2YWw7XG4gICAgfVxuICB9XG5cbiAgZm9yICh2YXIgaSA9IDAsIGwgPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgZm9yRWFjaChhcmd1bWVudHNbaV0sIGFzc2lnblZhbHVlKTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIEV4dGVuZHMgb2JqZWN0IGEgYnkgbXV0YWJseSBhZGRpbmcgdG8gaXQgdGhlIHByb3BlcnRpZXMgb2Ygb2JqZWN0IGIuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGEgVGhlIG9iamVjdCB0byBiZSBleHRlbmRlZFxuICogQHBhcmFtIHtPYmplY3R9IGIgVGhlIG9iamVjdCB0byBjb3B5IHByb3BlcnRpZXMgZnJvbVxuICogQHBhcmFtIHtPYmplY3R9IHRoaXNBcmcgVGhlIG9iamVjdCB0byBiaW5kIGZ1bmN0aW9uIHRvXG4gKiBAcmV0dXJuIHtPYmplY3R9IFRoZSByZXN1bHRpbmcgdmFsdWUgb2Ygb2JqZWN0IGFcbiAqL1xuZnVuY3Rpb24gZXh0ZW5kKGEsIGIsIHRoaXNBcmcpIHtcbiAgZm9yRWFjaChiLCBmdW5jdGlvbiBhc3NpZ25WYWx1ZSh2YWwsIGtleSkge1xuICAgIGlmICh0aGlzQXJnICYmIHR5cGVvZiB2YWwgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGFba2V5XSA9IGJpbmQodmFsLCB0aGlzQXJnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgYVtrZXldID0gdmFsO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiBhO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgaXNBcnJheTogaXNBcnJheSxcbiAgaXNBcnJheUJ1ZmZlcjogaXNBcnJheUJ1ZmZlcixcbiAgaXNCdWZmZXI6IGlzQnVmZmVyLFxuICBpc0Zvcm1EYXRhOiBpc0Zvcm1EYXRhLFxuICBpc0FycmF5QnVmZmVyVmlldzogaXNBcnJheUJ1ZmZlclZpZXcsXG4gIGlzU3RyaW5nOiBpc1N0cmluZyxcbiAgaXNOdW1iZXI6IGlzTnVtYmVyLFxuICBpc09iamVjdDogaXNPYmplY3QsXG4gIGlzVW5kZWZpbmVkOiBpc1VuZGVmaW5lZCxcbiAgaXNEYXRlOiBpc0RhdGUsXG4gIGlzRmlsZTogaXNGaWxlLFxuICBpc0Jsb2I6IGlzQmxvYixcbiAgaXNGdW5jdGlvbjogaXNGdW5jdGlvbixcbiAgaXNTdHJlYW06IGlzU3RyZWFtLFxuICBpc1VSTFNlYXJjaFBhcmFtczogaXNVUkxTZWFyY2hQYXJhbXMsXG4gIGlzU3RhbmRhcmRCcm93c2VyRW52OiBpc1N0YW5kYXJkQnJvd3NlckVudixcbiAgZm9yRWFjaDogZm9yRWFjaCxcbiAgbWVyZ2U6IG1lcmdlLFxuICBleHRlbmQ6IGV4dGVuZCxcbiAgdHJpbTogdHJpbVxufTtcbiIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9saWIvYXhpb3MnKTsiLCIndXNlIHN0cmljdCc7XG5cbnZhciB1dGlscyA9IHJlcXVpcmUoJy4vdXRpbHMnKTtcbnZhciBub3JtYWxpemVIZWFkZXJOYW1lID0gcmVxdWlyZSgnLi9oZWxwZXJzL25vcm1hbGl6ZUhlYWRlck5hbWUnKTtcblxudmFyIERFRkFVTFRfQ09OVEVOVF9UWVBFID0ge1xuICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCdcbn07XG5cbmZ1bmN0aW9uIHNldENvbnRlbnRUeXBlSWZVbnNldChoZWFkZXJzLCB2YWx1ZSkge1xuICBpZiAoIXV0aWxzLmlzVW5kZWZpbmVkKGhlYWRlcnMpICYmIHV0aWxzLmlzVW5kZWZpbmVkKGhlYWRlcnNbJ0NvbnRlbnQtVHlwZSddKSkge1xuICAgIGhlYWRlcnNbJ0NvbnRlbnQtVHlwZSddID0gdmFsdWU7XG4gIH1cbn1cblxuZnVuY3Rpb24gZ2V0RGVmYXVsdEFkYXB0ZXIoKSB7XG4gIHZhciBhZGFwdGVyO1xuICBpZiAodHlwZW9mIFhNTEh0dHBSZXF1ZXN0ICE9PSAndW5kZWZpbmVkJykge1xuICAgIC8vIEZvciBicm93c2VycyB1c2UgWEhSIGFkYXB0ZXJcbiAgICBhZGFwdGVyID0gcmVxdWlyZSgnLi9hZGFwdGVycy94aHInKTtcbiAgfSBlbHNlIGlmICh0eXBlb2YgcHJvY2VzcyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAvLyBGb3Igbm9kZSB1c2UgSFRUUCBhZGFwdGVyXG4gICAgYWRhcHRlciA9IHJlcXVpcmUoJy4vYWRhcHRlcnMvaHR0cCcpO1xuICB9XG4gIHJldHVybiBhZGFwdGVyO1xufVxuXG52YXIgZGVmYXVsdHMgPSB7XG4gIGFkYXB0ZXI6IGdldERlZmF1bHRBZGFwdGVyKCksXG5cbiAgdHJhbnNmb3JtUmVxdWVzdDogW2Z1bmN0aW9uIHRyYW5zZm9ybVJlcXVlc3QoZGF0YSwgaGVhZGVycykge1xuICAgIG5vcm1hbGl6ZUhlYWRlck5hbWUoaGVhZGVycywgJ0NvbnRlbnQtVHlwZScpO1xuICAgIGlmICh1dGlscy5pc0Zvcm1EYXRhKGRhdGEpIHx8XG4gICAgICB1dGlscy5pc0FycmF5QnVmZmVyKGRhdGEpIHx8XG4gICAgICB1dGlscy5pc0J1ZmZlcihkYXRhKSB8fFxuICAgICAgdXRpbHMuaXNTdHJlYW0oZGF0YSkgfHxcbiAgICAgIHV0aWxzLmlzRmlsZShkYXRhKSB8fFxuICAgICAgdXRpbHMuaXNCbG9iKGRhdGEpXG4gICAgKSB7XG4gICAgICByZXR1cm4gZGF0YTtcbiAgICB9XG4gICAgaWYgKHV0aWxzLmlzQXJyYXlCdWZmZXJWaWV3KGRhdGEpKSB7XG4gICAgICByZXR1cm4gZGF0YS5idWZmZXI7XG4gICAgfVxuICAgIGlmICh1dGlscy5pc1VSTFNlYXJjaFBhcmFtcyhkYXRhKSkge1xuICAgICAgc2V0Q29udGVudFR5cGVJZlVuc2V0KGhlYWRlcnMsICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7Y2hhcnNldD11dGYtOCcpO1xuICAgICAgcmV0dXJuIGRhdGEudG9TdHJpbmcoKTtcbiAgICB9XG4gICAgaWYgKHV0aWxzLmlzT2JqZWN0KGRhdGEpKSB7XG4gICAgICBzZXRDb250ZW50VHlwZUlmVW5zZXQoaGVhZGVycywgJ2FwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtOCcpO1xuICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KGRhdGEpO1xuICAgIH1cbiAgICByZXR1cm4gZGF0YTtcbiAgfV0sXG5cbiAgdHJhbnNmb3JtUmVzcG9uc2U6IFtmdW5jdGlvbiB0cmFuc2Zvcm1SZXNwb25zZShkYXRhKSB7XG4gICAgLyplc2xpbnQgbm8tcGFyYW0tcmVhc3NpZ246MCovXG4gICAgaWYgKHR5cGVvZiBkYXRhID09PSAnc3RyaW5nJykge1xuICAgICAgdHJ5IHtcbiAgICAgICAgZGF0YSA9IEpTT04ucGFyc2UoZGF0YSk7XG4gICAgICB9IGNhdGNoIChlKSB7IC8qIElnbm9yZSAqLyB9XG4gICAgfVxuICAgIHJldHVybiBkYXRhO1xuICB9XSxcblxuICAvKipcbiAgICogQSB0aW1lb3V0IGluIG1pbGxpc2Vjb25kcyB0byBhYm9ydCBhIHJlcXVlc3QuIElmIHNldCB0byAwIChkZWZhdWx0KSBhXG4gICAqIHRpbWVvdXQgaXMgbm90IGNyZWF0ZWQuXG4gICAqL1xuICB0aW1lb3V0OiAwLFxuXG4gIHhzcmZDb29raWVOYW1lOiAnWFNSRi1UT0tFTicsXG4gIHhzcmZIZWFkZXJOYW1lOiAnWC1YU1JGLVRPS0VOJyxcblxuICBtYXhDb250ZW50TGVuZ3RoOiAtMSxcblxuICB2YWxpZGF0ZVN0YXR1czogZnVuY3Rpb24gdmFsaWRhdGVTdGF0dXMoc3RhdHVzKSB7XG4gICAgcmV0dXJuIHN0YXR1cyA+PSAyMDAgJiYgc3RhdHVzIDwgMzAwO1xuICB9XG59O1xuXG5kZWZhdWx0cy5oZWFkZXJzID0ge1xuICBjb21tb246IHtcbiAgICAnQWNjZXB0JzogJ2FwcGxpY2F0aW9uL2pzb24sIHRleHQvcGxhaW4sICovKidcbiAgfVxufTtcblxudXRpbHMuZm9yRWFjaChbJ2RlbGV0ZScsICdnZXQnLCAnaGVhZCddLCBmdW5jdGlvbiBmb3JFYWNoTWV0aG9kTm9EYXRhKG1ldGhvZCkge1xuICBkZWZhdWx0cy5oZWFkZXJzW21ldGhvZF0gPSB7fTtcbn0pO1xuXG51dGlscy5mb3JFYWNoKFsncG9zdCcsICdwdXQnLCAncGF0Y2gnXSwgZnVuY3Rpb24gZm9yRWFjaE1ldGhvZFdpdGhEYXRhKG1ldGhvZCkge1xuICBkZWZhdWx0cy5oZWFkZXJzW21ldGhvZF0gPSB1dGlscy5tZXJnZShERUZBVUxUX0NPTlRFTlRfVFlQRSk7XG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBkZWZhdWx0cztcbiIsIi8qIVxuXHRhdXRvc2l6ZSA0LjAuMlxuXHRsaWNlbnNlOiBNSVRcblx0aHR0cDovL3d3dy5qYWNrbG1vb3JlLmNvbS9hdXRvc2l6ZVxuKi9cbihmdW5jdGlvbiAoZ2xvYmFsLCBmYWN0b3J5KSB7XG5cdGlmICh0eXBlb2YgZGVmaW5lID09PSBcImZ1bmN0aW9uXCIgJiYgZGVmaW5lLmFtZCkge1xuXHRcdGRlZmluZShbJ21vZHVsZScsICdleHBvcnRzJ10sIGZhY3RvcnkpO1xuXHR9IGVsc2UgaWYgKHR5cGVvZiBleHBvcnRzICE9PSBcInVuZGVmaW5lZFwiKSB7XG5cdFx0ZmFjdG9yeShtb2R1bGUsIGV4cG9ydHMpO1xuXHR9IGVsc2Uge1xuXHRcdHZhciBtb2QgPSB7XG5cdFx0XHRleHBvcnRzOiB7fVxuXHRcdH07XG5cdFx0ZmFjdG9yeShtb2QsIG1vZC5leHBvcnRzKTtcblx0XHRnbG9iYWwuYXV0b3NpemUgPSBtb2QuZXhwb3J0cztcblx0fVxufSkodGhpcywgZnVuY3Rpb24gKG1vZHVsZSwgZXhwb3J0cykge1xuXHQndXNlIHN0cmljdCc7XG5cblx0dmFyIG1hcCA9IHR5cGVvZiBNYXAgPT09IFwiZnVuY3Rpb25cIiA/IG5ldyBNYXAoKSA6IGZ1bmN0aW9uICgpIHtcblx0XHR2YXIga2V5cyA9IFtdO1xuXHRcdHZhciB2YWx1ZXMgPSBbXTtcblxuXHRcdHJldHVybiB7XG5cdFx0XHRoYXM6IGZ1bmN0aW9uIGhhcyhrZXkpIHtcblx0XHRcdFx0cmV0dXJuIGtleXMuaW5kZXhPZihrZXkpID4gLTE7XG5cdFx0XHR9LFxuXHRcdFx0Z2V0OiBmdW5jdGlvbiBnZXQoa2V5KSB7XG5cdFx0XHRcdHJldHVybiB2YWx1ZXNba2V5cy5pbmRleE9mKGtleSldO1xuXHRcdFx0fSxcblx0XHRcdHNldDogZnVuY3Rpb24gc2V0KGtleSwgdmFsdWUpIHtcblx0XHRcdFx0aWYgKGtleXMuaW5kZXhPZihrZXkpID09PSAtMSkge1xuXHRcdFx0XHRcdGtleXMucHVzaChrZXkpO1xuXHRcdFx0XHRcdHZhbHVlcy5wdXNoKHZhbHVlKTtcblx0XHRcdFx0fVxuXHRcdFx0fSxcblx0XHRcdGRlbGV0ZTogZnVuY3Rpb24gX2RlbGV0ZShrZXkpIHtcblx0XHRcdFx0dmFyIGluZGV4ID0ga2V5cy5pbmRleE9mKGtleSk7XG5cdFx0XHRcdGlmIChpbmRleCA+IC0xKSB7XG5cdFx0XHRcdFx0a2V5cy5zcGxpY2UoaW5kZXgsIDEpO1xuXHRcdFx0XHRcdHZhbHVlcy5zcGxpY2UoaW5kZXgsIDEpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fTtcblx0fSgpO1xuXG5cdHZhciBjcmVhdGVFdmVudCA9IGZ1bmN0aW9uIGNyZWF0ZUV2ZW50KG5hbWUpIHtcblx0XHRyZXR1cm4gbmV3IEV2ZW50KG5hbWUsIHsgYnViYmxlczogdHJ1ZSB9KTtcblx0fTtcblx0dHJ5IHtcblx0XHRuZXcgRXZlbnQoJ3Rlc3QnKTtcblx0fSBjYXRjaCAoZSkge1xuXHRcdC8vIElFIGRvZXMgbm90IHN1cHBvcnQgYG5ldyBFdmVudCgpYFxuXHRcdGNyZWF0ZUV2ZW50ID0gZnVuY3Rpb24gY3JlYXRlRXZlbnQobmFtZSkge1xuXHRcdFx0dmFyIGV2dCA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50KCdFdmVudCcpO1xuXHRcdFx0ZXZ0LmluaXRFdmVudChuYW1lLCB0cnVlLCBmYWxzZSk7XG5cdFx0XHRyZXR1cm4gZXZ0O1xuXHRcdH07XG5cdH1cblxuXHRmdW5jdGlvbiBhc3NpZ24odGEpIHtcblx0XHRpZiAoIXRhIHx8ICF0YS5ub2RlTmFtZSB8fCB0YS5ub2RlTmFtZSAhPT0gJ1RFWFRBUkVBJyB8fCBtYXAuaGFzKHRhKSkgcmV0dXJuO1xuXG5cdFx0dmFyIGhlaWdodE9mZnNldCA9IG51bGw7XG5cdFx0dmFyIGNsaWVudFdpZHRoID0gbnVsbDtcblx0XHR2YXIgY2FjaGVkSGVpZ2h0ID0gbnVsbDtcblxuXHRcdGZ1bmN0aW9uIGluaXQoKSB7XG5cdFx0XHR2YXIgc3R5bGUgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSh0YSwgbnVsbCk7XG5cblx0XHRcdGlmIChzdHlsZS5yZXNpemUgPT09ICd2ZXJ0aWNhbCcpIHtcblx0XHRcdFx0dGEuc3R5bGUucmVzaXplID0gJ25vbmUnO1xuXHRcdFx0fSBlbHNlIGlmIChzdHlsZS5yZXNpemUgPT09ICdib3RoJykge1xuXHRcdFx0XHR0YS5zdHlsZS5yZXNpemUgPSAnaG9yaXpvbnRhbCc7XG5cdFx0XHR9XG5cblx0XHRcdGlmIChzdHlsZS5ib3hTaXppbmcgPT09ICdjb250ZW50LWJveCcpIHtcblx0XHRcdFx0aGVpZ2h0T2Zmc2V0ID0gLShwYXJzZUZsb2F0KHN0eWxlLnBhZGRpbmdUb3ApICsgcGFyc2VGbG9hdChzdHlsZS5wYWRkaW5nQm90dG9tKSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRoZWlnaHRPZmZzZXQgPSBwYXJzZUZsb2F0KHN0eWxlLmJvcmRlclRvcFdpZHRoKSArIHBhcnNlRmxvYXQoc3R5bGUuYm9yZGVyQm90dG9tV2lkdGgpO1xuXHRcdFx0fVxuXHRcdFx0Ly8gRml4IHdoZW4gYSB0ZXh0YXJlYSBpcyBub3Qgb24gZG9jdW1lbnQgYm9keSBhbmQgaGVpZ2h0T2Zmc2V0IGlzIE5vdCBhIE51bWJlclxuXHRcdFx0aWYgKGlzTmFOKGhlaWdodE9mZnNldCkpIHtcblx0XHRcdFx0aGVpZ2h0T2Zmc2V0ID0gMDtcblx0XHRcdH1cblxuXHRcdFx0dXBkYXRlKCk7XG5cdFx0fVxuXG5cdFx0ZnVuY3Rpb24gY2hhbmdlT3ZlcmZsb3codmFsdWUpIHtcblx0XHRcdHtcblx0XHRcdFx0Ly8gQ2hyb21lL1NhZmFyaS1zcGVjaWZpYyBmaXg6XG5cdFx0XHRcdC8vIFdoZW4gdGhlIHRleHRhcmVhIHktb3ZlcmZsb3cgaXMgaGlkZGVuLCBDaHJvbWUvU2FmYXJpIGRvIG5vdCByZWZsb3cgdGhlIHRleHQgdG8gYWNjb3VudCBmb3IgdGhlIHNwYWNlXG5cdFx0XHRcdC8vIG1hZGUgYXZhaWxhYmxlIGJ5IHJlbW92aW5nIHRoZSBzY3JvbGxiYXIuIFRoZSBmb2xsb3dpbmcgZm9yY2VzIHRoZSBuZWNlc3NhcnkgdGV4dCByZWZsb3cuXG5cdFx0XHRcdHZhciB3aWR0aCA9IHRhLnN0eWxlLndpZHRoO1xuXHRcdFx0XHR0YS5zdHlsZS53aWR0aCA9ICcwcHgnO1xuXHRcdFx0XHQvLyBGb3JjZSByZWZsb3c6XG5cdFx0XHRcdC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cblx0XHRcdFx0dGEub2Zmc2V0V2lkdGg7XG5cdFx0XHRcdC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG5cdFx0XHRcdHRhLnN0eWxlLndpZHRoID0gd2lkdGg7XG5cdFx0XHR9XG5cblx0XHRcdHRhLnN0eWxlLm92ZXJmbG93WSA9IHZhbHVlO1xuXHRcdH1cblxuXHRcdGZ1bmN0aW9uIGdldFBhcmVudE92ZXJmbG93cyhlbCkge1xuXHRcdFx0dmFyIGFyciA9IFtdO1xuXG5cdFx0XHR3aGlsZSAoZWwgJiYgZWwucGFyZW50Tm9kZSAmJiBlbC5wYXJlbnROb2RlIGluc3RhbmNlb2YgRWxlbWVudCkge1xuXHRcdFx0XHRpZiAoZWwucGFyZW50Tm9kZS5zY3JvbGxUb3ApIHtcblx0XHRcdFx0XHRhcnIucHVzaCh7XG5cdFx0XHRcdFx0XHRub2RlOiBlbC5wYXJlbnROb2RlLFxuXHRcdFx0XHRcdFx0c2Nyb2xsVG9wOiBlbC5wYXJlbnROb2RlLnNjcm9sbFRvcFxuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGVsID0gZWwucGFyZW50Tm9kZTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIGFycjtcblx0XHR9XG5cblx0XHRmdW5jdGlvbiByZXNpemUoKSB7XG5cdFx0XHRpZiAodGEuc2Nyb2xsSGVpZ2h0ID09PSAwKSB7XG5cdFx0XHRcdC8vIElmIHRoZSBzY3JvbGxIZWlnaHQgaXMgMCwgdGhlbiB0aGUgZWxlbWVudCBwcm9iYWJseSBoYXMgZGlzcGxheTpub25lIG9yIGlzIGRldGFjaGVkIGZyb20gdGhlIERPTS5cblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHR2YXIgb3ZlcmZsb3dzID0gZ2V0UGFyZW50T3ZlcmZsb3dzKHRhKTtcblx0XHRcdHZhciBkb2NUb3AgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQgJiYgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcDsgLy8gTmVlZGVkIGZvciBNb2JpbGUgSUUgKHRpY2tldCAjMjQwKVxuXG5cdFx0XHR0YS5zdHlsZS5oZWlnaHQgPSAnJztcblx0XHRcdHRhLnN0eWxlLmhlaWdodCA9IHRhLnNjcm9sbEhlaWdodCArIGhlaWdodE9mZnNldCArICdweCc7XG5cblx0XHRcdC8vIHVzZWQgdG8gY2hlY2sgaWYgYW4gdXBkYXRlIGlzIGFjdHVhbGx5IG5lY2Vzc2FyeSBvbiB3aW5kb3cucmVzaXplXG5cdFx0XHRjbGllbnRXaWR0aCA9IHRhLmNsaWVudFdpZHRoO1xuXG5cdFx0XHQvLyBwcmV2ZW50cyBzY3JvbGwtcG9zaXRpb24ganVtcGluZ1xuXHRcdFx0b3ZlcmZsb3dzLmZvckVhY2goZnVuY3Rpb24gKGVsKSB7XG5cdFx0XHRcdGVsLm5vZGUuc2Nyb2xsVG9wID0gZWwuc2Nyb2xsVG9wO1xuXHRcdFx0fSk7XG5cblx0XHRcdGlmIChkb2NUb3ApIHtcblx0XHRcdFx0ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCA9IGRvY1RvcDtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRmdW5jdGlvbiB1cGRhdGUoKSB7XG5cdFx0XHRyZXNpemUoKTtcblxuXHRcdFx0dmFyIHN0eWxlSGVpZ2h0ID0gTWF0aC5yb3VuZChwYXJzZUZsb2F0KHRhLnN0eWxlLmhlaWdodCkpO1xuXHRcdFx0dmFyIGNvbXB1dGVkID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUodGEsIG51bGwpO1xuXG5cdFx0XHQvLyBVc2luZyBvZmZzZXRIZWlnaHQgYXMgYSByZXBsYWNlbWVudCBmb3IgY29tcHV0ZWQuaGVpZ2h0IGluIElFLCBiZWNhdXNlIElFIGRvZXMgbm90IGFjY291bnQgdXNlIG9mIGJvcmRlci1ib3hcblx0XHRcdHZhciBhY3R1YWxIZWlnaHQgPSBjb21wdXRlZC5ib3hTaXppbmcgPT09ICdjb250ZW50LWJveCcgPyBNYXRoLnJvdW5kKHBhcnNlRmxvYXQoY29tcHV0ZWQuaGVpZ2h0KSkgOiB0YS5vZmZzZXRIZWlnaHQ7XG5cblx0XHRcdC8vIFRoZSBhY3R1YWwgaGVpZ2h0IG5vdCBtYXRjaGluZyB0aGUgc3R5bGUgaGVpZ2h0IChzZXQgdmlhIHRoZSByZXNpemUgbWV0aG9kKSBpbmRpY2F0ZXMgdGhhdCBcblx0XHRcdC8vIHRoZSBtYXgtaGVpZ2h0IGhhcyBiZWVuIGV4Y2VlZGVkLCBpbiB3aGljaCBjYXNlIHRoZSBvdmVyZmxvdyBzaG91bGQgYmUgYWxsb3dlZC5cblx0XHRcdGlmIChhY3R1YWxIZWlnaHQgPCBzdHlsZUhlaWdodCkge1xuXHRcdFx0XHRpZiAoY29tcHV0ZWQub3ZlcmZsb3dZID09PSAnaGlkZGVuJykge1xuXHRcdFx0XHRcdGNoYW5nZU92ZXJmbG93KCdzY3JvbGwnKTtcblx0XHRcdFx0XHRyZXNpemUoKTtcblx0XHRcdFx0XHRhY3R1YWxIZWlnaHQgPSBjb21wdXRlZC5ib3hTaXppbmcgPT09ICdjb250ZW50LWJveCcgPyBNYXRoLnJvdW5kKHBhcnNlRmxvYXQod2luZG93LmdldENvbXB1dGVkU3R5bGUodGEsIG51bGwpLmhlaWdodCkpIDogdGEub2Zmc2V0SGVpZ2h0O1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHQvLyBOb3JtYWxseSBrZWVwIG92ZXJmbG93IHNldCB0byBoaWRkZW4sIHRvIGF2b2lkIGZsYXNoIG9mIHNjcm9sbGJhciBhcyB0aGUgdGV4dGFyZWEgZXhwYW5kcy5cblx0XHRcdFx0aWYgKGNvbXB1dGVkLm92ZXJmbG93WSAhPT0gJ2hpZGRlbicpIHtcblx0XHRcdFx0XHRjaGFuZ2VPdmVyZmxvdygnaGlkZGVuJyk7XG5cdFx0XHRcdFx0cmVzaXplKCk7XG5cdFx0XHRcdFx0YWN0dWFsSGVpZ2h0ID0gY29tcHV0ZWQuYm94U2l6aW5nID09PSAnY29udGVudC1ib3gnID8gTWF0aC5yb3VuZChwYXJzZUZsb2F0KHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHRhLCBudWxsKS5oZWlnaHQpKSA6IHRhLm9mZnNldEhlaWdodDtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRpZiAoY2FjaGVkSGVpZ2h0ICE9PSBhY3R1YWxIZWlnaHQpIHtcblx0XHRcdFx0Y2FjaGVkSGVpZ2h0ID0gYWN0dWFsSGVpZ2h0O1xuXHRcdFx0XHR2YXIgZXZ0ID0gY3JlYXRlRXZlbnQoJ2F1dG9zaXplOnJlc2l6ZWQnKTtcblx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHR0YS5kaXNwYXRjaEV2ZW50KGV2dCk7XG5cdFx0XHRcdH0gY2F0Y2ggKGVycikge1xuXHRcdFx0XHRcdC8vIEZpcmVmb3ggd2lsbCB0aHJvdyBhbiBlcnJvciBvbiBkaXNwYXRjaEV2ZW50IGZvciBhIGRldGFjaGVkIGVsZW1lbnRcblx0XHRcdFx0XHQvLyBodHRwczovL2J1Z3ppbGxhLm1vemlsbGEub3JnL3Nob3dfYnVnLmNnaT9pZD04ODkzNzZcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHZhciBwYWdlUmVzaXplID0gZnVuY3Rpb24gcGFnZVJlc2l6ZSgpIHtcblx0XHRcdGlmICh0YS5jbGllbnRXaWR0aCAhPT0gY2xpZW50V2lkdGgpIHtcblx0XHRcdFx0dXBkYXRlKCk7XG5cdFx0XHR9XG5cdFx0fTtcblxuXHRcdHZhciBkZXN0cm95ID0gZnVuY3Rpb24gKHN0eWxlKSB7XG5cdFx0XHR3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVzaXplJywgcGFnZVJlc2l6ZSwgZmFsc2UpO1xuXHRcdFx0dGEucmVtb3ZlRXZlbnRMaXN0ZW5lcignaW5wdXQnLCB1cGRhdGUsIGZhbHNlKTtcblx0XHRcdHRhLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleXVwJywgdXBkYXRlLCBmYWxzZSk7XG5cdFx0XHR0YS5yZW1vdmVFdmVudExpc3RlbmVyKCdhdXRvc2l6ZTpkZXN0cm95JywgZGVzdHJveSwgZmFsc2UpO1xuXHRcdFx0dGEucmVtb3ZlRXZlbnRMaXN0ZW5lcignYXV0b3NpemU6dXBkYXRlJywgdXBkYXRlLCBmYWxzZSk7XG5cblx0XHRcdE9iamVjdC5rZXlzKHN0eWxlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcblx0XHRcdFx0dGEuc3R5bGVba2V5XSA9IHN0eWxlW2tleV07XG5cdFx0XHR9KTtcblxuXHRcdFx0bWFwLmRlbGV0ZSh0YSk7XG5cdFx0fS5iaW5kKHRhLCB7XG5cdFx0XHRoZWlnaHQ6IHRhLnN0eWxlLmhlaWdodCxcblx0XHRcdHJlc2l6ZTogdGEuc3R5bGUucmVzaXplLFxuXHRcdFx0b3ZlcmZsb3dZOiB0YS5zdHlsZS5vdmVyZmxvd1ksXG5cdFx0XHRvdmVyZmxvd1g6IHRhLnN0eWxlLm92ZXJmbG93WCxcblx0XHRcdHdvcmRXcmFwOiB0YS5zdHlsZS53b3JkV3JhcFxuXHRcdH0pO1xuXG5cdFx0dGEuYWRkRXZlbnRMaXN0ZW5lcignYXV0b3NpemU6ZGVzdHJveScsIGRlc3Ryb3ksIGZhbHNlKTtcblxuXHRcdC8vIElFOSBkb2VzIG5vdCBmaXJlIG9ucHJvcGVydHljaGFuZ2Ugb3Igb25pbnB1dCBmb3IgZGVsZXRpb25zLFxuXHRcdC8vIHNvIGJpbmRpbmcgdG8gb25rZXl1cCB0byBjYXRjaCBtb3N0IG9mIHRob3NlIGV2ZW50cy5cblx0XHQvLyBUaGVyZSBpcyBubyB3YXkgdGhhdCBJIGtub3cgb2YgdG8gZGV0ZWN0IHNvbWV0aGluZyBsaWtlICdjdXQnIGluIElFOS5cblx0XHRpZiAoJ29ucHJvcGVydHljaGFuZ2UnIGluIHRhICYmICdvbmlucHV0JyBpbiB0YSkge1xuXHRcdFx0dGEuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCB1cGRhdGUsIGZhbHNlKTtcblx0XHR9XG5cblx0XHR3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgcGFnZVJlc2l6ZSwgZmFsc2UpO1xuXHRcdHRhLmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgdXBkYXRlLCBmYWxzZSk7XG5cdFx0dGEuYWRkRXZlbnRMaXN0ZW5lcignYXV0b3NpemU6dXBkYXRlJywgdXBkYXRlLCBmYWxzZSk7XG5cdFx0dGEuc3R5bGUub3ZlcmZsb3dYID0gJ2hpZGRlbic7XG5cdFx0dGEuc3R5bGUud29yZFdyYXAgPSAnYnJlYWstd29yZCc7XG5cblx0XHRtYXAuc2V0KHRhLCB7XG5cdFx0XHRkZXN0cm95OiBkZXN0cm95LFxuXHRcdFx0dXBkYXRlOiB1cGRhdGVcblx0XHR9KTtcblxuXHRcdGluaXQoKTtcblx0fVxuXG5cdGZ1bmN0aW9uIGRlc3Ryb3kodGEpIHtcblx0XHR2YXIgbWV0aG9kcyA9IG1hcC5nZXQodGEpO1xuXHRcdGlmIChtZXRob2RzKSB7XG5cdFx0XHRtZXRob2RzLmRlc3Ryb3koKTtcblx0XHR9XG5cdH1cblxuXHRmdW5jdGlvbiB1cGRhdGUodGEpIHtcblx0XHR2YXIgbWV0aG9kcyA9IG1hcC5nZXQodGEpO1xuXHRcdGlmIChtZXRob2RzKSB7XG5cdFx0XHRtZXRob2RzLnVwZGF0ZSgpO1xuXHRcdH1cblx0fVxuXG5cdHZhciBhdXRvc2l6ZSA9IG51bGw7XG5cblx0Ly8gRG8gbm90aGluZyBpbiBOb2RlLmpzIGVudmlyb25tZW50IGFuZCBJRTggKG9yIGxvd2VyKVxuXHRpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcgfHwgdHlwZW9mIHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlICE9PSAnZnVuY3Rpb24nKSB7XG5cdFx0YXV0b3NpemUgPSBmdW5jdGlvbiBhdXRvc2l6ZShlbCkge1xuXHRcdFx0cmV0dXJuIGVsO1xuXHRcdH07XG5cdFx0YXV0b3NpemUuZGVzdHJveSA9IGZ1bmN0aW9uIChlbCkge1xuXHRcdFx0cmV0dXJuIGVsO1xuXHRcdH07XG5cdFx0YXV0b3NpemUudXBkYXRlID0gZnVuY3Rpb24gKGVsKSB7XG5cdFx0XHRyZXR1cm4gZWw7XG5cdFx0fTtcblx0fSBlbHNlIHtcblx0XHRhdXRvc2l6ZSA9IGZ1bmN0aW9uIGF1dG9zaXplKGVsLCBvcHRpb25zKSB7XG5cdFx0XHRpZiAoZWwpIHtcblx0XHRcdFx0QXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbChlbC5sZW5ndGggPyBlbCA6IFtlbF0sIGZ1bmN0aW9uICh4KSB7XG5cdFx0XHRcdFx0cmV0dXJuIGFzc2lnbih4LCBvcHRpb25zKTtcblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gZWw7XG5cdFx0fTtcblx0XHRhdXRvc2l6ZS5kZXN0cm95ID0gZnVuY3Rpb24gKGVsKSB7XG5cdFx0XHRpZiAoZWwpIHtcblx0XHRcdFx0QXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbChlbC5sZW5ndGggPyBlbCA6IFtlbF0sIGRlc3Ryb3kpO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIGVsO1xuXHRcdH07XG5cdFx0YXV0b3NpemUudXBkYXRlID0gZnVuY3Rpb24gKGVsKSB7XG5cdFx0XHRpZiAoZWwpIHtcblx0XHRcdFx0QXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbChlbC5sZW5ndGggPyBlbCA6IFtlbF0sIHVwZGF0ZSk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gZWw7XG5cdFx0fTtcblx0fVxuXG5cdGV4cG9ydHMuZGVmYXVsdCA9IGF1dG9zaXplO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcbn0pOyIsIid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBiaW5kKGZuLCB0aGlzQXJnKSB7XG4gIHJldHVybiBmdW5jdGlvbiB3cmFwKCkge1xuICAgIHZhciBhcmdzID0gbmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGgpO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJncy5sZW5ndGg7IGkrKykge1xuICAgICAgYXJnc1tpXSA9IGFyZ3VtZW50c1tpXTtcbiAgICB9XG4gICAgcmV0dXJuIGZuLmFwcGx5KHRoaXNBcmcsIGFyZ3MpO1xuICB9O1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi8uLi91dGlscycpO1xudmFyIHNldHRsZSA9IHJlcXVpcmUoJy4vLi4vY29yZS9zZXR0bGUnKTtcbnZhciBidWlsZFVSTCA9IHJlcXVpcmUoJy4vLi4vaGVscGVycy9idWlsZFVSTCcpO1xudmFyIHBhcnNlSGVhZGVycyA9IHJlcXVpcmUoJy4vLi4vaGVscGVycy9wYXJzZUhlYWRlcnMnKTtcbnZhciBpc1VSTFNhbWVPcmlnaW4gPSByZXF1aXJlKCcuLy4uL2hlbHBlcnMvaXNVUkxTYW1lT3JpZ2luJyk7XG52YXIgY3JlYXRlRXJyb3IgPSByZXF1aXJlKCcuLi9jb3JlL2NyZWF0ZUVycm9yJyk7XG52YXIgYnRvYSA9ICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cuYnRvYSAmJiB3aW5kb3cuYnRvYS5iaW5kKHdpbmRvdykpIHx8IHJlcXVpcmUoJy4vLi4vaGVscGVycy9idG9hJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24geGhyQWRhcHRlcihjb25maWcpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIGRpc3BhdGNoWGhyUmVxdWVzdChyZXNvbHZlLCByZWplY3QpIHtcbiAgICB2YXIgcmVxdWVzdERhdGEgPSBjb25maWcuZGF0YTtcbiAgICB2YXIgcmVxdWVzdEhlYWRlcnMgPSBjb25maWcuaGVhZGVycztcblxuICAgIGlmICh1dGlscy5pc0Zvcm1EYXRhKHJlcXVlc3REYXRhKSkge1xuICAgICAgZGVsZXRlIHJlcXVlc3RIZWFkZXJzWydDb250ZW50LVR5cGUnXTsgLy8gTGV0IHRoZSBicm93c2VyIHNldCBpdFxuICAgIH1cblxuICAgIHZhciByZXF1ZXN0ID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gICAgdmFyIGxvYWRFdmVudCA9ICdvbnJlYWR5c3RhdGVjaGFuZ2UnO1xuICAgIHZhciB4RG9tYWluID0gZmFsc2U7XG5cbiAgICAvLyBGb3IgSUUgOC85IENPUlMgc3VwcG9ydFxuICAgIC8vIE9ubHkgc3VwcG9ydHMgUE9TVCBhbmQgR0VUIGNhbGxzIGFuZCBkb2Vzbid0IHJldHVybnMgdGhlIHJlc3BvbnNlIGhlYWRlcnMuXG4gICAgLy8gRE9OJ1QgZG8gdGhpcyBmb3IgdGVzdGluZyBiL2MgWE1MSHR0cFJlcXVlc3QgaXMgbW9ja2VkLCBub3QgWERvbWFpblJlcXVlc3QuXG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAndGVzdCcgJiZcbiAgICAgICAgdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAgICAgd2luZG93LlhEb21haW5SZXF1ZXN0ICYmICEoJ3dpdGhDcmVkZW50aWFscycgaW4gcmVxdWVzdCkgJiZcbiAgICAgICAgIWlzVVJMU2FtZU9yaWdpbihjb25maWcudXJsKSkge1xuICAgICAgcmVxdWVzdCA9IG5ldyB3aW5kb3cuWERvbWFpblJlcXVlc3QoKTtcbiAgICAgIGxvYWRFdmVudCA9ICdvbmxvYWQnO1xuICAgICAgeERvbWFpbiA9IHRydWU7XG4gICAgICByZXF1ZXN0Lm9ucHJvZ3Jlc3MgPSBmdW5jdGlvbiBoYW5kbGVQcm9ncmVzcygpIHt9O1xuICAgICAgcmVxdWVzdC5vbnRpbWVvdXQgPSBmdW5jdGlvbiBoYW5kbGVUaW1lb3V0KCkge307XG4gICAgfVxuXG4gICAgLy8gSFRUUCBiYXNpYyBhdXRoZW50aWNhdGlvblxuICAgIGlmIChjb25maWcuYXV0aCkge1xuICAgICAgdmFyIHVzZXJuYW1lID0gY29uZmlnLmF1dGgudXNlcm5hbWUgfHwgJyc7XG4gICAgICB2YXIgcGFzc3dvcmQgPSBjb25maWcuYXV0aC5wYXNzd29yZCB8fCAnJztcbiAgICAgIHJlcXVlc3RIZWFkZXJzLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArIGJ0b2EodXNlcm5hbWUgKyAnOicgKyBwYXNzd29yZCk7XG4gICAgfVxuXG4gICAgcmVxdWVzdC5vcGVuKGNvbmZpZy5tZXRob2QudG9VcHBlckNhc2UoKSwgYnVpbGRVUkwoY29uZmlnLnVybCwgY29uZmlnLnBhcmFtcywgY29uZmlnLnBhcmFtc1NlcmlhbGl6ZXIpLCB0cnVlKTtcblxuICAgIC8vIFNldCB0aGUgcmVxdWVzdCB0aW1lb3V0IGluIE1TXG4gICAgcmVxdWVzdC50aW1lb3V0ID0gY29uZmlnLnRpbWVvdXQ7XG5cbiAgICAvLyBMaXN0ZW4gZm9yIHJlYWR5IHN0YXRlXG4gICAgcmVxdWVzdFtsb2FkRXZlbnRdID0gZnVuY3Rpb24gaGFuZGxlTG9hZCgpIHtcbiAgICAgIGlmICghcmVxdWVzdCB8fCAocmVxdWVzdC5yZWFkeVN0YXRlICE9PSA0ICYmICF4RG9tYWluKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIFRoZSByZXF1ZXN0IGVycm9yZWQgb3V0IGFuZCB3ZSBkaWRuJ3QgZ2V0IGEgcmVzcG9uc2UsIHRoaXMgd2lsbCBiZVxuICAgICAgLy8gaGFuZGxlZCBieSBvbmVycm9yIGluc3RlYWRcbiAgICAgIC8vIFdpdGggb25lIGV4Y2VwdGlvbjogcmVxdWVzdCB0aGF0IHVzaW5nIGZpbGU6IHByb3RvY29sLCBtb3N0IGJyb3dzZXJzXG4gICAgICAvLyB3aWxsIHJldHVybiBzdGF0dXMgYXMgMCBldmVuIHRob3VnaCBpdCdzIGEgc3VjY2Vzc2Z1bCByZXF1ZXN0XG4gICAgICBpZiAocmVxdWVzdC5zdGF0dXMgPT09IDAgJiYgIShyZXF1ZXN0LnJlc3BvbnNlVVJMICYmIHJlcXVlc3QucmVzcG9uc2VVUkwuaW5kZXhPZignZmlsZTonKSA9PT0gMCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyBQcmVwYXJlIHRoZSByZXNwb25zZVxuICAgICAgdmFyIHJlc3BvbnNlSGVhZGVycyA9ICdnZXRBbGxSZXNwb25zZUhlYWRlcnMnIGluIHJlcXVlc3QgPyBwYXJzZUhlYWRlcnMocmVxdWVzdC5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKSkgOiBudWxsO1xuICAgICAgdmFyIHJlc3BvbnNlRGF0YSA9ICFjb25maWcucmVzcG9uc2VUeXBlIHx8IGNvbmZpZy5yZXNwb25zZVR5cGUgPT09ICd0ZXh0JyA/IHJlcXVlc3QucmVzcG9uc2VUZXh0IDogcmVxdWVzdC5yZXNwb25zZTtcbiAgICAgIHZhciByZXNwb25zZSA9IHtcbiAgICAgICAgZGF0YTogcmVzcG9uc2VEYXRhLFxuICAgICAgICAvLyBJRSBzZW5kcyAxMjIzIGluc3RlYWQgb2YgMjA0IChodHRwczovL2dpdGh1Yi5jb20vYXhpb3MvYXhpb3MvaXNzdWVzLzIwMSlcbiAgICAgICAgc3RhdHVzOiByZXF1ZXN0LnN0YXR1cyA9PT0gMTIyMyA/IDIwNCA6IHJlcXVlc3Quc3RhdHVzLFxuICAgICAgICBzdGF0dXNUZXh0OiByZXF1ZXN0LnN0YXR1cyA9PT0gMTIyMyA/ICdObyBDb250ZW50JyA6IHJlcXVlc3Quc3RhdHVzVGV4dCxcbiAgICAgICAgaGVhZGVyczogcmVzcG9uc2VIZWFkZXJzLFxuICAgICAgICBjb25maWc6IGNvbmZpZyxcbiAgICAgICAgcmVxdWVzdDogcmVxdWVzdFxuICAgICAgfTtcblxuICAgICAgc2V0dGxlKHJlc29sdmUsIHJlamVjdCwgcmVzcG9uc2UpO1xuXG4gICAgICAvLyBDbGVhbiB1cCByZXF1ZXN0XG4gICAgICByZXF1ZXN0ID0gbnVsbDtcbiAgICB9O1xuXG4gICAgLy8gSGFuZGxlIGxvdyBsZXZlbCBuZXR3b3JrIGVycm9yc1xuICAgIHJlcXVlc3Qub25lcnJvciA9IGZ1bmN0aW9uIGhhbmRsZUVycm9yKCkge1xuICAgICAgLy8gUmVhbCBlcnJvcnMgYXJlIGhpZGRlbiBmcm9tIHVzIGJ5IHRoZSBicm93c2VyXG4gICAgICAvLyBvbmVycm9yIHNob3VsZCBvbmx5IGZpcmUgaWYgaXQncyBhIG5ldHdvcmsgZXJyb3JcbiAgICAgIHJlamVjdChjcmVhdGVFcnJvcignTmV0d29yayBFcnJvcicsIGNvbmZpZywgbnVsbCwgcmVxdWVzdCkpO1xuXG4gICAgICAvLyBDbGVhbiB1cCByZXF1ZXN0XG4gICAgICByZXF1ZXN0ID0gbnVsbDtcbiAgICB9O1xuXG4gICAgLy8gSGFuZGxlIHRpbWVvdXRcbiAgICByZXF1ZXN0Lm9udGltZW91dCA9IGZ1bmN0aW9uIGhhbmRsZVRpbWVvdXQoKSB7XG4gICAgICByZWplY3QoY3JlYXRlRXJyb3IoJ3RpbWVvdXQgb2YgJyArIGNvbmZpZy50aW1lb3V0ICsgJ21zIGV4Y2VlZGVkJywgY29uZmlnLCAnRUNPTk5BQk9SVEVEJyxcbiAgICAgICAgcmVxdWVzdCkpO1xuXG4gICAgICAvLyBDbGVhbiB1cCByZXF1ZXN0XG4gICAgICByZXF1ZXN0ID0gbnVsbDtcbiAgICB9O1xuXG4gICAgLy8gQWRkIHhzcmYgaGVhZGVyXG4gICAgLy8gVGhpcyBpcyBvbmx5IGRvbmUgaWYgcnVubmluZyBpbiBhIHN0YW5kYXJkIGJyb3dzZXIgZW52aXJvbm1lbnQuXG4gICAgLy8gU3BlY2lmaWNhbGx5IG5vdCBpZiB3ZSdyZSBpbiBhIHdlYiB3b3JrZXIsIG9yIHJlYWN0LW5hdGl2ZS5cbiAgICBpZiAodXRpbHMuaXNTdGFuZGFyZEJyb3dzZXJFbnYoKSkge1xuICAgICAgdmFyIGNvb2tpZXMgPSByZXF1aXJlKCcuLy4uL2hlbHBlcnMvY29va2llcycpO1xuXG4gICAgICAvLyBBZGQgeHNyZiBoZWFkZXJcbiAgICAgIHZhciB4c3JmVmFsdWUgPSAoY29uZmlnLndpdGhDcmVkZW50aWFscyB8fCBpc1VSTFNhbWVPcmlnaW4oY29uZmlnLnVybCkpICYmIGNvbmZpZy54c3JmQ29va2llTmFtZSA/XG4gICAgICAgICAgY29va2llcy5yZWFkKGNvbmZpZy54c3JmQ29va2llTmFtZSkgOlxuICAgICAgICAgIHVuZGVmaW5lZDtcblxuICAgICAgaWYgKHhzcmZWYWx1ZSkge1xuICAgICAgICByZXF1ZXN0SGVhZGVyc1tjb25maWcueHNyZkhlYWRlck5hbWVdID0geHNyZlZhbHVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIEFkZCBoZWFkZXJzIHRvIHRoZSByZXF1ZXN0XG4gICAgaWYgKCdzZXRSZXF1ZXN0SGVhZGVyJyBpbiByZXF1ZXN0KSB7XG4gICAgICB1dGlscy5mb3JFYWNoKHJlcXVlc3RIZWFkZXJzLCBmdW5jdGlvbiBzZXRSZXF1ZXN0SGVhZGVyKHZhbCwga2V5KSB7XG4gICAgICAgIGlmICh0eXBlb2YgcmVxdWVzdERhdGEgPT09ICd1bmRlZmluZWQnICYmIGtleS50b0xvd2VyQ2FzZSgpID09PSAnY29udGVudC10eXBlJykge1xuICAgICAgICAgIC8vIFJlbW92ZSBDb250ZW50LVR5cGUgaWYgZGF0YSBpcyB1bmRlZmluZWRcbiAgICAgICAgICBkZWxldGUgcmVxdWVzdEhlYWRlcnNba2V5XTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBPdGhlcndpc2UgYWRkIGhlYWRlciB0byB0aGUgcmVxdWVzdFxuICAgICAgICAgIHJlcXVlc3Quc2V0UmVxdWVzdEhlYWRlcihrZXksIHZhbCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIEFkZCB3aXRoQ3JlZGVudGlhbHMgdG8gcmVxdWVzdCBpZiBuZWVkZWRcbiAgICBpZiAoY29uZmlnLndpdGhDcmVkZW50aWFscykge1xuICAgICAgcmVxdWVzdC53aXRoQ3JlZGVudGlhbHMgPSB0cnVlO1xuICAgIH1cblxuICAgIC8vIEFkZCByZXNwb25zZVR5cGUgdG8gcmVxdWVzdCBpZiBuZWVkZWRcbiAgICBpZiAoY29uZmlnLnJlc3BvbnNlVHlwZSkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgcmVxdWVzdC5yZXNwb25zZVR5cGUgPSBjb25maWcucmVzcG9uc2VUeXBlO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAvLyBFeHBlY3RlZCBET01FeGNlcHRpb24gdGhyb3duIGJ5IGJyb3dzZXJzIG5vdCBjb21wYXRpYmxlIFhNTEh0dHBSZXF1ZXN0IExldmVsIDIuXG4gICAgICAgIC8vIEJ1dCwgdGhpcyBjYW4gYmUgc3VwcHJlc3NlZCBmb3IgJ2pzb24nIHR5cGUgYXMgaXQgY2FuIGJlIHBhcnNlZCBieSBkZWZhdWx0ICd0cmFuc2Zvcm1SZXNwb25zZScgZnVuY3Rpb24uXG4gICAgICAgIGlmIChjb25maWcucmVzcG9uc2VUeXBlICE9PSAnanNvbicpIHtcbiAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gSGFuZGxlIHByb2dyZXNzIGlmIG5lZWRlZFxuICAgIGlmICh0eXBlb2YgY29uZmlnLm9uRG93bmxvYWRQcm9ncmVzcyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgcmVxdWVzdC5hZGRFdmVudExpc3RlbmVyKCdwcm9ncmVzcycsIGNvbmZpZy5vbkRvd25sb2FkUHJvZ3Jlc3MpO1xuICAgIH1cblxuICAgIC8vIE5vdCBhbGwgYnJvd3NlcnMgc3VwcG9ydCB1cGxvYWQgZXZlbnRzXG4gICAgaWYgKHR5cGVvZiBjb25maWcub25VcGxvYWRQcm9ncmVzcyA9PT0gJ2Z1bmN0aW9uJyAmJiByZXF1ZXN0LnVwbG9hZCkge1xuICAgICAgcmVxdWVzdC51cGxvYWQuYWRkRXZlbnRMaXN0ZW5lcigncHJvZ3Jlc3MnLCBjb25maWcub25VcGxvYWRQcm9ncmVzcyk7XG4gICAgfVxuXG4gICAgaWYgKGNvbmZpZy5jYW5jZWxUb2tlbikge1xuICAgICAgLy8gSGFuZGxlIGNhbmNlbGxhdGlvblxuICAgICAgY29uZmlnLmNhbmNlbFRva2VuLnByb21pc2UudGhlbihmdW5jdGlvbiBvbkNhbmNlbGVkKGNhbmNlbCkge1xuICAgICAgICBpZiAoIXJlcXVlc3QpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICByZXF1ZXN0LmFib3J0KCk7XG4gICAgICAgIHJlamVjdChjYW5jZWwpO1xuICAgICAgICAvLyBDbGVhbiB1cCByZXF1ZXN0XG4gICAgICAgIHJlcXVlc3QgPSBudWxsO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKHJlcXVlc3REYXRhID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJlcXVlc3REYXRhID0gbnVsbDtcbiAgICB9XG5cbiAgICAvLyBTZW5kIHRoZSByZXF1ZXN0XG4gICAgcmVxdWVzdC5zZW5kKHJlcXVlc3REYXRhKTtcbiAgfSk7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgZW5oYW5jZUVycm9yID0gcmVxdWlyZSgnLi9lbmhhbmNlRXJyb3InKTtcblxuLyoqXG4gKiBDcmVhdGUgYW4gRXJyb3Igd2l0aCB0aGUgc3BlY2lmaWVkIG1lc3NhZ2UsIGNvbmZpZywgZXJyb3IgY29kZSwgcmVxdWVzdCBhbmQgcmVzcG9uc2UuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IG1lc3NhZ2UgVGhlIGVycm9yIG1lc3NhZ2UuXG4gKiBAcGFyYW0ge09iamVjdH0gY29uZmlnIFRoZSBjb25maWcuXG4gKiBAcGFyYW0ge3N0cmluZ30gW2NvZGVdIFRoZSBlcnJvciBjb2RlIChmb3IgZXhhbXBsZSwgJ0VDT05OQUJPUlRFRCcpLlxuICogQHBhcmFtIHtPYmplY3R9IFtyZXF1ZXN0XSBUaGUgcmVxdWVzdC5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbcmVzcG9uc2VdIFRoZSByZXNwb25zZS5cbiAqIEByZXR1cm5zIHtFcnJvcn0gVGhlIGNyZWF0ZWQgZXJyb3IuXG4gKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gY3JlYXRlRXJyb3IobWVzc2FnZSwgY29uZmlnLCBjb2RlLCByZXF1ZXN0LCByZXNwb25zZSkge1xuICB2YXIgZXJyb3IgPSBuZXcgRXJyb3IobWVzc2FnZSk7XG4gIHJldHVybiBlbmhhbmNlRXJyb3IoZXJyb3IsIGNvbmZpZywgY29kZSwgcmVxdWVzdCwgcmVzcG9uc2UpO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBpc0NhbmNlbCh2YWx1ZSkge1xuICByZXR1cm4gISEodmFsdWUgJiYgdmFsdWUuX19DQU5DRUxfXyk7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIEEgYENhbmNlbGAgaXMgYW4gb2JqZWN0IHRoYXQgaXMgdGhyb3duIHdoZW4gYW4gb3BlcmF0aW9uIGlzIGNhbmNlbGVkLlxuICpcbiAqIEBjbGFzc1xuICogQHBhcmFtIHtzdHJpbmc9fSBtZXNzYWdlIFRoZSBtZXNzYWdlLlxuICovXG5mdW5jdGlvbiBDYW5jZWwobWVzc2FnZSkge1xuICB0aGlzLm1lc3NhZ2UgPSBtZXNzYWdlO1xufVxuXG5DYW5jZWwucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcoKSB7XG4gIHJldHVybiAnQ2FuY2VsJyArICh0aGlzLm1lc3NhZ2UgPyAnOiAnICsgdGhpcy5tZXNzYWdlIDogJycpO1xufTtcblxuQ2FuY2VsLnByb3RvdHlwZS5fX0NBTkNFTF9fID0gdHJ1ZTtcblxubW9kdWxlLmV4cG9ydHMgPSBDYW5jZWw7XG4iLCIvKiBqc2hpbnQgYnJvd3NlcjogdHJ1ZSAqL1xuXG4oZnVuY3Rpb24gKCkge1xuXG4vLyBXZSdsbCBjb3B5IHRoZSBwcm9wZXJ0aWVzIGJlbG93IGludG8gdGhlIG1pcnJvciBkaXYuXG4vLyBOb3RlIHRoYXQgc29tZSBicm93c2Vycywgc3VjaCBhcyBGaXJlZm94LCBkbyBub3QgY29uY2F0ZW5hdGUgcHJvcGVydGllc1xuLy8gaW50byB0aGVpciBzaG9ydGhhbmQgKGUuZy4gcGFkZGluZy10b3AsIHBhZGRpbmctYm90dG9tIGV0Yy4gLT4gcGFkZGluZyksXG4vLyBzbyB3ZSBoYXZlIHRvIGxpc3QgZXZlcnkgc2luZ2xlIHByb3BlcnR5IGV4cGxpY2l0bHkuXG52YXIgcHJvcGVydGllcyA9IFtcbiAgJ2RpcmVjdGlvbicsICAvLyBSVEwgc3VwcG9ydFxuICAnYm94U2l6aW5nJyxcbiAgJ3dpZHRoJywgIC8vIG9uIENocm9tZSBhbmQgSUUsIGV4Y2x1ZGUgdGhlIHNjcm9sbGJhciwgc28gdGhlIG1pcnJvciBkaXYgd3JhcHMgZXhhY3RseSBhcyB0aGUgdGV4dGFyZWEgZG9lc1xuICAnaGVpZ2h0JyxcbiAgJ292ZXJmbG93WCcsXG4gICdvdmVyZmxvd1knLCAgLy8gY29weSB0aGUgc2Nyb2xsYmFyIGZvciBJRVxuXG4gICdib3JkZXJUb3BXaWR0aCcsXG4gICdib3JkZXJSaWdodFdpZHRoJyxcbiAgJ2JvcmRlckJvdHRvbVdpZHRoJyxcbiAgJ2JvcmRlckxlZnRXaWR0aCcsXG4gICdib3JkZXJTdHlsZScsXG5cbiAgJ3BhZGRpbmdUb3AnLFxuICAncGFkZGluZ1JpZ2h0JyxcbiAgJ3BhZGRpbmdCb3R0b20nLFxuICAncGFkZGluZ0xlZnQnLFxuXG4gIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0NTUy9mb250XG4gICdmb250U3R5bGUnLFxuICAnZm9udFZhcmlhbnQnLFxuICAnZm9udFdlaWdodCcsXG4gICdmb250U3RyZXRjaCcsXG4gICdmb250U2l6ZScsXG4gICdmb250U2l6ZUFkanVzdCcsXG4gICdsaW5lSGVpZ2h0JyxcbiAgJ2ZvbnRGYW1pbHknLFxuXG4gICd0ZXh0QWxpZ24nLFxuICAndGV4dFRyYW5zZm9ybScsXG4gICd0ZXh0SW5kZW50JyxcbiAgJ3RleHREZWNvcmF0aW9uJywgIC8vIG1pZ2h0IG5vdCBtYWtlIGEgZGlmZmVyZW5jZSwgYnV0IGJldHRlciBiZSBzYWZlXG5cbiAgJ2xldHRlclNwYWNpbmcnLFxuICAnd29yZFNwYWNpbmcnLFxuXG4gICd0YWJTaXplJyxcbiAgJ01velRhYlNpemUnXG5cbl07XG5cbnZhciBpc0Jyb3dzZXIgPSAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpO1xudmFyIGlzRmlyZWZveCA9IChpc0Jyb3dzZXIgJiYgd2luZG93Lm1veklubmVyU2NyZWVuWCAhPSBudWxsKTtcblxuZnVuY3Rpb24gZ2V0Q2FyZXRDb29yZGluYXRlcyhlbGVtZW50LCBwb3NpdGlvbiwgb3B0aW9ucykge1xuICBpZiAoIWlzQnJvd3Nlcikge1xuICAgIHRocm93IG5ldyBFcnJvcigndGV4dGFyZWEtY2FyZXQtcG9zaXRpb24jZ2V0Q2FyZXRDb29yZGluYXRlcyBzaG91bGQgb25seSBiZSBjYWxsZWQgaW4gYSBicm93c2VyJyk7XG4gIH1cblxuICB2YXIgZGVidWcgPSBvcHRpb25zICYmIG9wdGlvbnMuZGVidWcgfHwgZmFsc2U7XG4gIGlmIChkZWJ1Zykge1xuICAgIHZhciBlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNpbnB1dC10ZXh0YXJlYS1jYXJldC1wb3NpdGlvbi1taXJyb3ItZGl2Jyk7XG4gICAgaWYgKGVsKSBlbC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGVsKTtcbiAgfVxuXG4gIC8vIFRoZSBtaXJyb3IgZGl2IHdpbGwgcmVwbGljYXRlIHRoZSB0ZXh0YXJlYSdzIHN0eWxlXG4gIHZhciBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgZGl2LmlkID0gJ2lucHV0LXRleHRhcmVhLWNhcmV0LXBvc2l0aW9uLW1pcnJvci1kaXYnO1xuICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGRpdik7XG5cbiAgdmFyIHN0eWxlID0gZGl2LnN0eWxlO1xuICB2YXIgY29tcHV0ZWQgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSA/IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQpIDogZWxlbWVudC5jdXJyZW50U3R5bGU7ICAvLyBjdXJyZW50U3R5bGUgZm9yIElFIDwgOVxuICB2YXIgaXNJbnB1dCA9IGVsZW1lbnQubm9kZU5hbWUgPT09ICdJTlBVVCc7XG5cbiAgLy8gRGVmYXVsdCB0ZXh0YXJlYSBzdHlsZXNcbiAgc3R5bGUud2hpdGVTcGFjZSA9ICdwcmUtd3JhcCc7XG4gIGlmICghaXNJbnB1dClcbiAgICBzdHlsZS53b3JkV3JhcCA9ICdicmVhay13b3JkJzsgIC8vIG9ubHkgZm9yIHRleHRhcmVhLXNcblxuICAvLyBQb3NpdGlvbiBvZmYtc2NyZWVuXG4gIHN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJzsgIC8vIHJlcXVpcmVkIHRvIHJldHVybiBjb29yZGluYXRlcyBwcm9wZXJseVxuICBpZiAoIWRlYnVnKVxuICAgIHN0eWxlLnZpc2liaWxpdHkgPSAnaGlkZGVuJzsgIC8vIG5vdCAnZGlzcGxheTogbm9uZScgYmVjYXVzZSB3ZSB3YW50IHJlbmRlcmluZ1xuXG4gIC8vIFRyYW5zZmVyIHRoZSBlbGVtZW50J3MgcHJvcGVydGllcyB0byB0aGUgZGl2XG4gIHByb3BlcnRpZXMuZm9yRWFjaChmdW5jdGlvbiAocHJvcCkge1xuICAgIGlmIChpc0lucHV0ICYmIHByb3AgPT09ICdsaW5lSGVpZ2h0Jykge1xuICAgICAgLy8gU3BlY2lhbCBjYXNlIGZvciA8aW5wdXQ+cyBiZWNhdXNlIHRleHQgaXMgcmVuZGVyZWQgY2VudGVyZWQgYW5kIGxpbmUgaGVpZ2h0IG1heSBiZSAhPSBoZWlnaHRcbiAgICAgIHN0eWxlLmxpbmVIZWlnaHQgPSBjb21wdXRlZC5oZWlnaHQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0eWxlW3Byb3BdID0gY29tcHV0ZWRbcHJvcF07XG4gICAgfVxuICB9KTtcblxuICBpZiAoaXNGaXJlZm94KSB7XG4gICAgLy8gRmlyZWZveCBsaWVzIGFib3V0IHRoZSBvdmVyZmxvdyBwcm9wZXJ0eSBmb3IgdGV4dGFyZWFzOiBodHRwczovL2J1Z3ppbGxhLm1vemlsbGEub3JnL3Nob3dfYnVnLmNnaT9pZD05ODQyNzVcbiAgICBpZiAoZWxlbWVudC5zY3JvbGxIZWlnaHQgPiBwYXJzZUludChjb21wdXRlZC5oZWlnaHQpKVxuICAgICAgc3R5bGUub3ZlcmZsb3dZID0gJ3Njcm9sbCc7XG4gIH0gZWxzZSB7XG4gICAgc3R5bGUub3ZlcmZsb3cgPSAnaGlkZGVuJzsgIC8vIGZvciBDaHJvbWUgdG8gbm90IHJlbmRlciBhIHNjcm9sbGJhcjsgSUUga2VlcHMgb3ZlcmZsb3dZID0gJ3Njcm9sbCdcbiAgfVxuXG4gIGRpdi50ZXh0Q29udGVudCA9IGVsZW1lbnQudmFsdWUuc3Vic3RyaW5nKDAsIHBvc2l0aW9uKTtcbiAgLy8gVGhlIHNlY29uZCBzcGVjaWFsIGhhbmRsaW5nIGZvciBpbnB1dCB0eXBlPVwidGV4dFwiIHZzIHRleHRhcmVhOlxuICAvLyBzcGFjZXMgbmVlZCB0byBiZSByZXBsYWNlZCB3aXRoIG5vbi1icmVha2luZyBzcGFjZXMgLSBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8xMzQwMjAzNS8xMjY5MDM3XG4gIGlmIChpc0lucHV0KVxuICAgIGRpdi50ZXh0Q29udGVudCA9IGRpdi50ZXh0Q29udGVudC5yZXBsYWNlKC9cXHMvZywgJ1xcdTAwYTAnKTtcblxuICB2YXIgc3BhbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgLy8gV3JhcHBpbmcgbXVzdCBiZSByZXBsaWNhdGVkICpleGFjdGx5KiwgaW5jbHVkaW5nIHdoZW4gYSBsb25nIHdvcmQgZ2V0c1xuICAvLyBvbnRvIHRoZSBuZXh0IGxpbmUsIHdpdGggd2hpdGVzcGFjZSBhdCB0aGUgZW5kIG9mIHRoZSBsaW5lIGJlZm9yZSAoIzcpLlxuICAvLyBUaGUgICpvbmx5KiByZWxpYWJsZSB3YXkgdG8gZG8gdGhhdCBpcyB0byBjb3B5IHRoZSAqZW50aXJlKiByZXN0IG9mIHRoZVxuICAvLyB0ZXh0YXJlYSdzIGNvbnRlbnQgaW50byB0aGUgPHNwYW4+IGNyZWF0ZWQgYXQgdGhlIGNhcmV0IHBvc2l0aW9uLlxuICAvLyBGb3IgaW5wdXRzLCBqdXN0ICcuJyB3b3VsZCBiZSBlbm91Z2gsIGJ1dCBubyBuZWVkIHRvIGJvdGhlci5cbiAgc3Bhbi50ZXh0Q29udGVudCA9IGVsZW1lbnQudmFsdWUuc3Vic3RyaW5nKHBvc2l0aW9uKSB8fCAnLic7ICAvLyB8fCBiZWNhdXNlIGEgY29tcGxldGVseSBlbXB0eSBmYXV4IHNwYW4gZG9lc24ndCByZW5kZXIgYXQgYWxsXG4gIGRpdi5hcHBlbmRDaGlsZChzcGFuKTtcblxuICB2YXIgY29vcmRpbmF0ZXMgPSB7XG4gICAgdG9wOiBzcGFuLm9mZnNldFRvcCArIHBhcnNlSW50KGNvbXB1dGVkWydib3JkZXJUb3BXaWR0aCddKSxcbiAgICBsZWZ0OiBzcGFuLm9mZnNldExlZnQgKyBwYXJzZUludChjb21wdXRlZFsnYm9yZGVyTGVmdFdpZHRoJ10pLFxuICAgIGhlaWdodDogcGFyc2VJbnQoY29tcHV0ZWRbJ2xpbmVIZWlnaHQnXSlcbiAgfTtcblxuICBpZiAoZGVidWcpIHtcbiAgICBzcGFuLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICcjYWFhJztcbiAgfSBlbHNlIHtcbiAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGRpdik7XG4gIH1cblxuICByZXR1cm4gY29vcmRpbmF0ZXM7XG59XG5cbmlmICh0eXBlb2YgbW9kdWxlICE9ICd1bmRlZmluZWQnICYmIHR5cGVvZiBtb2R1bGUuZXhwb3J0cyAhPSAndW5kZWZpbmVkJykge1xuICBtb2R1bGUuZXhwb3J0cyA9IGdldENhcmV0Q29vcmRpbmF0ZXM7XG59IGVsc2UgaWYoaXNCcm93c2VyKSB7XG4gIHdpbmRvdy5nZXRDYXJldENvb3JkaW5hdGVzID0gZ2V0Q2FyZXRDb29yZGluYXRlcztcbn1cblxufSgpKTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi91dGlscycpO1xudmFyIGJpbmQgPSByZXF1aXJlKCcuL2hlbHBlcnMvYmluZCcpO1xudmFyIEF4aW9zID0gcmVxdWlyZSgnLi9jb3JlL0F4aW9zJyk7XG52YXIgZGVmYXVsdHMgPSByZXF1aXJlKCcuL2RlZmF1bHRzJyk7XG5cbi8qKlxuICogQ3JlYXRlIGFuIGluc3RhbmNlIG9mIEF4aW9zXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGRlZmF1bHRDb25maWcgVGhlIGRlZmF1bHQgY29uZmlnIGZvciB0aGUgaW5zdGFuY2VcbiAqIEByZXR1cm4ge0F4aW9zfSBBIG5ldyBpbnN0YW5jZSBvZiBBeGlvc1xuICovXG5mdW5jdGlvbiBjcmVhdGVJbnN0YW5jZShkZWZhdWx0Q29uZmlnKSB7XG4gIHZhciBjb250ZXh0ID0gbmV3IEF4aW9zKGRlZmF1bHRDb25maWcpO1xuICB2YXIgaW5zdGFuY2UgPSBiaW5kKEF4aW9zLnByb3RvdHlwZS5yZXF1ZXN0LCBjb250ZXh0KTtcblxuICAvLyBDb3B5IGF4aW9zLnByb3RvdHlwZSB0byBpbnN0YW5jZVxuICB1dGlscy5leHRlbmQoaW5zdGFuY2UsIEF4aW9zLnByb3RvdHlwZSwgY29udGV4dCk7XG5cbiAgLy8gQ29weSBjb250ZXh0IHRvIGluc3RhbmNlXG4gIHV0aWxzLmV4dGVuZChpbnN0YW5jZSwgY29udGV4dCk7XG5cbiAgcmV0dXJuIGluc3RhbmNlO1xufVxuXG4vLyBDcmVhdGUgdGhlIGRlZmF1bHQgaW5zdGFuY2UgdG8gYmUgZXhwb3J0ZWRcbnZhciBheGlvcyA9IGNyZWF0ZUluc3RhbmNlKGRlZmF1bHRzKTtcblxuLy8gRXhwb3NlIEF4aW9zIGNsYXNzIHRvIGFsbG93IGNsYXNzIGluaGVyaXRhbmNlXG5heGlvcy5BeGlvcyA9IEF4aW9zO1xuXG4vLyBGYWN0b3J5IGZvciBjcmVhdGluZyBuZXcgaW5zdGFuY2VzXG5heGlvcy5jcmVhdGUgPSBmdW5jdGlvbiBjcmVhdGUoaW5zdGFuY2VDb25maWcpIHtcbiAgcmV0dXJuIGNyZWF0ZUluc3RhbmNlKHV0aWxzLm1lcmdlKGRlZmF1bHRzLCBpbnN0YW5jZUNvbmZpZykpO1xufTtcblxuLy8gRXhwb3NlIENhbmNlbCAmIENhbmNlbFRva2VuXG5heGlvcy5DYW5jZWwgPSByZXF1aXJlKCcuL2NhbmNlbC9DYW5jZWwnKTtcbmF4aW9zLkNhbmNlbFRva2VuID0gcmVxdWlyZSgnLi9jYW5jZWwvQ2FuY2VsVG9rZW4nKTtcbmF4aW9zLmlzQ2FuY2VsID0gcmVxdWlyZSgnLi9jYW5jZWwvaXNDYW5jZWwnKTtcblxuLy8gRXhwb3NlIGFsbC9zcHJlYWRcbmF4aW9zLmFsbCA9IGZ1bmN0aW9uIGFsbChwcm9taXNlcykge1xuICByZXR1cm4gUHJvbWlzZS5hbGwocHJvbWlzZXMpO1xufTtcbmF4aW9zLnNwcmVhZCA9IHJlcXVpcmUoJy4vaGVscGVycy9zcHJlYWQnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBheGlvcztcblxuLy8gQWxsb3cgdXNlIG9mIGRlZmF1bHQgaW1wb3J0IHN5bnRheCBpbiBUeXBlU2NyaXB0XG5tb2R1bGUuZXhwb3J0cy5kZWZhdWx0ID0gYXhpb3M7XG4iLCIvKiFcbiAqIERldGVybWluZSBpZiBhbiBvYmplY3QgaXMgYSBCdWZmZXJcbiAqXG4gKiBAYXV0aG9yICAgRmVyb3NzIEFib3VraGFkaWplaCA8aHR0cHM6Ly9mZXJvc3Mub3JnPlxuICogQGxpY2Vuc2UgIE1JVFxuICovXG5cbi8vIFRoZSBfaXNCdWZmZXIgY2hlY2sgaXMgZm9yIFNhZmFyaSA1LTcgc3VwcG9ydCwgYmVjYXVzZSBpdCdzIG1pc3Npbmdcbi8vIE9iamVjdC5wcm90b3R5cGUuY29uc3RydWN0b3IuIFJlbW92ZSB0aGlzIGV2ZW50dWFsbHlcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKG9iaikge1xuICByZXR1cm4gb2JqICE9IG51bGwgJiYgKGlzQnVmZmVyKG9iaikgfHwgaXNTbG93QnVmZmVyKG9iaikgfHwgISFvYmouX2lzQnVmZmVyKVxufVxuXG5mdW5jdGlvbiBpc0J1ZmZlciAob2JqKSB7XG4gIHJldHVybiAhIW9iai5jb25zdHJ1Y3RvciAmJiB0eXBlb2Ygb2JqLmNvbnN0cnVjdG9yLmlzQnVmZmVyID09PSAnZnVuY3Rpb24nICYmIG9iai5jb25zdHJ1Y3Rvci5pc0J1ZmZlcihvYmopXG59XG5cbi8vIEZvciBOb2RlIHYwLjEwIHN1cHBvcnQuIFJlbW92ZSB0aGlzIGV2ZW50dWFsbHkuXG5mdW5jdGlvbiBpc1Nsb3dCdWZmZXIgKG9iaikge1xuICByZXR1cm4gdHlwZW9mIG9iai5yZWFkRmxvYXRMRSA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2Ygb2JqLnNsaWNlID09PSAnZnVuY3Rpb24nICYmIGlzQnVmZmVyKG9iai5zbGljZSgwLCAwKSlcbn1cbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIGRlZmF1bHRzID0gcmVxdWlyZSgnLi8uLi9kZWZhdWx0cycpO1xudmFyIHV0aWxzID0gcmVxdWlyZSgnLi8uLi91dGlscycpO1xudmFyIEludGVyY2VwdG9yTWFuYWdlciA9IHJlcXVpcmUoJy4vSW50ZXJjZXB0b3JNYW5hZ2VyJyk7XG52YXIgZGlzcGF0Y2hSZXF1ZXN0ID0gcmVxdWlyZSgnLi9kaXNwYXRjaFJlcXVlc3QnKTtcblxuLyoqXG4gKiBDcmVhdGUgYSBuZXcgaW5zdGFuY2Ugb2YgQXhpb3NcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gaW5zdGFuY2VDb25maWcgVGhlIGRlZmF1bHQgY29uZmlnIGZvciB0aGUgaW5zdGFuY2VcbiAqL1xuZnVuY3Rpb24gQXhpb3MoaW5zdGFuY2VDb25maWcpIHtcbiAgdGhpcy5kZWZhdWx0cyA9IGluc3RhbmNlQ29uZmlnO1xuICB0aGlzLmludGVyY2VwdG9ycyA9IHtcbiAgICByZXF1ZXN0OiBuZXcgSW50ZXJjZXB0b3JNYW5hZ2VyKCksXG4gICAgcmVzcG9uc2U6IG5ldyBJbnRlcmNlcHRvck1hbmFnZXIoKVxuICB9O1xufVxuXG4vKipcbiAqIERpc3BhdGNoIGEgcmVxdWVzdFxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWcgVGhlIGNvbmZpZyBzcGVjaWZpYyBmb3IgdGhpcyByZXF1ZXN0IChtZXJnZWQgd2l0aCB0aGlzLmRlZmF1bHRzKVxuICovXG5BeGlvcy5wcm90b3R5cGUucmVxdWVzdCA9IGZ1bmN0aW9uIHJlcXVlc3QoY29uZmlnKSB7XG4gIC8qZXNsaW50IG5vLXBhcmFtLXJlYXNzaWduOjAqL1xuICAvLyBBbGxvdyBmb3IgYXhpb3MoJ2V4YW1wbGUvdXJsJ1ssIGNvbmZpZ10pIGEgbGEgZmV0Y2ggQVBJXG4gIGlmICh0eXBlb2YgY29uZmlnID09PSAnc3RyaW5nJykge1xuICAgIGNvbmZpZyA9IHV0aWxzLm1lcmdlKHtcbiAgICAgIHVybDogYXJndW1lbnRzWzBdXG4gICAgfSwgYXJndW1lbnRzWzFdKTtcbiAgfVxuXG4gIGNvbmZpZyA9IHV0aWxzLm1lcmdlKGRlZmF1bHRzLCB7bWV0aG9kOiAnZ2V0J30sIHRoaXMuZGVmYXVsdHMsIGNvbmZpZyk7XG4gIGNvbmZpZy5tZXRob2QgPSBjb25maWcubWV0aG9kLnRvTG93ZXJDYXNlKCk7XG5cbiAgLy8gSG9vayB1cCBpbnRlcmNlcHRvcnMgbWlkZGxld2FyZVxuICB2YXIgY2hhaW4gPSBbZGlzcGF0Y2hSZXF1ZXN0LCB1bmRlZmluZWRdO1xuICB2YXIgcHJvbWlzZSA9IFByb21pc2UucmVzb2x2ZShjb25maWcpO1xuXG4gIHRoaXMuaW50ZXJjZXB0b3JzLnJlcXVlc3QuZm9yRWFjaChmdW5jdGlvbiB1bnNoaWZ0UmVxdWVzdEludGVyY2VwdG9ycyhpbnRlcmNlcHRvcikge1xuICAgIGNoYWluLnVuc2hpZnQoaW50ZXJjZXB0b3IuZnVsZmlsbGVkLCBpbnRlcmNlcHRvci5yZWplY3RlZCk7XG4gIH0pO1xuXG4gIHRoaXMuaW50ZXJjZXB0b3JzLnJlc3BvbnNlLmZvckVhY2goZnVuY3Rpb24gcHVzaFJlc3BvbnNlSW50ZXJjZXB0b3JzKGludGVyY2VwdG9yKSB7XG4gICAgY2hhaW4ucHVzaChpbnRlcmNlcHRvci5mdWxmaWxsZWQsIGludGVyY2VwdG9yLnJlamVjdGVkKTtcbiAgfSk7XG5cbiAgd2hpbGUgKGNoYWluLmxlbmd0aCkge1xuICAgIHByb21pc2UgPSBwcm9taXNlLnRoZW4oY2hhaW4uc2hpZnQoKSwgY2hhaW4uc2hpZnQoKSk7XG4gIH1cblxuICByZXR1cm4gcHJvbWlzZTtcbn07XG5cbi8vIFByb3ZpZGUgYWxpYXNlcyBmb3Igc3VwcG9ydGVkIHJlcXVlc3QgbWV0aG9kc1xudXRpbHMuZm9yRWFjaChbJ2RlbGV0ZScsICdnZXQnLCAnaGVhZCcsICdvcHRpb25zJ10sIGZ1bmN0aW9uIGZvckVhY2hNZXRob2ROb0RhdGEobWV0aG9kKSB7XG4gIC8qZXNsaW50IGZ1bmMtbmFtZXM6MCovXG4gIEF4aW9zLnByb3RvdHlwZVttZXRob2RdID0gZnVuY3Rpb24odXJsLCBjb25maWcpIHtcbiAgICByZXR1cm4gdGhpcy5yZXF1ZXN0KHV0aWxzLm1lcmdlKGNvbmZpZyB8fCB7fSwge1xuICAgICAgbWV0aG9kOiBtZXRob2QsXG4gICAgICB1cmw6IHVybFxuICAgIH0pKTtcbiAgfTtcbn0pO1xuXG51dGlscy5mb3JFYWNoKFsncG9zdCcsICdwdXQnLCAncGF0Y2gnXSwgZnVuY3Rpb24gZm9yRWFjaE1ldGhvZFdpdGhEYXRhKG1ldGhvZCkge1xuICAvKmVzbGludCBmdW5jLW5hbWVzOjAqL1xuICBBeGlvcy5wcm90b3R5cGVbbWV0aG9kXSA9IGZ1bmN0aW9uKHVybCwgZGF0YSwgY29uZmlnKSB7XG4gICAgcmV0dXJuIHRoaXMucmVxdWVzdCh1dGlscy5tZXJnZShjb25maWcgfHwge30sIHtcbiAgICAgIG1ldGhvZDogbWV0aG9kLFxuICAgICAgdXJsOiB1cmwsXG4gICAgICBkYXRhOiBkYXRhXG4gICAgfSkpO1xuICB9O1xufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gQXhpb3M7XG4iLCIvLyBzaGltIGZvciB1c2luZyBwcm9jZXNzIGluIGJyb3dzZXJcbnZhciBwcm9jZXNzID0gbW9kdWxlLmV4cG9ydHMgPSB7fTtcblxuLy8gY2FjaGVkIGZyb20gd2hhdGV2ZXIgZ2xvYmFsIGlzIHByZXNlbnQgc28gdGhhdCB0ZXN0IHJ1bm5lcnMgdGhhdCBzdHViIGl0XG4vLyBkb24ndCBicmVhayB0aGluZ3MuICBCdXQgd2UgbmVlZCB0byB3cmFwIGl0IGluIGEgdHJ5IGNhdGNoIGluIGNhc2UgaXQgaXNcbi8vIHdyYXBwZWQgaW4gc3RyaWN0IG1vZGUgY29kZSB3aGljaCBkb2Vzbid0IGRlZmluZSBhbnkgZ2xvYmFscy4gIEl0J3MgaW5zaWRlIGFcbi8vIGZ1bmN0aW9uIGJlY2F1c2UgdHJ5L2NhdGNoZXMgZGVvcHRpbWl6ZSBpbiBjZXJ0YWluIGVuZ2luZXMuXG5cbnZhciBjYWNoZWRTZXRUaW1lb3V0O1xudmFyIGNhY2hlZENsZWFyVGltZW91dDtcblxuZnVuY3Rpb24gZGVmYXVsdFNldFRpbW91dCgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3NldFRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcbn1cbmZ1bmN0aW9uIGRlZmF1bHRDbGVhclRpbWVvdXQgKCkge1xuICAgIHRocm93IG5ldyBFcnJvcignY2xlYXJUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkJyk7XG59XG4oZnVuY3Rpb24gKCkge1xuICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2Ygc2V0VGltZW91dCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IGRlZmF1bHRTZXRUaW1vdXQ7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2YgY2xlYXJUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBjbGVhclRpbWVvdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuICAgIH1cbn0gKCkpXG5mdW5jdGlvbiBydW5UaW1lb3V0KGZ1bikge1xuICAgIGlmIChjYWNoZWRTZXRUaW1lb3V0ID09PSBzZXRUaW1lb3V0KSB7XG4gICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuICAgIH1cbiAgICAvLyBpZiBzZXRUaW1lb3V0IHdhc24ndCBhdmFpbGFibGUgYnV0IHdhcyBsYXR0ZXIgZGVmaW5lZFxuICAgIGlmICgoY2FjaGVkU2V0VGltZW91dCA9PT0gZGVmYXVsdFNldFRpbW91dCB8fCAhY2FjaGVkU2V0VGltZW91dCkgJiYgc2V0VGltZW91dCkge1xuICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gd2hlbiB3aGVuIHNvbWVib2R5IGhhcyBzY3Jld2VkIHdpdGggc2V0VGltZW91dCBidXQgbm8gSS5FLiBtYWRkbmVzc1xuICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dChmdW4sIDApO1xuICAgIH0gY2F0Y2goZSl7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBXaGVuIHdlIGFyZSBpbiBJLkUuIGJ1dCB0aGUgc2NyaXB0IGhhcyBiZWVuIGV2YWxlZCBzbyBJLkUuIGRvZXNuJ3QgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwobnVsbCwgZnVuLCAwKTtcbiAgICAgICAgfSBjYXRjaChlKXtcbiAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yXG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dC5jYWxsKHRoaXMsIGZ1biwgMCk7XG4gICAgICAgIH1cbiAgICB9XG5cblxufVxuZnVuY3Rpb24gcnVuQ2xlYXJUaW1lb3V0KG1hcmtlcikge1xuICAgIGlmIChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGNsZWFyVGltZW91dCkge1xuICAgICAgICAvL25vcm1hbCBlbnZpcm9tZW50cyBpbiBzYW5lIHNpdHVhdGlvbnNcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH1cbiAgICAvLyBpZiBjbGVhclRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG4gICAgaWYgKChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGRlZmF1bHRDbGVhclRpbWVvdXQgfHwgIWNhY2hlZENsZWFyVGltZW91dCkgJiYgY2xlYXJUaW1lb3V0KSB7XG4gICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG4gICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9IGNhdGNoIChlKXtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCAgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQuY2FsbChudWxsLCBtYXJrZXIpO1xuICAgICAgICB9IGNhdGNoIChlKXtcbiAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yLlxuICAgICAgICAgICAgLy8gU29tZSB2ZXJzaW9ucyBvZiBJLkUuIGhhdmUgZGlmZmVyZW50IHJ1bGVzIGZvciBjbGVhclRpbWVvdXQgdnMgc2V0VGltZW91dFxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKHRoaXMsIG1hcmtlcik7XG4gICAgICAgIH1cbiAgICB9XG5cblxuXG59XG52YXIgcXVldWUgPSBbXTtcbnZhciBkcmFpbmluZyA9IGZhbHNlO1xudmFyIGN1cnJlbnRRdWV1ZTtcbnZhciBxdWV1ZUluZGV4ID0gLTE7XG5cbmZ1bmN0aW9uIGNsZWFuVXBOZXh0VGljaygpIHtcbiAgICBpZiAoIWRyYWluaW5nIHx8ICFjdXJyZW50UXVldWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIGlmIChjdXJyZW50UXVldWUubGVuZ3RoKSB7XG4gICAgICAgIHF1ZXVlID0gY3VycmVudFF1ZXVlLmNvbmNhdChxdWV1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgIH1cbiAgICBpZiAocXVldWUubGVuZ3RoKSB7XG4gICAgICAgIGRyYWluUXVldWUoKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGRyYWluUXVldWUoKSB7XG4gICAgaWYgKGRyYWluaW5nKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIHRpbWVvdXQgPSBydW5UaW1lb3V0KGNsZWFuVXBOZXh0VGljayk7XG4gICAgZHJhaW5pbmcgPSB0cnVlO1xuXG4gICAgdmFyIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB3aGlsZShsZW4pIHtcbiAgICAgICAgY3VycmVudFF1ZXVlID0gcXVldWU7XG4gICAgICAgIHF1ZXVlID0gW107XG4gICAgICAgIHdoaWxlICgrK3F1ZXVlSW5kZXggPCBsZW4pIHtcbiAgICAgICAgICAgIGlmIChjdXJyZW50UXVldWUpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50UXVldWVbcXVldWVJbmRleF0ucnVuKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgICAgICBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gICAgfVxuICAgIGN1cnJlbnRRdWV1ZSA9IG51bGw7XG4gICAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgICBydW5DbGVhclRpbWVvdXQodGltZW91dCk7XG59XG5cbnByb2Nlc3MubmV4dFRpY2sgPSBmdW5jdGlvbiAoZnVuKSB7XG4gICAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCAtIDEpO1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgYXJnc1tpIC0gMV0gPSBhcmd1bWVudHNbaV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcXVldWUucHVzaChuZXcgSXRlbShmdW4sIGFyZ3MpKTtcbiAgICBpZiAocXVldWUubGVuZ3RoID09PSAxICYmICFkcmFpbmluZykge1xuICAgICAgICBydW5UaW1lb3V0KGRyYWluUXVldWUpO1xuICAgIH1cbn07XG5cbi8vIHY4IGxpa2VzIHByZWRpY3RpYmxlIG9iamVjdHNcbmZ1bmN0aW9uIEl0ZW0oZnVuLCBhcnJheSkge1xuICAgIHRoaXMuZnVuID0gZnVuO1xuICAgIHRoaXMuYXJyYXkgPSBhcnJheTtcbn1cbkl0ZW0ucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmZ1bi5hcHBseShudWxsLCB0aGlzLmFycmF5KTtcbn07XG5wcm9jZXNzLnRpdGxlID0gJ2Jyb3dzZXInO1xucHJvY2Vzcy5icm93c2VyID0gdHJ1ZTtcbnByb2Nlc3MuZW52ID0ge307XG5wcm9jZXNzLmFyZ3YgPSBbXTtcbnByb2Nlc3MudmVyc2lvbiA9ICcnOyAvLyBlbXB0eSBzdHJpbmcgdG8gYXZvaWQgcmVnZXhwIGlzc3Vlc1xucHJvY2Vzcy52ZXJzaW9ucyA9IHt9O1xuXG5mdW5jdGlvbiBub29wKCkge31cblxucHJvY2Vzcy5vbiA9IG5vb3A7XG5wcm9jZXNzLmFkZExpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3Mub25jZSA9IG5vb3A7XG5wcm9jZXNzLm9mZiA9IG5vb3A7XG5wcm9jZXNzLnJlbW92ZUxpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlQWxsTGlzdGVuZXJzID0gbm9vcDtcbnByb2Nlc3MuZW1pdCA9IG5vb3A7XG5wcm9jZXNzLnByZXBlbmRMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLnByZXBlbmRPbmNlTGlzdGVuZXIgPSBub29wO1xuXG5wcm9jZXNzLmxpc3RlbmVycyA9IGZ1bmN0aW9uIChuYW1lKSB7IHJldHVybiBbXSB9XG5cbnByb2Nlc3MuYmluZGluZyA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmJpbmRpbmcgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcblxucHJvY2Vzcy5jd2QgPSBmdW5jdGlvbiAoKSB7IHJldHVybiAnLycgfTtcbnByb2Nlc3MuY2hkaXIgPSBmdW5jdGlvbiAoZGlyKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmNoZGlyIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn07XG5wcm9jZXNzLnVtYXNrID0gZnVuY3Rpb24oKSB7IHJldHVybiAwOyB9O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuLi91dGlscycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIG5vcm1hbGl6ZUhlYWRlck5hbWUoaGVhZGVycywgbm9ybWFsaXplZE5hbWUpIHtcbiAgdXRpbHMuZm9yRWFjaChoZWFkZXJzLCBmdW5jdGlvbiBwcm9jZXNzSGVhZGVyKHZhbHVlLCBuYW1lKSB7XG4gICAgaWYgKG5hbWUgIT09IG5vcm1hbGl6ZWROYW1lICYmIG5hbWUudG9VcHBlckNhc2UoKSA9PT0gbm9ybWFsaXplZE5hbWUudG9VcHBlckNhc2UoKSkge1xuICAgICAgaGVhZGVyc1tub3JtYWxpemVkTmFtZV0gPSB2YWx1ZTtcbiAgICAgIGRlbGV0ZSBoZWFkZXJzW25hbWVdO1xuICAgIH1cbiAgfSk7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgY3JlYXRlRXJyb3IgPSByZXF1aXJlKCcuL2NyZWF0ZUVycm9yJyk7XG5cbi8qKlxuICogUmVzb2x2ZSBvciByZWplY3QgYSBQcm9taXNlIGJhc2VkIG9uIHJlc3BvbnNlIHN0YXR1cy5cbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSByZXNvbHZlIEEgZnVuY3Rpb24gdGhhdCByZXNvbHZlcyB0aGUgcHJvbWlzZS5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IHJlamVjdCBBIGZ1bmN0aW9uIHRoYXQgcmVqZWN0cyB0aGUgcHJvbWlzZS5cbiAqIEBwYXJhbSB7b2JqZWN0fSByZXNwb25zZSBUaGUgcmVzcG9uc2UuXG4gKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gc2V0dGxlKHJlc29sdmUsIHJlamVjdCwgcmVzcG9uc2UpIHtcbiAgdmFyIHZhbGlkYXRlU3RhdHVzID0gcmVzcG9uc2UuY29uZmlnLnZhbGlkYXRlU3RhdHVzO1xuICAvLyBOb3RlOiBzdGF0dXMgaXMgbm90IGV4cG9zZWQgYnkgWERvbWFpblJlcXVlc3RcbiAgaWYgKCFyZXNwb25zZS5zdGF0dXMgfHwgIXZhbGlkYXRlU3RhdHVzIHx8IHZhbGlkYXRlU3RhdHVzKHJlc3BvbnNlLnN0YXR1cykpIHtcbiAgICByZXNvbHZlKHJlc3BvbnNlKTtcbiAgfSBlbHNlIHtcbiAgICByZWplY3QoY3JlYXRlRXJyb3IoXG4gICAgICAnUmVxdWVzdCBmYWlsZWQgd2l0aCBzdGF0dXMgY29kZSAnICsgcmVzcG9uc2Uuc3RhdHVzLFxuICAgICAgcmVzcG9uc2UuY29uZmlnLFxuICAgICAgbnVsbCxcbiAgICAgIHJlc3BvbnNlLnJlcXVlc3QsXG4gICAgICByZXNwb25zZVxuICAgICkpO1xuICB9XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIFVwZGF0ZSBhbiBFcnJvciB3aXRoIHRoZSBzcGVjaWZpZWQgY29uZmlnLCBlcnJvciBjb2RlLCBhbmQgcmVzcG9uc2UuXG4gKlxuICogQHBhcmFtIHtFcnJvcn0gZXJyb3IgVGhlIGVycm9yIHRvIHVwZGF0ZS5cbiAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWcgVGhlIGNvbmZpZy5cbiAqIEBwYXJhbSB7c3RyaW5nfSBbY29kZV0gVGhlIGVycm9yIGNvZGUgKGZvciBleGFtcGxlLCAnRUNPTk5BQk9SVEVEJykuXG4gKiBAcGFyYW0ge09iamVjdH0gW3JlcXVlc3RdIFRoZSByZXF1ZXN0LlxuICogQHBhcmFtIHtPYmplY3R9IFtyZXNwb25zZV0gVGhlIHJlc3BvbnNlLlxuICogQHJldHVybnMge0Vycm9yfSBUaGUgZXJyb3IuXG4gKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gZW5oYW5jZUVycm9yKGVycm9yLCBjb25maWcsIGNvZGUsIHJlcXVlc3QsIHJlc3BvbnNlKSB7XG4gIGVycm9yLmNvbmZpZyA9IGNvbmZpZztcbiAgaWYgKGNvZGUpIHtcbiAgICBlcnJvci5jb2RlID0gY29kZTtcbiAgfVxuICBlcnJvci5yZXF1ZXN0ID0gcmVxdWVzdDtcbiAgZXJyb3IucmVzcG9uc2UgPSByZXNwb25zZTtcbiAgcmV0dXJuIGVycm9yO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi8uLi91dGlscycpO1xuXG5mdW5jdGlvbiBlbmNvZGUodmFsKSB7XG4gIHJldHVybiBlbmNvZGVVUklDb21wb25lbnQodmFsKS5cbiAgICByZXBsYWNlKC8lNDAvZ2ksICdAJykuXG4gICAgcmVwbGFjZSgvJTNBL2dpLCAnOicpLlxuICAgIHJlcGxhY2UoLyUyNC9nLCAnJCcpLlxuICAgIHJlcGxhY2UoLyUyQy9naSwgJywnKS5cbiAgICByZXBsYWNlKC8lMjAvZywgJysnKS5cbiAgICByZXBsYWNlKC8lNUIvZ2ksICdbJykuXG4gICAgcmVwbGFjZSgvJTVEL2dpLCAnXScpO1xufVxuXG4vKipcbiAqIEJ1aWxkIGEgVVJMIGJ5IGFwcGVuZGluZyBwYXJhbXMgdG8gdGhlIGVuZFxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgVGhlIGJhc2Ugb2YgdGhlIHVybCAoZS5nLiwgaHR0cDovL3d3dy5nb29nbGUuY29tKVxuICogQHBhcmFtIHtvYmplY3R9IFtwYXJhbXNdIFRoZSBwYXJhbXMgdG8gYmUgYXBwZW5kZWRcbiAqIEByZXR1cm5zIHtzdHJpbmd9IFRoZSBmb3JtYXR0ZWQgdXJsXG4gKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gYnVpbGRVUkwodXJsLCBwYXJhbXMsIHBhcmFtc1NlcmlhbGl6ZXIpIHtcbiAgLyplc2xpbnQgbm8tcGFyYW0tcmVhc3NpZ246MCovXG4gIGlmICghcGFyYW1zKSB7XG4gICAgcmV0dXJuIHVybDtcbiAgfVxuXG4gIHZhciBzZXJpYWxpemVkUGFyYW1zO1xuICBpZiAocGFyYW1zU2VyaWFsaXplcikge1xuICAgIHNlcmlhbGl6ZWRQYXJhbXMgPSBwYXJhbXNTZXJpYWxpemVyKHBhcmFtcyk7XG4gIH0gZWxzZSBpZiAodXRpbHMuaXNVUkxTZWFyY2hQYXJhbXMocGFyYW1zKSkge1xuICAgIHNlcmlhbGl6ZWRQYXJhbXMgPSBwYXJhbXMudG9TdHJpbmcoKTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgcGFydHMgPSBbXTtcblxuICAgIHV0aWxzLmZvckVhY2gocGFyYW1zLCBmdW5jdGlvbiBzZXJpYWxpemUodmFsLCBrZXkpIHtcbiAgICAgIGlmICh2YWwgPT09IG51bGwgfHwgdHlwZW9mIHZhbCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAodXRpbHMuaXNBcnJheSh2YWwpKSB7XG4gICAgICAgIGtleSA9IGtleSArICdbXSc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YWwgPSBbdmFsXTtcbiAgICAgIH1cblxuICAgICAgdXRpbHMuZm9yRWFjaCh2YWwsIGZ1bmN0aW9uIHBhcnNlVmFsdWUodikge1xuICAgICAgICBpZiAodXRpbHMuaXNEYXRlKHYpKSB7XG4gICAgICAgICAgdiA9IHYudG9JU09TdHJpbmcoKTtcbiAgICAgICAgfSBlbHNlIGlmICh1dGlscy5pc09iamVjdCh2KSkge1xuICAgICAgICAgIHYgPSBKU09OLnN0cmluZ2lmeSh2KTtcbiAgICAgICAgfVxuICAgICAgICBwYXJ0cy5wdXNoKGVuY29kZShrZXkpICsgJz0nICsgZW5jb2RlKHYpKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgc2VyaWFsaXplZFBhcmFtcyA9IHBhcnRzLmpvaW4oJyYnKTtcbiAgfVxuXG4gIGlmIChzZXJpYWxpemVkUGFyYW1zKSB7XG4gICAgdXJsICs9ICh1cmwuaW5kZXhPZignPycpID09PSAtMSA/ICc/JyA6ICcmJykgKyBzZXJpYWxpemVkUGFyYW1zO1xuICB9XG5cbiAgcmV0dXJuIHVybDtcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciB1dGlscyA9IHJlcXVpcmUoJy4vLi4vdXRpbHMnKTtcblxuLy8gSGVhZGVycyB3aG9zZSBkdXBsaWNhdGVzIGFyZSBpZ25vcmVkIGJ5IG5vZGVcbi8vIGMuZi4gaHR0cHM6Ly9ub2RlanMub3JnL2FwaS9odHRwLmh0bWwjaHR0cF9tZXNzYWdlX2hlYWRlcnNcbnZhciBpZ25vcmVEdXBsaWNhdGVPZiA9IFtcbiAgJ2FnZScsICdhdXRob3JpemF0aW9uJywgJ2NvbnRlbnQtbGVuZ3RoJywgJ2NvbnRlbnQtdHlwZScsICdldGFnJyxcbiAgJ2V4cGlyZXMnLCAnZnJvbScsICdob3N0JywgJ2lmLW1vZGlmaWVkLXNpbmNlJywgJ2lmLXVubW9kaWZpZWQtc2luY2UnLFxuICAnbGFzdC1tb2RpZmllZCcsICdsb2NhdGlvbicsICdtYXgtZm9yd2FyZHMnLCAncHJveHktYXV0aG9yaXphdGlvbicsXG4gICdyZWZlcmVyJywgJ3JldHJ5LWFmdGVyJywgJ3VzZXItYWdlbnQnXG5dO1xuXG4vKipcbiAqIFBhcnNlIGhlYWRlcnMgaW50byBhbiBvYmplY3RcbiAqXG4gKiBgYGBcbiAqIERhdGU6IFdlZCwgMjcgQXVnIDIwMTQgMDg6NTg6NDkgR01UXG4gKiBDb250ZW50LVR5cGU6IGFwcGxpY2F0aW9uL2pzb25cbiAqIENvbm5lY3Rpb246IGtlZXAtYWxpdmVcbiAqIFRyYW5zZmVyLUVuY29kaW5nOiBjaHVua2VkXG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gaGVhZGVycyBIZWFkZXJzIG5lZWRpbmcgdG8gYmUgcGFyc2VkXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBIZWFkZXJzIHBhcnNlZCBpbnRvIGFuIG9iamVjdFxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHBhcnNlSGVhZGVycyhoZWFkZXJzKSB7XG4gIHZhciBwYXJzZWQgPSB7fTtcbiAgdmFyIGtleTtcbiAgdmFyIHZhbDtcbiAgdmFyIGk7XG5cbiAgaWYgKCFoZWFkZXJzKSB7IHJldHVybiBwYXJzZWQ7IH1cblxuICB1dGlscy5mb3JFYWNoKGhlYWRlcnMuc3BsaXQoJ1xcbicpLCBmdW5jdGlvbiBwYXJzZXIobGluZSkge1xuICAgIGkgPSBsaW5lLmluZGV4T2YoJzonKTtcbiAgICBrZXkgPSB1dGlscy50cmltKGxpbmUuc3Vic3RyKDAsIGkpKS50b0xvd2VyQ2FzZSgpO1xuICAgIHZhbCA9IHV0aWxzLnRyaW0obGluZS5zdWJzdHIoaSArIDEpKTtcblxuICAgIGlmIChrZXkpIHtcbiAgICAgIGlmIChwYXJzZWRba2V5XSAmJiBpZ25vcmVEdXBsaWNhdGVPZi5pbmRleE9mKGtleSkgPj0gMCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoa2V5ID09PSAnc2V0LWNvb2tpZScpIHtcbiAgICAgICAgcGFyc2VkW2tleV0gPSAocGFyc2VkW2tleV0gPyBwYXJzZWRba2V5XSA6IFtdKS5jb25jYXQoW3ZhbF0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGFyc2VkW2tleV0gPSBwYXJzZWRba2V5XSA/IHBhcnNlZFtrZXldICsgJywgJyArIHZhbCA6IHZhbDtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiBwYXJzZWQ7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuLy4uL3V0aWxzJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gKFxuICB1dGlscy5pc1N0YW5kYXJkQnJvd3NlckVudigpID9cblxuICAvLyBTdGFuZGFyZCBicm93c2VyIGVudnMgaGF2ZSBmdWxsIHN1cHBvcnQgb2YgdGhlIEFQSXMgbmVlZGVkIHRvIHRlc3RcbiAgLy8gd2hldGhlciB0aGUgcmVxdWVzdCBVUkwgaXMgb2YgdGhlIHNhbWUgb3JpZ2luIGFzIGN1cnJlbnQgbG9jYXRpb24uXG4gIChmdW5jdGlvbiBzdGFuZGFyZEJyb3dzZXJFbnYoKSB7XG4gICAgdmFyIG1zaWUgPSAvKG1zaWV8dHJpZGVudCkvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpO1xuICAgIHZhciB1cmxQYXJzaW5nTm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcbiAgICB2YXIgb3JpZ2luVVJMO1xuXG4gICAgLyoqXG4gICAgKiBQYXJzZSBhIFVSTCB0byBkaXNjb3ZlciBpdCdzIGNvbXBvbmVudHNcbiAgICAqXG4gICAgKiBAcGFyYW0ge1N0cmluZ30gdXJsIFRoZSBVUkwgdG8gYmUgcGFyc2VkXG4gICAgKiBAcmV0dXJucyB7T2JqZWN0fVxuICAgICovXG4gICAgZnVuY3Rpb24gcmVzb2x2ZVVSTCh1cmwpIHtcbiAgICAgIHZhciBocmVmID0gdXJsO1xuXG4gICAgICBpZiAobXNpZSkge1xuICAgICAgICAvLyBJRSBuZWVkcyBhdHRyaWJ1dGUgc2V0IHR3aWNlIHRvIG5vcm1hbGl6ZSBwcm9wZXJ0aWVzXG4gICAgICAgIHVybFBhcnNpbmdOb2RlLnNldEF0dHJpYnV0ZSgnaHJlZicsIGhyZWYpO1xuICAgICAgICBocmVmID0gdXJsUGFyc2luZ05vZGUuaHJlZjtcbiAgICAgIH1cblxuICAgICAgdXJsUGFyc2luZ05vZGUuc2V0QXR0cmlidXRlKCdocmVmJywgaHJlZik7XG5cbiAgICAgIC8vIHVybFBhcnNpbmdOb2RlIHByb3ZpZGVzIHRoZSBVcmxVdGlscyBpbnRlcmZhY2UgLSBodHRwOi8vdXJsLnNwZWMud2hhdHdnLm9yZy8jdXJsdXRpbHNcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGhyZWY6IHVybFBhcnNpbmdOb2RlLmhyZWYsXG4gICAgICAgIHByb3RvY29sOiB1cmxQYXJzaW5nTm9kZS5wcm90b2NvbCA/IHVybFBhcnNpbmdOb2RlLnByb3RvY29sLnJlcGxhY2UoLzokLywgJycpIDogJycsXG4gICAgICAgIGhvc3Q6IHVybFBhcnNpbmdOb2RlLmhvc3QsXG4gICAgICAgIHNlYXJjaDogdXJsUGFyc2luZ05vZGUuc2VhcmNoID8gdXJsUGFyc2luZ05vZGUuc2VhcmNoLnJlcGxhY2UoL15cXD8vLCAnJykgOiAnJyxcbiAgICAgICAgaGFzaDogdXJsUGFyc2luZ05vZGUuaGFzaCA/IHVybFBhcnNpbmdOb2RlLmhhc2gucmVwbGFjZSgvXiMvLCAnJykgOiAnJyxcbiAgICAgICAgaG9zdG5hbWU6IHVybFBhcnNpbmdOb2RlLmhvc3RuYW1lLFxuICAgICAgICBwb3J0OiB1cmxQYXJzaW5nTm9kZS5wb3J0LFxuICAgICAgICBwYXRobmFtZTogKHVybFBhcnNpbmdOb2RlLnBhdGhuYW1lLmNoYXJBdCgwKSA9PT0gJy8nKSA/XG4gICAgICAgICAgICAgICAgICB1cmxQYXJzaW5nTm9kZS5wYXRobmFtZSA6XG4gICAgICAgICAgICAgICAgICAnLycgKyB1cmxQYXJzaW5nTm9kZS5wYXRobmFtZVxuICAgICAgfTtcbiAgICB9XG5cbiAgICBvcmlnaW5VUkwgPSByZXNvbHZlVVJMKHdpbmRvdy5sb2NhdGlvbi5ocmVmKTtcblxuICAgIC8qKlxuICAgICogRGV0ZXJtaW5lIGlmIGEgVVJMIHNoYXJlcyB0aGUgc2FtZSBvcmlnaW4gYXMgdGhlIGN1cnJlbnQgbG9jYXRpb25cbiAgICAqXG4gICAgKiBAcGFyYW0ge1N0cmluZ30gcmVxdWVzdFVSTCBUaGUgVVJMIHRvIHRlc3RcbiAgICAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIFVSTCBzaGFyZXMgdGhlIHNhbWUgb3JpZ2luLCBvdGhlcndpc2UgZmFsc2VcbiAgICAqL1xuICAgIHJldHVybiBmdW5jdGlvbiBpc1VSTFNhbWVPcmlnaW4ocmVxdWVzdFVSTCkge1xuICAgICAgdmFyIHBhcnNlZCA9ICh1dGlscy5pc1N0cmluZyhyZXF1ZXN0VVJMKSkgPyByZXNvbHZlVVJMKHJlcXVlc3RVUkwpIDogcmVxdWVzdFVSTDtcbiAgICAgIHJldHVybiAocGFyc2VkLnByb3RvY29sID09PSBvcmlnaW5VUkwucHJvdG9jb2wgJiZcbiAgICAgICAgICAgIHBhcnNlZC5ob3N0ID09PSBvcmlnaW5VUkwuaG9zdCk7XG4gICAgfTtcbiAgfSkoKSA6XG5cbiAgLy8gTm9uIHN0YW5kYXJkIGJyb3dzZXIgZW52cyAod2ViIHdvcmtlcnMsIHJlYWN0LW5hdGl2ZSkgbGFjayBuZWVkZWQgc3VwcG9ydC5cbiAgKGZ1bmN0aW9uIG5vblN0YW5kYXJkQnJvd3NlckVudigpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gaXNVUkxTYW1lT3JpZ2luKCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbiAgfSkoKVxuKTtcbiIsIid1c2Ugc3RyaWN0JztcblxuLy8gYnRvYSBwb2x5ZmlsbCBmb3IgSUU8MTAgY291cnRlc3kgaHR0cHM6Ly9naXRodWIuY29tL2RhdmlkY2hhbWJlcnMvQmFzZTY0LmpzXG5cbnZhciBjaGFycyA9ICdBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvPSc7XG5cbmZ1bmN0aW9uIEUoKSB7XG4gIHRoaXMubWVzc2FnZSA9ICdTdHJpbmcgY29udGFpbnMgYW4gaW52YWxpZCBjaGFyYWN0ZXInO1xufVxuRS5wcm90b3R5cGUgPSBuZXcgRXJyb3I7XG5FLnByb3RvdHlwZS5jb2RlID0gNTtcbkUucHJvdG90eXBlLm5hbWUgPSAnSW52YWxpZENoYXJhY3RlckVycm9yJztcblxuZnVuY3Rpb24gYnRvYShpbnB1dCkge1xuICB2YXIgc3RyID0gU3RyaW5nKGlucHV0KTtcbiAgdmFyIG91dHB1dCA9ICcnO1xuICBmb3IgKFxuICAgIC8vIGluaXRpYWxpemUgcmVzdWx0IGFuZCBjb3VudGVyXG4gICAgdmFyIGJsb2NrLCBjaGFyQ29kZSwgaWR4ID0gMCwgbWFwID0gY2hhcnM7XG4gICAgLy8gaWYgdGhlIG5leHQgc3RyIGluZGV4IGRvZXMgbm90IGV4aXN0OlxuICAgIC8vICAgY2hhbmdlIHRoZSBtYXBwaW5nIHRhYmxlIHRvIFwiPVwiXG4gICAgLy8gICBjaGVjayBpZiBkIGhhcyBubyBmcmFjdGlvbmFsIGRpZ2l0c1xuICAgIHN0ci5jaGFyQXQoaWR4IHwgMCkgfHwgKG1hcCA9ICc9JywgaWR4ICUgMSk7XG4gICAgLy8gXCI4IC0gaWR4ICUgMSAqIDhcIiBnZW5lcmF0ZXMgdGhlIHNlcXVlbmNlIDIsIDQsIDYsIDhcbiAgICBvdXRwdXQgKz0gbWFwLmNoYXJBdCg2MyAmIGJsb2NrID4+IDggLSBpZHggJSAxICogOClcbiAgKSB7XG4gICAgY2hhckNvZGUgPSBzdHIuY2hhckNvZGVBdChpZHggKz0gMyAvIDQpO1xuICAgIGlmIChjaGFyQ29kZSA+IDB4RkYpIHtcbiAgICAgIHRocm93IG5ldyBFKCk7XG4gICAgfVxuICAgIGJsb2NrID0gYmxvY2sgPDwgOCB8IGNoYXJDb2RlO1xuICB9XG4gIHJldHVybiBvdXRwdXQ7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gYnRvYTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi8uLi91dGlscycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IChcbiAgdXRpbHMuaXNTdGFuZGFyZEJyb3dzZXJFbnYoKSA/XG5cbiAgLy8gU3RhbmRhcmQgYnJvd3NlciBlbnZzIHN1cHBvcnQgZG9jdW1lbnQuY29va2llXG4gIChmdW5jdGlvbiBzdGFuZGFyZEJyb3dzZXJFbnYoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHdyaXRlOiBmdW5jdGlvbiB3cml0ZShuYW1lLCB2YWx1ZSwgZXhwaXJlcywgcGF0aCwgZG9tYWluLCBzZWN1cmUpIHtcbiAgICAgICAgdmFyIGNvb2tpZSA9IFtdO1xuICAgICAgICBjb29raWUucHVzaChuYW1lICsgJz0nICsgZW5jb2RlVVJJQ29tcG9uZW50KHZhbHVlKSk7XG5cbiAgICAgICAgaWYgKHV0aWxzLmlzTnVtYmVyKGV4cGlyZXMpKSB7XG4gICAgICAgICAgY29va2llLnB1c2goJ2V4cGlyZXM9JyArIG5ldyBEYXRlKGV4cGlyZXMpLnRvR01UU3RyaW5nKCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHV0aWxzLmlzU3RyaW5nKHBhdGgpKSB7XG4gICAgICAgICAgY29va2llLnB1c2goJ3BhdGg9JyArIHBhdGgpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHV0aWxzLmlzU3RyaW5nKGRvbWFpbikpIHtcbiAgICAgICAgICBjb29raWUucHVzaCgnZG9tYWluPScgKyBkb21haW4pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHNlY3VyZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgIGNvb2tpZS5wdXNoKCdzZWN1cmUnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGRvY3VtZW50LmNvb2tpZSA9IGNvb2tpZS5qb2luKCc7ICcpO1xuICAgICAgfSxcblxuICAgICAgcmVhZDogZnVuY3Rpb24gcmVhZChuYW1lKSB7XG4gICAgICAgIHZhciBtYXRjaCA9IGRvY3VtZW50LmNvb2tpZS5tYXRjaChuZXcgUmVnRXhwKCcoXnw7XFxcXHMqKSgnICsgbmFtZSArICcpPShbXjtdKiknKSk7XG4gICAgICAgIHJldHVybiAobWF0Y2ggPyBkZWNvZGVVUklDb21wb25lbnQobWF0Y2hbM10pIDogbnVsbCk7XG4gICAgICB9LFxuXG4gICAgICByZW1vdmU6IGZ1bmN0aW9uIHJlbW92ZShuYW1lKSB7XG4gICAgICAgIHRoaXMud3JpdGUobmFtZSwgJycsIERhdGUubm93KCkgLSA4NjQwMDAwMCk7XG4gICAgICB9XG4gICAgfTtcbiAgfSkoKSA6XG5cbiAgLy8gTm9uIHN0YW5kYXJkIGJyb3dzZXIgZW52ICh3ZWIgd29ya2VycywgcmVhY3QtbmF0aXZlKSBsYWNrIG5lZWRlZCBzdXBwb3J0LlxuICAoZnVuY3Rpb24gbm9uU3RhbmRhcmRCcm93c2VyRW52KCkge1xuICAgIHJldHVybiB7XG4gICAgICB3cml0ZTogZnVuY3Rpb24gd3JpdGUoKSB7fSxcbiAgICAgIHJlYWQ6IGZ1bmN0aW9uIHJlYWQoKSB7IHJldHVybiBudWxsOyB9LFxuICAgICAgcmVtb3ZlOiBmdW5jdGlvbiByZW1vdmUoKSB7fVxuICAgIH07XG4gIH0pKClcbik7XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciB1dGlscyA9IHJlcXVpcmUoJy4vLi4vdXRpbHMnKTtcblxuZnVuY3Rpb24gSW50ZXJjZXB0b3JNYW5hZ2VyKCkge1xuICB0aGlzLmhhbmRsZXJzID0gW107XG59XG5cbi8qKlxuICogQWRkIGEgbmV3IGludGVyY2VwdG9yIHRvIHRoZSBzdGFja1xuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bGZpbGxlZCBUaGUgZnVuY3Rpb24gdG8gaGFuZGxlIGB0aGVuYCBmb3IgYSBgUHJvbWlzZWBcbiAqIEBwYXJhbSB7RnVuY3Rpb259IHJlamVjdGVkIFRoZSBmdW5jdGlvbiB0byBoYW5kbGUgYHJlamVjdGAgZm9yIGEgYFByb21pc2VgXG4gKlxuICogQHJldHVybiB7TnVtYmVyfSBBbiBJRCB1c2VkIHRvIHJlbW92ZSBpbnRlcmNlcHRvciBsYXRlclxuICovXG5JbnRlcmNlcHRvck1hbmFnZXIucHJvdG90eXBlLnVzZSA9IGZ1bmN0aW9uIHVzZShmdWxmaWxsZWQsIHJlamVjdGVkKSB7XG4gIHRoaXMuaGFuZGxlcnMucHVzaCh7XG4gICAgZnVsZmlsbGVkOiBmdWxmaWxsZWQsXG4gICAgcmVqZWN0ZWQ6IHJlamVjdGVkXG4gIH0pO1xuICByZXR1cm4gdGhpcy5oYW5kbGVycy5sZW5ndGggLSAxO1xufTtcblxuLyoqXG4gKiBSZW1vdmUgYW4gaW50ZXJjZXB0b3IgZnJvbSB0aGUgc3RhY2tcbiAqXG4gKiBAcGFyYW0ge051bWJlcn0gaWQgVGhlIElEIHRoYXQgd2FzIHJldHVybmVkIGJ5IGB1c2VgXG4gKi9cbkludGVyY2VwdG9yTWFuYWdlci5wcm90b3R5cGUuZWplY3QgPSBmdW5jdGlvbiBlamVjdChpZCkge1xuICBpZiAodGhpcy5oYW5kbGVyc1tpZF0pIHtcbiAgICB0aGlzLmhhbmRsZXJzW2lkXSA9IG51bGw7XG4gIH1cbn07XG5cbi8qKlxuICogSXRlcmF0ZSBvdmVyIGFsbCB0aGUgcmVnaXN0ZXJlZCBpbnRlcmNlcHRvcnNcbiAqXG4gKiBUaGlzIG1ldGhvZCBpcyBwYXJ0aWN1bGFybHkgdXNlZnVsIGZvciBza2lwcGluZyBvdmVyIGFueVxuICogaW50ZXJjZXB0b3JzIHRoYXQgbWF5IGhhdmUgYmVjb21lIGBudWxsYCBjYWxsaW5nIGBlamVjdGAuXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gVGhlIGZ1bmN0aW9uIHRvIGNhbGwgZm9yIGVhY2ggaW50ZXJjZXB0b3JcbiAqL1xuSW50ZXJjZXB0b3JNYW5hZ2VyLnByb3RvdHlwZS5mb3JFYWNoID0gZnVuY3Rpb24gZm9yRWFjaChmbikge1xuICB1dGlscy5mb3JFYWNoKHRoaXMuaGFuZGxlcnMsIGZ1bmN0aW9uIGZvckVhY2hIYW5kbGVyKGgpIHtcbiAgICBpZiAoaCAhPT0gbnVsbCkge1xuICAgICAgZm4oaCk7XG4gICAgfVxuICB9KTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gSW50ZXJjZXB0b3JNYW5hZ2VyO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuLy4uL3V0aWxzJyk7XG52YXIgdHJhbnNmb3JtRGF0YSA9IHJlcXVpcmUoJy4vdHJhbnNmb3JtRGF0YScpO1xudmFyIGlzQ2FuY2VsID0gcmVxdWlyZSgnLi4vY2FuY2VsL2lzQ2FuY2VsJyk7XG52YXIgZGVmYXVsdHMgPSByZXF1aXJlKCcuLi9kZWZhdWx0cycpO1xudmFyIGlzQWJzb2x1dGVVUkwgPSByZXF1aXJlKCcuLy4uL2hlbHBlcnMvaXNBYnNvbHV0ZVVSTCcpO1xudmFyIGNvbWJpbmVVUkxzID0gcmVxdWlyZSgnLi8uLi9oZWxwZXJzL2NvbWJpbmVVUkxzJyk7XG5cbi8qKlxuICogVGhyb3dzIGEgYENhbmNlbGAgaWYgY2FuY2VsbGF0aW9uIGhhcyBiZWVuIHJlcXVlc3RlZC5cbiAqL1xuZnVuY3Rpb24gdGhyb3dJZkNhbmNlbGxhdGlvblJlcXVlc3RlZChjb25maWcpIHtcbiAgaWYgKGNvbmZpZy5jYW5jZWxUb2tlbikge1xuICAgIGNvbmZpZy5jYW5jZWxUb2tlbi50aHJvd0lmUmVxdWVzdGVkKCk7XG4gIH1cbn1cblxuLyoqXG4gKiBEaXNwYXRjaCBhIHJlcXVlc3QgdG8gdGhlIHNlcnZlciB1c2luZyB0aGUgY29uZmlndXJlZCBhZGFwdGVyLlxuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSBjb25maWcgVGhlIGNvbmZpZyB0aGF0IGlzIHRvIGJlIHVzZWQgZm9yIHRoZSByZXF1ZXN0XG4gKiBAcmV0dXJucyB7UHJvbWlzZX0gVGhlIFByb21pc2UgdG8gYmUgZnVsZmlsbGVkXG4gKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gZGlzcGF0Y2hSZXF1ZXN0KGNvbmZpZykge1xuICB0aHJvd0lmQ2FuY2VsbGF0aW9uUmVxdWVzdGVkKGNvbmZpZyk7XG5cbiAgLy8gU3VwcG9ydCBiYXNlVVJMIGNvbmZpZ1xuICBpZiAoY29uZmlnLmJhc2VVUkwgJiYgIWlzQWJzb2x1dGVVUkwoY29uZmlnLnVybCkpIHtcbiAgICBjb25maWcudXJsID0gY29tYmluZVVSTHMoY29uZmlnLmJhc2VVUkwsIGNvbmZpZy51cmwpO1xuICB9XG5cbiAgLy8gRW5zdXJlIGhlYWRlcnMgZXhpc3RcbiAgY29uZmlnLmhlYWRlcnMgPSBjb25maWcuaGVhZGVycyB8fCB7fTtcblxuICAvLyBUcmFuc2Zvcm0gcmVxdWVzdCBkYXRhXG4gIGNvbmZpZy5kYXRhID0gdHJhbnNmb3JtRGF0YShcbiAgICBjb25maWcuZGF0YSxcbiAgICBjb25maWcuaGVhZGVycyxcbiAgICBjb25maWcudHJhbnNmb3JtUmVxdWVzdFxuICApO1xuXG4gIC8vIEZsYXR0ZW4gaGVhZGVyc1xuICBjb25maWcuaGVhZGVycyA9IHV0aWxzLm1lcmdlKFxuICAgIGNvbmZpZy5oZWFkZXJzLmNvbW1vbiB8fCB7fSxcbiAgICBjb25maWcuaGVhZGVyc1tjb25maWcubWV0aG9kXSB8fCB7fSxcbiAgICBjb25maWcuaGVhZGVycyB8fCB7fVxuICApO1xuXG4gIHV0aWxzLmZvckVhY2goXG4gICAgWydkZWxldGUnLCAnZ2V0JywgJ2hlYWQnLCAncG9zdCcsICdwdXQnLCAncGF0Y2gnLCAnY29tbW9uJ10sXG4gICAgZnVuY3Rpb24gY2xlYW5IZWFkZXJDb25maWcobWV0aG9kKSB7XG4gICAgICBkZWxldGUgY29uZmlnLmhlYWRlcnNbbWV0aG9kXTtcbiAgICB9XG4gICk7XG5cbiAgdmFyIGFkYXB0ZXIgPSBjb25maWcuYWRhcHRlciB8fCBkZWZhdWx0cy5hZGFwdGVyO1xuXG4gIHJldHVybiBhZGFwdGVyKGNvbmZpZykudGhlbihmdW5jdGlvbiBvbkFkYXB0ZXJSZXNvbHV0aW9uKHJlc3BvbnNlKSB7XG4gICAgdGhyb3dJZkNhbmNlbGxhdGlvblJlcXVlc3RlZChjb25maWcpO1xuXG4gICAgLy8gVHJhbnNmb3JtIHJlc3BvbnNlIGRhdGFcbiAgICByZXNwb25zZS5kYXRhID0gdHJhbnNmb3JtRGF0YShcbiAgICAgIHJlc3BvbnNlLmRhdGEsXG4gICAgICByZXNwb25zZS5oZWFkZXJzLFxuICAgICAgY29uZmlnLnRyYW5zZm9ybVJlc3BvbnNlXG4gICAgKTtcblxuICAgIHJldHVybiByZXNwb25zZTtcbiAgfSwgZnVuY3Rpb24gb25BZGFwdGVyUmVqZWN0aW9uKHJlYXNvbikge1xuICAgIGlmICghaXNDYW5jZWwocmVhc29uKSkge1xuICAgICAgdGhyb3dJZkNhbmNlbGxhdGlvblJlcXVlc3RlZChjb25maWcpO1xuXG4gICAgICAvLyBUcmFuc2Zvcm0gcmVzcG9uc2UgZGF0YVxuICAgICAgaWYgKHJlYXNvbiAmJiByZWFzb24ucmVzcG9uc2UpIHtcbiAgICAgICAgcmVhc29uLnJlc3BvbnNlLmRhdGEgPSB0cmFuc2Zvcm1EYXRhKFxuICAgICAgICAgIHJlYXNvbi5yZXNwb25zZS5kYXRhLFxuICAgICAgICAgIHJlYXNvbi5yZXNwb25zZS5oZWFkZXJzLFxuICAgICAgICAgIGNvbmZpZy50cmFuc2Zvcm1SZXNwb25zZVxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBQcm9taXNlLnJlamVjdChyZWFzb24pO1xuICB9KTtcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciB1dGlscyA9IHJlcXVpcmUoJy4vLi4vdXRpbHMnKTtcblxuLyoqXG4gKiBUcmFuc2Zvcm0gdGhlIGRhdGEgZm9yIGEgcmVxdWVzdCBvciBhIHJlc3BvbnNlXG4gKlxuICogQHBhcmFtIHtPYmplY3R8U3RyaW5nfSBkYXRhIFRoZSBkYXRhIHRvIGJlIHRyYW5zZm9ybWVkXG4gKiBAcGFyYW0ge0FycmF5fSBoZWFkZXJzIFRoZSBoZWFkZXJzIGZvciB0aGUgcmVxdWVzdCBvciByZXNwb25zZVxuICogQHBhcmFtIHtBcnJheXxGdW5jdGlvbn0gZm5zIEEgc2luZ2xlIGZ1bmN0aW9uIG9yIEFycmF5IG9mIGZ1bmN0aW9uc1xuICogQHJldHVybnMgeyp9IFRoZSByZXN1bHRpbmcgdHJhbnNmb3JtZWQgZGF0YVxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHRyYW5zZm9ybURhdGEoZGF0YSwgaGVhZGVycywgZm5zKSB7XG4gIC8qZXNsaW50IG5vLXBhcmFtLXJlYXNzaWduOjAqL1xuICB1dGlscy5mb3JFYWNoKGZucywgZnVuY3Rpb24gdHJhbnNmb3JtKGZuKSB7XG4gICAgZGF0YSA9IGZuKGRhdGEsIGhlYWRlcnMpO1xuICB9KTtcblxuICByZXR1cm4gZGF0YTtcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbi8qKlxuICogRGV0ZXJtaW5lcyB3aGV0aGVyIHRoZSBzcGVjaWZpZWQgVVJMIGlzIGFic29sdXRlXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHVybCBUaGUgVVJMIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHRoZSBzcGVjaWZpZWQgVVJMIGlzIGFic29sdXRlLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBpc0Fic29sdXRlVVJMKHVybCkge1xuICAvLyBBIFVSTCBpcyBjb25zaWRlcmVkIGFic29sdXRlIGlmIGl0IGJlZ2lucyB3aXRoIFwiPHNjaGVtZT46Ly9cIiBvciBcIi8vXCIgKHByb3RvY29sLXJlbGF0aXZlIFVSTCkuXG4gIC8vIFJGQyAzOTg2IGRlZmluZXMgc2NoZW1lIG5hbWUgYXMgYSBzZXF1ZW5jZSBvZiBjaGFyYWN0ZXJzIGJlZ2lubmluZyB3aXRoIGEgbGV0dGVyIGFuZCBmb2xsb3dlZFxuICAvLyBieSBhbnkgY29tYmluYXRpb24gb2YgbGV0dGVycywgZGlnaXRzLCBwbHVzLCBwZXJpb2QsIG9yIGh5cGhlbi5cbiAgcmV0dXJuIC9eKFthLXpdW2EtelxcZFxcK1xcLVxcLl0qOik/XFwvXFwvL2kudGVzdCh1cmwpO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IFVSTCBieSBjb21iaW5pbmcgdGhlIHNwZWNpZmllZCBVUkxzXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGJhc2VVUkwgVGhlIGJhc2UgVVJMXG4gKiBAcGFyYW0ge3N0cmluZ30gcmVsYXRpdmVVUkwgVGhlIHJlbGF0aXZlIFVSTFxuICogQHJldHVybnMge3N0cmluZ30gVGhlIGNvbWJpbmVkIFVSTFxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGNvbWJpbmVVUkxzKGJhc2VVUkwsIHJlbGF0aXZlVVJMKSB7XG4gIHJldHVybiByZWxhdGl2ZVVSTFxuICAgID8gYmFzZVVSTC5yZXBsYWNlKC9cXC8rJC8sICcnKSArICcvJyArIHJlbGF0aXZlVVJMLnJlcGxhY2UoL15cXC8rLywgJycpXG4gICAgOiBiYXNlVVJMO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIENhbmNlbCA9IHJlcXVpcmUoJy4vQ2FuY2VsJyk7XG5cbi8qKlxuICogQSBgQ2FuY2VsVG9rZW5gIGlzIGFuIG9iamVjdCB0aGF0IGNhbiBiZSB1c2VkIHRvIHJlcXVlc3QgY2FuY2VsbGF0aW9uIG9mIGFuIG9wZXJhdGlvbi5cbiAqXG4gKiBAY2xhc3NcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGV4ZWN1dG9yIFRoZSBleGVjdXRvciBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gQ2FuY2VsVG9rZW4oZXhlY3V0b3IpIHtcbiAgaWYgKHR5cGVvZiBleGVjdXRvciAhPT0gJ2Z1bmN0aW9uJykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2V4ZWN1dG9yIG11c3QgYmUgYSBmdW5jdGlvbi4nKTtcbiAgfVxuXG4gIHZhciByZXNvbHZlUHJvbWlzZTtcbiAgdGhpcy5wcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24gcHJvbWlzZUV4ZWN1dG9yKHJlc29sdmUpIHtcbiAgICByZXNvbHZlUHJvbWlzZSA9IHJlc29sdmU7XG4gIH0pO1xuXG4gIHZhciB0b2tlbiA9IHRoaXM7XG4gIGV4ZWN1dG9yKGZ1bmN0aW9uIGNhbmNlbChtZXNzYWdlKSB7XG4gICAgaWYgKHRva2VuLnJlYXNvbikge1xuICAgICAgLy8gQ2FuY2VsbGF0aW9uIGhhcyBhbHJlYWR5IGJlZW4gcmVxdWVzdGVkXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdG9rZW4ucmVhc29uID0gbmV3IENhbmNlbChtZXNzYWdlKTtcbiAgICByZXNvbHZlUHJvbWlzZSh0b2tlbi5yZWFzb24pO1xuICB9KTtcbn1cblxuLyoqXG4gKiBUaHJvd3MgYSBgQ2FuY2VsYCBpZiBjYW5jZWxsYXRpb24gaGFzIGJlZW4gcmVxdWVzdGVkLlxuICovXG5DYW5jZWxUb2tlbi5wcm90b3R5cGUudGhyb3dJZlJlcXVlc3RlZCA9IGZ1bmN0aW9uIHRocm93SWZSZXF1ZXN0ZWQoKSB7XG4gIGlmICh0aGlzLnJlYXNvbikge1xuICAgIHRocm93IHRoaXMucmVhc29uO1xuICB9XG59O1xuXG4vKipcbiAqIFJldHVybnMgYW4gb2JqZWN0IHRoYXQgY29udGFpbnMgYSBuZXcgYENhbmNlbFRva2VuYCBhbmQgYSBmdW5jdGlvbiB0aGF0LCB3aGVuIGNhbGxlZCxcbiAqIGNhbmNlbHMgdGhlIGBDYW5jZWxUb2tlbmAuXG4gKi9cbkNhbmNlbFRva2VuLnNvdXJjZSA9IGZ1bmN0aW9uIHNvdXJjZSgpIHtcbiAgdmFyIGNhbmNlbDtcbiAgdmFyIHRva2VuID0gbmV3IENhbmNlbFRva2VuKGZ1bmN0aW9uIGV4ZWN1dG9yKGMpIHtcbiAgICBjYW5jZWwgPSBjO1xuICB9KTtcbiAgcmV0dXJuIHtcbiAgICB0b2tlbjogdG9rZW4sXG4gICAgY2FuY2VsOiBjYW5jZWxcbiAgfTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gQ2FuY2VsVG9rZW47XG4iLCIndXNlIHN0cmljdCc7XG5cbi8qKlxuICogU3ludGFjdGljIHN1Z2FyIGZvciBpbnZva2luZyBhIGZ1bmN0aW9uIGFuZCBleHBhbmRpbmcgYW4gYXJyYXkgZm9yIGFyZ3VtZW50cy5cbiAqXG4gKiBDb21tb24gdXNlIGNhc2Ugd291bGQgYmUgdG8gdXNlIGBGdW5jdGlvbi5wcm90b3R5cGUuYXBwbHlgLlxuICpcbiAqICBgYGBqc1xuICogIGZ1bmN0aW9uIGYoeCwgeSwgeikge31cbiAqICB2YXIgYXJncyA9IFsxLCAyLCAzXTtcbiAqICBmLmFwcGx5KG51bGwsIGFyZ3MpO1xuICogIGBgYFxuICpcbiAqIFdpdGggYHNwcmVhZGAgdGhpcyBleGFtcGxlIGNhbiBiZSByZS13cml0dGVuLlxuICpcbiAqICBgYGBqc1xuICogIHNwcmVhZChmdW5jdGlvbih4LCB5LCB6KSB7fSkoWzEsIDIsIDNdKTtcbiAqICBgYGBcbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xuICogQHJldHVybnMge0Z1bmN0aW9ufVxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHNwcmVhZChjYWxsYmFjaykge1xuICByZXR1cm4gZnVuY3Rpb24gd3JhcChhcnIpIHtcbiAgICByZXR1cm4gY2FsbGJhY2suYXBwbHkobnVsbCwgYXJyKTtcbiAgfTtcbn07XG4iLCIvKipcbiAqIG1hcmtlZCAtIGEgbWFya2Rvd24gcGFyc2VyXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTEtMjAxOCwgQ2hyaXN0b3BoZXIgSmVmZnJleS4gKE1JVCBMaWNlbnNlZClcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9tYXJrZWRqcy9tYXJrZWRcbiAqL1xuXG47KGZ1bmN0aW9uKHJvb3QpIHtcbid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBCbG9jay1MZXZlbCBHcmFtbWFyXG4gKi9cblxudmFyIGJsb2NrID0ge1xuICBuZXdsaW5lOiAvXlxcbisvLFxuICBjb2RlOiAvXiggezR9W15cXG5dK1xcbiopKy8sXG4gIGZlbmNlczogL14gezAsM30oYHszLH18fnszLH0pKFteYH5cXG5dKilcXG4oPzp8KFtcXHNcXFNdKj8pXFxuKSg/OiB7MCwzfVxcMVt+YF0qICooPzpcXG4rfCQpfCQpLyxcbiAgaHI6IC9eIHswLDN9KCg/Oi0gKil7Myx9fCg/Ol8gKil7Myx9fCg/OlxcKiAqKXszLH0pKD86XFxuK3wkKS8sXG4gIGhlYWRpbmc6IC9eIHswLDN9KCN7MSw2fSkgKyhbXlxcbl0qPykoPzogKyMrKT8gKig/Olxcbit8JCkvLFxuICBibG9ja3F1b3RlOiAvXiggezAsM30+ID8ocGFyYWdyYXBofFteXFxuXSopKD86XFxufCQpKSsvLFxuICBsaXN0OiAvXiggezAsM30pKGJ1bGwpIFtcXHNcXFNdKz8oPzpocnxkZWZ8XFxuezIsfSg/ISApKD8hXFwxYnVsbCApXFxuKnxcXHMqJCkvLFxuICBodG1sOiAnXiB7MCwzfSg/OicgLy8gb3B0aW9uYWwgaW5kZW50YXRpb25cbiAgICArICc8KHNjcmlwdHxwcmV8c3R5bGUpW1xcXFxzPl1bXFxcXHNcXFxcU10qPyg/OjwvXFxcXDE+W15cXFxcbl0qXFxcXG4rfCQpJyAvLyAoMSlcbiAgICArICd8Y29tbWVudFteXFxcXG5dKihcXFxcbit8JCknIC8vICgyKVxuICAgICsgJ3w8XFxcXD9bXFxcXHNcXFxcU10qP1xcXFw/PlxcXFxuKicgLy8gKDMpXG4gICAgKyAnfDwhW0EtWl1bXFxcXHNcXFxcU10qPz5cXFxcbionIC8vICg0KVxuICAgICsgJ3w8IVxcXFxbQ0RBVEFcXFxcW1tcXFxcc1xcXFxTXSo/XFxcXF1cXFxcXT5cXFxcbionIC8vICg1KVxuICAgICsgJ3w8Lz8odGFnKSg/OiArfFxcXFxufC8/PilbXFxcXHNcXFxcU10qPyg/OlxcXFxuezIsfXwkKScgLy8gKDYpXG4gICAgKyAnfDwoPyFzY3JpcHR8cHJlfHN0eWxlKShbYS16XVtcXFxcdy1dKikoPzphdHRyaWJ1dGUpKj8gKi8/Pig/PVsgXFxcXHRdKig/OlxcXFxufCQpKVtcXFxcc1xcXFxTXSo/KD86XFxcXG57Mix9fCQpJyAvLyAoNykgb3BlbiB0YWdcbiAgICArICd8PC8oPyFzY3JpcHR8cHJlfHN0eWxlKVthLXpdW1xcXFx3LV0qXFxcXHMqPig/PVsgXFxcXHRdKig/OlxcXFxufCQpKVtcXFxcc1xcXFxTXSo/KD86XFxcXG57Mix9fCQpJyAvLyAoNykgY2xvc2luZyB0YWdcbiAgICArICcpJyxcbiAgZGVmOiAvXiB7MCwzfVxcWyhsYWJlbClcXF06ICpcXG4/ICo8PyhbXlxccz5dKyk+Pyg/Oig/OiArXFxuPyAqfCAqXFxuICopKHRpdGxlKSk/ICooPzpcXG4rfCQpLyxcbiAgbnB0YWJsZTogbm9vcCxcbiAgdGFibGU6IG5vb3AsXG4gIGxoZWFkaW5nOiAvXihbXlxcbl0rKVxcbiB7MCwzfSg9K3wtKykgKig/Olxcbit8JCkvLFxuICAvLyByZWdleCB0ZW1wbGF0ZSwgcGxhY2Vob2xkZXJzIHdpbGwgYmUgcmVwbGFjZWQgYWNjb3JkaW5nIHRvIGRpZmZlcmVudCBwYXJhZ3JhcGhcbiAgLy8gaW50ZXJydXB0aW9uIHJ1bGVzIG9mIGNvbW1vbm1hcmsgYW5kIHRoZSBvcmlnaW5hbCBtYXJrZG93biBzcGVjOlxuICBfcGFyYWdyYXBoOiAvXihbXlxcbl0rKD86XFxuKD8haHJ8aGVhZGluZ3xsaGVhZGluZ3xibG9ja3F1b3RlfGZlbmNlc3xsaXN0fGh0bWwpW15cXG5dKykqKS8sXG4gIHRleHQ6IC9eW15cXG5dKy9cbn07XG5cbmJsb2NrLl9sYWJlbCA9IC8oPyFcXHMqXFxdKSg/OlxcXFxbXFxbXFxdXXxbXlxcW1xcXV0pKy87XG5ibG9jay5fdGl0bGUgPSAvKD86XCIoPzpcXFxcXCI/fFteXCJcXFxcXSkqXCJ8J1teJ1xcbl0qKD86XFxuW14nXFxuXSspKlxcbj8nfFxcKFteKCldKlxcKSkvO1xuYmxvY2suZGVmID0gZWRpdChibG9jay5kZWYpXG4gIC5yZXBsYWNlKCdsYWJlbCcsIGJsb2NrLl9sYWJlbClcbiAgLnJlcGxhY2UoJ3RpdGxlJywgYmxvY2suX3RpdGxlKVxuICAuZ2V0UmVnZXgoKTtcblxuYmxvY2suYnVsbGV0ID0gLyg/OlsqKy1dfFxcZHsxLDl9XFwuKS87XG5ibG9jay5pdGVtID0gL14oICopKGJ1bGwpID9bXlxcbl0qKD86XFxuKD8hXFwxYnVsbCA/KVteXFxuXSopKi87XG5ibG9jay5pdGVtID0gZWRpdChibG9jay5pdGVtLCAnZ20nKVxuICAucmVwbGFjZSgvYnVsbC9nLCBibG9jay5idWxsZXQpXG4gIC5nZXRSZWdleCgpO1xuXG5ibG9jay5saXN0ID0gZWRpdChibG9jay5saXN0KVxuICAucmVwbGFjZSgvYnVsbC9nLCBibG9jay5idWxsZXQpXG4gIC5yZXBsYWNlKCdocicsICdcXFxcbisoPz1cXFxcMT8oPzooPzotICopezMsfXwoPzpfICopezMsfXwoPzpcXFxcKiAqKXszLH0pKD86XFxcXG4rfCQpKScpXG4gIC5yZXBsYWNlKCdkZWYnLCAnXFxcXG4rKD89JyArIGJsb2NrLmRlZi5zb3VyY2UgKyAnKScpXG4gIC5nZXRSZWdleCgpO1xuXG5ibG9jay5fdGFnID0gJ2FkZHJlc3N8YXJ0aWNsZXxhc2lkZXxiYXNlfGJhc2Vmb250fGJsb2NrcXVvdGV8Ym9keXxjYXB0aW9uJ1xuICArICd8Y2VudGVyfGNvbHxjb2xncm91cHxkZHxkZXRhaWxzfGRpYWxvZ3xkaXJ8ZGl2fGRsfGR0fGZpZWxkc2V0fGZpZ2NhcHRpb24nXG4gICsgJ3xmaWd1cmV8Zm9vdGVyfGZvcm18ZnJhbWV8ZnJhbWVzZXR8aFsxLTZdfGhlYWR8aGVhZGVyfGhyfGh0bWx8aWZyYW1lJ1xuICArICd8bGVnZW5kfGxpfGxpbmt8bWFpbnxtZW51fG1lbnVpdGVtfG1ldGF8bmF2fG5vZnJhbWVzfG9sfG9wdGdyb3VwfG9wdGlvbidcbiAgKyAnfHB8cGFyYW18c2VjdGlvbnxzb3VyY2V8c3VtbWFyeXx0YWJsZXx0Ym9keXx0ZHx0Zm9vdHx0aHx0aGVhZHx0aXRsZXx0cidcbiAgKyAnfHRyYWNrfHVsJztcbmJsb2NrLl9jb21tZW50ID0gLzwhLS0oPyEtPz4pW1xcc1xcU10qPy0tPi87XG5ibG9jay5odG1sID0gZWRpdChibG9jay5odG1sLCAnaScpXG4gIC5yZXBsYWNlKCdjb21tZW50JywgYmxvY2suX2NvbW1lbnQpXG4gIC5yZXBsYWNlKCd0YWcnLCBibG9jay5fdGFnKVxuICAucmVwbGFjZSgnYXR0cmlidXRlJywgLyArW2EtekEtWjpfXVtcXHcuOi1dKig/OiAqPSAqXCJbXlwiXFxuXSpcInwgKj0gKidbXidcXG5dKid8ICo9ICpbXlxcc1wiJz08PmBdKyk/LylcbiAgLmdldFJlZ2V4KCk7XG5cbmJsb2NrLnBhcmFncmFwaCA9IGVkaXQoYmxvY2suX3BhcmFncmFwaClcbiAgLnJlcGxhY2UoJ2hyJywgYmxvY2suaHIpXG4gIC5yZXBsYWNlKCdoZWFkaW5nJywgJyB7MCwzfSN7MSw2fSArJylcbiAgLnJlcGxhY2UoJ3xsaGVhZGluZycsICcnKSAvLyBzZXRleCBoZWFkaW5ncyBkb24ndCBpbnRlcnJ1cHQgY29tbW9ubWFyayBwYXJhZ3JhcGhzXG4gIC5yZXBsYWNlKCdibG9ja3F1b3RlJywgJyB7MCwzfT4nKVxuICAucmVwbGFjZSgnZmVuY2VzJywgJyB7MCwzfSg/OmB7Myx9fH57Myx9KVteYFxcXFxuXSpcXFxcbicpXG4gIC5yZXBsYWNlKCdsaXN0JywgJyB7MCwzfSg/OlsqKy1dfDFbLildKSAnKSAvLyBvbmx5IGxpc3RzIHN0YXJ0aW5nIGZyb20gMSBjYW4gaW50ZXJydXB0XG4gIC5yZXBsYWNlKCdodG1sJywgJzwvPyg/OnRhZykoPzogK3xcXFxcbnwvPz4pfDwoPzpzY3JpcHR8cHJlfHN0eWxlfCEtLSknKVxuICAucmVwbGFjZSgndGFnJywgYmxvY2suX3RhZykgLy8gcGFycyBjYW4gYmUgaW50ZXJydXB0ZWQgYnkgdHlwZSAoNikgaHRtbCBibG9ja3NcbiAgLmdldFJlZ2V4KCk7XG5cbmJsb2NrLmJsb2NrcXVvdGUgPSBlZGl0KGJsb2NrLmJsb2NrcXVvdGUpXG4gIC5yZXBsYWNlKCdwYXJhZ3JhcGgnLCBibG9jay5wYXJhZ3JhcGgpXG4gIC5nZXRSZWdleCgpO1xuXG4vKipcbiAqIE5vcm1hbCBCbG9jayBHcmFtbWFyXG4gKi9cblxuYmxvY2subm9ybWFsID0gbWVyZ2Uoe30sIGJsb2NrKTtcblxuLyoqXG4gKiBHRk0gQmxvY2sgR3JhbW1hclxuICovXG5cbmJsb2NrLmdmbSA9IG1lcmdlKHt9LCBibG9jay5ub3JtYWwsIHtcbiAgbnB0YWJsZTogL14gKihbXnxcXG4gXS4qXFx8LiopXFxuICooWy06XSsgKlxcfFstfCA6XSopKD86XFxuKCg/Oi4qW14+XFxuIF0uKig/OlxcbnwkKSkqKVxcbip8JCkvLFxuICB0YWJsZTogL14gKlxcfCguKylcXG4gKlxcfD8oICpbLTpdK1stfCA6XSopKD86XFxuKCg/OiAqW14+XFxuIF0uKig/OlxcbnwkKSkqKVxcbip8JCkvXG59KTtcblxuLyoqXG4gKiBQZWRhbnRpYyBncmFtbWFyIChvcmlnaW5hbCBKb2huIEdydWJlcidzIGxvb3NlIG1hcmtkb3duIHNwZWNpZmljYXRpb24pXG4gKi9cblxuYmxvY2sucGVkYW50aWMgPSBtZXJnZSh7fSwgYmxvY2subm9ybWFsLCB7XG4gIGh0bWw6IGVkaXQoXG4gICAgJ14gKig/OmNvbW1lbnQgKig/OlxcXFxufFxcXFxzKiQpJ1xuICAgICsgJ3w8KHRhZylbXFxcXHNcXFxcU10rPzwvXFxcXDE+ICooPzpcXFxcbnsyLH18XFxcXHMqJCknIC8vIGNsb3NlZCB0YWdcbiAgICArICd8PHRhZyg/OlwiW15cIl0qXCJ8XFwnW15cXCddKlxcJ3xcXFxcc1teXFwnXCIvPlxcXFxzXSopKj8vPz4gKig/OlxcXFxuezIsfXxcXFxccyokKSknKVxuICAgIC5yZXBsYWNlKCdjb21tZW50JywgYmxvY2suX2NvbW1lbnQpXG4gICAgLnJlcGxhY2UoL3RhZy9nLCAnKD8hKD86J1xuICAgICAgKyAnYXxlbXxzdHJvbmd8c21hbGx8c3xjaXRlfHF8ZGZufGFiYnJ8ZGF0YXx0aW1lfGNvZGV8dmFyfHNhbXB8a2JkfHN1YidcbiAgICAgICsgJ3xzdXB8aXxifHV8bWFya3xydWJ5fHJ0fHJwfGJkaXxiZG98c3Bhbnxicnx3YnJ8aW5zfGRlbHxpbWcpJ1xuICAgICAgKyAnXFxcXGIpXFxcXHcrKD8hOnxbXlxcXFx3XFxcXHNAXSpAKVxcXFxiJylcbiAgICAuZ2V0UmVnZXgoKSxcbiAgZGVmOiAvXiAqXFxbKFteXFxdXSspXFxdOiAqPD8oW15cXHM+XSspPj8oPzogKyhbXCIoXVteXFxuXStbXCIpXSkpPyAqKD86XFxuK3wkKS8sXG4gIGhlYWRpbmc6IC9eICooI3sxLDZ9KSAqKFteXFxuXSs/KSAqKD86IysgKik/KD86XFxuK3wkKS8sXG4gIGZlbmNlczogbm9vcCwgLy8gZmVuY2VzIG5vdCBzdXBwb3J0ZWRcbiAgcGFyYWdyYXBoOiBlZGl0KGJsb2NrLm5vcm1hbC5fcGFyYWdyYXBoKVxuICAgIC5yZXBsYWNlKCdocicsIGJsb2NrLmhyKVxuICAgIC5yZXBsYWNlKCdoZWFkaW5nJywgJyAqI3sxLDZ9ICpbXlxcbl0nKVxuICAgIC5yZXBsYWNlKCdsaGVhZGluZycsIGJsb2NrLmxoZWFkaW5nKVxuICAgIC5yZXBsYWNlKCdibG9ja3F1b3RlJywgJyB7MCwzfT4nKVxuICAgIC5yZXBsYWNlKCd8ZmVuY2VzJywgJycpXG4gICAgLnJlcGxhY2UoJ3xsaXN0JywgJycpXG4gICAgLnJlcGxhY2UoJ3xodG1sJywgJycpXG4gICAgLmdldFJlZ2V4KClcbn0pO1xuXG4vKipcbiAqIEJsb2NrIExleGVyXG4gKi9cblxuZnVuY3Rpb24gTGV4ZXIob3B0aW9ucykge1xuICB0aGlzLnRva2VucyA9IFtdO1xuICB0aGlzLnRva2Vucy5saW5rcyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gIHRoaXMub3B0aW9ucyA9IG9wdGlvbnMgfHwgbWFya2VkLmRlZmF1bHRzO1xuICB0aGlzLnJ1bGVzID0gYmxvY2subm9ybWFsO1xuXG4gIGlmICh0aGlzLm9wdGlvbnMucGVkYW50aWMpIHtcbiAgICB0aGlzLnJ1bGVzID0gYmxvY2sucGVkYW50aWM7XG4gIH0gZWxzZSBpZiAodGhpcy5vcHRpb25zLmdmbSkge1xuICAgIHRoaXMucnVsZXMgPSBibG9jay5nZm07XG4gIH1cbn1cblxuLyoqXG4gKiBFeHBvc2UgQmxvY2sgUnVsZXNcbiAqL1xuXG5MZXhlci5ydWxlcyA9IGJsb2NrO1xuXG4vKipcbiAqIFN0YXRpYyBMZXggTWV0aG9kXG4gKi9cblxuTGV4ZXIubGV4ID0gZnVuY3Rpb24oc3JjLCBvcHRpb25zKSB7XG4gIHZhciBsZXhlciA9IG5ldyBMZXhlcihvcHRpb25zKTtcbiAgcmV0dXJuIGxleGVyLmxleChzcmMpO1xufTtcblxuLyoqXG4gKiBQcmVwcm9jZXNzaW5nXG4gKi9cblxuTGV4ZXIucHJvdG90eXBlLmxleCA9IGZ1bmN0aW9uKHNyYykge1xuICBzcmMgPSBzcmNcbiAgICAucmVwbGFjZSgvXFxyXFxufFxcci9nLCAnXFxuJylcbiAgICAucmVwbGFjZSgvXFx0L2csICcgICAgJylcbiAgICAucmVwbGFjZSgvXFx1MDBhMC9nLCAnICcpXG4gICAgLnJlcGxhY2UoL1xcdTI0MjQvZywgJ1xcbicpO1xuXG4gIHJldHVybiB0aGlzLnRva2VuKHNyYywgdHJ1ZSk7XG59O1xuXG4vKipcbiAqIExleGluZ1xuICovXG5cbkxleGVyLnByb3RvdHlwZS50b2tlbiA9IGZ1bmN0aW9uKHNyYywgdG9wKSB7XG4gIHNyYyA9IHNyYy5yZXBsYWNlKC9eICskL2dtLCAnJyk7XG4gIHZhciBuZXh0LFxuICAgICAgbG9vc2UsXG4gICAgICBjYXAsXG4gICAgICBidWxsLFxuICAgICAgYixcbiAgICAgIGl0ZW0sXG4gICAgICBsaXN0U3RhcnQsXG4gICAgICBsaXN0SXRlbXMsXG4gICAgICB0LFxuICAgICAgc3BhY2UsXG4gICAgICBpLFxuICAgICAgdGFnLFxuICAgICAgbCxcbiAgICAgIGlzb3JkZXJlZCxcbiAgICAgIGlzdGFzayxcbiAgICAgIGlzY2hlY2tlZDtcblxuICB3aGlsZSAoc3JjKSB7XG4gICAgLy8gbmV3bGluZVxuICAgIGlmIChjYXAgPSB0aGlzLnJ1bGVzLm5ld2xpbmUuZXhlYyhzcmMpKSB7XG4gICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKGNhcFswXS5sZW5ndGgpO1xuICAgICAgaWYgKGNhcFswXS5sZW5ndGggPiAxKSB7XG4gICAgICAgIHRoaXMudG9rZW5zLnB1c2goe1xuICAgICAgICAgIHR5cGU6ICdzcGFjZSdcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gY29kZVxuICAgIGlmIChjYXAgPSB0aGlzLnJ1bGVzLmNvZGUuZXhlYyhzcmMpKSB7XG4gICAgICB2YXIgbGFzdFRva2VuID0gdGhpcy50b2tlbnNbdGhpcy50b2tlbnMubGVuZ3RoIC0gMV07XG4gICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKGNhcFswXS5sZW5ndGgpO1xuICAgICAgLy8gQW4gaW5kZW50ZWQgY29kZSBibG9jayBjYW5ub3QgaW50ZXJydXB0IGEgcGFyYWdyYXBoLlxuICAgICAgaWYgKGxhc3RUb2tlbiAmJiBsYXN0VG9rZW4udHlwZSA9PT0gJ3BhcmFncmFwaCcpIHtcbiAgICAgICAgbGFzdFRva2VuLnRleHQgKz0gJ1xcbicgKyBjYXBbMF0udHJpbVJpZ2h0KCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjYXAgPSBjYXBbMF0ucmVwbGFjZSgvXiB7NH0vZ20sICcnKTtcbiAgICAgICAgdGhpcy50b2tlbnMucHVzaCh7XG4gICAgICAgICAgdHlwZTogJ2NvZGUnLFxuICAgICAgICAgIGNvZGVCbG9ja1N0eWxlOiAnaW5kZW50ZWQnLFxuICAgICAgICAgIHRleHQ6ICF0aGlzLm9wdGlvbnMucGVkYW50aWNcbiAgICAgICAgICAgID8gcnRyaW0oY2FwLCAnXFxuJylcbiAgICAgICAgICAgIDogY2FwXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgLy8gZmVuY2VzXG4gICAgaWYgKGNhcCA9IHRoaXMucnVsZXMuZmVuY2VzLmV4ZWMoc3JjKSkge1xuICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyhjYXBbMF0ubGVuZ3RoKTtcbiAgICAgIHRoaXMudG9rZW5zLnB1c2goe1xuICAgICAgICB0eXBlOiAnY29kZScsXG4gICAgICAgIGxhbmc6IGNhcFsyXSA/IGNhcFsyXS50cmltKCkgOiBjYXBbMl0sXG4gICAgICAgIHRleHQ6IGNhcFszXSB8fCAnJ1xuICAgICAgfSk7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICAvLyBoZWFkaW5nXG4gICAgaWYgKGNhcCA9IHRoaXMucnVsZXMuaGVhZGluZy5leGVjKHNyYykpIHtcbiAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcoY2FwWzBdLmxlbmd0aCk7XG4gICAgICB0aGlzLnRva2Vucy5wdXNoKHtcbiAgICAgICAgdHlwZTogJ2hlYWRpbmcnLFxuICAgICAgICBkZXB0aDogY2FwWzFdLmxlbmd0aCxcbiAgICAgICAgdGV4dDogY2FwWzJdXG4gICAgICB9KTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIC8vIHRhYmxlIG5vIGxlYWRpbmcgcGlwZSAoZ2ZtKVxuICAgIGlmIChjYXAgPSB0aGlzLnJ1bGVzLm5wdGFibGUuZXhlYyhzcmMpKSB7XG4gICAgICBpdGVtID0ge1xuICAgICAgICB0eXBlOiAndGFibGUnLFxuICAgICAgICBoZWFkZXI6IHNwbGl0Q2VsbHMoY2FwWzFdLnJlcGxhY2UoL14gKnwgKlxcfCAqJC9nLCAnJykpLFxuICAgICAgICBhbGlnbjogY2FwWzJdLnJlcGxhY2UoL14gKnxcXHwgKiQvZywgJycpLnNwbGl0KC8gKlxcfCAqLyksXG4gICAgICAgIGNlbGxzOiBjYXBbM10gPyBjYXBbM10ucmVwbGFjZSgvXFxuJC8sICcnKS5zcGxpdCgnXFxuJykgOiBbXVxuICAgICAgfTtcblxuICAgICAgaWYgKGl0ZW0uaGVhZGVyLmxlbmd0aCA9PT0gaXRlbS5hbGlnbi5sZW5ndGgpIHtcbiAgICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyhjYXBbMF0ubGVuZ3RoKTtcblxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgaXRlbS5hbGlnbi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGlmICgvXiAqLSs6ICokLy50ZXN0KGl0ZW0uYWxpZ25baV0pKSB7XG4gICAgICAgICAgICBpdGVtLmFsaWduW2ldID0gJ3JpZ2h0JztcbiAgICAgICAgICB9IGVsc2UgaWYgKC9eICo6LSs6ICokLy50ZXN0KGl0ZW0uYWxpZ25baV0pKSB7XG4gICAgICAgICAgICBpdGVtLmFsaWduW2ldID0gJ2NlbnRlcic7XG4gICAgICAgICAgfSBlbHNlIGlmICgvXiAqOi0rICokLy50ZXN0KGl0ZW0uYWxpZ25baV0pKSB7XG4gICAgICAgICAgICBpdGVtLmFsaWduW2ldID0gJ2xlZnQnO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpdGVtLmFsaWduW2ldID0gbnVsbDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgaXRlbS5jZWxscy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGl0ZW0uY2VsbHNbaV0gPSBzcGxpdENlbGxzKGl0ZW0uY2VsbHNbaV0sIGl0ZW0uaGVhZGVyLmxlbmd0aCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnRva2Vucy5wdXNoKGl0ZW0pO1xuXG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIGhyXG4gICAgaWYgKGNhcCA9IHRoaXMucnVsZXMuaHIuZXhlYyhzcmMpKSB7XG4gICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKGNhcFswXS5sZW5ndGgpO1xuICAgICAgdGhpcy50b2tlbnMucHVzaCh7XG4gICAgICAgIHR5cGU6ICdocidcbiAgICAgIH0pO1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgLy8gYmxvY2txdW90ZVxuICAgIGlmIChjYXAgPSB0aGlzLnJ1bGVzLmJsb2NrcXVvdGUuZXhlYyhzcmMpKSB7XG4gICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKGNhcFswXS5sZW5ndGgpO1xuXG4gICAgICB0aGlzLnRva2Vucy5wdXNoKHtcbiAgICAgICAgdHlwZTogJ2Jsb2NrcXVvdGVfc3RhcnQnXG4gICAgICB9KTtcblxuICAgICAgY2FwID0gY2FwWzBdLnJlcGxhY2UoL14gKj4gPy9nbSwgJycpO1xuXG4gICAgICAvLyBQYXNzIGB0b3BgIHRvIGtlZXAgdGhlIGN1cnJlbnRcbiAgICAgIC8vIFwidG9wbGV2ZWxcIiBzdGF0ZS4gVGhpcyBpcyBleGFjdGx5XG4gICAgICAvLyBob3cgbWFya2Rvd24ucGwgd29ya3MuXG4gICAgICB0aGlzLnRva2VuKGNhcCwgdG9wKTtcblxuICAgICAgdGhpcy50b2tlbnMucHVzaCh7XG4gICAgICAgIHR5cGU6ICdibG9ja3F1b3RlX2VuZCdcbiAgICAgIH0pO1xuXG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICAvLyBsaXN0XG4gICAgaWYgKGNhcCA9IHRoaXMucnVsZXMubGlzdC5leGVjKHNyYykpIHtcbiAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcoY2FwWzBdLmxlbmd0aCk7XG4gICAgICBidWxsID0gY2FwWzJdO1xuICAgICAgaXNvcmRlcmVkID0gYnVsbC5sZW5ndGggPiAxO1xuXG4gICAgICBsaXN0U3RhcnQgPSB7XG4gICAgICAgIHR5cGU6ICdsaXN0X3N0YXJ0JyxcbiAgICAgICAgb3JkZXJlZDogaXNvcmRlcmVkLFxuICAgICAgICBzdGFydDogaXNvcmRlcmVkID8gK2J1bGwgOiAnJyxcbiAgICAgICAgbG9vc2U6IGZhbHNlXG4gICAgICB9O1xuXG4gICAgICB0aGlzLnRva2Vucy5wdXNoKGxpc3RTdGFydCk7XG5cbiAgICAgIC8vIEdldCBlYWNoIHRvcC1sZXZlbCBpdGVtLlxuICAgICAgY2FwID0gY2FwWzBdLm1hdGNoKHRoaXMucnVsZXMuaXRlbSk7XG5cbiAgICAgIGxpc3RJdGVtcyA9IFtdO1xuICAgICAgbmV4dCA9IGZhbHNlO1xuICAgICAgbCA9IGNhcC5sZW5ndGg7XG4gICAgICBpID0gMDtcblxuICAgICAgZm9yICg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgaXRlbSA9IGNhcFtpXTtcblxuICAgICAgICAvLyBSZW1vdmUgdGhlIGxpc3QgaXRlbSdzIGJ1bGxldFxuICAgICAgICAvLyBzbyBpdCBpcyBzZWVuIGFzIHRoZSBuZXh0IHRva2VuLlxuICAgICAgICBzcGFjZSA9IGl0ZW0ubGVuZ3RoO1xuICAgICAgICBpdGVtID0gaXRlbS5yZXBsYWNlKC9eICooWyorLV18XFxkK1xcLikgKi8sICcnKTtcblxuICAgICAgICAvLyBPdXRkZW50IHdoYXRldmVyIHRoZVxuICAgICAgICAvLyBsaXN0IGl0ZW0gY29udGFpbnMuIEhhY2t5LlxuICAgICAgICBpZiAofml0ZW0uaW5kZXhPZignXFxuICcpKSB7XG4gICAgICAgICAgc3BhY2UgLT0gaXRlbS5sZW5ndGg7XG4gICAgICAgICAgaXRlbSA9ICF0aGlzLm9wdGlvbnMucGVkYW50aWNcbiAgICAgICAgICAgID8gaXRlbS5yZXBsYWNlKG5ldyBSZWdFeHAoJ14gezEsJyArIHNwYWNlICsgJ30nLCAnZ20nKSwgJycpXG4gICAgICAgICAgICA6IGl0ZW0ucmVwbGFjZSgvXiB7MSw0fS9nbSwgJycpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gRGV0ZXJtaW5lIHdoZXRoZXIgdGhlIG5leHQgbGlzdCBpdGVtIGJlbG9uZ3MgaGVyZS5cbiAgICAgICAgLy8gQmFja3BlZGFsIGlmIGl0IGRvZXMgbm90IGJlbG9uZyBpbiB0aGlzIGxpc3QuXG4gICAgICAgIGlmIChpICE9PSBsIC0gMSkge1xuICAgICAgICAgIGIgPSBibG9jay5idWxsZXQuZXhlYyhjYXBbaSArIDFdKVswXTtcbiAgICAgICAgICBpZiAoYnVsbC5sZW5ndGggPiAxID8gYi5sZW5ndGggPT09IDFcbiAgICAgICAgICAgIDogKGIubGVuZ3RoID4gMSB8fCAodGhpcy5vcHRpb25zLnNtYXJ0TGlzdHMgJiYgYiAhPT0gYnVsbCkpKSB7XG4gICAgICAgICAgICBzcmMgPSBjYXAuc2xpY2UoaSArIDEpLmpvaW4oJ1xcbicpICsgc3JjO1xuICAgICAgICAgICAgaSA9IGwgLSAxO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIERldGVybWluZSB3aGV0aGVyIGl0ZW0gaXMgbG9vc2Ugb3Igbm90LlxuICAgICAgICAvLyBVc2U6IC8oXnxcXG4pKD8hIClbXlxcbl0rXFxuXFxuKD8hXFxzKiQpL1xuICAgICAgICAvLyBmb3IgZGlzY291bnQgYmVoYXZpb3IuXG4gICAgICAgIGxvb3NlID0gbmV4dCB8fCAvXFxuXFxuKD8hXFxzKiQpLy50ZXN0KGl0ZW0pO1xuICAgICAgICBpZiAoaSAhPT0gbCAtIDEpIHtcbiAgICAgICAgICBuZXh0ID0gaXRlbS5jaGFyQXQoaXRlbS5sZW5ndGggLSAxKSA9PT0gJ1xcbic7XG4gICAgICAgICAgaWYgKCFsb29zZSkgbG9vc2UgPSBuZXh0O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGxvb3NlKSB7XG4gICAgICAgICAgbGlzdFN0YXJ0Lmxvb3NlID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENoZWNrIGZvciB0YXNrIGxpc3QgaXRlbXNcbiAgICAgICAgaXN0YXNrID0gL15cXFtbIHhYXVxcXSAvLnRlc3QoaXRlbSk7XG4gICAgICAgIGlzY2hlY2tlZCA9IHVuZGVmaW5lZDtcbiAgICAgICAgaWYgKGlzdGFzaykge1xuICAgICAgICAgIGlzY2hlY2tlZCA9IGl0ZW1bMV0gIT09ICcgJztcbiAgICAgICAgICBpdGVtID0gaXRlbS5yZXBsYWNlKC9eXFxbWyB4WF1cXF0gKy8sICcnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHQgPSB7XG4gICAgICAgICAgdHlwZTogJ2xpc3RfaXRlbV9zdGFydCcsXG4gICAgICAgICAgdGFzazogaXN0YXNrLFxuICAgICAgICAgIGNoZWNrZWQ6IGlzY2hlY2tlZCxcbiAgICAgICAgICBsb29zZTogbG9vc2VcbiAgICAgICAgfTtcblxuICAgICAgICBsaXN0SXRlbXMucHVzaCh0KTtcbiAgICAgICAgdGhpcy50b2tlbnMucHVzaCh0KTtcblxuICAgICAgICAvLyBSZWN1cnNlLlxuICAgICAgICB0aGlzLnRva2VuKGl0ZW0sIGZhbHNlKTtcblxuICAgICAgICB0aGlzLnRva2Vucy5wdXNoKHtcbiAgICAgICAgICB0eXBlOiAnbGlzdF9pdGVtX2VuZCdcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChsaXN0U3RhcnQubG9vc2UpIHtcbiAgICAgICAgbCA9IGxpc3RJdGVtcy5sZW5ndGg7XG4gICAgICAgIGkgPSAwO1xuICAgICAgICBmb3IgKDsgaSA8IGw7IGkrKykge1xuICAgICAgICAgIGxpc3RJdGVtc1tpXS5sb29zZSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdGhpcy50b2tlbnMucHVzaCh7XG4gICAgICAgIHR5cGU6ICdsaXN0X2VuZCdcbiAgICAgIH0pO1xuXG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICAvLyBodG1sXG4gICAgaWYgKGNhcCA9IHRoaXMucnVsZXMuaHRtbC5leGVjKHNyYykpIHtcbiAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcoY2FwWzBdLmxlbmd0aCk7XG4gICAgICB0aGlzLnRva2Vucy5wdXNoKHtcbiAgICAgICAgdHlwZTogdGhpcy5vcHRpb25zLnNhbml0aXplXG4gICAgICAgICAgPyAncGFyYWdyYXBoJ1xuICAgICAgICAgIDogJ2h0bWwnLFxuICAgICAgICBwcmU6ICF0aGlzLm9wdGlvbnMuc2FuaXRpemVyXG4gICAgICAgICAgJiYgKGNhcFsxXSA9PT0gJ3ByZScgfHwgY2FwWzFdID09PSAnc2NyaXB0JyB8fCBjYXBbMV0gPT09ICdzdHlsZScpLFxuICAgICAgICB0ZXh0OiB0aGlzLm9wdGlvbnMuc2FuaXRpemUgPyAodGhpcy5vcHRpb25zLnNhbml0aXplciA/IHRoaXMub3B0aW9ucy5zYW5pdGl6ZXIoY2FwWzBdKSA6IGVzY2FwZShjYXBbMF0pKSA6IGNhcFswXVxuICAgICAgfSk7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICAvLyBkZWZcbiAgICBpZiAodG9wICYmIChjYXAgPSB0aGlzLnJ1bGVzLmRlZi5leGVjKHNyYykpKSB7XG4gICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKGNhcFswXS5sZW5ndGgpO1xuICAgICAgaWYgKGNhcFszXSkgY2FwWzNdID0gY2FwWzNdLnN1YnN0cmluZygxLCBjYXBbM10ubGVuZ3RoIC0gMSk7XG4gICAgICB0YWcgPSBjYXBbMV0udG9Mb3dlckNhc2UoKS5yZXBsYWNlKC9cXHMrL2csICcgJyk7XG4gICAgICBpZiAoIXRoaXMudG9rZW5zLmxpbmtzW3RhZ10pIHtcbiAgICAgICAgdGhpcy50b2tlbnMubGlua3NbdGFnXSA9IHtcbiAgICAgICAgICBocmVmOiBjYXBbMl0sXG4gICAgICAgICAgdGl0bGU6IGNhcFszXVxuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgLy8gdGFibGUgKGdmbSlcbiAgICBpZiAoY2FwID0gdGhpcy5ydWxlcy50YWJsZS5leGVjKHNyYykpIHtcbiAgICAgIGl0ZW0gPSB7XG4gICAgICAgIHR5cGU6ICd0YWJsZScsXG4gICAgICAgIGhlYWRlcjogc3BsaXRDZWxscyhjYXBbMV0ucmVwbGFjZSgvXiAqfCAqXFx8ICokL2csICcnKSksXG4gICAgICAgIGFsaWduOiBjYXBbMl0ucmVwbGFjZSgvXiAqfFxcfCAqJC9nLCAnJykuc3BsaXQoLyAqXFx8ICovKSxcbiAgICAgICAgY2VsbHM6IGNhcFszXSA/IGNhcFszXS5yZXBsYWNlKC9cXG4kLywgJycpLnNwbGl0KCdcXG4nKSA6IFtdXG4gICAgICB9O1xuXG4gICAgICBpZiAoaXRlbS5oZWFkZXIubGVuZ3RoID09PSBpdGVtLmFsaWduLmxlbmd0aCkge1xuICAgICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKGNhcFswXS5sZW5ndGgpO1xuXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBpdGVtLmFsaWduLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgaWYgKC9eICotKzogKiQvLnRlc3QoaXRlbS5hbGlnbltpXSkpIHtcbiAgICAgICAgICAgIGl0ZW0uYWxpZ25baV0gPSAncmlnaHQnO1xuICAgICAgICAgIH0gZWxzZSBpZiAoL14gKjotKzogKiQvLnRlc3QoaXRlbS5hbGlnbltpXSkpIHtcbiAgICAgICAgICAgIGl0ZW0uYWxpZ25baV0gPSAnY2VudGVyJztcbiAgICAgICAgICB9IGVsc2UgaWYgKC9eICo6LSsgKiQvLnRlc3QoaXRlbS5hbGlnbltpXSkpIHtcbiAgICAgICAgICAgIGl0ZW0uYWxpZ25baV0gPSAnbGVmdCc7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGl0ZW0uYWxpZ25baV0gPSBudWxsO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBpdGVtLmNlbGxzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgaXRlbS5jZWxsc1tpXSA9IHNwbGl0Q2VsbHMoXG4gICAgICAgICAgICBpdGVtLmNlbGxzW2ldLnJlcGxhY2UoL14gKlxcfCAqfCAqXFx8ICokL2csICcnKSxcbiAgICAgICAgICAgIGl0ZW0uaGVhZGVyLmxlbmd0aCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnRva2Vucy5wdXNoKGl0ZW0pO1xuXG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIGxoZWFkaW5nXG4gICAgaWYgKGNhcCA9IHRoaXMucnVsZXMubGhlYWRpbmcuZXhlYyhzcmMpKSB7XG4gICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKGNhcFswXS5sZW5ndGgpO1xuICAgICAgdGhpcy50b2tlbnMucHVzaCh7XG4gICAgICAgIHR5cGU6ICdoZWFkaW5nJyxcbiAgICAgICAgZGVwdGg6IGNhcFsyXS5jaGFyQXQoMCkgPT09ICc9JyA/IDEgOiAyLFxuICAgICAgICB0ZXh0OiBjYXBbMV1cbiAgICAgIH0pO1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgLy8gdG9wLWxldmVsIHBhcmFncmFwaFxuICAgIGlmICh0b3AgJiYgKGNhcCA9IHRoaXMucnVsZXMucGFyYWdyYXBoLmV4ZWMoc3JjKSkpIHtcbiAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcoY2FwWzBdLmxlbmd0aCk7XG4gICAgICB0aGlzLnRva2Vucy5wdXNoKHtcbiAgICAgICAgdHlwZTogJ3BhcmFncmFwaCcsXG4gICAgICAgIHRleHQ6IGNhcFsxXS5jaGFyQXQoY2FwWzFdLmxlbmd0aCAtIDEpID09PSAnXFxuJ1xuICAgICAgICAgID8gY2FwWzFdLnNsaWNlKDAsIC0xKVxuICAgICAgICAgIDogY2FwWzFdXG4gICAgICB9KTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIC8vIHRleHRcbiAgICBpZiAoY2FwID0gdGhpcy5ydWxlcy50ZXh0LmV4ZWMoc3JjKSkge1xuICAgICAgLy8gVG9wLWxldmVsIHNob3VsZCBuZXZlciByZWFjaCBoZXJlLlxuICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyhjYXBbMF0ubGVuZ3RoKTtcbiAgICAgIHRoaXMudG9rZW5zLnB1c2goe1xuICAgICAgICB0eXBlOiAndGV4dCcsXG4gICAgICAgIHRleHQ6IGNhcFswXVxuICAgICAgfSk7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICBpZiAoc3JjKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0luZmluaXRlIGxvb3Agb24gYnl0ZTogJyArIHNyYy5jaGFyQ29kZUF0KDApKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gdGhpcy50b2tlbnM7XG59O1xuXG4vKipcbiAqIElubGluZS1MZXZlbCBHcmFtbWFyXG4gKi9cblxudmFyIGlubGluZSA9IHtcbiAgZXNjYXBlOiAvXlxcXFwoWyFcIiMkJSYnKCkqKyxcXC0uLzo7PD0+P0BcXFtcXF1cXFxcXl9ge3x9fl0pLyxcbiAgYXV0b2xpbms6IC9ePChzY2hlbWU6W15cXHNcXHgwMC1cXHgxZjw+XSp8ZW1haWwpPi8sXG4gIHVybDogbm9vcCxcbiAgdGFnOiAnXmNvbW1lbnQnXG4gICAgKyAnfF48L1thLXpBLVpdW1xcXFx3Oi1dKlxcXFxzKj4nIC8vIHNlbGYtY2xvc2luZyB0YWdcbiAgICArICd8XjxbYS16QS1aXVtcXFxcdy1dKig/OmF0dHJpYnV0ZSkqP1xcXFxzKi8/PicgLy8gb3BlbiB0YWdcbiAgICArICd8XjxcXFxcP1tcXFxcc1xcXFxTXSo/XFxcXD8+JyAvLyBwcm9jZXNzaW5nIGluc3RydWN0aW9uLCBlLmcuIDw/cGhwID8+XG4gICAgKyAnfF48IVthLXpBLVpdK1xcXFxzW1xcXFxzXFxcXFNdKj8+JyAvLyBkZWNsYXJhdGlvbiwgZS5nLiA8IURPQ1RZUEUgaHRtbD5cbiAgICArICd8XjwhXFxcXFtDREFUQVxcXFxbW1xcXFxzXFxcXFNdKj9cXFxcXVxcXFxdPicsIC8vIENEQVRBIHNlY3Rpb25cbiAgbGluazogL14hP1xcWyhsYWJlbClcXF1cXChcXHMqKGhyZWYpKD86XFxzKyh0aXRsZSkpP1xccypcXCkvLFxuICByZWZsaW5rOiAvXiE/XFxbKGxhYmVsKVxcXVxcWyg/IVxccypcXF0pKCg/OlxcXFxbXFxbXFxdXT98W15cXFtcXF1cXFxcXSkrKVxcXS8sXG4gIG5vbGluazogL14hP1xcWyg/IVxccypcXF0pKCg/OlxcW1teXFxbXFxdXSpcXF18XFxcXFtcXFtcXF1dfFteXFxbXFxdXSkqKVxcXSg/OlxcW1xcXSk/LyxcbiAgc3Ryb25nOiAvXl9fKFteXFxzX10pX18oPyFfKXxeXFwqXFwqKFteXFxzKl0pXFwqXFwqKD8hXFwqKXxeX18oW15cXHNdW1xcc1xcU10qP1teXFxzXSlfXyg/IV8pfF5cXCpcXCooW15cXHNdW1xcc1xcU10qP1teXFxzXSlcXCpcXCooPyFcXCopLyxcbiAgZW06IC9eXyhbXlxcc19dKV8oPyFfKXxeXFwqKFteXFxzKjxcXFtdKVxcKig/IVxcKil8Xl8oW15cXHM8XVtcXHNcXFNdKj9bXlxcc19dKV8oPyFffFteXFxzcHVuY3R1YXRpb25dKXxeXyhbXlxcc188XVtcXHNcXFNdKj9bXlxcc10pXyg/IV98W15cXHNwdW5jdHVhdGlvbl0pfF5cXCooW15cXHM8XCJdW1xcc1xcU10qP1teXFxzXFwqXSlcXCooPyFcXCp8W15cXHNwdW5jdHVhdGlvbl0pfF5cXCooW15cXHMqXCI8XFxbXVtcXHNcXFNdKj9bXlxcc10pXFwqKD8hXFwqKS8sXG4gIGNvZGU6IC9eKGArKShbXmBdfFteYF1bXFxzXFxTXSo/W15gXSlcXDEoPyFgKS8sXG4gIGJyOiAvXiggezIsfXxcXFxcKVxcbig/IVxccyokKS8sXG4gIGRlbDogbm9vcCxcbiAgdGV4dDogL14oYCt8W15gXSkoPzpbXFxzXFxTXSo/KD86KD89W1xcXFw8IVxcW2AqXXxcXGJffCQpfFteIF0oPz0gezIsfVxcbikpfCg/PSB7Mix9XFxuKSkvXG59O1xuXG4vLyBsaXN0IG9mIHB1bmN0dWF0aW9uIG1hcmtzIGZyb20gY29tbW9uIG1hcmsgc3BlY1xuLy8gd2l0aG91dCBgIGFuZCBdIHRvIHdvcmthcm91bmQgUnVsZSAxNyAoaW5saW5lIGNvZGUgYmxvY2tzL2xpbmtzKVxuaW5saW5lLl9wdW5jdHVhdGlvbiA9ICchXCIjJCUmXFwnKCkqKyxcXFxcLS4vOjs8PT4/QFxcXFxbXl97fH1+JztcbmlubGluZS5lbSA9IGVkaXQoaW5saW5lLmVtKS5yZXBsYWNlKC9wdW5jdHVhdGlvbi9nLCBpbmxpbmUuX3B1bmN0dWF0aW9uKS5nZXRSZWdleCgpO1xuXG5pbmxpbmUuX2VzY2FwZXMgPSAvXFxcXChbIVwiIyQlJicoKSorLFxcLS4vOjs8PT4/QFxcW1xcXVxcXFxeX2B7fH1+XSkvZztcblxuaW5saW5lLl9zY2hlbWUgPSAvW2EtekEtWl1bYS16QS1aMC05Ky4tXXsxLDMxfS87XG5pbmxpbmUuX2VtYWlsID0gL1thLXpBLVowLTkuISMkJSYnKisvPT9eX2B7fH1+LV0rKEApW2EtekEtWjAtOV0oPzpbYS16QS1aMC05LV17MCw2MX1bYS16QS1aMC05XSk/KD86XFwuW2EtekEtWjAtOV0oPzpbYS16QS1aMC05LV17MCw2MX1bYS16QS1aMC05XSk/KSsoPyFbLV9dKS87XG5pbmxpbmUuYXV0b2xpbmsgPSBlZGl0KGlubGluZS5hdXRvbGluaylcbiAgLnJlcGxhY2UoJ3NjaGVtZScsIGlubGluZS5fc2NoZW1lKVxuICAucmVwbGFjZSgnZW1haWwnLCBpbmxpbmUuX2VtYWlsKVxuICAuZ2V0UmVnZXgoKTtcblxuaW5saW5lLl9hdHRyaWJ1dGUgPSAvXFxzK1thLXpBLVo6X11bXFx3LjotXSooPzpcXHMqPVxccypcIlteXCJdKlwifFxccyo9XFxzKidbXiddKid8XFxzKj1cXHMqW15cXHNcIic9PD5gXSspPy87XG5cbmlubGluZS50YWcgPSBlZGl0KGlubGluZS50YWcpXG4gIC5yZXBsYWNlKCdjb21tZW50JywgYmxvY2suX2NvbW1lbnQpXG4gIC5yZXBsYWNlKCdhdHRyaWJ1dGUnLCBpbmxpbmUuX2F0dHJpYnV0ZSlcbiAgLmdldFJlZ2V4KCk7XG5cbmlubGluZS5fbGFiZWwgPSAvKD86XFxbW15cXFtcXF1dKlxcXXxcXFxcLnxgW15gXSpgfFteXFxbXFxdXFxcXGBdKSo/LztcbmlubGluZS5faHJlZiA9IC88KD86XFxcXFs8Pl0/fFteXFxzPD5cXFxcXSkqPnxbXlxcc1xceDAwLVxceDFmXSovO1xuaW5saW5lLl90aXRsZSA9IC9cIig/OlxcXFxcIj98W15cIlxcXFxdKSpcInwnKD86XFxcXCc/fFteJ1xcXFxdKSonfFxcKCg/OlxcXFxcXCk/fFteKVxcXFxdKSpcXCkvO1xuXG5pbmxpbmUubGluayA9IGVkaXQoaW5saW5lLmxpbmspXG4gIC5yZXBsYWNlKCdsYWJlbCcsIGlubGluZS5fbGFiZWwpXG4gIC5yZXBsYWNlKCdocmVmJywgaW5saW5lLl9ocmVmKVxuICAucmVwbGFjZSgndGl0bGUnLCBpbmxpbmUuX3RpdGxlKVxuICAuZ2V0UmVnZXgoKTtcblxuaW5saW5lLnJlZmxpbmsgPSBlZGl0KGlubGluZS5yZWZsaW5rKVxuICAucmVwbGFjZSgnbGFiZWwnLCBpbmxpbmUuX2xhYmVsKVxuICAuZ2V0UmVnZXgoKTtcblxuLyoqXG4gKiBOb3JtYWwgSW5saW5lIEdyYW1tYXJcbiAqL1xuXG5pbmxpbmUubm9ybWFsID0gbWVyZ2Uoe30sIGlubGluZSk7XG5cbi8qKlxuICogUGVkYW50aWMgSW5saW5lIEdyYW1tYXJcbiAqL1xuXG5pbmxpbmUucGVkYW50aWMgPSBtZXJnZSh7fSwgaW5saW5lLm5vcm1hbCwge1xuICBzdHJvbmc6IC9eX18oPz1cXFMpKFtcXHNcXFNdKj9cXFMpX18oPyFfKXxeXFwqXFwqKD89XFxTKShbXFxzXFxTXSo/XFxTKVxcKlxcKig/IVxcKikvLFxuICBlbTogL15fKD89XFxTKShbXFxzXFxTXSo/XFxTKV8oPyFfKXxeXFwqKD89XFxTKShbXFxzXFxTXSo/XFxTKVxcKig/IVxcKikvLFxuICBsaW5rOiBlZGl0KC9eIT9cXFsobGFiZWwpXFxdXFwoKC4qPylcXCkvKVxuICAgIC5yZXBsYWNlKCdsYWJlbCcsIGlubGluZS5fbGFiZWwpXG4gICAgLmdldFJlZ2V4KCksXG4gIHJlZmxpbms6IGVkaXQoL14hP1xcWyhsYWJlbClcXF1cXHMqXFxbKFteXFxdXSopXFxdLylcbiAgICAucmVwbGFjZSgnbGFiZWwnLCBpbmxpbmUuX2xhYmVsKVxuICAgIC5nZXRSZWdleCgpXG59KTtcblxuLyoqXG4gKiBHRk0gSW5saW5lIEdyYW1tYXJcbiAqL1xuXG5pbmxpbmUuZ2ZtID0gbWVyZ2Uoe30sIGlubGluZS5ub3JtYWwsIHtcbiAgZXNjYXBlOiBlZGl0KGlubGluZS5lc2NhcGUpLnJlcGxhY2UoJ10pJywgJ358XSknKS5nZXRSZWdleCgpLFxuICBfZXh0ZW5kZWRfZW1haWw6IC9bQS1aYS16MC05Ll8rLV0rKEApW2EtekEtWjAtOS1fXSsoPzpcXC5bYS16QS1aMC05LV9dKlthLXpBLVowLTldKSsoPyFbLV9dKS8sXG4gIHVybDogL14oKD86ZnRwfGh0dHBzPyk6XFwvXFwvfHd3d1xcLikoPzpbYS16QS1aMC05XFwtXStcXC4/KStbXlxcczxdKnxeZW1haWwvLFxuICBfYmFja3BlZGFsOiAvKD86W14/IS4sOjsqX34oKSZdK3xcXChbXildKlxcKXwmKD8hW2EtekEtWjAtOV0rOyQpfFs/IS4sOjsqX34pXSsoPyEkKSkrLyxcbiAgZGVsOiAvXn4rKD89XFxTKShbXFxzXFxTXSo/XFxTKX4rLyxcbiAgdGV4dDogL14oYCt8W15gXSkoPzpbXFxzXFxTXSo/KD86KD89W1xcXFw8IVxcW2Aqfl18XFxiX3xodHRwcz86XFwvXFwvfGZ0cDpcXC9cXC98d3d3XFwufCQpfFteIF0oPz0gezIsfVxcbil8W15hLXpBLVowLTkuISMkJSYnKitcXC89P19ge1xcfH1+LV0oPz1bYS16QS1aMC05LiEjJCUmJyorXFwvPT9fYHtcXHx9fi1dK0ApKXwoPz0gezIsfVxcbnxbYS16QS1aMC05LiEjJCUmJyorXFwvPT9fYHtcXHx9fi1dK0ApKS9cbn0pO1xuXG5pbmxpbmUuZ2ZtLnVybCA9IGVkaXQoaW5saW5lLmdmbS51cmwsICdpJylcbiAgLnJlcGxhY2UoJ2VtYWlsJywgaW5saW5lLmdmbS5fZXh0ZW5kZWRfZW1haWwpXG4gIC5nZXRSZWdleCgpO1xuLyoqXG4gKiBHRk0gKyBMaW5lIEJyZWFrcyBJbmxpbmUgR3JhbW1hclxuICovXG5cbmlubGluZS5icmVha3MgPSBtZXJnZSh7fSwgaW5saW5lLmdmbSwge1xuICBicjogZWRpdChpbmxpbmUuYnIpLnJlcGxhY2UoJ3syLH0nLCAnKicpLmdldFJlZ2V4KCksXG4gIHRleHQ6IGVkaXQoaW5saW5lLmdmbS50ZXh0KVxuICAgIC5yZXBsYWNlKCdcXFxcYl8nLCAnXFxcXGJffCB7Mix9XFxcXG4nKVxuICAgIC5yZXBsYWNlKC9cXHsyLFxcfS9nLCAnKicpXG4gICAgLmdldFJlZ2V4KClcbn0pO1xuXG4vKipcbiAqIElubGluZSBMZXhlciAmIENvbXBpbGVyXG4gKi9cblxuZnVuY3Rpb24gSW5saW5lTGV4ZXIobGlua3MsIG9wdGlvbnMpIHtcbiAgdGhpcy5vcHRpb25zID0gb3B0aW9ucyB8fCBtYXJrZWQuZGVmYXVsdHM7XG4gIHRoaXMubGlua3MgPSBsaW5rcztcbiAgdGhpcy5ydWxlcyA9IGlubGluZS5ub3JtYWw7XG4gIHRoaXMucmVuZGVyZXIgPSB0aGlzLm9wdGlvbnMucmVuZGVyZXIgfHwgbmV3IFJlbmRlcmVyKCk7XG4gIHRoaXMucmVuZGVyZXIub3B0aW9ucyA9IHRoaXMub3B0aW9ucztcblxuICBpZiAoIXRoaXMubGlua3MpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1Rva2VucyBhcnJheSByZXF1aXJlcyBhIGBsaW5rc2AgcHJvcGVydHkuJyk7XG4gIH1cblxuICBpZiAodGhpcy5vcHRpb25zLnBlZGFudGljKSB7XG4gICAgdGhpcy5ydWxlcyA9IGlubGluZS5wZWRhbnRpYztcbiAgfSBlbHNlIGlmICh0aGlzLm9wdGlvbnMuZ2ZtKSB7XG4gICAgaWYgKHRoaXMub3B0aW9ucy5icmVha3MpIHtcbiAgICAgIHRoaXMucnVsZXMgPSBpbmxpbmUuYnJlYWtzO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnJ1bGVzID0gaW5saW5lLmdmbTtcbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBFeHBvc2UgSW5saW5lIFJ1bGVzXG4gKi9cblxuSW5saW5lTGV4ZXIucnVsZXMgPSBpbmxpbmU7XG5cbi8qKlxuICogU3RhdGljIExleGluZy9Db21waWxpbmcgTWV0aG9kXG4gKi9cblxuSW5saW5lTGV4ZXIub3V0cHV0ID0gZnVuY3Rpb24oc3JjLCBsaW5rcywgb3B0aW9ucykge1xuICB2YXIgaW5saW5lID0gbmV3IElubGluZUxleGVyKGxpbmtzLCBvcHRpb25zKTtcbiAgcmV0dXJuIGlubGluZS5vdXRwdXQoc3JjKTtcbn07XG5cbi8qKlxuICogTGV4aW5nL0NvbXBpbGluZ1xuICovXG5cbklubGluZUxleGVyLnByb3RvdHlwZS5vdXRwdXQgPSBmdW5jdGlvbihzcmMpIHtcbiAgdmFyIG91dCA9ICcnLFxuICAgICAgbGluayxcbiAgICAgIHRleHQsXG4gICAgICBocmVmLFxuICAgICAgdGl0bGUsXG4gICAgICBjYXAsXG4gICAgICBwcmV2Q2FwWmVybztcblxuICB3aGlsZSAoc3JjKSB7XG4gICAgLy8gZXNjYXBlXG4gICAgaWYgKGNhcCA9IHRoaXMucnVsZXMuZXNjYXBlLmV4ZWMoc3JjKSkge1xuICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyhjYXBbMF0ubGVuZ3RoKTtcbiAgICAgIG91dCArPSBlc2NhcGUoY2FwWzFdKTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIC8vIHRhZ1xuICAgIGlmIChjYXAgPSB0aGlzLnJ1bGVzLnRhZy5leGVjKHNyYykpIHtcbiAgICAgIGlmICghdGhpcy5pbkxpbmsgJiYgL148YSAvaS50ZXN0KGNhcFswXSkpIHtcbiAgICAgICAgdGhpcy5pbkxpbmsgPSB0cnVlO1xuICAgICAgfSBlbHNlIGlmICh0aGlzLmluTGluayAmJiAvXjxcXC9hPi9pLnRlc3QoY2FwWzBdKSkge1xuICAgICAgICB0aGlzLmluTGluayA9IGZhbHNlO1xuICAgICAgfVxuICAgICAgaWYgKCF0aGlzLmluUmF3QmxvY2sgJiYgL148KHByZXxjb2RlfGtiZHxzY3JpcHQpKFxcc3w+KS9pLnRlc3QoY2FwWzBdKSkge1xuICAgICAgICB0aGlzLmluUmF3QmxvY2sgPSB0cnVlO1xuICAgICAgfSBlbHNlIGlmICh0aGlzLmluUmF3QmxvY2sgJiYgL148XFwvKHByZXxjb2RlfGtiZHxzY3JpcHQpKFxcc3w+KS9pLnRlc3QoY2FwWzBdKSkge1xuICAgICAgICB0aGlzLmluUmF3QmxvY2sgPSBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyhjYXBbMF0ubGVuZ3RoKTtcbiAgICAgIG91dCArPSB0aGlzLm9wdGlvbnMuc2FuaXRpemVcbiAgICAgICAgPyB0aGlzLm9wdGlvbnMuc2FuaXRpemVyXG4gICAgICAgICAgPyB0aGlzLm9wdGlvbnMuc2FuaXRpemVyKGNhcFswXSlcbiAgICAgICAgICA6IGVzY2FwZShjYXBbMF0pXG4gICAgICAgIDogY2FwWzBdO1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgLy8gbGlua1xuICAgIGlmIChjYXAgPSB0aGlzLnJ1bGVzLmxpbmsuZXhlYyhzcmMpKSB7XG4gICAgICB2YXIgbGFzdFBhcmVuSW5kZXggPSBmaW5kQ2xvc2luZ0JyYWNrZXQoY2FwWzJdLCAnKCknKTtcbiAgICAgIGlmIChsYXN0UGFyZW5JbmRleCA+IC0xKSB7XG4gICAgICAgIHZhciBsaW5rTGVuID0gNCArIGNhcFsxXS5sZW5ndGggKyBsYXN0UGFyZW5JbmRleDtcbiAgICAgICAgY2FwWzJdID0gY2FwWzJdLnN1YnN0cmluZygwLCBsYXN0UGFyZW5JbmRleCk7XG4gICAgICAgIGNhcFswXSA9IGNhcFswXS5zdWJzdHJpbmcoMCwgbGlua0xlbikudHJpbSgpO1xuICAgICAgICBjYXBbM10gPSAnJztcbiAgICAgIH1cbiAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcoY2FwWzBdLmxlbmd0aCk7XG4gICAgICB0aGlzLmluTGluayA9IHRydWU7XG4gICAgICBocmVmID0gY2FwWzJdO1xuICAgICAgaWYgKHRoaXMub3B0aW9ucy5wZWRhbnRpYykge1xuICAgICAgICBsaW5rID0gL14oW14nXCJdKlteXFxzXSlcXHMrKFsnXCJdKSguKilcXDIvLmV4ZWMoaHJlZik7XG5cbiAgICAgICAgaWYgKGxpbmspIHtcbiAgICAgICAgICBocmVmID0gbGlua1sxXTtcbiAgICAgICAgICB0aXRsZSA9IGxpbmtbM107XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGl0bGUgPSAnJztcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGl0bGUgPSBjYXBbM10gPyBjYXBbM10uc2xpY2UoMSwgLTEpIDogJyc7XG4gICAgICB9XG4gICAgICBocmVmID0gaHJlZi50cmltKCkucmVwbGFjZSgvXjwoW1xcc1xcU10qKT4kLywgJyQxJyk7XG4gICAgICBvdXQgKz0gdGhpcy5vdXRwdXRMaW5rKGNhcCwge1xuICAgICAgICBocmVmOiBJbmxpbmVMZXhlci5lc2NhcGVzKGhyZWYpLFxuICAgICAgICB0aXRsZTogSW5saW5lTGV4ZXIuZXNjYXBlcyh0aXRsZSlcbiAgICAgIH0pO1xuICAgICAgdGhpcy5pbkxpbmsgPSBmYWxzZTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIC8vIHJlZmxpbmssIG5vbGlua1xuICAgIGlmICgoY2FwID0gdGhpcy5ydWxlcy5yZWZsaW5rLmV4ZWMoc3JjKSlcbiAgICAgICAgfHwgKGNhcCA9IHRoaXMucnVsZXMubm9saW5rLmV4ZWMoc3JjKSkpIHtcbiAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcoY2FwWzBdLmxlbmd0aCk7XG4gICAgICBsaW5rID0gKGNhcFsyXSB8fCBjYXBbMV0pLnJlcGxhY2UoL1xccysvZywgJyAnKTtcbiAgICAgIGxpbmsgPSB0aGlzLmxpbmtzW2xpbmsudG9Mb3dlckNhc2UoKV07XG4gICAgICBpZiAoIWxpbmsgfHwgIWxpbmsuaHJlZikge1xuICAgICAgICBvdXQgKz0gY2FwWzBdLmNoYXJBdCgwKTtcbiAgICAgICAgc3JjID0gY2FwWzBdLnN1YnN0cmluZygxKSArIHNyYztcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICB0aGlzLmluTGluayA9IHRydWU7XG4gICAgICBvdXQgKz0gdGhpcy5vdXRwdXRMaW5rKGNhcCwgbGluayk7XG4gICAgICB0aGlzLmluTGluayA9IGZhbHNlO1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgLy8gc3Ryb25nXG4gICAgaWYgKGNhcCA9IHRoaXMucnVsZXMuc3Ryb25nLmV4ZWMoc3JjKSkge1xuICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyhjYXBbMF0ubGVuZ3RoKTtcbiAgICAgIG91dCArPSB0aGlzLnJlbmRlcmVyLnN0cm9uZyh0aGlzLm91dHB1dChjYXBbNF0gfHwgY2FwWzNdIHx8IGNhcFsyXSB8fCBjYXBbMV0pKTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIC8vIGVtXG4gICAgaWYgKGNhcCA9IHRoaXMucnVsZXMuZW0uZXhlYyhzcmMpKSB7XG4gICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKGNhcFswXS5sZW5ndGgpO1xuICAgICAgb3V0ICs9IHRoaXMucmVuZGVyZXIuZW0odGhpcy5vdXRwdXQoY2FwWzZdIHx8IGNhcFs1XSB8fCBjYXBbNF0gfHwgY2FwWzNdIHx8IGNhcFsyXSB8fCBjYXBbMV0pKTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIC8vIGNvZGVcbiAgICBpZiAoY2FwID0gdGhpcy5ydWxlcy5jb2RlLmV4ZWMoc3JjKSkge1xuICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyhjYXBbMF0ubGVuZ3RoKTtcbiAgICAgIG91dCArPSB0aGlzLnJlbmRlcmVyLmNvZGVzcGFuKGVzY2FwZShjYXBbMl0udHJpbSgpLCB0cnVlKSk7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICAvLyBiclxuICAgIGlmIChjYXAgPSB0aGlzLnJ1bGVzLmJyLmV4ZWMoc3JjKSkge1xuICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyhjYXBbMF0ubGVuZ3RoKTtcbiAgICAgIG91dCArPSB0aGlzLnJlbmRlcmVyLmJyKCk7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICAvLyBkZWwgKGdmbSlcbiAgICBpZiAoY2FwID0gdGhpcy5ydWxlcy5kZWwuZXhlYyhzcmMpKSB7XG4gICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKGNhcFswXS5sZW5ndGgpO1xuICAgICAgb3V0ICs9IHRoaXMucmVuZGVyZXIuZGVsKHRoaXMub3V0cHV0KGNhcFsxXSkpO1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgLy8gYXV0b2xpbmtcbiAgICBpZiAoY2FwID0gdGhpcy5ydWxlcy5hdXRvbGluay5leGVjKHNyYykpIHtcbiAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcoY2FwWzBdLmxlbmd0aCk7XG4gICAgICBpZiAoY2FwWzJdID09PSAnQCcpIHtcbiAgICAgICAgdGV4dCA9IGVzY2FwZSh0aGlzLm1hbmdsZShjYXBbMV0pKTtcbiAgICAgICAgaHJlZiA9ICdtYWlsdG86JyArIHRleHQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0ZXh0ID0gZXNjYXBlKGNhcFsxXSk7XG4gICAgICAgIGhyZWYgPSB0ZXh0O1xuICAgICAgfVxuICAgICAgb3V0ICs9IHRoaXMucmVuZGVyZXIubGluayhocmVmLCBudWxsLCB0ZXh0KTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIC8vIHVybCAoZ2ZtKVxuICAgIGlmICghdGhpcy5pbkxpbmsgJiYgKGNhcCA9IHRoaXMucnVsZXMudXJsLmV4ZWMoc3JjKSkpIHtcbiAgICAgIGlmIChjYXBbMl0gPT09ICdAJykge1xuICAgICAgICB0ZXh0ID0gZXNjYXBlKGNhcFswXSk7XG4gICAgICAgIGhyZWYgPSAnbWFpbHRvOicgKyB0ZXh0O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gZG8gZXh0ZW5kZWQgYXV0b2xpbmsgcGF0aCB2YWxpZGF0aW9uXG4gICAgICAgIGRvIHtcbiAgICAgICAgICBwcmV2Q2FwWmVybyA9IGNhcFswXTtcbiAgICAgICAgICBjYXBbMF0gPSB0aGlzLnJ1bGVzLl9iYWNrcGVkYWwuZXhlYyhjYXBbMF0pWzBdO1xuICAgICAgICB9IHdoaWxlIChwcmV2Q2FwWmVybyAhPT0gY2FwWzBdKTtcbiAgICAgICAgdGV4dCA9IGVzY2FwZShjYXBbMF0pO1xuICAgICAgICBpZiAoY2FwWzFdID09PSAnd3d3LicpIHtcbiAgICAgICAgICBocmVmID0gJ2h0dHA6Ly8nICsgdGV4dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBocmVmID0gdGV4dDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyhjYXBbMF0ubGVuZ3RoKTtcbiAgICAgIG91dCArPSB0aGlzLnJlbmRlcmVyLmxpbmsoaHJlZiwgbnVsbCwgdGV4dCk7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICAvLyB0ZXh0XG4gICAgaWYgKGNhcCA9IHRoaXMucnVsZXMudGV4dC5leGVjKHNyYykpIHtcbiAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcoY2FwWzBdLmxlbmd0aCk7XG4gICAgICBpZiAodGhpcy5pblJhd0Jsb2NrKSB7XG4gICAgICAgIG91dCArPSB0aGlzLnJlbmRlcmVyLnRleHQodGhpcy5vcHRpb25zLnNhbml0aXplID8gKHRoaXMub3B0aW9ucy5zYW5pdGl6ZXIgPyB0aGlzLm9wdGlvbnMuc2FuaXRpemVyKGNhcFswXSkgOiBlc2NhcGUoY2FwWzBdKSkgOiBjYXBbMF0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb3V0ICs9IHRoaXMucmVuZGVyZXIudGV4dChlc2NhcGUodGhpcy5zbWFydHlwYW50cyhjYXBbMF0pKSk7XG4gICAgICB9XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICBpZiAoc3JjKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0luZmluaXRlIGxvb3Agb24gYnl0ZTogJyArIHNyYy5jaGFyQ29kZUF0KDApKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gb3V0O1xufTtcblxuSW5saW5lTGV4ZXIuZXNjYXBlcyA9IGZ1bmN0aW9uKHRleHQpIHtcbiAgcmV0dXJuIHRleHQgPyB0ZXh0LnJlcGxhY2UoSW5saW5lTGV4ZXIucnVsZXMuX2VzY2FwZXMsICckMScpIDogdGV4dDtcbn07XG5cbi8qKlxuICogQ29tcGlsZSBMaW5rXG4gKi9cblxuSW5saW5lTGV4ZXIucHJvdG90eXBlLm91dHB1dExpbmsgPSBmdW5jdGlvbihjYXAsIGxpbmspIHtcbiAgdmFyIGhyZWYgPSBsaW5rLmhyZWYsXG4gICAgICB0aXRsZSA9IGxpbmsudGl0bGUgPyBlc2NhcGUobGluay50aXRsZSkgOiBudWxsO1xuXG4gIHJldHVybiBjYXBbMF0uY2hhckF0KDApICE9PSAnISdcbiAgICA/IHRoaXMucmVuZGVyZXIubGluayhocmVmLCB0aXRsZSwgdGhpcy5vdXRwdXQoY2FwWzFdKSlcbiAgICA6IHRoaXMucmVuZGVyZXIuaW1hZ2UoaHJlZiwgdGl0bGUsIGVzY2FwZShjYXBbMV0pKTtcbn07XG5cbi8qKlxuICogU21hcnR5cGFudHMgVHJhbnNmb3JtYXRpb25zXG4gKi9cblxuSW5saW5lTGV4ZXIucHJvdG90eXBlLnNtYXJ0eXBhbnRzID0gZnVuY3Rpb24odGV4dCkge1xuICBpZiAoIXRoaXMub3B0aW9ucy5zbWFydHlwYW50cykgcmV0dXJuIHRleHQ7XG4gIHJldHVybiB0ZXh0XG4gICAgLy8gZW0tZGFzaGVzXG4gICAgLnJlcGxhY2UoLy0tLS9nLCAnXFx1MjAxNCcpXG4gICAgLy8gZW4tZGFzaGVzXG4gICAgLnJlcGxhY2UoLy0tL2csICdcXHUyMDEzJylcbiAgICAvLyBvcGVuaW5nIHNpbmdsZXNcbiAgICAucmVwbGFjZSgvKF58Wy1cXHUyMDE0LyhcXFt7XCJcXHNdKScvZywgJyQxXFx1MjAxOCcpXG4gICAgLy8gY2xvc2luZyBzaW5nbGVzICYgYXBvc3Ryb3BoZXNcbiAgICAucmVwbGFjZSgvJy9nLCAnXFx1MjAxOScpXG4gICAgLy8gb3BlbmluZyBkb3VibGVzXG4gICAgLnJlcGxhY2UoLyhefFstXFx1MjAxNC8oXFxbe1xcdTIwMThcXHNdKVwiL2csICckMVxcdTIwMWMnKVxuICAgIC8vIGNsb3NpbmcgZG91Ymxlc1xuICAgIC5yZXBsYWNlKC9cIi9nLCAnXFx1MjAxZCcpXG4gICAgLy8gZWxsaXBzZXNcbiAgICAucmVwbGFjZSgvXFwuezN9L2csICdcXHUyMDI2Jyk7XG59O1xuXG4vKipcbiAqIE1hbmdsZSBMaW5rc1xuICovXG5cbklubGluZUxleGVyLnByb3RvdHlwZS5tYW5nbGUgPSBmdW5jdGlvbih0ZXh0KSB7XG4gIGlmICghdGhpcy5vcHRpb25zLm1hbmdsZSkgcmV0dXJuIHRleHQ7XG4gIHZhciBvdXQgPSAnJyxcbiAgICAgIGwgPSB0ZXh0Lmxlbmd0aCxcbiAgICAgIGkgPSAwLFxuICAgICAgY2g7XG5cbiAgZm9yICg7IGkgPCBsOyBpKyspIHtcbiAgICBjaCA9IHRleHQuY2hhckNvZGVBdChpKTtcbiAgICBpZiAoTWF0aC5yYW5kb20oKSA+IDAuNSkge1xuICAgICAgY2ggPSAneCcgKyBjaC50b1N0cmluZygxNik7XG4gICAgfVxuICAgIG91dCArPSAnJiMnICsgY2ggKyAnOyc7XG4gIH1cblxuICByZXR1cm4gb3V0O1xufTtcblxuLyoqXG4gKiBSZW5kZXJlclxuICovXG5cbmZ1bmN0aW9uIFJlbmRlcmVyKG9wdGlvbnMpIHtcbiAgdGhpcy5vcHRpb25zID0gb3B0aW9ucyB8fCBtYXJrZWQuZGVmYXVsdHM7XG59XG5cblJlbmRlcmVyLnByb3RvdHlwZS5jb2RlID0gZnVuY3Rpb24oY29kZSwgaW5mb3N0cmluZywgZXNjYXBlZCkge1xuICB2YXIgbGFuZyA9IChpbmZvc3RyaW5nIHx8ICcnKS5tYXRjaCgvXFxTKi8pWzBdO1xuICBpZiAodGhpcy5vcHRpb25zLmhpZ2hsaWdodCkge1xuICAgIHZhciBvdXQgPSB0aGlzLm9wdGlvbnMuaGlnaGxpZ2h0KGNvZGUsIGxhbmcpO1xuICAgIGlmIChvdXQgIT0gbnVsbCAmJiBvdXQgIT09IGNvZGUpIHtcbiAgICAgIGVzY2FwZWQgPSB0cnVlO1xuICAgICAgY29kZSA9IG91dDtcbiAgICB9XG4gIH1cblxuICBpZiAoIWxhbmcpIHtcbiAgICByZXR1cm4gJzxwcmU+PGNvZGU+J1xuICAgICAgKyAoZXNjYXBlZCA/IGNvZGUgOiBlc2NhcGUoY29kZSwgdHJ1ZSkpXG4gICAgICArICc8L2NvZGU+PC9wcmU+JztcbiAgfVxuXG4gIHJldHVybiAnPHByZT48Y29kZSBjbGFzcz1cIidcbiAgICArIHRoaXMub3B0aW9ucy5sYW5nUHJlZml4XG4gICAgKyBlc2NhcGUobGFuZywgdHJ1ZSlcbiAgICArICdcIj4nXG4gICAgKyAoZXNjYXBlZCA/IGNvZGUgOiBlc2NhcGUoY29kZSwgdHJ1ZSkpXG4gICAgKyAnPC9jb2RlPjwvcHJlPlxcbic7XG59O1xuXG5SZW5kZXJlci5wcm90b3R5cGUuYmxvY2txdW90ZSA9IGZ1bmN0aW9uKHF1b3RlKSB7XG4gIHJldHVybiAnPGJsb2NrcXVvdGU+XFxuJyArIHF1b3RlICsgJzwvYmxvY2txdW90ZT5cXG4nO1xufTtcblxuUmVuZGVyZXIucHJvdG90eXBlLmh0bWwgPSBmdW5jdGlvbihodG1sKSB7XG4gIHJldHVybiBodG1sO1xufTtcblxuUmVuZGVyZXIucHJvdG90eXBlLmhlYWRpbmcgPSBmdW5jdGlvbih0ZXh0LCBsZXZlbCwgcmF3LCBzbHVnZ2VyKSB7XG4gIGlmICh0aGlzLm9wdGlvbnMuaGVhZGVySWRzKSB7XG4gICAgcmV0dXJuICc8aCdcbiAgICAgICsgbGV2ZWxcbiAgICAgICsgJyBpZD1cIidcbiAgICAgICsgdGhpcy5vcHRpb25zLmhlYWRlclByZWZpeFxuICAgICAgKyBzbHVnZ2VyLnNsdWcocmF3KVxuICAgICAgKyAnXCI+J1xuICAgICAgKyB0ZXh0XG4gICAgICArICc8L2gnXG4gICAgICArIGxldmVsXG4gICAgICArICc+XFxuJztcbiAgfVxuICAvLyBpZ25vcmUgSURzXG4gIHJldHVybiAnPGgnICsgbGV2ZWwgKyAnPicgKyB0ZXh0ICsgJzwvaCcgKyBsZXZlbCArICc+XFxuJztcbn07XG5cblJlbmRlcmVyLnByb3RvdHlwZS5ociA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5vcHRpb25zLnhodG1sID8gJzxoci8+XFxuJyA6ICc8aHI+XFxuJztcbn07XG5cblJlbmRlcmVyLnByb3RvdHlwZS5saXN0ID0gZnVuY3Rpb24oYm9keSwgb3JkZXJlZCwgc3RhcnQpIHtcbiAgdmFyIHR5cGUgPSBvcmRlcmVkID8gJ29sJyA6ICd1bCcsXG4gICAgICBzdGFydGF0dCA9IChvcmRlcmVkICYmIHN0YXJ0ICE9PSAxKSA/ICgnIHN0YXJ0PVwiJyArIHN0YXJ0ICsgJ1wiJykgOiAnJztcbiAgcmV0dXJuICc8JyArIHR5cGUgKyBzdGFydGF0dCArICc+XFxuJyArIGJvZHkgKyAnPC8nICsgdHlwZSArICc+XFxuJztcbn07XG5cblJlbmRlcmVyLnByb3RvdHlwZS5saXN0aXRlbSA9IGZ1bmN0aW9uKHRleHQpIHtcbiAgcmV0dXJuICc8bGk+JyArIHRleHQgKyAnPC9saT5cXG4nO1xufTtcblxuUmVuZGVyZXIucHJvdG90eXBlLmNoZWNrYm94ID0gZnVuY3Rpb24oY2hlY2tlZCkge1xuICByZXR1cm4gJzxpbnB1dCAnXG4gICAgKyAoY2hlY2tlZCA/ICdjaGVja2VkPVwiXCIgJyA6ICcnKVxuICAgICsgJ2Rpc2FibGVkPVwiXCIgdHlwZT1cImNoZWNrYm94XCInXG4gICAgKyAodGhpcy5vcHRpb25zLnhodG1sID8gJyAvJyA6ICcnKVxuICAgICsgJz4gJztcbn07XG5cblJlbmRlcmVyLnByb3RvdHlwZS5wYXJhZ3JhcGggPSBmdW5jdGlvbih0ZXh0KSB7XG4gIHJldHVybiAnPHA+JyArIHRleHQgKyAnPC9wPlxcbic7XG59O1xuXG5SZW5kZXJlci5wcm90b3R5cGUudGFibGUgPSBmdW5jdGlvbihoZWFkZXIsIGJvZHkpIHtcbiAgaWYgKGJvZHkpIGJvZHkgPSAnPHRib2R5PicgKyBib2R5ICsgJzwvdGJvZHk+JztcblxuICByZXR1cm4gJzx0YWJsZT5cXG4nXG4gICAgKyAnPHRoZWFkPlxcbidcbiAgICArIGhlYWRlclxuICAgICsgJzwvdGhlYWQ+XFxuJ1xuICAgICsgYm9keVxuICAgICsgJzwvdGFibGU+XFxuJztcbn07XG5cblJlbmRlcmVyLnByb3RvdHlwZS50YWJsZXJvdyA9IGZ1bmN0aW9uKGNvbnRlbnQpIHtcbiAgcmV0dXJuICc8dHI+XFxuJyArIGNvbnRlbnQgKyAnPC90cj5cXG4nO1xufTtcblxuUmVuZGVyZXIucHJvdG90eXBlLnRhYmxlY2VsbCA9IGZ1bmN0aW9uKGNvbnRlbnQsIGZsYWdzKSB7XG4gIHZhciB0eXBlID0gZmxhZ3MuaGVhZGVyID8gJ3RoJyA6ICd0ZCc7XG4gIHZhciB0YWcgPSBmbGFncy5hbGlnblxuICAgID8gJzwnICsgdHlwZSArICcgYWxpZ249XCInICsgZmxhZ3MuYWxpZ24gKyAnXCI+J1xuICAgIDogJzwnICsgdHlwZSArICc+JztcbiAgcmV0dXJuIHRhZyArIGNvbnRlbnQgKyAnPC8nICsgdHlwZSArICc+XFxuJztcbn07XG5cbi8vIHNwYW4gbGV2ZWwgcmVuZGVyZXJcblJlbmRlcmVyLnByb3RvdHlwZS5zdHJvbmcgPSBmdW5jdGlvbih0ZXh0KSB7XG4gIHJldHVybiAnPHN0cm9uZz4nICsgdGV4dCArICc8L3N0cm9uZz4nO1xufTtcblxuUmVuZGVyZXIucHJvdG90eXBlLmVtID0gZnVuY3Rpb24odGV4dCkge1xuICByZXR1cm4gJzxlbT4nICsgdGV4dCArICc8L2VtPic7XG59O1xuXG5SZW5kZXJlci5wcm90b3R5cGUuY29kZXNwYW4gPSBmdW5jdGlvbih0ZXh0KSB7XG4gIHJldHVybiAnPGNvZGU+JyArIHRleHQgKyAnPC9jb2RlPic7XG59O1xuXG5SZW5kZXJlci5wcm90b3R5cGUuYnIgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMub3B0aW9ucy54aHRtbCA/ICc8YnIvPicgOiAnPGJyPic7XG59O1xuXG5SZW5kZXJlci5wcm90b3R5cGUuZGVsID0gZnVuY3Rpb24odGV4dCkge1xuICByZXR1cm4gJzxkZWw+JyArIHRleHQgKyAnPC9kZWw+Jztcbn07XG5cblJlbmRlcmVyLnByb3RvdHlwZS5saW5rID0gZnVuY3Rpb24oaHJlZiwgdGl0bGUsIHRleHQpIHtcbiAgaHJlZiA9IGNsZWFuVXJsKHRoaXMub3B0aW9ucy5zYW5pdGl6ZSwgdGhpcy5vcHRpb25zLmJhc2VVcmwsIGhyZWYpO1xuICBpZiAoaHJlZiA9PT0gbnVsbCkge1xuICAgIHJldHVybiB0ZXh0O1xuICB9XG4gIHZhciBvdXQgPSAnPGEgaHJlZj1cIicgKyBlc2NhcGUoaHJlZikgKyAnXCInO1xuICBpZiAodGl0bGUpIHtcbiAgICBvdXQgKz0gJyB0aXRsZT1cIicgKyB0aXRsZSArICdcIic7XG4gIH1cbiAgb3V0ICs9ICc+JyArIHRleHQgKyAnPC9hPic7XG4gIHJldHVybiBvdXQ7XG59O1xuXG5SZW5kZXJlci5wcm90b3R5cGUuaW1hZ2UgPSBmdW5jdGlvbihocmVmLCB0aXRsZSwgdGV4dCkge1xuICBocmVmID0gY2xlYW5VcmwodGhpcy5vcHRpb25zLnNhbml0aXplLCB0aGlzLm9wdGlvbnMuYmFzZVVybCwgaHJlZik7XG4gIGlmIChocmVmID09PSBudWxsKSB7XG4gICAgcmV0dXJuIHRleHQ7XG4gIH1cblxuICB2YXIgb3V0ID0gJzxpbWcgc3JjPVwiJyArIGhyZWYgKyAnXCIgYWx0PVwiJyArIHRleHQgKyAnXCInO1xuICBpZiAodGl0bGUpIHtcbiAgICBvdXQgKz0gJyB0aXRsZT1cIicgKyB0aXRsZSArICdcIic7XG4gIH1cbiAgb3V0ICs9IHRoaXMub3B0aW9ucy54aHRtbCA/ICcvPicgOiAnPic7XG4gIHJldHVybiBvdXQ7XG59O1xuXG5SZW5kZXJlci5wcm90b3R5cGUudGV4dCA9IGZ1bmN0aW9uKHRleHQpIHtcbiAgcmV0dXJuIHRleHQ7XG59O1xuXG4vKipcbiAqIFRleHRSZW5kZXJlclxuICogcmV0dXJucyBvbmx5IHRoZSB0ZXh0dWFsIHBhcnQgb2YgdGhlIHRva2VuXG4gKi9cblxuZnVuY3Rpb24gVGV4dFJlbmRlcmVyKCkge31cblxuLy8gbm8gbmVlZCBmb3IgYmxvY2sgbGV2ZWwgcmVuZGVyZXJzXG5cblRleHRSZW5kZXJlci5wcm90b3R5cGUuc3Ryb25nID1cblRleHRSZW5kZXJlci5wcm90b3R5cGUuZW0gPVxuVGV4dFJlbmRlcmVyLnByb3RvdHlwZS5jb2Rlc3BhbiA9XG5UZXh0UmVuZGVyZXIucHJvdG90eXBlLmRlbCA9XG5UZXh0UmVuZGVyZXIucHJvdG90eXBlLnRleHQgPSBmdW5jdGlvbih0ZXh0KSB7XG4gIHJldHVybiB0ZXh0O1xufTtcblxuVGV4dFJlbmRlcmVyLnByb3RvdHlwZS5saW5rID1cblRleHRSZW5kZXJlci5wcm90b3R5cGUuaW1hZ2UgPSBmdW5jdGlvbihocmVmLCB0aXRsZSwgdGV4dCkge1xuICByZXR1cm4gJycgKyB0ZXh0O1xufTtcblxuVGV4dFJlbmRlcmVyLnByb3RvdHlwZS5iciA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gJyc7XG59O1xuXG4vKipcbiAqIFBhcnNpbmcgJiBDb21waWxpbmdcbiAqL1xuXG5mdW5jdGlvbiBQYXJzZXIob3B0aW9ucykge1xuICB0aGlzLnRva2VucyA9IFtdO1xuICB0aGlzLnRva2VuID0gbnVsbDtcbiAgdGhpcy5vcHRpb25zID0gb3B0aW9ucyB8fCBtYXJrZWQuZGVmYXVsdHM7XG4gIHRoaXMub3B0aW9ucy5yZW5kZXJlciA9IHRoaXMub3B0aW9ucy5yZW5kZXJlciB8fCBuZXcgUmVuZGVyZXIoKTtcbiAgdGhpcy5yZW5kZXJlciA9IHRoaXMub3B0aW9ucy5yZW5kZXJlcjtcbiAgdGhpcy5yZW5kZXJlci5vcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICB0aGlzLnNsdWdnZXIgPSBuZXcgU2x1Z2dlcigpO1xufVxuXG4vKipcbiAqIFN0YXRpYyBQYXJzZSBNZXRob2RcbiAqL1xuXG5QYXJzZXIucGFyc2UgPSBmdW5jdGlvbihzcmMsIG9wdGlvbnMpIHtcbiAgdmFyIHBhcnNlciA9IG5ldyBQYXJzZXIob3B0aW9ucyk7XG4gIHJldHVybiBwYXJzZXIucGFyc2Uoc3JjKTtcbn07XG5cbi8qKlxuICogUGFyc2UgTG9vcFxuICovXG5cblBhcnNlci5wcm90b3R5cGUucGFyc2UgPSBmdW5jdGlvbihzcmMpIHtcbiAgdGhpcy5pbmxpbmUgPSBuZXcgSW5saW5lTGV4ZXIoc3JjLmxpbmtzLCB0aGlzLm9wdGlvbnMpO1xuICAvLyB1c2UgYW4gSW5saW5lTGV4ZXIgd2l0aCBhIFRleHRSZW5kZXJlciB0byBleHRyYWN0IHB1cmUgdGV4dFxuICB0aGlzLmlubGluZVRleHQgPSBuZXcgSW5saW5lTGV4ZXIoXG4gICAgc3JjLmxpbmtzLFxuICAgIG1lcmdlKHt9LCB0aGlzLm9wdGlvbnMsIHsgcmVuZGVyZXI6IG5ldyBUZXh0UmVuZGVyZXIoKSB9KVxuICApO1xuICB0aGlzLnRva2VucyA9IHNyYy5yZXZlcnNlKCk7XG5cbiAgdmFyIG91dCA9ICcnO1xuICB3aGlsZSAodGhpcy5uZXh0KCkpIHtcbiAgICBvdXQgKz0gdGhpcy50b2soKTtcbiAgfVxuXG4gIHJldHVybiBvdXQ7XG59O1xuXG4vKipcbiAqIE5leHQgVG9rZW5cbiAqL1xuXG5QYXJzZXIucHJvdG90eXBlLm5leHQgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy50b2tlbiA9IHRoaXMudG9rZW5zLnBvcCgpO1xuICByZXR1cm4gdGhpcy50b2tlbjtcbn07XG5cbi8qKlxuICogUHJldmlldyBOZXh0IFRva2VuXG4gKi9cblxuUGFyc2VyLnByb3RvdHlwZS5wZWVrID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLnRva2Vuc1t0aGlzLnRva2Vucy5sZW5ndGggLSAxXSB8fCAwO1xufTtcblxuLyoqXG4gKiBQYXJzZSBUZXh0IFRva2Vuc1xuICovXG5cblBhcnNlci5wcm90b3R5cGUucGFyc2VUZXh0ID0gZnVuY3Rpb24oKSB7XG4gIHZhciBib2R5ID0gdGhpcy50b2tlbi50ZXh0O1xuXG4gIHdoaWxlICh0aGlzLnBlZWsoKS50eXBlID09PSAndGV4dCcpIHtcbiAgICBib2R5ICs9ICdcXG4nICsgdGhpcy5uZXh0KCkudGV4dDtcbiAgfVxuXG4gIHJldHVybiB0aGlzLmlubGluZS5vdXRwdXQoYm9keSk7XG59O1xuXG4vKipcbiAqIFBhcnNlIEN1cnJlbnQgVG9rZW5cbiAqL1xuXG5QYXJzZXIucHJvdG90eXBlLnRvayA9IGZ1bmN0aW9uKCkge1xuICBzd2l0Y2ggKHRoaXMudG9rZW4udHlwZSkge1xuICAgIGNhc2UgJ3NwYWNlJzoge1xuICAgICAgcmV0dXJuICcnO1xuICAgIH1cbiAgICBjYXNlICdocic6IHtcbiAgICAgIHJldHVybiB0aGlzLnJlbmRlcmVyLmhyKCk7XG4gICAgfVxuICAgIGNhc2UgJ2hlYWRpbmcnOiB7XG4gICAgICByZXR1cm4gdGhpcy5yZW5kZXJlci5oZWFkaW5nKFxuICAgICAgICB0aGlzLmlubGluZS5vdXRwdXQodGhpcy50b2tlbi50ZXh0KSxcbiAgICAgICAgdGhpcy50b2tlbi5kZXB0aCxcbiAgICAgICAgdW5lc2NhcGUodGhpcy5pbmxpbmVUZXh0Lm91dHB1dCh0aGlzLnRva2VuLnRleHQpKSxcbiAgICAgICAgdGhpcy5zbHVnZ2VyKTtcbiAgICB9XG4gICAgY2FzZSAnY29kZSc6IHtcbiAgICAgIHJldHVybiB0aGlzLnJlbmRlcmVyLmNvZGUodGhpcy50b2tlbi50ZXh0LFxuICAgICAgICB0aGlzLnRva2VuLmxhbmcsXG4gICAgICAgIHRoaXMudG9rZW4uZXNjYXBlZCk7XG4gICAgfVxuICAgIGNhc2UgJ3RhYmxlJzoge1xuICAgICAgdmFyIGhlYWRlciA9ICcnLFxuICAgICAgICAgIGJvZHkgPSAnJyxcbiAgICAgICAgICBpLFxuICAgICAgICAgIHJvdyxcbiAgICAgICAgICBjZWxsLFxuICAgICAgICAgIGo7XG5cbiAgICAgIC8vIGhlYWRlclxuICAgICAgY2VsbCA9ICcnO1xuICAgICAgZm9yIChpID0gMDsgaSA8IHRoaXMudG9rZW4uaGVhZGVyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNlbGwgKz0gdGhpcy5yZW5kZXJlci50YWJsZWNlbGwoXG4gICAgICAgICAgdGhpcy5pbmxpbmUub3V0cHV0KHRoaXMudG9rZW4uaGVhZGVyW2ldKSxcbiAgICAgICAgICB7IGhlYWRlcjogdHJ1ZSwgYWxpZ246IHRoaXMudG9rZW4uYWxpZ25baV0gfVxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgaGVhZGVyICs9IHRoaXMucmVuZGVyZXIudGFibGVyb3coY2VsbCk7XG5cbiAgICAgIGZvciAoaSA9IDA7IGkgPCB0aGlzLnRva2VuLmNlbGxzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHJvdyA9IHRoaXMudG9rZW4uY2VsbHNbaV07XG5cbiAgICAgICAgY2VsbCA9ICcnO1xuICAgICAgICBmb3IgKGogPSAwOyBqIDwgcm93Lmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgY2VsbCArPSB0aGlzLnJlbmRlcmVyLnRhYmxlY2VsbChcbiAgICAgICAgICAgIHRoaXMuaW5saW5lLm91dHB1dChyb3dbal0pLFxuICAgICAgICAgICAgeyBoZWFkZXI6IGZhbHNlLCBhbGlnbjogdGhpcy50b2tlbi5hbGlnbltqXSB9XG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGJvZHkgKz0gdGhpcy5yZW5kZXJlci50YWJsZXJvdyhjZWxsKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzLnJlbmRlcmVyLnRhYmxlKGhlYWRlciwgYm9keSk7XG4gICAgfVxuICAgIGNhc2UgJ2Jsb2NrcXVvdGVfc3RhcnQnOiB7XG4gICAgICBib2R5ID0gJyc7XG5cbiAgICAgIHdoaWxlICh0aGlzLm5leHQoKS50eXBlICE9PSAnYmxvY2txdW90ZV9lbmQnKSB7XG4gICAgICAgIGJvZHkgKz0gdGhpcy50b2soKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMucmVuZGVyZXIuYmxvY2txdW90ZShib2R5KTtcbiAgICB9XG4gICAgY2FzZSAnbGlzdF9zdGFydCc6IHtcbiAgICAgIGJvZHkgPSAnJztcbiAgICAgIHZhciBvcmRlcmVkID0gdGhpcy50b2tlbi5vcmRlcmVkLFxuICAgICAgICAgIHN0YXJ0ID0gdGhpcy50b2tlbi5zdGFydDtcblxuICAgICAgd2hpbGUgKHRoaXMubmV4dCgpLnR5cGUgIT09ICdsaXN0X2VuZCcpIHtcbiAgICAgICAgYm9keSArPSB0aGlzLnRvaygpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcy5yZW5kZXJlci5saXN0KGJvZHksIG9yZGVyZWQsIHN0YXJ0KTtcbiAgICB9XG4gICAgY2FzZSAnbGlzdF9pdGVtX3N0YXJ0Jzoge1xuICAgICAgYm9keSA9ICcnO1xuICAgICAgdmFyIGxvb3NlID0gdGhpcy50b2tlbi5sb29zZTtcbiAgICAgIHZhciBjaGVja2VkID0gdGhpcy50b2tlbi5jaGVja2VkO1xuICAgICAgdmFyIHRhc2sgPSB0aGlzLnRva2VuLnRhc2s7XG5cbiAgICAgIGlmICh0aGlzLnRva2VuLnRhc2spIHtcbiAgICAgICAgYm9keSArPSB0aGlzLnJlbmRlcmVyLmNoZWNrYm94KGNoZWNrZWQpO1xuICAgICAgfVxuXG4gICAgICB3aGlsZSAodGhpcy5uZXh0KCkudHlwZSAhPT0gJ2xpc3RfaXRlbV9lbmQnKSB7XG4gICAgICAgIGJvZHkgKz0gIWxvb3NlICYmIHRoaXMudG9rZW4udHlwZSA9PT0gJ3RleHQnXG4gICAgICAgICAgPyB0aGlzLnBhcnNlVGV4dCgpXG4gICAgICAgICAgOiB0aGlzLnRvaygpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMucmVuZGVyZXIubGlzdGl0ZW0oYm9keSwgdGFzaywgY2hlY2tlZCk7XG4gICAgfVxuICAgIGNhc2UgJ2h0bWwnOiB7XG4gICAgICAvLyBUT0RPIHBhcnNlIGlubGluZSBjb250ZW50IGlmIHBhcmFtZXRlciBtYXJrZG93bj0xXG4gICAgICByZXR1cm4gdGhpcy5yZW5kZXJlci5odG1sKHRoaXMudG9rZW4udGV4dCk7XG4gICAgfVxuICAgIGNhc2UgJ3BhcmFncmFwaCc6IHtcbiAgICAgIHJldHVybiB0aGlzLnJlbmRlcmVyLnBhcmFncmFwaCh0aGlzLmlubGluZS5vdXRwdXQodGhpcy50b2tlbi50ZXh0KSk7XG4gICAgfVxuICAgIGNhc2UgJ3RleHQnOiB7XG4gICAgICByZXR1cm4gdGhpcy5yZW5kZXJlci5wYXJhZ3JhcGgodGhpcy5wYXJzZVRleHQoKSk7XG4gICAgfVxuICAgIGRlZmF1bHQ6IHtcbiAgICAgIHZhciBlcnJNc2cgPSAnVG9rZW4gd2l0aCBcIicgKyB0aGlzLnRva2VuLnR5cGUgKyAnXCIgdHlwZSB3YXMgbm90IGZvdW5kLic7XG4gICAgICBpZiAodGhpcy5vcHRpb25zLnNpbGVudCkge1xuICAgICAgICBjb25zb2xlLmxvZyhlcnJNc2cpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVyck1zZyk7XG4gICAgICB9XG4gICAgfVxuICB9XG59O1xuXG4vKipcbiAqIFNsdWdnZXIgZ2VuZXJhdGVzIGhlYWRlciBpZFxuICovXG5cbmZ1bmN0aW9uIFNsdWdnZXIoKSB7XG4gIHRoaXMuc2VlbiA9IHt9O1xufVxuXG4vKipcbiAqIENvbnZlcnQgc3RyaW5nIHRvIHVuaXF1ZSBpZFxuICovXG5cblNsdWdnZXIucHJvdG90eXBlLnNsdWcgPSBmdW5jdGlvbih2YWx1ZSkge1xuICB2YXIgc2x1ZyA9IHZhbHVlXG4gICAgLnRvTG93ZXJDYXNlKClcbiAgICAudHJpbSgpXG4gICAgLnJlcGxhY2UoL1tcXHUyMDAwLVxcdTIwNkZcXHUyRTAwLVxcdTJFN0ZcXFxcJyFcIiMkJSYoKSorLC4vOjs8PT4/QFtcXF1eYHt8fX5dL2csICcnKVxuICAgIC5yZXBsYWNlKC9cXHMvZywgJy0nKTtcblxuICBpZiAodGhpcy5zZWVuLmhhc093blByb3BlcnR5KHNsdWcpKSB7XG4gICAgdmFyIG9yaWdpbmFsU2x1ZyA9IHNsdWc7XG4gICAgZG8ge1xuICAgICAgdGhpcy5zZWVuW29yaWdpbmFsU2x1Z10rKztcbiAgICAgIHNsdWcgPSBvcmlnaW5hbFNsdWcgKyAnLScgKyB0aGlzLnNlZW5bb3JpZ2luYWxTbHVnXTtcbiAgICB9IHdoaWxlICh0aGlzLnNlZW4uaGFzT3duUHJvcGVydHkoc2x1ZykpO1xuICB9XG4gIHRoaXMuc2VlbltzbHVnXSA9IDA7XG5cbiAgcmV0dXJuIHNsdWc7XG59O1xuXG4vKipcbiAqIEhlbHBlcnNcbiAqL1xuXG5mdW5jdGlvbiBlc2NhcGUoaHRtbCwgZW5jb2RlKSB7XG4gIGlmIChlbmNvZGUpIHtcbiAgICBpZiAoZXNjYXBlLmVzY2FwZVRlc3QudGVzdChodG1sKSkge1xuICAgICAgcmV0dXJuIGh0bWwucmVwbGFjZShlc2NhcGUuZXNjYXBlUmVwbGFjZSwgZnVuY3Rpb24oY2gpIHsgcmV0dXJuIGVzY2FwZS5yZXBsYWNlbWVudHNbY2hdOyB9KTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaWYgKGVzY2FwZS5lc2NhcGVUZXN0Tm9FbmNvZGUudGVzdChodG1sKSkge1xuICAgICAgcmV0dXJuIGh0bWwucmVwbGFjZShlc2NhcGUuZXNjYXBlUmVwbGFjZU5vRW5jb2RlLCBmdW5jdGlvbihjaCkgeyByZXR1cm4gZXNjYXBlLnJlcGxhY2VtZW50c1tjaF07IH0pO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBodG1sO1xufVxuXG5lc2NhcGUuZXNjYXBlVGVzdCA9IC9bJjw+XCInXS87XG5lc2NhcGUuZXNjYXBlUmVwbGFjZSA9IC9bJjw+XCInXS9nO1xuZXNjYXBlLnJlcGxhY2VtZW50cyA9IHtcbiAgJyYnOiAnJmFtcDsnLFxuICAnPCc6ICcmbHQ7JyxcbiAgJz4nOiAnJmd0OycsXG4gICdcIic6ICcmcXVvdDsnLFxuICBcIidcIjogJyYjMzk7J1xufTtcblxuZXNjYXBlLmVzY2FwZVRlc3ROb0VuY29kZSA9IC9bPD5cIiddfCYoPyEjP1xcdys7KS87XG5lc2NhcGUuZXNjYXBlUmVwbGFjZU5vRW5jb2RlID0gL1s8PlwiJ118Jig/ISM/XFx3KzspL2c7XG5cbmZ1bmN0aW9uIHVuZXNjYXBlKGh0bWwpIHtcbiAgLy8gZXhwbGljaXRseSBtYXRjaCBkZWNpbWFsLCBoZXgsIGFuZCBuYW1lZCBIVE1MIGVudGl0aWVzXG4gIHJldHVybiBodG1sLnJlcGxhY2UoLyYoIyg/OlxcZCspfCg/OiN4WzAtOUEtRmEtZl0rKXwoPzpcXHcrKSk7Py9pZywgZnVuY3Rpb24oXywgbikge1xuICAgIG4gPSBuLnRvTG93ZXJDYXNlKCk7XG4gICAgaWYgKG4gPT09ICdjb2xvbicpIHJldHVybiAnOic7XG4gICAgaWYgKG4uY2hhckF0KDApID09PSAnIycpIHtcbiAgICAgIHJldHVybiBuLmNoYXJBdCgxKSA9PT0gJ3gnXG4gICAgICAgID8gU3RyaW5nLmZyb21DaGFyQ29kZShwYXJzZUludChuLnN1YnN0cmluZygyKSwgMTYpKVxuICAgICAgICA6IFN0cmluZy5mcm9tQ2hhckNvZGUoK24uc3Vic3RyaW5nKDEpKTtcbiAgICB9XG4gICAgcmV0dXJuICcnO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gZWRpdChyZWdleCwgb3B0KSB7XG4gIHJlZ2V4ID0gcmVnZXguc291cmNlIHx8IHJlZ2V4O1xuICBvcHQgPSBvcHQgfHwgJyc7XG4gIHJldHVybiB7XG4gICAgcmVwbGFjZTogZnVuY3Rpb24obmFtZSwgdmFsKSB7XG4gICAgICB2YWwgPSB2YWwuc291cmNlIHx8IHZhbDtcbiAgICAgIHZhbCA9IHZhbC5yZXBsYWNlKC8oXnxbXlxcW10pXFxeL2csICckMScpO1xuICAgICAgcmVnZXggPSByZWdleC5yZXBsYWNlKG5hbWUsIHZhbCk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuICAgIGdldFJlZ2V4OiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBuZXcgUmVnRXhwKHJlZ2V4LCBvcHQpO1xuICAgIH1cbiAgfTtcbn1cblxuZnVuY3Rpb24gY2xlYW5Vcmwoc2FuaXRpemUsIGJhc2UsIGhyZWYpIHtcbiAgaWYgKHNhbml0aXplKSB7XG4gICAgdHJ5IHtcbiAgICAgIHZhciBwcm90ID0gZGVjb2RlVVJJQ29tcG9uZW50KHVuZXNjYXBlKGhyZWYpKVxuICAgICAgICAucmVwbGFjZSgvW15cXHc6XS9nLCAnJylcbiAgICAgICAgLnRvTG93ZXJDYXNlKCk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGlmIChwcm90LmluZGV4T2YoJ2phdmFzY3JpcHQ6JykgPT09IDAgfHwgcHJvdC5pbmRleE9mKCd2YnNjcmlwdDonKSA9PT0gMCB8fCBwcm90LmluZGV4T2YoJ2RhdGE6JykgPT09IDApIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuICBpZiAoYmFzZSAmJiAhb3JpZ2luSW5kZXBlbmRlbnRVcmwudGVzdChocmVmKSkge1xuICAgIGhyZWYgPSByZXNvbHZlVXJsKGJhc2UsIGhyZWYpO1xuICB9XG4gIHRyeSB7XG4gICAgaHJlZiA9IGVuY29kZVVSSShocmVmKS5yZXBsYWNlKC8lMjUvZywgJyUnKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIHJldHVybiBocmVmO1xufVxuXG5mdW5jdGlvbiByZXNvbHZlVXJsKGJhc2UsIGhyZWYpIHtcbiAgaWYgKCFiYXNlVXJsc1snICcgKyBiYXNlXSkge1xuICAgIC8vIHdlIGNhbiBpZ25vcmUgZXZlcnl0aGluZyBpbiBiYXNlIGFmdGVyIHRoZSBsYXN0IHNsYXNoIG9mIGl0cyBwYXRoIGNvbXBvbmVudCxcbiAgICAvLyBidXQgd2UgbWlnaHQgbmVlZCB0byBhZGQgX3RoYXRfXG4gICAgLy8gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzM5ODYjc2VjdGlvbi0zXG4gICAgaWYgKC9eW146XSs6XFwvKlteL10qJC8udGVzdChiYXNlKSkge1xuICAgICAgYmFzZVVybHNbJyAnICsgYmFzZV0gPSBiYXNlICsgJy8nO1xuICAgIH0gZWxzZSB7XG4gICAgICBiYXNlVXJsc1snICcgKyBiYXNlXSA9IHJ0cmltKGJhc2UsICcvJywgdHJ1ZSk7XG4gICAgfVxuICB9XG4gIGJhc2UgPSBiYXNlVXJsc1snICcgKyBiYXNlXTtcblxuICBpZiAoaHJlZi5zbGljZSgwLCAyKSA9PT0gJy8vJykge1xuICAgIHJldHVybiBiYXNlLnJlcGxhY2UoLzpbXFxzXFxTXSovLCAnOicpICsgaHJlZjtcbiAgfSBlbHNlIGlmIChocmVmLmNoYXJBdCgwKSA9PT0gJy8nKSB7XG4gICAgcmV0dXJuIGJhc2UucmVwbGFjZSgvKDpcXC8qW14vXSopW1xcc1xcU10qLywgJyQxJykgKyBocmVmO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBiYXNlICsgaHJlZjtcbiAgfVxufVxudmFyIGJhc2VVcmxzID0ge307XG52YXIgb3JpZ2luSW5kZXBlbmRlbnRVcmwgPSAvXiR8XlthLXpdW2EtejAtOSsuLV0qOnxeWz8jXS9pO1xuXG5mdW5jdGlvbiBub29wKCkge31cbm5vb3AuZXhlYyA9IG5vb3A7XG5cbmZ1bmN0aW9uIG1lcmdlKG9iaikge1xuICB2YXIgaSA9IDEsXG4gICAgICB0YXJnZXQsXG4gICAgICBrZXk7XG5cbiAgZm9yICg7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICB0YXJnZXQgPSBhcmd1bWVudHNbaV07XG4gICAgZm9yIChrZXkgaW4gdGFyZ2V0KSB7XG4gICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRhcmdldCwga2V5KSkge1xuICAgICAgICBvYmpba2V5XSA9IHRhcmdldFtrZXldO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBvYmo7XG59XG5cbmZ1bmN0aW9uIHNwbGl0Q2VsbHModGFibGVSb3csIGNvdW50KSB7XG4gIC8vIGVuc3VyZSB0aGF0IGV2ZXJ5IGNlbGwtZGVsaW1pdGluZyBwaXBlIGhhcyBhIHNwYWNlXG4gIC8vIGJlZm9yZSBpdCB0byBkaXN0aW5ndWlzaCBpdCBmcm9tIGFuIGVzY2FwZWQgcGlwZVxuICB2YXIgcm93ID0gdGFibGVSb3cucmVwbGFjZSgvXFx8L2csIGZ1bmN0aW9uKG1hdGNoLCBvZmZzZXQsIHN0cikge1xuICAgICAgICB2YXIgZXNjYXBlZCA9IGZhbHNlLFxuICAgICAgICAgICAgY3VyciA9IG9mZnNldDtcbiAgICAgICAgd2hpbGUgKC0tY3VyciA+PSAwICYmIHN0cltjdXJyXSA9PT0gJ1xcXFwnKSBlc2NhcGVkID0gIWVzY2FwZWQ7XG4gICAgICAgIGlmIChlc2NhcGVkKSB7XG4gICAgICAgICAgLy8gb2RkIG51bWJlciBvZiBzbGFzaGVzIG1lYW5zIHwgaXMgZXNjYXBlZFxuICAgICAgICAgIC8vIHNvIHdlIGxlYXZlIGl0IGFsb25lXG4gICAgICAgICAgcmV0dXJuICd8JztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBhZGQgc3BhY2UgYmVmb3JlIHVuZXNjYXBlZCB8XG4gICAgICAgICAgcmV0dXJuICcgfCc7XG4gICAgICAgIH1cbiAgICAgIH0pLFxuICAgICAgY2VsbHMgPSByb3cuc3BsaXQoLyBcXHwvKSxcbiAgICAgIGkgPSAwO1xuXG4gIGlmIChjZWxscy5sZW5ndGggPiBjb3VudCkge1xuICAgIGNlbGxzLnNwbGljZShjb3VudCk7XG4gIH0gZWxzZSB7XG4gICAgd2hpbGUgKGNlbGxzLmxlbmd0aCA8IGNvdW50KSBjZWxscy5wdXNoKCcnKTtcbiAgfVxuXG4gIGZvciAoOyBpIDwgY2VsbHMubGVuZ3RoOyBpKyspIHtcbiAgICAvLyBsZWFkaW5nIG9yIHRyYWlsaW5nIHdoaXRlc3BhY2UgaXMgaWdub3JlZCBwZXIgdGhlIGdmbSBzcGVjXG4gICAgY2VsbHNbaV0gPSBjZWxsc1tpXS50cmltKCkucmVwbGFjZSgvXFxcXFxcfC9nLCAnfCcpO1xuICB9XG4gIHJldHVybiBjZWxscztcbn1cblxuLy8gUmVtb3ZlIHRyYWlsaW5nICdjJ3MuIEVxdWl2YWxlbnQgdG8gc3RyLnJlcGxhY2UoL2MqJC8sICcnKS5cbi8vIC9jKiQvIGlzIHZ1bG5lcmFibGUgdG8gUkVET1MuXG4vLyBpbnZlcnQ6IFJlbW92ZSBzdWZmaXggb2Ygbm9uLWMgY2hhcnMgaW5zdGVhZC4gRGVmYXVsdCBmYWxzZXkuXG5mdW5jdGlvbiBydHJpbShzdHIsIGMsIGludmVydCkge1xuICBpZiAoc3RyLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiAnJztcbiAgfVxuXG4gIC8vIExlbmd0aCBvZiBzdWZmaXggbWF0Y2hpbmcgdGhlIGludmVydCBjb25kaXRpb24uXG4gIHZhciBzdWZmTGVuID0gMDtcblxuICAvLyBTdGVwIGxlZnQgdW50aWwgd2UgZmFpbCB0byBtYXRjaCB0aGUgaW52ZXJ0IGNvbmRpdGlvbi5cbiAgd2hpbGUgKHN1ZmZMZW4gPCBzdHIubGVuZ3RoKSB7XG4gICAgdmFyIGN1cnJDaGFyID0gc3RyLmNoYXJBdChzdHIubGVuZ3RoIC0gc3VmZkxlbiAtIDEpO1xuICAgIGlmIChjdXJyQ2hhciA9PT0gYyAmJiAhaW52ZXJ0KSB7XG4gICAgICBzdWZmTGVuKys7XG4gICAgfSBlbHNlIGlmIChjdXJyQ2hhciAhPT0gYyAmJiBpbnZlcnQpIHtcbiAgICAgIHN1ZmZMZW4rKztcbiAgICB9IGVsc2Uge1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHN0ci5zdWJzdHIoMCwgc3RyLmxlbmd0aCAtIHN1ZmZMZW4pO1xufVxuXG5mdW5jdGlvbiBmaW5kQ2xvc2luZ0JyYWNrZXQoc3RyLCBiKSB7XG4gIGlmIChzdHIuaW5kZXhPZihiWzFdKSA9PT0gLTEpIHtcbiAgICByZXR1cm4gLTE7XG4gIH1cbiAgdmFyIGxldmVsID0gMDtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHIubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoc3RyW2ldID09PSAnXFxcXCcpIHtcbiAgICAgIGkrKztcbiAgICB9IGVsc2UgaWYgKHN0cltpXSA9PT0gYlswXSkge1xuICAgICAgbGV2ZWwrKztcbiAgICB9IGVsc2UgaWYgKHN0cltpXSA9PT0gYlsxXSkge1xuICAgICAgbGV2ZWwtLTtcbiAgICAgIGlmIChsZXZlbCA8IDApIHtcbiAgICAgICAgcmV0dXJuIGk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiAtMTtcbn1cblxuZnVuY3Rpb24gY2hlY2tTYW5pdGl6ZURlcHJlY2F0aW9uKG9wdCkge1xuICBpZiAob3B0ICYmIG9wdC5zYW5pdGl6ZSAmJiAhb3B0LnNpbGVudCkge1xuICAgIGNvbnNvbGUud2FybignbWFya2VkKCk6IHNhbml0aXplIGFuZCBzYW5pdGl6ZXIgcGFyYW1ldGVycyBhcmUgZGVwcmVjYXRlZCBzaW5jZSB2ZXJzaW9uIDAuNy4wLCBzaG91bGQgbm90IGJlIHVzZWQgYW5kIHdpbGwgYmUgcmVtb3ZlZCBpbiB0aGUgZnV0dXJlLiBSZWFkIG1vcmUgaGVyZTogaHR0cHM6Ly9tYXJrZWQuanMub3JnLyMvVVNJTkdfQURWQU5DRUQubWQjb3B0aW9ucycpO1xuICB9XG59XG5cbi8qKlxuICogTWFya2VkXG4gKi9cblxuZnVuY3Rpb24gbWFya2VkKHNyYywgb3B0LCBjYWxsYmFjaykge1xuICAvLyB0aHJvdyBlcnJvciBpbiBjYXNlIG9mIG5vbiBzdHJpbmcgaW5wdXRcbiAgaWYgKHR5cGVvZiBzcmMgPT09ICd1bmRlZmluZWQnIHx8IHNyYyA9PT0gbnVsbCkge1xuICAgIHRocm93IG5ldyBFcnJvcignbWFya2VkKCk6IGlucHV0IHBhcmFtZXRlciBpcyB1bmRlZmluZWQgb3IgbnVsbCcpO1xuICB9XG4gIGlmICh0eXBlb2Ygc3JjICE9PSAnc3RyaW5nJykge1xuICAgIHRocm93IG5ldyBFcnJvcignbWFya2VkKCk6IGlucHV0IHBhcmFtZXRlciBpcyBvZiB0eXBlICdcbiAgICAgICsgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHNyYykgKyAnLCBzdHJpbmcgZXhwZWN0ZWQnKTtcbiAgfVxuXG4gIGlmIChjYWxsYmFjayB8fCB0eXBlb2Ygb3B0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgaWYgKCFjYWxsYmFjaykge1xuICAgICAgY2FsbGJhY2sgPSBvcHQ7XG4gICAgICBvcHQgPSBudWxsO1xuICAgIH1cblxuICAgIG9wdCA9IG1lcmdlKHt9LCBtYXJrZWQuZGVmYXVsdHMsIG9wdCB8fCB7fSk7XG4gICAgY2hlY2tTYW5pdGl6ZURlcHJlY2F0aW9uKG9wdCk7XG5cbiAgICB2YXIgaGlnaGxpZ2h0ID0gb3B0LmhpZ2hsaWdodCxcbiAgICAgICAgdG9rZW5zLFxuICAgICAgICBwZW5kaW5nLFxuICAgICAgICBpID0gMDtcblxuICAgIHRyeSB7XG4gICAgICB0b2tlbnMgPSBMZXhlci5sZXgoc3JjLCBvcHQpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHJldHVybiBjYWxsYmFjayhlKTtcbiAgICB9XG5cbiAgICBwZW5kaW5nID0gdG9rZW5zLmxlbmd0aDtcblxuICAgIHZhciBkb25lID0gZnVuY3Rpb24oZXJyKSB7XG4gICAgICBpZiAoZXJyKSB7XG4gICAgICAgIG9wdC5oaWdobGlnaHQgPSBoaWdobGlnaHQ7XG4gICAgICAgIHJldHVybiBjYWxsYmFjayhlcnIpO1xuICAgICAgfVxuXG4gICAgICB2YXIgb3V0O1xuXG4gICAgICB0cnkge1xuICAgICAgICBvdXQgPSBQYXJzZXIucGFyc2UodG9rZW5zLCBvcHQpO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBlcnIgPSBlO1xuICAgICAgfVxuXG4gICAgICBvcHQuaGlnaGxpZ2h0ID0gaGlnaGxpZ2h0O1xuXG4gICAgICByZXR1cm4gZXJyXG4gICAgICAgID8gY2FsbGJhY2soZXJyKVxuICAgICAgICA6IGNhbGxiYWNrKG51bGwsIG91dCk7XG4gICAgfTtcblxuICAgIGlmICghaGlnaGxpZ2h0IHx8IGhpZ2hsaWdodC5sZW5ndGggPCAzKSB7XG4gICAgICByZXR1cm4gZG9uZSgpO1xuICAgIH1cblxuICAgIGRlbGV0ZSBvcHQuaGlnaGxpZ2h0O1xuXG4gICAgaWYgKCFwZW5kaW5nKSByZXR1cm4gZG9uZSgpO1xuXG4gICAgZm9yICg7IGkgPCB0b2tlbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIChmdW5jdGlvbih0b2tlbikge1xuICAgICAgICBpZiAodG9rZW4udHlwZSAhPT0gJ2NvZGUnKSB7XG4gICAgICAgICAgcmV0dXJuIC0tcGVuZGluZyB8fCBkb25lKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGhpZ2hsaWdodCh0b2tlbi50ZXh0LCB0b2tlbi5sYW5nLCBmdW5jdGlvbihlcnIsIGNvZGUpIHtcbiAgICAgICAgICBpZiAoZXJyKSByZXR1cm4gZG9uZShlcnIpO1xuICAgICAgICAgIGlmIChjb2RlID09IG51bGwgfHwgY29kZSA9PT0gdG9rZW4udGV4dCkge1xuICAgICAgICAgICAgcmV0dXJuIC0tcGVuZGluZyB8fCBkb25lKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRva2VuLnRleHQgPSBjb2RlO1xuICAgICAgICAgIHRva2VuLmVzY2FwZWQgPSB0cnVlO1xuICAgICAgICAgIC0tcGVuZGluZyB8fCBkb25lKCk7XG4gICAgICAgIH0pO1xuICAgICAgfSkodG9rZW5zW2ldKTtcbiAgICB9XG5cbiAgICByZXR1cm47XG4gIH1cbiAgdHJ5IHtcbiAgICBpZiAob3B0KSBvcHQgPSBtZXJnZSh7fSwgbWFya2VkLmRlZmF1bHRzLCBvcHQpO1xuICAgIGNoZWNrU2FuaXRpemVEZXByZWNhdGlvbihvcHQpO1xuICAgIHJldHVybiBQYXJzZXIucGFyc2UoTGV4ZXIubGV4KHNyYywgb3B0KSwgb3B0KTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIGUubWVzc2FnZSArPSAnXFxuUGxlYXNlIHJlcG9ydCB0aGlzIHRvIGh0dHBzOi8vZ2l0aHViLmNvbS9tYXJrZWRqcy9tYXJrZWQuJztcbiAgICBpZiAoKG9wdCB8fCBtYXJrZWQuZGVmYXVsdHMpLnNpbGVudCkge1xuICAgICAgcmV0dXJuICc8cD5BbiBlcnJvciBvY2N1cnJlZDo8L3A+PHByZT4nXG4gICAgICAgICsgZXNjYXBlKGUubWVzc2FnZSArICcnLCB0cnVlKVxuICAgICAgICArICc8L3ByZT4nO1xuICAgIH1cbiAgICB0aHJvdyBlO1xuICB9XG59XG5cbi8qKlxuICogT3B0aW9uc1xuICovXG5cbm1hcmtlZC5vcHRpb25zID1cbm1hcmtlZC5zZXRPcHRpb25zID0gZnVuY3Rpb24ob3B0KSB7XG4gIG1lcmdlKG1hcmtlZC5kZWZhdWx0cywgb3B0KTtcbiAgcmV0dXJuIG1hcmtlZDtcbn07XG5cbm1hcmtlZC5nZXREZWZhdWx0cyA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge1xuICAgIGJhc2VVcmw6IG51bGwsXG4gICAgYnJlYWtzOiBmYWxzZSxcbiAgICBnZm06IHRydWUsXG4gICAgaGVhZGVySWRzOiB0cnVlLFxuICAgIGhlYWRlclByZWZpeDogJycsXG4gICAgaGlnaGxpZ2h0OiBudWxsLFxuICAgIGxhbmdQcmVmaXg6ICdsYW5ndWFnZS0nLFxuICAgIG1hbmdsZTogdHJ1ZSxcbiAgICBwZWRhbnRpYzogZmFsc2UsXG4gICAgcmVuZGVyZXI6IG5ldyBSZW5kZXJlcigpLFxuICAgIHNhbml0aXplOiBmYWxzZSxcbiAgICBzYW5pdGl6ZXI6IG51bGwsXG4gICAgc2lsZW50OiBmYWxzZSxcbiAgICBzbWFydExpc3RzOiBmYWxzZSxcbiAgICBzbWFydHlwYW50czogZmFsc2UsXG4gICAgeGh0bWw6IGZhbHNlXG4gIH07XG59O1xuXG5tYXJrZWQuZGVmYXVsdHMgPSBtYXJrZWQuZ2V0RGVmYXVsdHMoKTtcblxuLyoqXG4gKiBFeHBvc2VcbiAqL1xuXG5tYXJrZWQuUGFyc2VyID0gUGFyc2VyO1xubWFya2VkLnBhcnNlciA9IFBhcnNlci5wYXJzZTtcblxubWFya2VkLlJlbmRlcmVyID0gUmVuZGVyZXI7XG5tYXJrZWQuVGV4dFJlbmRlcmVyID0gVGV4dFJlbmRlcmVyO1xuXG5tYXJrZWQuTGV4ZXIgPSBMZXhlcjtcbm1hcmtlZC5sZXhlciA9IExleGVyLmxleDtcblxubWFya2VkLklubGluZUxleGVyID0gSW5saW5lTGV4ZXI7XG5tYXJrZWQuaW5saW5lTGV4ZXIgPSBJbmxpbmVMZXhlci5vdXRwdXQ7XG5cbm1hcmtlZC5TbHVnZ2VyID0gU2x1Z2dlcjtcblxubWFya2VkLnBhcnNlID0gbWFya2VkO1xuXG5pZiAodHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKSB7XG4gIG1vZHVsZS5leHBvcnRzID0gbWFya2VkO1xufSBlbHNlIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHtcbiAgZGVmaW5lKGZ1bmN0aW9uKCkgeyByZXR1cm4gbWFya2VkOyB9KTtcbn0gZWxzZSB7XG4gIHJvb3QubWFya2VkID0gbWFya2VkO1xufVxufSkodGhpcyB8fCAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgPyB3aW5kb3cgOiBnbG9iYWwpKTtcbiIsInZhciBnO1xuXG4vLyBUaGlzIHdvcmtzIGluIG5vbi1zdHJpY3QgbW9kZVxuZyA9IChmdW5jdGlvbigpIHtcblx0cmV0dXJuIHRoaXM7XG59KSgpO1xuXG50cnkge1xuXHQvLyBUaGlzIHdvcmtzIGlmIGV2YWwgaXMgYWxsb3dlZCAoc2VlIENTUClcblx0ZyA9IGcgfHwgbmV3IEZ1bmN0aW9uKFwicmV0dXJuIHRoaXNcIikoKTtcbn0gY2F0Y2ggKGUpIHtcblx0Ly8gVGhpcyB3b3JrcyBpZiB0aGUgd2luZG93IHJlZmVyZW5jZSBpcyBhdmFpbGFibGVcblx0aWYgKHR5cGVvZiB3aW5kb3cgPT09IFwib2JqZWN0XCIpIGcgPSB3aW5kb3c7XG59XG5cbi8vIGcgY2FuIHN0aWxsIGJlIHVuZGVmaW5lZCwgYnV0IG5vdGhpbmcgdG8gZG8gYWJvdXQgaXQuLi5cbi8vIFdlIHJldHVybiB1bmRlZmluZWQsIGluc3RlYWQgb2Ygbm90aGluZyBoZXJlLCBzbyBpdCdzXG4vLyBlYXNpZXIgdG8gaGFuZGxlIHRoaXMgY2FzZS4gaWYoIWdsb2JhbCkgeyAuLi59XG5cbm1vZHVsZS5leHBvcnRzID0gZztcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAoYykgMjAxNyBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBUaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0XG4gKiBUaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0XG4gKiBDb2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzb1xuICogc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudCBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4gKi9cblxuLyoqXG4gKiBAbW9kdWxlIGxpdC1odG1sXG4gKi9cblxuaW1wb3J0IHtQYXJ0fSBmcm9tICcuL3BhcnQuanMnO1xuXG5jb25zdCBkaXJlY3RpdmVzID0gbmV3IFdlYWtNYXA8b2JqZWN0LCB0cnVlPigpO1xuXG4vLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bm8tYW55XG5leHBvcnQgdHlwZSBEaXJlY3RpdmVGYWN0b3J5ID0gKC4uLmFyZ3M6IGFueVtdKSA9PiBvYmplY3Q7XG5cbmV4cG9ydCB0eXBlIERpcmVjdGl2ZUZuID0gKHBhcnQ6IFBhcnQpID0+IHZvaWQ7XG5cbi8qKlxuICogQnJhbmRzIGEgZnVuY3Rpb24gYXMgYSBkaXJlY3RpdmUgZmFjdG9yeSBmdW5jdGlvbiBzbyB0aGF0IGxpdC1odG1sIHdpbGwgY2FsbFxuICogdGhlIGZ1bmN0aW9uIGR1cmluZyB0ZW1wbGF0ZSByZW5kZXJpbmcsIHJhdGhlciB0aGFuIHBhc3NpbmcgYXMgYSB2YWx1ZS5cbiAqXG4gKiBBIF9kaXJlY3RpdmVfIGlzIGEgZnVuY3Rpb24gdGhhdCB0YWtlcyBhIFBhcnQgYXMgYW4gYXJndW1lbnQuIEl0IGhhcyB0aGVcbiAqIHNpZ25hdHVyZTogYChwYXJ0OiBQYXJ0KSA9PiB2b2lkYC5cbiAqXG4gKiBBIGRpcmVjdGl2ZSBfZmFjdG9yeV8gaXMgYSBmdW5jdGlvbiB0aGF0IHRha2VzIGFyZ3VtZW50cyBmb3IgZGF0YSBhbmRcbiAqIGNvbmZpZ3VyYXRpb24gYW5kIHJldHVybnMgYSBkaXJlY3RpdmUuIFVzZXJzIG9mIGRpcmVjdGl2ZSB1c3VhbGx5IHJlZmVyIHRvXG4gKiB0aGUgZGlyZWN0aXZlIGZhY3RvcnkgYXMgdGhlIGRpcmVjdGl2ZS4gRm9yIGV4YW1wbGUsIFwiVGhlIHJlcGVhdCBkaXJlY3RpdmVcIi5cbiAqXG4gKiBVc3VhbGx5IGEgdGVtcGxhdGUgYXV0aG9yIHdpbGwgaW52b2tlIGEgZGlyZWN0aXZlIGZhY3RvcnkgaW4gdGhlaXIgdGVtcGxhdGVcbiAqIHdpdGggcmVsZXZhbnQgYXJndW1lbnRzLCB3aGljaCB3aWxsIHRoZW4gcmV0dXJuIGEgZGlyZWN0aXZlIGZ1bmN0aW9uLlxuICpcbiAqIEhlcmUncyBhbiBleGFtcGxlIG9mIHVzaW5nIHRoZSBgcmVwZWF0KClgIGRpcmVjdGl2ZSBmYWN0b3J5IHRoYXQgdGFrZXMgYW5cbiAqIGFycmF5IGFuZCBhIGZ1bmN0aW9uIHRvIHJlbmRlciBhbiBpdGVtOlxuICpcbiAqIGBgYGpzXG4gKiBodG1sYDx1bD48JHtyZXBlYXQoaXRlbXMsIChpdGVtKSA9PiBodG1sYDxsaT4ke2l0ZW19PC9saT5gKX08L3VsPmBcbiAqIGBgYFxuICpcbiAqIFdoZW4gYHJlcGVhdGAgaXMgaW52b2tlZCwgaXQgcmV0dXJucyBhIGRpcmVjdGl2ZSBmdW5jdGlvbiB0aGF0IGNsb3NlcyBvdmVyXG4gKiBgaXRlbXNgIGFuZCB0aGUgdGVtcGxhdGUgZnVuY3Rpb24uIFdoZW4gdGhlIG91dGVyIHRlbXBsYXRlIGlzIHJlbmRlcmVkLCB0aGVcbiAqIHJldHVybiBkaXJlY3RpdmUgZnVuY3Rpb24gaXMgY2FsbGVkIHdpdGggdGhlIFBhcnQgZm9yIHRoZSBleHByZXNzaW9uLlxuICogYHJlcGVhdGAgdGhlbiBwZXJmb3JtcyBpdCdzIGN1c3RvbSBsb2dpYyB0byByZW5kZXIgbXVsdGlwbGUgaXRlbXMuXG4gKlxuICogQHBhcmFtIGYgVGhlIGRpcmVjdGl2ZSBmYWN0b3J5IGZ1bmN0aW9uLiBNdXN0IGJlIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGFcbiAqIGZ1bmN0aW9uIG9mIHRoZSBzaWduYXR1cmUgYChwYXJ0OiBQYXJ0KSA9PiB2b2lkYC4gVGhlIHJldHVybmVkIGZ1bmN0aW9uIHdpbGxcbiAqIGJlIGNhbGxlZCB3aXRoIHRoZSBwYXJ0IG9iamVjdC5cbiAqXG4gKiBAZXhhbXBsZVxuICpcbiAqIGltcG9ydCB7ZGlyZWN0aXZlLCBodG1sfSBmcm9tICdsaXQtaHRtbCc7XG4gKlxuICogY29uc3QgaW1tdXRhYmxlID0gZGlyZWN0aXZlKCh2KSA9PiAocGFydCkgPT4ge1xuICogICBpZiAocGFydC52YWx1ZSAhPT0gdikge1xuICogICAgIHBhcnQuc2V0VmFsdWUodilcbiAqICAgfVxuICogfSk7XG4gKi9cbmV4cG9ydCBjb25zdCBkaXJlY3RpdmUgPSA8RiBleHRlbmRzIERpcmVjdGl2ZUZhY3Rvcnk+KGY6IEYpOiBGID0+XG4gICAgKCguLi5hcmdzOiB1bmtub3duW10pID0+IHtcbiAgICAgIGNvbnN0IGQgPSBmKC4uLmFyZ3MpO1xuICAgICAgZGlyZWN0aXZlcy5zZXQoZCwgdHJ1ZSk7XG4gICAgICByZXR1cm4gZDtcbiAgICB9KSBhcyBGO1xuXG5leHBvcnQgY29uc3QgaXNEaXJlY3RpdmUgPSAobzogdW5rbm93bik6IG8gaXMgRGlyZWN0aXZlRm4gPT4ge1xuICByZXR1cm4gdHlwZW9mIG8gPT09ICdmdW5jdGlvbicgJiYgZGlyZWN0aXZlcy5oYXMobyk7XG59O1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IChjKSAyMDE3IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqIFRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0XG4gKiBUaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHRcbiAqIENvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzIHBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvXG4gKiBzdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50IGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiAqL1xuXG4vKipcbiAqIEBtb2R1bGUgbGl0LWh0bWxcbiAqL1xuXG5pbnRlcmZhY2UgTWF5YmVQb2x5ZmlsbGVkQ2UgZXh0ZW5kcyBDdXN0b21FbGVtZW50UmVnaXN0cnkge1xuICByZWFkb25seSBwb2x5ZmlsbFdyYXBGbHVzaENhbGxiYWNrPzogb2JqZWN0O1xufVxuXG4vKipcbiAqIFRydWUgaWYgdGhlIGN1c3RvbSBlbGVtZW50cyBwb2x5ZmlsbCBpcyBpbiB1c2UuXG4gKi9cbmV4cG9ydCBjb25zdCBpc0NFUG9seWZpbGwgPSB3aW5kb3cuY3VzdG9tRWxlbWVudHMgIT09IHVuZGVmaW5lZCAmJlxuICAgICh3aW5kb3cuY3VzdG9tRWxlbWVudHMgYXMgTWF5YmVQb2x5ZmlsbGVkQ2UpLnBvbHlmaWxsV3JhcEZsdXNoQ2FsbGJhY2sgIT09XG4gICAgICAgIHVuZGVmaW5lZDtcblxuLyoqXG4gKiBSZXBhcmVudHMgbm9kZXMsIHN0YXJ0aW5nIGZyb20gYHN0YXJ0YCAoaW5jbHVzaXZlKSB0byBgZW5kYCAoZXhjbHVzaXZlKSxcbiAqIGludG8gYW5vdGhlciBjb250YWluZXIgKGNvdWxkIGJlIHRoZSBzYW1lIGNvbnRhaW5lciksIGJlZm9yZSBgYmVmb3JlYC4gSWZcbiAqIGBiZWZvcmVgIGlzIG51bGwsIGl0IGFwcGVuZHMgdGhlIG5vZGVzIHRvIHRoZSBjb250YWluZXIuXG4gKi9cbmV4cG9ydCBjb25zdCByZXBhcmVudE5vZGVzID1cbiAgICAoY29udGFpbmVyOiBOb2RlLFxuICAgICBzdGFydDogTm9kZXxudWxsLFxuICAgICBlbmQ6IE5vZGV8bnVsbCA9IG51bGwsXG4gICAgIGJlZm9yZTogTm9kZXxudWxsID0gbnVsbCk6IHZvaWQgPT4ge1xuICAgICAgd2hpbGUgKHN0YXJ0ICE9PSBlbmQpIHtcbiAgICAgICAgY29uc3QgbiA9IHN0YXJ0IS5uZXh0U2libGluZztcbiAgICAgICAgY29udGFpbmVyLmluc2VydEJlZm9yZShzdGFydCEsIGJlZm9yZSk7XG4gICAgICAgIHN0YXJ0ID0gbjtcbiAgICAgIH1cbiAgICB9O1xuXG4vKipcbiAqIFJlbW92ZXMgbm9kZXMsIHN0YXJ0aW5nIGZyb20gYHN0YXJ0YCAoaW5jbHVzaXZlKSB0byBgZW5kYCAoZXhjbHVzaXZlKSwgZnJvbVxuICogYGNvbnRhaW5lcmAuXG4gKi9cbmV4cG9ydCBjb25zdCByZW1vdmVOb2RlcyA9XG4gICAgKGNvbnRhaW5lcjogTm9kZSwgc3RhcnQ6IE5vZGV8bnVsbCwgZW5kOiBOb2RlfG51bGwgPSBudWxsKTogdm9pZCA9PiB7XG4gICAgICB3aGlsZSAoc3RhcnQgIT09IGVuZCkge1xuICAgICAgICBjb25zdCBuID0gc3RhcnQhLm5leHRTaWJsaW5nO1xuICAgICAgICBjb250YWluZXIucmVtb3ZlQ2hpbGQoc3RhcnQhKTtcbiAgICAgICAgc3RhcnQgPSBuO1xuICAgICAgfVxuICAgIH07XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTggVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuICogQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbiAqIHN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuICovXG5cbi8qKlxuICogQG1vZHVsZSBsaXQtaHRtbFxuICovXG5cbi8qKlxuICogVGhlIFBhcnQgaW50ZXJmYWNlIHJlcHJlc2VudHMgYSBkeW5hbWljIHBhcnQgb2YgYSB0ZW1wbGF0ZSBpbnN0YW5jZSByZW5kZXJlZFxuICogYnkgbGl0LWh0bWwuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUGFydCB7XG4gIHJlYWRvbmx5IHZhbHVlOiB1bmtub3duO1xuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSBjdXJyZW50IHBhcnQgdmFsdWUsIGJ1dCBkb2VzIG5vdCB3cml0ZSBpdCB0byB0aGUgRE9NLlxuICAgKiBAcGFyYW0gdmFsdWUgVGhlIHZhbHVlIHRoYXQgd2lsbCBiZSBjb21taXR0ZWQuXG4gICAqL1xuICBzZXRWYWx1ZSh2YWx1ZTogdW5rbm93bik6IHZvaWQ7XG5cbiAgLyoqXG4gICAqIENvbW1pdHMgdGhlIGN1cnJlbnQgcGFydCB2YWx1ZSwgY2F1c2luZyBpdCB0byBhY3R1YWxseSBiZSB3cml0dGVuIHRvIHRoZVxuICAgKiBET00uXG4gICAqXG4gICAqIERpcmVjdGl2ZXMgYXJlIHJ1biBhdCB0aGUgc3RhcnQgb2YgYGNvbW1pdGAsIHNvIHRoYXQgaWYgdGhleSBjYWxsXG4gICAqIGBwYXJ0LnNldFZhbHVlKC4uLilgIHN5bmNocm9ub3VzbHkgdGhhdCB2YWx1ZSB3aWxsIGJlIHVzZWQgaW4gdGhlIGN1cnJlbnRcbiAgICogY29tbWl0LCBhbmQgdGhlcmUncyBubyBuZWVkIHRvIGNhbGwgYHBhcnQuY29tbWl0KClgIHdpdGhpbiB0aGUgZGlyZWN0aXZlLlxuICAgKiBJZiBkaXJlY3RpdmVzIHNldCBhIHBhcnQgdmFsdWUgYXN5bmNocm9ub3VzbHksIHRoZW4gdGhleSBtdXN0IGNhbGxcbiAgICogYHBhcnQuY29tbWl0KClgIG1hbnVhbGx5LlxuICAgKi9cbiAgY29tbWl0KCk6IHZvaWQ7XG59XG5cbi8qKlxuICogQSBzZW50aW5lbCB2YWx1ZSB0aGF0IHNpZ25hbHMgdGhhdCBhIHZhbHVlIHdhcyBoYW5kbGVkIGJ5IGEgZGlyZWN0aXZlIGFuZFxuICogc2hvdWxkIG5vdCBiZSB3cml0dGVuIHRvIHRoZSBET00uXG4gKi9cbmV4cG9ydCBjb25zdCBub0NoYW5nZSA9IHt9O1xuXG4vKipcbiAqIEEgc2VudGluZWwgdmFsdWUgdGhhdCBzaWduYWxzIGEgTm9kZVBhcnQgdG8gZnVsbHkgY2xlYXIgaXRzIGNvbnRlbnQuXG4gKi9cbmV4cG9ydCBjb25zdCBub3RoaW5nID0ge307XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTcgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuICogQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbiAqIHN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuICovXG5cbi8qKlxuICogQG1vZHVsZSBsaXQtaHRtbFxuICovXG5cbmltcG9ydCB7VGVtcGxhdGVSZXN1bHR9IGZyb20gJy4vdGVtcGxhdGUtcmVzdWx0LmpzJztcblxuLyoqXG4gKiBBbiBleHByZXNzaW9uIG1hcmtlciB3aXRoIGVtYmVkZGVkIHVuaXF1ZSBrZXkgdG8gYXZvaWQgY29sbGlzaW9uIHdpdGhcbiAqIHBvc3NpYmxlIHRleHQgaW4gdGVtcGxhdGVzLlxuICovXG5leHBvcnQgY29uc3QgbWFya2VyID0gYHt7bGl0LSR7U3RyaW5nKE1hdGgucmFuZG9tKCkpLnNsaWNlKDIpfX19YDtcblxuLyoqXG4gKiBBbiBleHByZXNzaW9uIG1hcmtlciB1c2VkIHRleHQtcG9zaXRpb25zLCBtdWx0aS1iaW5kaW5nIGF0dHJpYnV0ZXMsIGFuZFxuICogYXR0cmlidXRlcyB3aXRoIG1hcmt1cC1saWtlIHRleHQgdmFsdWVzLlxuICovXG5leHBvcnQgY29uc3Qgbm9kZU1hcmtlciA9IGA8IS0tJHttYXJrZXJ9LS0+YDtcblxuZXhwb3J0IGNvbnN0IG1hcmtlclJlZ2V4ID0gbmV3IFJlZ0V4cChgJHttYXJrZXJ9fCR7bm9kZU1hcmtlcn1gKTtcblxuLyoqXG4gKiBTdWZmaXggYXBwZW5kZWQgdG8gYWxsIGJvdW5kIGF0dHJpYnV0ZSBuYW1lcy5cbiAqL1xuZXhwb3J0IGNvbnN0IGJvdW5kQXR0cmlidXRlU3VmZml4ID0gJyRsaXQkJztcblxuLyoqXG4gKiBBbiB1cGRhdGVhYmxlIFRlbXBsYXRlIHRoYXQgdHJhY2tzIHRoZSBsb2NhdGlvbiBvZiBkeW5hbWljIHBhcnRzLlxuICovXG5leHBvcnQgY2xhc3MgVGVtcGxhdGUge1xuICByZWFkb25seSBwYXJ0czogVGVtcGxhdGVQYXJ0W10gPSBbXTtcbiAgcmVhZG9ubHkgZWxlbWVudDogSFRNTFRlbXBsYXRlRWxlbWVudDtcblxuICBjb25zdHJ1Y3RvcihyZXN1bHQ6IFRlbXBsYXRlUmVzdWx0LCBlbGVtZW50OiBIVE1MVGVtcGxhdGVFbGVtZW50KSB7XG4gICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudDtcblxuICAgIGNvbnN0IG5vZGVzVG9SZW1vdmU6IE5vZGVbXSA9IFtdO1xuICAgIGNvbnN0IHN0YWNrOiBOb2RlW10gPSBbXTtcbiAgICAvLyBFZGdlIG5lZWRzIGFsbCA0IHBhcmFtZXRlcnMgcHJlc2VudDsgSUUxMSBuZWVkcyAzcmQgcGFyYW1ldGVyIHRvIGJlIG51bGxcbiAgICBjb25zdCB3YWxrZXIgPSBkb2N1bWVudC5jcmVhdGVUcmVlV2Fsa2VyKFxuICAgICAgICBlbGVtZW50LmNvbnRlbnQsXG4gICAgICAgIDEzMyAvKiBOb2RlRmlsdGVyLlNIT1dfe0VMRU1FTlR8Q09NTUVOVHxURVhUfSAqLyxcbiAgICAgICAgbnVsbCxcbiAgICAgICAgZmFsc2UpO1xuICAgIC8vIEtlZXBzIHRyYWNrIG9mIHRoZSBsYXN0IGluZGV4IGFzc29jaWF0ZWQgd2l0aCBhIHBhcnQuIFdlIHRyeSB0byBkZWxldGVcbiAgICAvLyB1bm5lY2Vzc2FyeSBub2RlcywgYnV0IHdlIG5ldmVyIHdhbnQgdG8gYXNzb2NpYXRlIHR3byBkaWZmZXJlbnQgcGFydHNcbiAgICAvLyB0byB0aGUgc2FtZSBpbmRleC4gVGhleSBtdXN0IGhhdmUgYSBjb25zdGFudCBub2RlIGJldHdlZW4uXG4gICAgbGV0IGxhc3RQYXJ0SW5kZXggPSAwO1xuICAgIGxldCBpbmRleCA9IC0xO1xuICAgIGxldCBwYXJ0SW5kZXggPSAwO1xuICAgIGNvbnN0IHtzdHJpbmdzLCB2YWx1ZXM6IHtsZW5ndGh9fSA9IHJlc3VsdDtcbiAgICB3aGlsZSAocGFydEluZGV4IDwgbGVuZ3RoKSB7XG4gICAgICBjb25zdCBub2RlID0gd2Fsa2VyLm5leHROb2RlKCkgYXMgRWxlbWVudCB8IENvbW1lbnQgfCBUZXh0IHwgbnVsbDtcbiAgICAgIGlmIChub2RlID09PSBudWxsKSB7XG4gICAgICAgIC8vIFdlJ3ZlIGV4aGF1c3RlZCB0aGUgY29udGVudCBpbnNpZGUgYSBuZXN0ZWQgdGVtcGxhdGUgZWxlbWVudC5cbiAgICAgICAgLy8gQmVjYXVzZSB3ZSBzdGlsbCBoYXZlIHBhcnRzICh0aGUgb3V0ZXIgZm9yLWxvb3ApLCB3ZSBrbm93OlxuICAgICAgICAvLyAtIFRoZXJlIGlzIGEgdGVtcGxhdGUgaW4gdGhlIHN0YWNrXG4gICAgICAgIC8vIC0gVGhlIHdhbGtlciB3aWxsIGZpbmQgYSBuZXh0Tm9kZSBvdXRzaWRlIHRoZSB0ZW1wbGF0ZVxuICAgICAgICB3YWxrZXIuY3VycmVudE5vZGUgPSBzdGFjay5wb3AoKSE7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgaW5kZXgrKztcblxuICAgICAgaWYgKG5vZGUubm9kZVR5cGUgPT09IDEgLyogTm9kZS5FTEVNRU5UX05PREUgKi8pIHtcbiAgICAgICAgaWYgKChub2RlIGFzIEVsZW1lbnQpLmhhc0F0dHJpYnV0ZXMoKSkge1xuICAgICAgICAgIGNvbnN0IGF0dHJpYnV0ZXMgPSAobm9kZSBhcyBFbGVtZW50KS5hdHRyaWJ1dGVzO1xuICAgICAgICAgIGNvbnN0IHtsZW5ndGh9ID0gYXR0cmlidXRlcztcbiAgICAgICAgICAvLyBQZXJcbiAgICAgICAgICAvLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvTmFtZWROb2RlTWFwLFxuICAgICAgICAgIC8vIGF0dHJpYnV0ZXMgYXJlIG5vdCBndWFyYW50ZWVkIHRvIGJlIHJldHVybmVkIGluIGRvY3VtZW50IG9yZGVyLlxuICAgICAgICAgIC8vIEluIHBhcnRpY3VsYXIsIEVkZ2UvSUUgY2FuIHJldHVybiB0aGVtIG91dCBvZiBvcmRlciwgc28gd2UgY2Fubm90XG4gICAgICAgICAgLy8gYXNzdW1lIGEgY29ycmVzcG9uZGVuY2UgYmV0d2VlbiBwYXJ0IGluZGV4IGFuZCBhdHRyaWJ1dGUgaW5kZXguXG4gICAgICAgICAgbGV0IGNvdW50ID0gMDtcbiAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoZW5kc1dpdGgoYXR0cmlidXRlc1tpXS5uYW1lLCBib3VuZEF0dHJpYnV0ZVN1ZmZpeCkpIHtcbiAgICAgICAgICAgICAgY291bnQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgd2hpbGUgKGNvdW50LS0gPiAwKSB7XG4gICAgICAgICAgICAvLyBHZXQgdGhlIHRlbXBsYXRlIGxpdGVyYWwgc2VjdGlvbiBsZWFkaW5nIHVwIHRvIHRoZSBmaXJzdFxuICAgICAgICAgICAgLy8gZXhwcmVzc2lvbiBpbiB0aGlzIGF0dHJpYnV0ZVxuICAgICAgICAgICAgY29uc3Qgc3RyaW5nRm9yUGFydCA9IHN0cmluZ3NbcGFydEluZGV4XTtcbiAgICAgICAgICAgIC8vIEZpbmQgdGhlIGF0dHJpYnV0ZSBuYW1lXG4gICAgICAgICAgICBjb25zdCBuYW1lID0gbGFzdEF0dHJpYnV0ZU5hbWVSZWdleC5leGVjKHN0cmluZ0ZvclBhcnQpIVsyXTtcbiAgICAgICAgICAgIC8vIEZpbmQgdGhlIGNvcnJlc3BvbmRpbmcgYXR0cmlidXRlXG4gICAgICAgICAgICAvLyBBbGwgYm91bmQgYXR0cmlidXRlcyBoYXZlIGhhZCBhIHN1ZmZpeCBhZGRlZCBpblxuICAgICAgICAgICAgLy8gVGVtcGxhdGVSZXN1bHQjZ2V0SFRNTCB0byBvcHQgb3V0IG9mIHNwZWNpYWwgYXR0cmlidXRlXG4gICAgICAgICAgICAvLyBoYW5kbGluZy4gVG8gbG9vayB1cCB0aGUgYXR0cmlidXRlIHZhbHVlIHdlIGFsc28gbmVlZCB0byBhZGRcbiAgICAgICAgICAgIC8vIHRoZSBzdWZmaXguXG4gICAgICAgICAgICBjb25zdCBhdHRyaWJ1dGVMb29rdXBOYW1lID1cbiAgICAgICAgICAgICAgICBuYW1lLnRvTG93ZXJDYXNlKCkgKyBib3VuZEF0dHJpYnV0ZVN1ZmZpeDtcbiAgICAgICAgICAgIGNvbnN0IGF0dHJpYnV0ZVZhbHVlID1cbiAgICAgICAgICAgICAgICAobm9kZSBhcyBFbGVtZW50KS5nZXRBdHRyaWJ1dGUoYXR0cmlidXRlTG9va3VwTmFtZSkhO1xuICAgICAgICAgICAgKG5vZGUgYXMgRWxlbWVudCkucmVtb3ZlQXR0cmlidXRlKGF0dHJpYnV0ZUxvb2t1cE5hbWUpO1xuICAgICAgICAgICAgY29uc3Qgc3RhdGljcyA9IGF0dHJpYnV0ZVZhbHVlLnNwbGl0KG1hcmtlclJlZ2V4KTtcbiAgICAgICAgICAgIHRoaXMucGFydHMucHVzaCh7dHlwZTogJ2F0dHJpYnV0ZScsIGluZGV4LCBuYW1lLCBzdHJpbmdzOiBzdGF0aWNzfSk7XG4gICAgICAgICAgICBwYXJ0SW5kZXggKz0gc3RhdGljcy5sZW5ndGggLSAxO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoKG5vZGUgYXMgRWxlbWVudCkudGFnTmFtZSA9PT0gJ1RFTVBMQVRFJykge1xuICAgICAgICAgIHN0YWNrLnB1c2gobm9kZSk7XG4gICAgICAgICAgd2Fsa2VyLmN1cnJlbnROb2RlID0gKG5vZGUgYXMgSFRNTFRlbXBsYXRlRWxlbWVudCkuY29udGVudDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChub2RlLm5vZGVUeXBlID09PSAzIC8qIE5vZGUuVEVYVF9OT0RFICovKSB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSAobm9kZSBhcyBUZXh0KS5kYXRhO1xuICAgICAgICBpZiAoZGF0YS5pbmRleE9mKG1hcmtlcikgPj0gMCkge1xuICAgICAgICAgIGNvbnN0IHBhcmVudCA9IG5vZGUucGFyZW50Tm9kZSE7XG4gICAgICAgICAgY29uc3Qgc3RyaW5ncyA9IGRhdGEuc3BsaXQobWFya2VyUmVnZXgpO1xuICAgICAgICAgIGNvbnN0IGxhc3RJbmRleCA9IHN0cmluZ3MubGVuZ3RoIC0gMTtcbiAgICAgICAgICAvLyBHZW5lcmF0ZSBhIG5ldyB0ZXh0IG5vZGUgZm9yIGVhY2ggbGl0ZXJhbCBzZWN0aW9uXG4gICAgICAgICAgLy8gVGhlc2Ugbm9kZXMgYXJlIGFsc28gdXNlZCBhcyB0aGUgbWFya2VycyBmb3Igbm9kZSBwYXJ0c1xuICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGFzdEluZGV4OyBpKyspIHtcbiAgICAgICAgICAgIGxldCBpbnNlcnQ6IE5vZGU7XG4gICAgICAgICAgICBsZXQgcyA9IHN0cmluZ3NbaV07XG4gICAgICAgICAgICBpZiAocyA9PT0gJycpIHtcbiAgICAgICAgICAgICAgaW5zZXJ0ID0gY3JlYXRlTWFya2VyKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBjb25zdCBtYXRjaCA9IGxhc3RBdHRyaWJ1dGVOYW1lUmVnZXguZXhlYyhzKTtcbiAgICAgICAgICAgICAgaWYgKG1hdGNoICE9PSBudWxsICYmIGVuZHNXaXRoKG1hdGNoWzJdLCBib3VuZEF0dHJpYnV0ZVN1ZmZpeCkpIHtcbiAgICAgICAgICAgICAgICBzID0gcy5zbGljZSgwLCBtYXRjaC5pbmRleCkgKyBtYXRjaFsxXSArXG4gICAgICAgICAgICAgICAgICAgIG1hdGNoWzJdLnNsaWNlKDAsIC1ib3VuZEF0dHJpYnV0ZVN1ZmZpeC5sZW5ndGgpICsgbWF0Y2hbM107XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaW5zZXJ0ID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUocyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwYXJlbnQuaW5zZXJ0QmVmb3JlKGluc2VydCwgbm9kZSk7XG4gICAgICAgICAgICB0aGlzLnBhcnRzLnB1c2goe3R5cGU6ICdub2RlJywgaW5kZXg6ICsraW5kZXh9KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gSWYgdGhlcmUncyBubyB0ZXh0LCB3ZSBtdXN0IGluc2VydCBhIGNvbW1lbnQgdG8gbWFyayBvdXIgcGxhY2UuXG4gICAgICAgICAgLy8gRWxzZSwgd2UgY2FuIHRydXN0IGl0IHdpbGwgc3RpY2sgYXJvdW5kIGFmdGVyIGNsb25pbmcuXG4gICAgICAgICAgaWYgKHN0cmluZ3NbbGFzdEluZGV4XSA9PT0gJycpIHtcbiAgICAgICAgICAgIHBhcmVudC5pbnNlcnRCZWZvcmUoY3JlYXRlTWFya2VyKCksIG5vZGUpO1xuICAgICAgICAgICAgbm9kZXNUb1JlbW92ZS5wdXNoKG5vZGUpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAobm9kZSBhcyBUZXh0KS5kYXRhID0gc3RyaW5nc1tsYXN0SW5kZXhdO1xuICAgICAgICAgIH1cbiAgICAgICAgICAvLyBXZSBoYXZlIGEgcGFydCBmb3IgZWFjaCBtYXRjaCBmb3VuZFxuICAgICAgICAgIHBhcnRJbmRleCArPSBsYXN0SW5kZXg7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAobm9kZS5ub2RlVHlwZSA9PT0gOCAvKiBOb2RlLkNPTU1FTlRfTk9ERSAqLykge1xuICAgICAgICBpZiAoKG5vZGUgYXMgQ29tbWVudCkuZGF0YSA9PT0gbWFya2VyKSB7XG4gICAgICAgICAgY29uc3QgcGFyZW50ID0gbm9kZS5wYXJlbnROb2RlITtcbiAgICAgICAgICAvLyBBZGQgYSBuZXcgbWFya2VyIG5vZGUgdG8gYmUgdGhlIHN0YXJ0Tm9kZSBvZiB0aGUgUGFydCBpZiBhbnkgb2ZcbiAgICAgICAgICAvLyB0aGUgZm9sbG93aW5nIGFyZSB0cnVlOlxuICAgICAgICAgIC8vICAqIFdlIGRvbid0IGhhdmUgYSBwcmV2aW91c1NpYmxpbmdcbiAgICAgICAgICAvLyAgKiBUaGUgcHJldmlvdXNTaWJsaW5nIGlzIGFscmVhZHkgdGhlIHN0YXJ0IG9mIGEgcHJldmlvdXMgcGFydFxuICAgICAgICAgIGlmIChub2RlLnByZXZpb3VzU2libGluZyA9PT0gbnVsbCB8fCBpbmRleCA9PT0gbGFzdFBhcnRJbmRleCkge1xuICAgICAgICAgICAgaW5kZXgrKztcbiAgICAgICAgICAgIHBhcmVudC5pbnNlcnRCZWZvcmUoY3JlYXRlTWFya2VyKCksIG5vZGUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBsYXN0UGFydEluZGV4ID0gaW5kZXg7XG4gICAgICAgICAgdGhpcy5wYXJ0cy5wdXNoKHt0eXBlOiAnbm9kZScsIGluZGV4fSk7XG4gICAgICAgICAgLy8gSWYgd2UgZG9uJ3QgaGF2ZSBhIG5leHRTaWJsaW5nLCBrZWVwIHRoaXMgbm9kZSBzbyB3ZSBoYXZlIGFuIGVuZC5cbiAgICAgICAgICAvLyBFbHNlLCB3ZSBjYW4gcmVtb3ZlIGl0IHRvIHNhdmUgZnV0dXJlIGNvc3RzLlxuICAgICAgICAgIGlmIChub2RlLm5leHRTaWJsaW5nID09PSBudWxsKSB7XG4gICAgICAgICAgICAobm9kZSBhcyBDb21tZW50KS5kYXRhID0gJyc7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG5vZGVzVG9SZW1vdmUucHVzaChub2RlKTtcbiAgICAgICAgICAgIGluZGV4LS07XG4gICAgICAgICAgfVxuICAgICAgICAgIHBhcnRJbmRleCsrO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGxldCBpID0gLTE7XG4gICAgICAgICAgd2hpbGUgKChpID0gKG5vZGUgYXMgQ29tbWVudCkuZGF0YS5pbmRleE9mKG1hcmtlciwgaSArIDEpKSAhPT0gLTEpIHtcbiAgICAgICAgICAgIC8vIENvbW1lbnQgbm9kZSBoYXMgYSBiaW5kaW5nIG1hcmtlciBpbnNpZGUsIG1ha2UgYW4gaW5hY3RpdmUgcGFydFxuICAgICAgICAgICAgLy8gVGhlIGJpbmRpbmcgd29uJ3Qgd29yaywgYnV0IHN1YnNlcXVlbnQgYmluZGluZ3Mgd2lsbFxuICAgICAgICAgICAgLy8gVE9ETyAoanVzdGluZmFnbmFuaSk6IGNvbnNpZGVyIHdoZXRoZXIgaXQncyBldmVuIHdvcnRoIGl0IHRvXG4gICAgICAgICAgICAvLyBtYWtlIGJpbmRpbmdzIGluIGNvbW1lbnRzIHdvcmtcbiAgICAgICAgICAgIHRoaXMucGFydHMucHVzaCh7dHlwZTogJ25vZGUnLCBpbmRleDogLTF9KTtcbiAgICAgICAgICAgIHBhcnRJbmRleCsrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIFJlbW92ZSB0ZXh0IGJpbmRpbmcgbm9kZXMgYWZ0ZXIgdGhlIHdhbGsgdG8gbm90IGRpc3R1cmIgdGhlIFRyZWVXYWxrZXJcbiAgICBmb3IgKGNvbnN0IG4gb2Ygbm9kZXNUb1JlbW92ZSkge1xuICAgICAgbi5wYXJlbnROb2RlIS5yZW1vdmVDaGlsZChuKTtcbiAgICB9XG4gIH1cbn1cblxuY29uc3QgZW5kc1dpdGggPSAoc3RyOiBzdHJpbmcsIHN1ZmZpeDogc3RyaW5nKTogYm9vbGVhbiA9PiB7XG4gIGNvbnN0IGluZGV4ID0gc3RyLmxlbmd0aCAtIHN1ZmZpeC5sZW5ndGg7XG4gIHJldHVybiBpbmRleCA+PSAwICYmIHN0ci5zbGljZShpbmRleCkgPT09IHN1ZmZpeDtcbn07XG5cbi8qKlxuICogQSBwbGFjZWhvbGRlciBmb3IgYSBkeW5hbWljIGV4cHJlc3Npb24gaW4gYW4gSFRNTCB0ZW1wbGF0ZS5cbiAqXG4gKiBUaGVyZSBhcmUgdHdvIGJ1aWx0LWluIHBhcnQgdHlwZXM6IEF0dHJpYnV0ZVBhcnQgYW5kIE5vZGVQYXJ0LiBOb2RlUGFydHNcbiAqIGFsd2F5cyByZXByZXNlbnQgYSBzaW5nbGUgZHluYW1pYyBleHByZXNzaW9uLCB3aGlsZSBBdHRyaWJ1dGVQYXJ0cyBtYXlcbiAqIHJlcHJlc2VudCBhcyBtYW55IGV4cHJlc3Npb25zIGFyZSBjb250YWluZWQgaW4gdGhlIGF0dHJpYnV0ZS5cbiAqXG4gKiBBIFRlbXBsYXRlJ3MgcGFydHMgYXJlIG11dGFibGUsIHNvIHBhcnRzIGNhbiBiZSByZXBsYWNlZCBvciBtb2RpZmllZFxuICogKHBvc3NpYmx5IHRvIGltcGxlbWVudCBkaWZmZXJlbnQgdGVtcGxhdGUgc2VtYW50aWNzKS4gVGhlIGNvbnRyYWN0IGlzIHRoYXRcbiAqIHBhcnRzIGNhbiBvbmx5IGJlIHJlcGxhY2VkLCBub3QgcmVtb3ZlZCwgYWRkZWQgb3IgcmVvcmRlcmVkLCBhbmQgcGFydHMgbXVzdFxuICogYWx3YXlzIGNvbnN1bWUgdGhlIGNvcnJlY3QgbnVtYmVyIG9mIHZhbHVlcyBpbiB0aGVpciBgdXBkYXRlKClgIG1ldGhvZC5cbiAqXG4gKiBUT0RPKGp1c3RpbmZhZ25hbmkpOiBUaGF0IHJlcXVpcmVtZW50IGlzIGEgbGl0dGxlIGZyYWdpbGUuIEFcbiAqIFRlbXBsYXRlSW5zdGFuY2UgY291bGQgaW5zdGVhZCBiZSBtb3JlIGNhcmVmdWwgYWJvdXQgd2hpY2ggdmFsdWVzIGl0IGdpdmVzXG4gKiB0byBQYXJ0LnVwZGF0ZSgpLlxuICovXG5leHBvcnQgdHlwZSBUZW1wbGF0ZVBhcnQgPSB7XG4gIHJlYWRvbmx5IHR5cGU6ICdub2RlJyxcbiAgaW5kZXg6IG51bWJlclxufXx7cmVhZG9ubHkgdHlwZTogJ2F0dHJpYnV0ZScsIGluZGV4OiBudW1iZXIsIHJlYWRvbmx5IG5hbWU6IHN0cmluZywgcmVhZG9ubHkgc3RyaW5nczogUmVhZG9ubHlBcnJheTxzdHJpbmc+fTtcblxuZXhwb3J0IGNvbnN0IGlzVGVtcGxhdGVQYXJ0QWN0aXZlID0gKHBhcnQ6IFRlbXBsYXRlUGFydCkgPT4gcGFydC5pbmRleCAhPT0gLTE7XG5cbi8vIEFsbG93cyBgZG9jdW1lbnQuY3JlYXRlQ29tbWVudCgnJylgIHRvIGJlIHJlbmFtZWQgZm9yIGFcbi8vIHNtYWxsIG1hbnVhbCBzaXplLXNhdmluZ3MuXG5leHBvcnQgY29uc3QgY3JlYXRlTWFya2VyID0gKCkgPT4gZG9jdW1lbnQuY3JlYXRlQ29tbWVudCgnJyk7XG5cbi8qKlxuICogVGhpcyByZWdleCBleHRyYWN0cyB0aGUgYXR0cmlidXRlIG5hbWUgcHJlY2VkaW5nIGFuIGF0dHJpYnV0ZS1wb3NpdGlvblxuICogZXhwcmVzc2lvbi4gSXQgZG9lcyB0aGlzIGJ5IG1hdGNoaW5nIHRoZSBzeW50YXggYWxsb3dlZCBmb3IgYXR0cmlidXRlc1xuICogYWdhaW5zdCB0aGUgc3RyaW5nIGxpdGVyYWwgZGlyZWN0bHkgcHJlY2VkaW5nIHRoZSBleHByZXNzaW9uLCBhc3N1bWluZyB0aGF0XG4gKiB0aGUgZXhwcmVzc2lvbiBpcyBpbiBhbiBhdHRyaWJ1dGUtdmFsdWUgcG9zaXRpb24uXG4gKlxuICogU2VlIGF0dHJpYnV0ZXMgaW4gdGhlIEhUTUwgc3BlYzpcbiAqIGh0dHBzOi8vd3d3LnczLm9yZy9UUi9odG1sNS9zeW50YXguaHRtbCNlbGVtZW50cy1hdHRyaWJ1dGVzXG4gKlxuICogXCIgXFx4MDlcXHgwYVxceDBjXFx4MGRcIiBhcmUgSFRNTCBzcGFjZSBjaGFyYWN0ZXJzOlxuICogaHR0cHM6Ly93d3cudzMub3JnL1RSL2h0bWw1L2luZnJhc3RydWN0dXJlLmh0bWwjc3BhY2UtY2hhcmFjdGVyc1xuICpcbiAqIFwiXFwwLVxceDFGXFx4N0YtXFx4OUZcIiBhcmUgVW5pY29kZSBjb250cm9sIGNoYXJhY3RlcnMsIHdoaWNoIGluY2x1ZGVzIGV2ZXJ5XG4gKiBzcGFjZSBjaGFyYWN0ZXIgZXhjZXB0IFwiIFwiLlxuICpcbiAqIFNvIGFuIGF0dHJpYnV0ZSBpczpcbiAqICAqIFRoZSBuYW1lOiBhbnkgY2hhcmFjdGVyIGV4Y2VwdCBhIGNvbnRyb2wgY2hhcmFjdGVyLCBzcGFjZSBjaGFyYWN0ZXIsICgnKSxcbiAqICAgIChcIiksIFwiPlwiLCBcIj1cIiwgb3IgXCIvXCJcbiAqICAqIEZvbGxvd2VkIGJ5IHplcm8gb3IgbW9yZSBzcGFjZSBjaGFyYWN0ZXJzXG4gKiAgKiBGb2xsb3dlZCBieSBcIj1cIlxuICogICogRm9sbG93ZWQgYnkgemVybyBvciBtb3JlIHNwYWNlIGNoYXJhY3RlcnNcbiAqICAqIEZvbGxvd2VkIGJ5OlxuICogICAgKiBBbnkgY2hhcmFjdGVyIGV4Y2VwdCBzcGFjZSwgKCcpLCAoXCIpLCBcIjxcIiwgXCI+XCIsIFwiPVwiLCAoYCksIG9yXG4gKiAgICAqIChcIikgdGhlbiBhbnkgbm9uLShcIiksIG9yXG4gKiAgICAqICgnKSB0aGVuIGFueSBub24tKCcpXG4gKi9cbmV4cG9ydCBjb25zdCBsYXN0QXR0cmlidXRlTmFtZVJlZ2V4ID1cbiAgICAvKFsgXFx4MDlcXHgwYVxceDBjXFx4MGRdKShbXlxcMC1cXHgxRlxceDdGLVxceDlGIFwiJz49L10rKShbIFxceDA5XFx4MGFcXHgwY1xceDBkXSo9WyBcXHgwOVxceDBhXFx4MGNcXHgwZF0qKD86W14gXFx4MDlcXHgwYVxceDBjXFx4MGRcIidgPD49XSp8XCJbXlwiXSp8J1teJ10qKSkkLztcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAoYykgMjAxNyBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBUaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0XG4gKiBUaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0XG4gKiBDb2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzb1xuICogc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudCBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4gKi9cblxuLyoqXG4gKiBAbW9kdWxlIGxpdC1odG1sXG4gKi9cblxuaW1wb3J0IHtpc0NFUG9seWZpbGx9IGZyb20gJy4vZG9tLmpzJztcbmltcG9ydCB7UGFydH0gZnJvbSAnLi9wYXJ0LmpzJztcbmltcG9ydCB7UmVuZGVyT3B0aW9uc30gZnJvbSAnLi9yZW5kZXItb3B0aW9ucy5qcyc7XG5pbXBvcnQge1RlbXBsYXRlUHJvY2Vzc29yfSBmcm9tICcuL3RlbXBsYXRlLXByb2Nlc3Nvci5qcyc7XG5pbXBvcnQge2lzVGVtcGxhdGVQYXJ0QWN0aXZlLCBUZW1wbGF0ZSwgVGVtcGxhdGVQYXJ0fSBmcm9tICcuL3RlbXBsYXRlLmpzJztcblxuLyoqXG4gKiBBbiBpbnN0YW5jZSBvZiBhIGBUZW1wbGF0ZWAgdGhhdCBjYW4gYmUgYXR0YWNoZWQgdG8gdGhlIERPTSBhbmQgdXBkYXRlZFxuICogd2l0aCBuZXcgdmFsdWVzLlxuICovXG5leHBvcnQgY2xhc3MgVGVtcGxhdGVJbnN0YW5jZSB7XG4gIHByaXZhdGUgcmVhZG9ubHkgX19wYXJ0czogQXJyYXk8UGFydHx1bmRlZmluZWQ+ID0gW107XG4gIHJlYWRvbmx5IHByb2Nlc3NvcjogVGVtcGxhdGVQcm9jZXNzb3I7XG4gIHJlYWRvbmx5IG9wdGlvbnM6IFJlbmRlck9wdGlvbnM7XG4gIHJlYWRvbmx5IHRlbXBsYXRlOiBUZW1wbGF0ZTtcblxuICBjb25zdHJ1Y3RvcihcbiAgICAgIHRlbXBsYXRlOiBUZW1wbGF0ZSwgcHJvY2Vzc29yOiBUZW1wbGF0ZVByb2Nlc3NvcixcbiAgICAgIG9wdGlvbnM6IFJlbmRlck9wdGlvbnMpIHtcbiAgICB0aGlzLnRlbXBsYXRlID0gdGVtcGxhdGU7XG4gICAgdGhpcy5wcm9jZXNzb3IgPSBwcm9jZXNzb3I7XG4gICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgfVxuXG4gIHVwZGF0ZSh2YWx1ZXM6IFJlYWRvbmx5QXJyYXk8dW5rbm93bj4pIHtcbiAgICBsZXQgaSA9IDA7XG4gICAgZm9yIChjb25zdCBwYXJ0IG9mIHRoaXMuX19wYXJ0cykge1xuICAgICAgaWYgKHBhcnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBwYXJ0LnNldFZhbHVlKHZhbHVlc1tpXSk7XG4gICAgICB9XG4gICAgICBpKys7XG4gICAgfVxuICAgIGZvciAoY29uc3QgcGFydCBvZiB0aGlzLl9fcGFydHMpIHtcbiAgICAgIGlmIChwYXJ0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcGFydC5jb21taXQoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBfY2xvbmUoKTogRG9jdW1lbnRGcmFnbWVudCB7XG4gICAgLy8gVGhlcmUgYXJlIGEgbnVtYmVyIG9mIHN0ZXBzIGluIHRoZSBsaWZlY3ljbGUgb2YgYSB0ZW1wbGF0ZSBpbnN0YW5jZSdzXG4gICAgLy8gRE9NIGZyYWdtZW50OlxuICAgIC8vICAxLiBDbG9uZSAtIGNyZWF0ZSB0aGUgaW5zdGFuY2UgZnJhZ21lbnRcbiAgICAvLyAgMi4gQWRvcHQgLSBhZG9wdCBpbnRvIHRoZSBtYWluIGRvY3VtZW50XG4gICAgLy8gIDMuIFByb2Nlc3MgLSBmaW5kIHBhcnQgbWFya2VycyBhbmQgY3JlYXRlIHBhcnRzXG4gICAgLy8gIDQuIFVwZ3JhZGUgLSB1cGdyYWRlIGN1c3RvbSBlbGVtZW50c1xuICAgIC8vICA1LiBVcGRhdGUgLSBzZXQgbm9kZSwgYXR0cmlidXRlLCBwcm9wZXJ0eSwgZXRjLiwgdmFsdWVzXG4gICAgLy8gIDYuIENvbm5lY3QgLSBjb25uZWN0IHRvIHRoZSBkb2N1bWVudC4gT3B0aW9uYWwgYW5kIG91dHNpZGUgb2YgdGhpc1xuICAgIC8vICAgICBtZXRob2QuXG4gICAgLy9cbiAgICAvLyBXZSBoYXZlIGEgZmV3IGNvbnN0cmFpbnRzIG9uIHRoZSBvcmRlcmluZyBvZiB0aGVzZSBzdGVwczpcbiAgICAvLyAgKiBXZSBuZWVkIHRvIHVwZ3JhZGUgYmVmb3JlIHVwZGF0aW5nLCBzbyB0aGF0IHByb3BlcnR5IHZhbHVlcyB3aWxsIHBhc3NcbiAgICAvLyAgICB0aHJvdWdoIGFueSBwcm9wZXJ0eSBzZXR0ZXJzLlxuICAgIC8vICAqIFdlIHdvdWxkIGxpa2UgdG8gcHJvY2VzcyBiZWZvcmUgdXBncmFkaW5nIHNvIHRoYXQgd2UncmUgc3VyZSB0aGF0IHRoZVxuICAgIC8vICAgIGNsb25lZCBmcmFnbWVudCBpcyBpbmVydCBhbmQgbm90IGRpc3R1cmJlZCBieSBzZWxmLW1vZGlmeWluZyBET00uXG4gICAgLy8gICogV2Ugd2FudCBjdXN0b20gZWxlbWVudHMgdG8gdXBncmFkZSBldmVuIGluIGRpc2Nvbm5lY3RlZCBmcmFnbWVudHMuXG4gICAgLy9cbiAgICAvLyBHaXZlbiB0aGVzZSBjb25zdHJhaW50cywgd2l0aCBmdWxsIGN1c3RvbSBlbGVtZW50cyBzdXBwb3J0IHdlIHdvdWxkXG4gICAgLy8gcHJlZmVyIHRoZSBvcmRlcjogQ2xvbmUsIFByb2Nlc3MsIEFkb3B0LCBVcGdyYWRlLCBVcGRhdGUsIENvbm5lY3RcbiAgICAvL1xuICAgIC8vIEJ1dCBTYWZhcmkgZG9vZXMgbm90IGltcGxlbWVudCBDdXN0b21FbGVtZW50UmVnaXN0cnkjdXBncmFkZSwgc28gd2VcbiAgICAvLyBjYW4gbm90IGltcGxlbWVudCB0aGF0IG9yZGVyIGFuZCBzdGlsbCBoYXZlIHVwZ3JhZGUtYmVmb3JlLXVwZGF0ZSBhbmRcbiAgICAvLyB1cGdyYWRlIGRpc2Nvbm5lY3RlZCBmcmFnbWVudHMuIFNvIHdlIGluc3RlYWQgc2FjcmlmaWNlIHRoZVxuICAgIC8vIHByb2Nlc3MtYmVmb3JlLXVwZ3JhZGUgY29uc3RyYWludCwgc2luY2UgaW4gQ3VzdG9tIEVsZW1lbnRzIHYxIGVsZW1lbnRzXG4gICAgLy8gbXVzdCBub3QgbW9kaWZ5IHRoZWlyIGxpZ2h0IERPTSBpbiB0aGUgY29uc3RydWN0b3IuIFdlIHN0aWxsIGhhdmUgaXNzdWVzXG4gICAgLy8gd2hlbiBjby1leGlzdGluZyB3aXRoIENFdjAgZWxlbWVudHMgbGlrZSBQb2x5bWVyIDEsIGFuZCB3aXRoIHBvbHlmaWxsc1xuICAgIC8vIHRoYXQgZG9uJ3Qgc3RyaWN0bHkgYWRoZXJlIHRvIHRoZSBuby1tb2RpZmljYXRpb24gcnVsZSBiZWNhdXNlIHNoYWRvd1xuICAgIC8vIERPTSwgd2hpY2ggbWF5IGJlIGNyZWF0ZWQgaW4gdGhlIGNvbnN0cnVjdG9yLCBpcyBlbXVsYXRlZCBieSBiZWluZyBwbGFjZWRcbiAgICAvLyBpbiB0aGUgbGlnaHQgRE9NLlxuICAgIC8vXG4gICAgLy8gVGhlIHJlc3VsdGluZyBvcmRlciBpcyBvbiBuYXRpdmUgaXM6IENsb25lLCBBZG9wdCwgVXBncmFkZSwgUHJvY2VzcyxcbiAgICAvLyBVcGRhdGUsIENvbm5lY3QuIGRvY3VtZW50LmltcG9ydE5vZGUoKSBwZXJmb3JtcyBDbG9uZSwgQWRvcHQsIGFuZCBVcGdyYWRlXG4gICAgLy8gaW4gb25lIHN0ZXAuXG4gICAgLy9cbiAgICAvLyBUaGUgQ3VzdG9tIEVsZW1lbnRzIHYxIHBvbHlmaWxsIHN1cHBvcnRzIHVwZ3JhZGUoKSwgc28gdGhlIG9yZGVyIHdoZW5cbiAgICAvLyBwb2x5ZmlsbGVkIGlzIHRoZSBtb3JlIGlkZWFsOiBDbG9uZSwgUHJvY2VzcywgQWRvcHQsIFVwZ3JhZGUsIFVwZGF0ZSxcbiAgICAvLyBDb25uZWN0LlxuXG4gICAgY29uc3QgZnJhZ21lbnQgPSBpc0NFUG9seWZpbGwgP1xuICAgICAgICB0aGlzLnRlbXBsYXRlLmVsZW1lbnQuY29udGVudC5jbG9uZU5vZGUodHJ1ZSkgYXMgRG9jdW1lbnRGcmFnbWVudCA6XG4gICAgICAgIGRvY3VtZW50LmltcG9ydE5vZGUodGhpcy50ZW1wbGF0ZS5lbGVtZW50LmNvbnRlbnQsIHRydWUpO1xuXG4gICAgY29uc3Qgc3RhY2s6IE5vZGVbXSA9IFtdO1xuICAgIGNvbnN0IHBhcnRzID0gdGhpcy50ZW1wbGF0ZS5wYXJ0cztcbiAgICAvLyBFZGdlIG5lZWRzIGFsbCA0IHBhcmFtZXRlcnMgcHJlc2VudDsgSUUxMSBuZWVkcyAzcmQgcGFyYW1ldGVyIHRvIGJlIG51bGxcbiAgICBjb25zdCB3YWxrZXIgPSBkb2N1bWVudC5jcmVhdGVUcmVlV2Fsa2VyKFxuICAgICAgICBmcmFnbWVudCxcbiAgICAgICAgMTMzIC8qIE5vZGVGaWx0ZXIuU0hPV197RUxFTUVOVHxDT01NRU5UfFRFWFR9ICovLFxuICAgICAgICBudWxsLFxuICAgICAgICBmYWxzZSk7XG4gICAgbGV0IHBhcnRJbmRleCA9IDA7XG4gICAgbGV0IG5vZGVJbmRleCA9IDA7XG4gICAgbGV0IHBhcnQ6IFRlbXBsYXRlUGFydDtcbiAgICBsZXQgbm9kZSA9IHdhbGtlci5uZXh0Tm9kZSgpO1xuICAgIC8vIExvb3AgdGhyb3VnaCBhbGwgdGhlIG5vZGVzIGFuZCBwYXJ0cyBvZiBhIHRlbXBsYXRlXG4gICAgd2hpbGUgKHBhcnRJbmRleCA8IHBhcnRzLmxlbmd0aCkge1xuICAgICAgcGFydCA9IHBhcnRzW3BhcnRJbmRleF07XG4gICAgICBpZiAoIWlzVGVtcGxhdGVQYXJ0QWN0aXZlKHBhcnQpKSB7XG4gICAgICAgIHRoaXMuX19wYXJ0cy5wdXNoKHVuZGVmaW5lZCk7XG4gICAgICAgIHBhcnRJbmRleCsrO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgLy8gUHJvZ3Jlc3MgdGhlIHRyZWUgd2Fsa2VyIHVudGlsIHdlIGZpbmQgb3VyIG5leHQgcGFydCdzIG5vZGUuXG4gICAgICAvLyBOb3RlIHRoYXQgbXVsdGlwbGUgcGFydHMgbWF5IHNoYXJlIHRoZSBzYW1lIG5vZGUgKGF0dHJpYnV0ZSBwYXJ0c1xuICAgICAgLy8gb24gYSBzaW5nbGUgZWxlbWVudCksIHNvIHRoaXMgbG9vcCBtYXkgbm90IHJ1biBhdCBhbGwuXG4gICAgICB3aGlsZSAobm9kZUluZGV4IDwgcGFydC5pbmRleCkge1xuICAgICAgICBub2RlSW5kZXgrKztcbiAgICAgICAgaWYgKG5vZGUhLm5vZGVOYW1lID09PSAnVEVNUExBVEUnKSB7XG4gICAgICAgICAgc3RhY2sucHVzaChub2RlISk7XG4gICAgICAgICAgd2Fsa2VyLmN1cnJlbnROb2RlID0gKG5vZGUgYXMgSFRNTFRlbXBsYXRlRWxlbWVudCkuY29udGVudDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoKG5vZGUgPSB3YWxrZXIubmV4dE5vZGUoKSkgPT09IG51bGwpIHtcbiAgICAgICAgICAvLyBXZSd2ZSBleGhhdXN0ZWQgdGhlIGNvbnRlbnQgaW5zaWRlIGEgbmVzdGVkIHRlbXBsYXRlIGVsZW1lbnQuXG4gICAgICAgICAgLy8gQmVjYXVzZSB3ZSBzdGlsbCBoYXZlIHBhcnRzICh0aGUgb3V0ZXIgZm9yLWxvb3ApLCB3ZSBrbm93OlxuICAgICAgICAgIC8vIC0gVGhlcmUgaXMgYSB0ZW1wbGF0ZSBpbiB0aGUgc3RhY2tcbiAgICAgICAgICAvLyAtIFRoZSB3YWxrZXIgd2lsbCBmaW5kIGEgbmV4dE5vZGUgb3V0c2lkZSB0aGUgdGVtcGxhdGVcbiAgICAgICAgICB3YWxrZXIuY3VycmVudE5vZGUgPSBzdGFjay5wb3AoKSE7XG4gICAgICAgICAgbm9kZSA9IHdhbGtlci5uZXh0Tm9kZSgpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIFdlJ3ZlIGFycml2ZWQgYXQgb3VyIHBhcnQncyBub2RlLlxuICAgICAgaWYgKHBhcnQudHlwZSA9PT0gJ25vZGUnKSB7XG4gICAgICAgIGNvbnN0IHBhcnQgPSB0aGlzLnByb2Nlc3Nvci5oYW5kbGVUZXh0RXhwcmVzc2lvbih0aGlzLm9wdGlvbnMpO1xuICAgICAgICBwYXJ0Lmluc2VydEFmdGVyTm9kZShub2RlIS5wcmV2aW91c1NpYmxpbmchKTtcbiAgICAgICAgdGhpcy5fX3BhcnRzLnB1c2gocGFydCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9fcGFydHMucHVzaCguLi50aGlzLnByb2Nlc3Nvci5oYW5kbGVBdHRyaWJ1dGVFeHByZXNzaW9ucyhcbiAgICAgICAgICAgIG5vZGUgYXMgRWxlbWVudCwgcGFydC5uYW1lLCBwYXJ0LnN0cmluZ3MsIHRoaXMub3B0aW9ucykpO1xuICAgICAgfVxuICAgICAgcGFydEluZGV4Kys7XG4gICAgfVxuXG4gICAgaWYgKGlzQ0VQb2x5ZmlsbCkge1xuICAgICAgZG9jdW1lbnQuYWRvcHROb2RlKGZyYWdtZW50KTtcbiAgICAgIGN1c3RvbUVsZW1lbnRzLnVwZ3JhZGUoZnJhZ21lbnQpO1xuICAgIH1cbiAgICByZXR1cm4gZnJhZ21lbnQ7XG4gIH1cbn1cbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAoYykgMjAxNyBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBUaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0XG4gKiBUaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0XG4gKiBDb2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzb1xuICogc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudCBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4gKi9cblxuLyoqXG4gKiBAbW9kdWxlIGxpdC1odG1sXG4gKi9cblxuaW1wb3J0IHtyZXBhcmVudE5vZGVzfSBmcm9tICcuL2RvbS5qcyc7XG5pbXBvcnQge1RlbXBsYXRlUHJvY2Vzc29yfSBmcm9tICcuL3RlbXBsYXRlLXByb2Nlc3Nvci5qcyc7XG5pbXBvcnQge2JvdW5kQXR0cmlidXRlU3VmZml4LCBsYXN0QXR0cmlidXRlTmFtZVJlZ2V4LCBtYXJrZXIsIG5vZGVNYXJrZXJ9IGZyb20gJy4vdGVtcGxhdGUuanMnO1xuXG4vKipcbiAqIFRoZSByZXR1cm4gdHlwZSBvZiBgaHRtbGAsIHdoaWNoIGhvbGRzIGEgVGVtcGxhdGUgYW5kIHRoZSB2YWx1ZXMgZnJvbVxuICogaW50ZXJwb2xhdGVkIGV4cHJlc3Npb25zLlxuICovXG5leHBvcnQgY2xhc3MgVGVtcGxhdGVSZXN1bHQge1xuICByZWFkb25seSBzdHJpbmdzOiBUZW1wbGF0ZVN0cmluZ3NBcnJheTtcbiAgcmVhZG9ubHkgdmFsdWVzOiBSZWFkb25seUFycmF5PHVua25vd24+O1xuICByZWFkb25seSB0eXBlOiBzdHJpbmc7XG4gIHJlYWRvbmx5IHByb2Nlc3NvcjogVGVtcGxhdGVQcm9jZXNzb3I7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgICBzdHJpbmdzOiBUZW1wbGF0ZVN0cmluZ3NBcnJheSwgdmFsdWVzOiBSZWFkb25seUFycmF5PHVua25vd24+LFxuICAgICAgdHlwZTogc3RyaW5nLCBwcm9jZXNzb3I6IFRlbXBsYXRlUHJvY2Vzc29yKSB7XG4gICAgdGhpcy5zdHJpbmdzID0gc3RyaW5ncztcbiAgICB0aGlzLnZhbHVlcyA9IHZhbHVlcztcbiAgICB0aGlzLnR5cGUgPSB0eXBlO1xuICAgIHRoaXMucHJvY2Vzc29yID0gcHJvY2Vzc29yO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgYSBzdHJpbmcgb2YgSFRNTCB1c2VkIHRvIGNyZWF0ZSBhIGA8dGVtcGxhdGU+YCBlbGVtZW50LlxuICAgKi9cbiAgZ2V0SFRNTCgpOiBzdHJpbmcge1xuICAgIGNvbnN0IGwgPSB0aGlzLnN0cmluZ3MubGVuZ3RoIC0gMTtcbiAgICBsZXQgaHRtbCA9ICcnO1xuICAgIGxldCBpc0NvbW1lbnRCaW5kaW5nID0gZmFsc2U7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGw7IGkrKykge1xuICAgICAgY29uc3QgcyA9IHRoaXMuc3RyaW5nc1tpXTtcbiAgICAgIC8vIEZvciBlYWNoIGJpbmRpbmcgd2Ugd2FudCB0byBkZXRlcm1pbmUgdGhlIGtpbmQgb2YgbWFya2VyIHRvIGluc2VydFxuICAgICAgLy8gaW50byB0aGUgdGVtcGxhdGUgc291cmNlIGJlZm9yZSBpdCdzIHBhcnNlZCBieSB0aGUgYnJvd3NlcidzIEhUTUxcbiAgICAgIC8vIHBhcnNlci4gVGhlIG1hcmtlciB0eXBlIGlzIGJhc2VkIG9uIHdoZXRoZXIgdGhlIGV4cHJlc3Npb24gaXMgaW4gYW5cbiAgICAgIC8vIGF0dHJpYnV0ZSwgdGV4dCwgb3IgY29tbWVudCBwb2lzaXRpb24uXG4gICAgICAvLyAgICogRm9yIG5vZGUtcG9zaXRpb24gYmluZGluZ3Mgd2UgaW5zZXJ0IGEgY29tbWVudCB3aXRoIHRoZSBtYXJrZXJcbiAgICAgIC8vICAgICBzZW50aW5lbCBhcyBpdHMgdGV4dCBjb250ZW50LCBsaWtlIDwhLS17e2xpdC1ndWlkfX0tLT4uXG4gICAgICAvLyAgICogRm9yIGF0dHJpYnV0ZSBiaW5kaW5ncyB3ZSBpbnNlcnQganVzdCB0aGUgbWFya2VyIHNlbnRpbmVsIGZvciB0aGVcbiAgICAgIC8vICAgICBmaXJzdCBiaW5kaW5nLCBzbyB0aGF0IHdlIHN1cHBvcnQgdW5xdW90ZWQgYXR0cmlidXRlIGJpbmRpbmdzLlxuICAgICAgLy8gICAgIFN1YnNlcXVlbnQgYmluZGluZ3MgY2FuIHVzZSBhIGNvbW1lbnQgbWFya2VyIGJlY2F1c2UgbXVsdGktYmluZGluZ1xuICAgICAgLy8gICAgIGF0dHJpYnV0ZXMgbXVzdCBiZSBxdW90ZWQuXG4gICAgICAvLyAgICogRm9yIGNvbW1lbnQgYmluZGluZ3Mgd2UgaW5zZXJ0IGp1c3QgdGhlIG1hcmtlciBzZW50aW5lbCBzbyB3ZSBkb24ndFxuICAgICAgLy8gICAgIGNsb3NlIHRoZSBjb21tZW50LlxuICAgICAgLy9cbiAgICAgIC8vIFRoZSBmb2xsb3dpbmcgY29kZSBzY2FucyB0aGUgdGVtcGxhdGUgc291cmNlLCBidXQgaXMgKm5vdCogYW4gSFRNTFxuICAgICAgLy8gcGFyc2VyLiBXZSBkb24ndCBuZWVkIHRvIHRyYWNrIHRoZSB0cmVlIHN0cnVjdHVyZSBvZiB0aGUgSFRNTCwgb25seVxuICAgICAgLy8gd2hldGhlciBhIGJpbmRpbmcgaXMgaW5zaWRlIGEgY29tbWVudCwgYW5kIGlmIG5vdCwgaWYgaXQgYXBwZWFycyB0byBiZVxuICAgICAgLy8gdGhlIGZpcnN0IGJpbmRpbmcgaW4gYW4gYXR0cmlidXRlLlxuICAgICAgY29uc3QgY29tbWVudE9wZW4gPSBzLmxhc3RJbmRleE9mKCc8IS0tJyk7XG4gICAgICAvLyBXZSdyZSBpbiBjb21tZW50IHBvc2l0aW9uIGlmIHdlIGhhdmUgYSBjb21tZW50IG9wZW4gd2l0aCBubyBmb2xsb3dpbmdcbiAgICAgIC8vIGNvbW1lbnQgY2xvc2UuIEJlY2F1c2UgPC0tIGNhbiBhcHBlYXIgaW4gYW4gYXR0cmlidXRlIHZhbHVlIHRoZXJlIGNhblxuICAgICAgLy8gYmUgZmFsc2UgcG9zaXRpdmVzLlxuICAgICAgaXNDb21tZW50QmluZGluZyA9IChjb21tZW50T3BlbiA+IC0xIHx8IGlzQ29tbWVudEJpbmRpbmcpICYmXG4gICAgICAgICAgcy5pbmRleE9mKCctLT4nLCBjb21tZW50T3BlbiArIDEpID09PSAtMTtcbiAgICAgIC8vIENoZWNrIHRvIHNlZSBpZiB3ZSBoYXZlIGFuIGF0dHJpYnV0ZS1saWtlIHNlcXVlbmNlIHByZWNlZWRpbmcgdGhlXG4gICAgICAvLyBleHByZXNzaW9uLiBUaGlzIGNhbiBtYXRjaCBcIm5hbWU9dmFsdWVcIiBsaWtlIHN0cnVjdHVyZXMgaW4gdGV4dCxcbiAgICAgIC8vIGNvbW1lbnRzLCBhbmQgYXR0cmlidXRlIHZhbHVlcywgc28gdGhlcmUgY2FuIGJlIGZhbHNlLXBvc2l0aXZlcy5cbiAgICAgIGNvbnN0IGF0dHJpYnV0ZU1hdGNoID0gbGFzdEF0dHJpYnV0ZU5hbWVSZWdleC5leGVjKHMpO1xuICAgICAgaWYgKGF0dHJpYnV0ZU1hdGNoID09PSBudWxsKSB7XG4gICAgICAgIC8vIFdlJ3JlIG9ubHkgaW4gdGhpcyBicmFuY2ggaWYgd2UgZG9uJ3QgaGF2ZSBhIGF0dHJpYnV0ZS1saWtlXG4gICAgICAgIC8vIHByZWNlZWRpbmcgc2VxdWVuY2UuIEZvciBjb21tZW50cywgdGhpcyBndWFyZHMgYWdhaW5zdCB1bnVzdWFsXG4gICAgICAgIC8vIGF0dHJpYnV0ZSB2YWx1ZXMgbGlrZSA8ZGl2IGZvbz1cIjwhLS0keydiYXInfVwiPi4gQ2FzZXMgbGlrZVxuICAgICAgICAvLyA8IS0tIGZvbz0keydiYXInfS0tPiBhcmUgaGFuZGxlZCBjb3JyZWN0bHkgaW4gdGhlIGF0dHJpYnV0ZSBicmFuY2hcbiAgICAgICAgLy8gYmVsb3cuXG4gICAgICAgIGh0bWwgKz0gcyArIChpc0NvbW1lbnRCaW5kaW5nID8gbWFya2VyIDogbm9kZU1hcmtlcik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBGb3IgYXR0cmlidXRlcyB3ZSB1c2UganVzdCBhIG1hcmtlciBzZW50aW5lbCwgYW5kIGFsc28gYXBwZW5kIGFcbiAgICAgICAgLy8gJGxpdCQgc3VmZml4IHRvIHRoZSBuYW1lIHRvIG9wdC1vdXQgb2YgYXR0cmlidXRlLXNwZWNpZmljIHBhcnNpbmdcbiAgICAgICAgLy8gdGhhdCBJRSBhbmQgRWRnZSBkbyBmb3Igc3R5bGUgYW5kIGNlcnRhaW4gU1ZHIGF0dHJpYnV0ZXMuXG4gICAgICAgIGh0bWwgKz0gcy5zdWJzdHIoMCwgYXR0cmlidXRlTWF0Y2guaW5kZXgpICsgYXR0cmlidXRlTWF0Y2hbMV0gK1xuICAgICAgICAgICAgYXR0cmlidXRlTWF0Y2hbMl0gKyBib3VuZEF0dHJpYnV0ZVN1ZmZpeCArIGF0dHJpYnV0ZU1hdGNoWzNdICtcbiAgICAgICAgICAgIG1hcmtlcjtcbiAgICAgIH1cbiAgICB9XG4gICAgaHRtbCArPSB0aGlzLnN0cmluZ3NbbF07XG4gICAgcmV0dXJuIGh0bWw7XG4gIH1cblxuICBnZXRUZW1wbGF0ZUVsZW1lbnQoKTogSFRNTFRlbXBsYXRlRWxlbWVudCB7XG4gICAgY29uc3QgdGVtcGxhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZW1wbGF0ZScpO1xuICAgIHRlbXBsYXRlLmlubmVySFRNTCA9IHRoaXMuZ2V0SFRNTCgpO1xuICAgIHJldHVybiB0ZW1wbGF0ZTtcbiAgfVxufVxuXG4vKipcbiAqIEEgVGVtcGxhdGVSZXN1bHQgZm9yIFNWRyBmcmFnbWVudHMuXG4gKlxuICogVGhpcyBjbGFzcyB3cmFwcyBIVE1MIGluIGFuIGA8c3ZnPmAgdGFnIGluIG9yZGVyIHRvIHBhcnNlIGl0cyBjb250ZW50cyBpbiB0aGVcbiAqIFNWRyBuYW1lc3BhY2UsIHRoZW4gbW9kaWZpZXMgdGhlIHRlbXBsYXRlIHRvIHJlbW92ZSB0aGUgYDxzdmc+YCB0YWcgc28gdGhhdFxuICogY2xvbmVzIG9ubHkgY29udGFpbmVyIHRoZSBvcmlnaW5hbCBmcmFnbWVudC5cbiAqL1xuZXhwb3J0IGNsYXNzIFNWR1RlbXBsYXRlUmVzdWx0IGV4dGVuZHMgVGVtcGxhdGVSZXN1bHQge1xuICBnZXRIVE1MKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIGA8c3ZnPiR7c3VwZXIuZ2V0SFRNTCgpfTwvc3ZnPmA7XG4gIH1cblxuICBnZXRUZW1wbGF0ZUVsZW1lbnQoKTogSFRNTFRlbXBsYXRlRWxlbWVudCB7XG4gICAgY29uc3QgdGVtcGxhdGUgPSBzdXBlci5nZXRUZW1wbGF0ZUVsZW1lbnQoKTtcbiAgICBjb25zdCBjb250ZW50ID0gdGVtcGxhdGUuY29udGVudDtcbiAgICBjb25zdCBzdmdFbGVtZW50ID0gY29udGVudC5maXJzdENoaWxkITtcbiAgICBjb250ZW50LnJlbW92ZUNoaWxkKHN2Z0VsZW1lbnQpO1xuICAgIHJlcGFyZW50Tm9kZXMoY29udGVudCwgc3ZnRWxlbWVudC5maXJzdENoaWxkKTtcbiAgICByZXR1cm4gdGVtcGxhdGU7XG4gIH1cbn1cbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAoYykgMjAxNyBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBUaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0XG4gKiBUaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0XG4gKiBDb2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzb1xuICogc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudCBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4gKi9cblxuLyoqXG4gKiBAbW9kdWxlIGxpdC1odG1sXG4gKi9cblxuaW1wb3J0IHtpc0RpcmVjdGl2ZX0gZnJvbSAnLi9kaXJlY3RpdmUuanMnO1xuaW1wb3J0IHtyZW1vdmVOb2Rlc30gZnJvbSAnLi9kb20uanMnO1xuaW1wb3J0IHtub0NoYW5nZSwgbm90aGluZywgUGFydH0gZnJvbSAnLi9wYXJ0LmpzJztcbmltcG9ydCB7UmVuZGVyT3B0aW9uc30gZnJvbSAnLi9yZW5kZXItb3B0aW9ucy5qcyc7XG5pbXBvcnQge1RlbXBsYXRlSW5zdGFuY2V9IGZyb20gJy4vdGVtcGxhdGUtaW5zdGFuY2UuanMnO1xuaW1wb3J0IHtUZW1wbGF0ZVJlc3VsdH0gZnJvbSAnLi90ZW1wbGF0ZS1yZXN1bHQuanMnO1xuaW1wb3J0IHtjcmVhdGVNYXJrZXJ9IGZyb20gJy4vdGVtcGxhdGUuanMnO1xuXG4vLyBodHRwczovL3RjMzkuZ2l0aHViLmlvL2VjbWEyNjIvI3NlYy10eXBlb2Ytb3BlcmF0b3JcbmV4cG9ydCB0eXBlIFByaW1pdGl2ZSA9IG51bGx8dW5kZWZpbmVkfGJvb2xlYW58bnVtYmVyfHN0cmluZ3xTeW1ib2x8YmlnaW50O1xuZXhwb3J0IGNvbnN0IGlzUHJpbWl0aXZlID0gKHZhbHVlOiB1bmtub3duKTogdmFsdWUgaXMgUHJpbWl0aXZlID0+IHtcbiAgcmV0dXJuIChcbiAgICAgIHZhbHVlID09PSBudWxsIHx8XG4gICAgICAhKHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgfHwgdHlwZW9mIHZhbHVlID09PSAnZnVuY3Rpb24nKSk7XG59O1xuZXhwb3J0IGNvbnN0IGlzSXRlcmFibGUgPSAodmFsdWU6IHVua25vd24pOiB2YWx1ZSBpcyBJdGVyYWJsZTx1bmtub3duPiA9PiB7XG4gIHJldHVybiBBcnJheS5pc0FycmF5KHZhbHVlKSB8fFxuICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLWFueVxuICAgICAgISEodmFsdWUgJiYgKHZhbHVlIGFzIGFueSlbU3ltYm9sLml0ZXJhdG9yXSk7XG59O1xuXG4vKipcbiAqIFdyaXRlcyBhdHRyaWJ1dGUgdmFsdWVzIHRvIHRoZSBET00gZm9yIGEgZ3JvdXAgb2YgQXR0cmlidXRlUGFydHMgYm91bmQgdG8gYVxuICogc2luZ2xlIGF0dGlidXRlLiBUaGUgdmFsdWUgaXMgb25seSBzZXQgb25jZSBldmVuIGlmIHRoZXJlIGFyZSBtdWx0aXBsZSBwYXJ0c1xuICogZm9yIGFuIGF0dHJpYnV0ZS5cbiAqL1xuZXhwb3J0IGNsYXNzIEF0dHJpYnV0ZUNvbW1pdHRlciB7XG4gIHJlYWRvbmx5IGVsZW1lbnQ6IEVsZW1lbnQ7XG4gIHJlYWRvbmx5IG5hbWU6IHN0cmluZztcbiAgcmVhZG9ubHkgc3RyaW5nczogUmVhZG9ubHlBcnJheTxzdHJpbmc+O1xuICByZWFkb25seSBwYXJ0czogUmVhZG9ubHlBcnJheTxBdHRyaWJ1dGVQYXJ0PjtcbiAgZGlydHkgPSB0cnVlO1xuXG4gIGNvbnN0cnVjdG9yKGVsZW1lbnQ6IEVsZW1lbnQsIG5hbWU6IHN0cmluZywgc3RyaW5nczogUmVhZG9ubHlBcnJheTxzdHJpbmc+KSB7XG4gICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudDtcbiAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgIHRoaXMuc3RyaW5ncyA9IHN0cmluZ3M7XG4gICAgdGhpcy5wYXJ0cyA9IFtdO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3RyaW5ncy5sZW5ndGggLSAxOyBpKyspIHtcbiAgICAgICh0aGlzLnBhcnRzIGFzIEF0dHJpYnV0ZVBhcnRbXSlbaV0gPSB0aGlzLl9jcmVhdGVQYXJ0KCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBzaW5nbGUgcGFydC4gT3ZlcnJpZGUgdGhpcyB0byBjcmVhdGUgYSBkaWZmZXJudCB0eXBlIG9mIHBhcnQuXG4gICAqL1xuICBwcm90ZWN0ZWQgX2NyZWF0ZVBhcnQoKTogQXR0cmlidXRlUGFydCB7XG4gICAgcmV0dXJuIG5ldyBBdHRyaWJ1dGVQYXJ0KHRoaXMpO1xuICB9XG5cbiAgcHJvdGVjdGVkIF9nZXRWYWx1ZSgpOiB1bmtub3duIHtcbiAgICBjb25zdCBzdHJpbmdzID0gdGhpcy5zdHJpbmdzO1xuICAgIGNvbnN0IGwgPSBzdHJpbmdzLmxlbmd0aCAtIDE7XG4gICAgbGV0IHRleHQgPSAnJztcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbDsgaSsrKSB7XG4gICAgICB0ZXh0ICs9IHN0cmluZ3NbaV07XG4gICAgICBjb25zdCBwYXJ0ID0gdGhpcy5wYXJ0c1tpXTtcbiAgICAgIGlmIChwYXJ0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29uc3QgdiA9IHBhcnQudmFsdWU7XG4gICAgICAgIGlmIChpc1ByaW1pdGl2ZSh2KSB8fCAhaXNJdGVyYWJsZSh2KSkge1xuICAgICAgICAgIHRleHQgKz0gdHlwZW9mIHYgPT09ICdzdHJpbmcnID8gdiA6IFN0cmluZyh2KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBmb3IgKGNvbnN0IHQgb2Ygdikge1xuICAgICAgICAgICAgdGV4dCArPSB0eXBlb2YgdCA9PT0gJ3N0cmluZycgPyB0IDogU3RyaW5nKHQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHRleHQgKz0gc3RyaW5nc1tsXTtcbiAgICByZXR1cm4gdGV4dDtcbiAgfVxuXG4gIGNvbW1pdCgpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5kaXJ0eSkge1xuICAgICAgdGhpcy5kaXJ0eSA9IGZhbHNlO1xuICAgICAgdGhpcy5lbGVtZW50LnNldEF0dHJpYnV0ZSh0aGlzLm5hbWUsIHRoaXMuX2dldFZhbHVlKCkgYXMgc3RyaW5nKTtcbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBBIFBhcnQgdGhhdCBjb250cm9scyBhbGwgb3IgcGFydCBvZiBhbiBhdHRyaWJ1dGUgdmFsdWUuXG4gKi9cbmV4cG9ydCBjbGFzcyBBdHRyaWJ1dGVQYXJ0IGltcGxlbWVudHMgUGFydCB7XG4gIHJlYWRvbmx5IGNvbW1pdHRlcjogQXR0cmlidXRlQ29tbWl0dGVyO1xuICB2YWx1ZTogdW5rbm93biA9IHVuZGVmaW5lZDtcblxuICBjb25zdHJ1Y3Rvcihjb21taXR0ZXI6IEF0dHJpYnV0ZUNvbW1pdHRlcikge1xuICAgIHRoaXMuY29tbWl0dGVyID0gY29tbWl0dGVyO1xuICB9XG5cbiAgc2V0VmFsdWUodmFsdWU6IHVua25vd24pOiB2b2lkIHtcbiAgICBpZiAodmFsdWUgIT09IG5vQ2hhbmdlICYmICghaXNQcmltaXRpdmUodmFsdWUpIHx8IHZhbHVlICE9PSB0aGlzLnZhbHVlKSkge1xuICAgICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICAgICAgLy8gSWYgdGhlIHZhbHVlIGlzIGEgbm90IGEgZGlyZWN0aXZlLCBkaXJ0eSB0aGUgY29tbWl0dGVyIHNvIHRoYXQgaXQnbGxcbiAgICAgIC8vIGNhbGwgc2V0QXR0cmlidXRlLiBJZiB0aGUgdmFsdWUgaXMgYSBkaXJlY3RpdmUsIGl0J2xsIGRpcnR5IHRoZVxuICAgICAgLy8gY29tbWl0dGVyIGlmIGl0IGNhbGxzIHNldFZhbHVlKCkuXG4gICAgICBpZiAoIWlzRGlyZWN0aXZlKHZhbHVlKSkge1xuICAgICAgICB0aGlzLmNvbW1pdHRlci5kaXJ0eSA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgY29tbWl0KCkge1xuICAgIHdoaWxlIChpc0RpcmVjdGl2ZSh0aGlzLnZhbHVlKSkge1xuICAgICAgY29uc3QgZGlyZWN0aXZlID0gdGhpcy52YWx1ZTtcbiAgICAgIHRoaXMudmFsdWUgPSBub0NoYW5nZTtcbiAgICAgIGRpcmVjdGl2ZSh0aGlzKTtcbiAgICB9XG4gICAgaWYgKHRoaXMudmFsdWUgPT09IG5vQ2hhbmdlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuY29tbWl0dGVyLmNvbW1pdCgpO1xuICB9XG59XG5cbi8qKlxuICogQSBQYXJ0IHRoYXQgY29udHJvbHMgYSBsb2NhdGlvbiB3aXRoaW4gYSBOb2RlIHRyZWUuIExpa2UgYSBSYW5nZSwgTm9kZVBhcnRcbiAqIGhhcyBzdGFydCBhbmQgZW5kIGxvY2F0aW9ucyBhbmQgY2FuIHNldCBhbmQgdXBkYXRlIHRoZSBOb2RlcyBiZXR3ZWVuIHRob3NlXG4gKiBsb2NhdGlvbnMuXG4gKlxuICogTm9kZVBhcnRzIHN1cHBvcnQgc2V2ZXJhbCB2YWx1ZSB0eXBlczogcHJpbWl0aXZlcywgTm9kZXMsIFRlbXBsYXRlUmVzdWx0cyxcbiAqIGFzIHdlbGwgYXMgYXJyYXlzIGFuZCBpdGVyYWJsZXMgb2YgdGhvc2UgdHlwZXMuXG4gKi9cbmV4cG9ydCBjbGFzcyBOb2RlUGFydCBpbXBsZW1lbnRzIFBhcnQge1xuICByZWFkb25seSBvcHRpb25zOiBSZW5kZXJPcHRpb25zO1xuICBzdGFydE5vZGUhOiBOb2RlO1xuICBlbmROb2RlITogTm9kZTtcbiAgdmFsdWU6IHVua25vd24gPSB1bmRlZmluZWQ7XG4gIHByaXZhdGUgX19wZW5kaW5nVmFsdWU6IHVua25vd24gPSB1bmRlZmluZWQ7XG5cbiAgY29uc3RydWN0b3Iob3B0aW9uczogUmVuZGVyT3B0aW9ucykge1xuICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gIH1cblxuICAvKipcbiAgICogQXBwZW5kcyB0aGlzIHBhcnQgaW50byBhIGNvbnRhaW5lci5cbiAgICpcbiAgICogVGhpcyBwYXJ0IG11c3QgYmUgZW1wdHksIGFzIGl0cyBjb250ZW50cyBhcmUgbm90IGF1dG9tYXRpY2FsbHkgbW92ZWQuXG4gICAqL1xuICBhcHBlbmRJbnRvKGNvbnRhaW5lcjogTm9kZSkge1xuICAgIHRoaXMuc3RhcnROb2RlID0gY29udGFpbmVyLmFwcGVuZENoaWxkKGNyZWF0ZU1hcmtlcigpKTtcbiAgICB0aGlzLmVuZE5vZGUgPSBjb250YWluZXIuYXBwZW5kQ2hpbGQoY3JlYXRlTWFya2VyKCkpO1xuICB9XG5cbiAgLyoqXG4gICAqIEluc2VydHMgdGhpcyBwYXJ0IGFmdGVyIHRoZSBgcmVmYCBub2RlIChiZXR3ZWVuIGByZWZgIGFuZCBgcmVmYCdzIG5leHRcbiAgICogc2libGluZykuIEJvdGggYHJlZmAgYW5kIGl0cyBuZXh0IHNpYmxpbmcgbXVzdCBiZSBzdGF0aWMsIHVuY2hhbmdpbmcgbm9kZXNcbiAgICogc3VjaCBhcyB0aG9zZSB0aGF0IGFwcGVhciBpbiBhIGxpdGVyYWwgc2VjdGlvbiBvZiBhIHRlbXBsYXRlLlxuICAgKlxuICAgKiBUaGlzIHBhcnQgbXVzdCBiZSBlbXB0eSwgYXMgaXRzIGNvbnRlbnRzIGFyZSBub3QgYXV0b21hdGljYWxseSBtb3ZlZC5cbiAgICovXG4gIGluc2VydEFmdGVyTm9kZShyZWY6IE5vZGUpIHtcbiAgICB0aGlzLnN0YXJ0Tm9kZSA9IHJlZjtcbiAgICB0aGlzLmVuZE5vZGUgPSByZWYubmV4dFNpYmxpbmchO1xuICB9XG5cbiAgLyoqXG4gICAqIEFwcGVuZHMgdGhpcyBwYXJ0IGludG8gYSBwYXJlbnQgcGFydC5cbiAgICpcbiAgICogVGhpcyBwYXJ0IG11c3QgYmUgZW1wdHksIGFzIGl0cyBjb250ZW50cyBhcmUgbm90IGF1dG9tYXRpY2FsbHkgbW92ZWQuXG4gICAqL1xuICBhcHBlbmRJbnRvUGFydChwYXJ0OiBOb2RlUGFydCkge1xuICAgIHBhcnQuX19pbnNlcnQodGhpcy5zdGFydE5vZGUgPSBjcmVhdGVNYXJrZXIoKSk7XG4gICAgcGFydC5fX2luc2VydCh0aGlzLmVuZE5vZGUgPSBjcmVhdGVNYXJrZXIoKSk7XG4gIH1cblxuICAvKipcbiAgICogSW5zZXJ0cyB0aGlzIHBhcnQgYWZ0ZXIgdGhlIGByZWZgIHBhcnQuXG4gICAqXG4gICAqIFRoaXMgcGFydCBtdXN0IGJlIGVtcHR5LCBhcyBpdHMgY29udGVudHMgYXJlIG5vdCBhdXRvbWF0aWNhbGx5IG1vdmVkLlxuICAgKi9cbiAgaW5zZXJ0QWZ0ZXJQYXJ0KHJlZjogTm9kZVBhcnQpIHtcbiAgICByZWYuX19pbnNlcnQodGhpcy5zdGFydE5vZGUgPSBjcmVhdGVNYXJrZXIoKSk7XG4gICAgdGhpcy5lbmROb2RlID0gcmVmLmVuZE5vZGU7XG4gICAgcmVmLmVuZE5vZGUgPSB0aGlzLnN0YXJ0Tm9kZTtcbiAgfVxuXG4gIHNldFZhbHVlKHZhbHVlOiB1bmtub3duKTogdm9pZCB7XG4gICAgdGhpcy5fX3BlbmRpbmdWYWx1ZSA9IHZhbHVlO1xuICB9XG5cbiAgY29tbWl0KCkge1xuICAgIHdoaWxlIChpc0RpcmVjdGl2ZSh0aGlzLl9fcGVuZGluZ1ZhbHVlKSkge1xuICAgICAgY29uc3QgZGlyZWN0aXZlID0gdGhpcy5fX3BlbmRpbmdWYWx1ZTtcbiAgICAgIHRoaXMuX19wZW5kaW5nVmFsdWUgPSBub0NoYW5nZTtcbiAgICAgIGRpcmVjdGl2ZSh0aGlzKTtcbiAgICB9XG4gICAgY29uc3QgdmFsdWUgPSB0aGlzLl9fcGVuZGluZ1ZhbHVlO1xuICAgIGlmICh2YWx1ZSA9PT0gbm9DaGFuZ2UpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKGlzUHJpbWl0aXZlKHZhbHVlKSkge1xuICAgICAgaWYgKHZhbHVlICE9PSB0aGlzLnZhbHVlKSB7XG4gICAgICAgIHRoaXMuX19jb21taXRUZXh0KHZhbHVlKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHZhbHVlIGluc3RhbmNlb2YgVGVtcGxhdGVSZXN1bHQpIHtcbiAgICAgIHRoaXMuX19jb21taXRUZW1wbGF0ZVJlc3VsdCh2YWx1ZSk7XG4gICAgfSBlbHNlIGlmICh2YWx1ZSBpbnN0YW5jZW9mIE5vZGUpIHtcbiAgICAgIHRoaXMuX19jb21taXROb2RlKHZhbHVlKTtcbiAgICB9IGVsc2UgaWYgKGlzSXRlcmFibGUodmFsdWUpKSB7XG4gICAgICB0aGlzLl9fY29tbWl0SXRlcmFibGUodmFsdWUpO1xuICAgIH0gZWxzZSBpZiAodmFsdWUgPT09IG5vdGhpbmcpIHtcbiAgICAgIHRoaXMudmFsdWUgPSBub3RoaW5nO1xuICAgICAgdGhpcy5jbGVhcigpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBGYWxsYmFjaywgd2lsbCByZW5kZXIgdGhlIHN0cmluZyByZXByZXNlbnRhdGlvblxuICAgICAgdGhpcy5fX2NvbW1pdFRleHQodmFsdWUpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgX19pbnNlcnQobm9kZTogTm9kZSkge1xuICAgIHRoaXMuZW5kTm9kZS5wYXJlbnROb2RlIS5pbnNlcnRCZWZvcmUobm9kZSwgdGhpcy5lbmROb2RlKTtcbiAgfVxuXG4gIHByaXZhdGUgX19jb21taXROb2RlKHZhbHVlOiBOb2RlKTogdm9pZCB7XG4gICAgaWYgKHRoaXMudmFsdWUgPT09IHZhbHVlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuY2xlYXIoKTtcbiAgICB0aGlzLl9faW5zZXJ0KHZhbHVlKTtcbiAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG4gIH1cblxuICBwcml2YXRlIF9fY29tbWl0VGV4dCh2YWx1ZTogdW5rbm93bik6IHZvaWQge1xuICAgIGNvbnN0IG5vZGUgPSB0aGlzLnN0YXJ0Tm9kZS5uZXh0U2libGluZyE7XG4gICAgdmFsdWUgPSB2YWx1ZSA9PSBudWxsID8gJycgOiB2YWx1ZTtcbiAgICBpZiAobm9kZSA9PT0gdGhpcy5lbmROb2RlLnByZXZpb3VzU2libGluZyAmJlxuICAgICAgICBub2RlLm5vZGVUeXBlID09PSAzIC8qIE5vZGUuVEVYVF9OT0RFICovKSB7XG4gICAgICAvLyBJZiB3ZSBvbmx5IGhhdmUgYSBzaW5nbGUgdGV4dCBub2RlIGJldHdlZW4gdGhlIG1hcmtlcnMsIHdlIGNhbiBqdXN0XG4gICAgICAvLyBzZXQgaXRzIHZhbHVlLCByYXRoZXIgdGhhbiByZXBsYWNpbmcgaXQuXG4gICAgICAvLyBUT0RPKGp1c3RpbmZhZ25hbmkpOiBDYW4gd2UganVzdCBjaGVjayBpZiB0aGlzLnZhbHVlIGlzIHByaW1pdGl2ZT9cbiAgICAgIChub2RlIGFzIFRleHQpLmRhdGEgPSB2YWx1ZSBhcyBzdHJpbmc7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX19jb21taXROb2RlKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKFxuICAgICAgICAgIHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycgPyB2YWx1ZSA6IFN0cmluZyh2YWx1ZSkpKTtcbiAgICB9XG4gICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICB9XG5cbiAgcHJpdmF0ZSBfX2NvbW1pdFRlbXBsYXRlUmVzdWx0KHZhbHVlOiBUZW1wbGF0ZVJlc3VsdCk6IHZvaWQge1xuICAgIGNvbnN0IHRlbXBsYXRlID0gdGhpcy5vcHRpb25zLnRlbXBsYXRlRmFjdG9yeSh2YWx1ZSk7XG4gICAgaWYgKHRoaXMudmFsdWUgaW5zdGFuY2VvZiBUZW1wbGF0ZUluc3RhbmNlICYmXG4gICAgICAgIHRoaXMudmFsdWUudGVtcGxhdGUgPT09IHRlbXBsYXRlKSB7XG4gICAgICB0aGlzLnZhbHVlLnVwZGF0ZSh2YWx1ZS52YWx1ZXMpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBNYWtlIHN1cmUgd2UgcHJvcGFnYXRlIHRoZSB0ZW1wbGF0ZSBwcm9jZXNzb3IgZnJvbSB0aGUgVGVtcGxhdGVSZXN1bHRcbiAgICAgIC8vIHNvIHRoYXQgd2UgdXNlIGl0cyBzeW50YXggZXh0ZW5zaW9uLCBldGMuIFRoZSB0ZW1wbGF0ZSBmYWN0b3J5IGNvbWVzXG4gICAgICAvLyBmcm9tIHRoZSByZW5kZXIgZnVuY3Rpb24gb3B0aW9ucyBzbyB0aGF0IGl0IGNhbiBjb250cm9sIHRlbXBsYXRlXG4gICAgICAvLyBjYWNoaW5nIGFuZCBwcmVwcm9jZXNzaW5nLlxuICAgICAgY29uc3QgaW5zdGFuY2UgPVxuICAgICAgICAgIG5ldyBUZW1wbGF0ZUluc3RhbmNlKHRlbXBsYXRlLCB2YWx1ZS5wcm9jZXNzb3IsIHRoaXMub3B0aW9ucyk7XG4gICAgICBjb25zdCBmcmFnbWVudCA9IGluc3RhbmNlLl9jbG9uZSgpO1xuICAgICAgaW5zdGFuY2UudXBkYXRlKHZhbHVlLnZhbHVlcyk7XG4gICAgICB0aGlzLl9fY29tbWl0Tm9kZShmcmFnbWVudCk7XG4gICAgICB0aGlzLnZhbHVlID0gaW5zdGFuY2U7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBfX2NvbW1pdEl0ZXJhYmxlKHZhbHVlOiBJdGVyYWJsZTx1bmtub3duPik6IHZvaWQge1xuICAgIC8vIEZvciBhbiBJdGVyYWJsZSwgd2UgY3JlYXRlIGEgbmV3IEluc3RhbmNlUGFydCBwZXIgaXRlbSwgdGhlbiBzZXQgaXRzXG4gICAgLy8gdmFsdWUgdG8gdGhlIGl0ZW0uIFRoaXMgaXMgYSBsaXR0bGUgYml0IG9mIG92ZXJoZWFkIGZvciBldmVyeSBpdGVtIGluXG4gICAgLy8gYW4gSXRlcmFibGUsIGJ1dCBpdCBsZXRzIHVzIHJlY3Vyc2UgZWFzaWx5IGFuZCBlZmZpY2llbnRseSB1cGRhdGUgQXJyYXlzXG4gICAgLy8gb2YgVGVtcGxhdGVSZXN1bHRzIHRoYXQgd2lsbCBiZSBjb21tb25seSByZXR1cm5lZCBmcm9tIGV4cHJlc3Npb25zIGxpa2U6XG4gICAgLy8gYXJyYXkubWFwKChpKSA9PiBodG1sYCR7aX1gKSwgYnkgcmV1c2luZyBleGlzdGluZyBUZW1wbGF0ZUluc3RhbmNlcy5cblxuICAgIC8vIElmIF92YWx1ZSBpcyBhbiBhcnJheSwgdGhlbiB0aGUgcHJldmlvdXMgcmVuZGVyIHdhcyBvZiBhblxuICAgIC8vIGl0ZXJhYmxlIGFuZCBfdmFsdWUgd2lsbCBjb250YWluIHRoZSBOb2RlUGFydHMgZnJvbSB0aGUgcHJldmlvdXNcbiAgICAvLyByZW5kZXIuIElmIF92YWx1ZSBpcyBub3QgYW4gYXJyYXksIGNsZWFyIHRoaXMgcGFydCBhbmQgbWFrZSBhIG5ld1xuICAgIC8vIGFycmF5IGZvciBOb2RlUGFydHMuXG4gICAgaWYgKCFBcnJheS5pc0FycmF5KHRoaXMudmFsdWUpKSB7XG4gICAgICB0aGlzLnZhbHVlID0gW107XG4gICAgICB0aGlzLmNsZWFyKCk7XG4gICAgfVxuXG4gICAgLy8gTGV0cyB1cyBrZWVwIHRyYWNrIG9mIGhvdyBtYW55IGl0ZW1zIHdlIHN0YW1wZWQgc28gd2UgY2FuIGNsZWFyIGxlZnRvdmVyXG4gICAgLy8gaXRlbXMgZnJvbSBhIHByZXZpb3VzIHJlbmRlclxuICAgIGNvbnN0IGl0ZW1QYXJ0cyA9IHRoaXMudmFsdWUgYXMgTm9kZVBhcnRbXTtcbiAgICBsZXQgcGFydEluZGV4ID0gMDtcbiAgICBsZXQgaXRlbVBhcnQ6IE5vZGVQYXJ0fHVuZGVmaW5lZDtcblxuICAgIGZvciAoY29uc3QgaXRlbSBvZiB2YWx1ZSkge1xuICAgICAgLy8gVHJ5IHRvIHJldXNlIGFuIGV4aXN0aW5nIHBhcnRcbiAgICAgIGl0ZW1QYXJ0ID0gaXRlbVBhcnRzW3BhcnRJbmRleF07XG5cbiAgICAgIC8vIElmIG5vIGV4aXN0aW5nIHBhcnQsIGNyZWF0ZSBhIG5ldyBvbmVcbiAgICAgIGlmIChpdGVtUGFydCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGl0ZW1QYXJ0ID0gbmV3IE5vZGVQYXJ0KHRoaXMub3B0aW9ucyk7XG4gICAgICAgIGl0ZW1QYXJ0cy5wdXNoKGl0ZW1QYXJ0KTtcbiAgICAgICAgaWYgKHBhcnRJbmRleCA9PT0gMCkge1xuICAgICAgICAgIGl0ZW1QYXJ0LmFwcGVuZEludG9QYXJ0KHRoaXMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGl0ZW1QYXJ0Lmluc2VydEFmdGVyUGFydChpdGVtUGFydHNbcGFydEluZGV4IC0gMV0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpdGVtUGFydC5zZXRWYWx1ZShpdGVtKTtcbiAgICAgIGl0ZW1QYXJ0LmNvbW1pdCgpO1xuICAgICAgcGFydEluZGV4Kys7XG4gICAgfVxuXG4gICAgaWYgKHBhcnRJbmRleCA8IGl0ZW1QYXJ0cy5sZW5ndGgpIHtcbiAgICAgIC8vIFRydW5jYXRlIHRoZSBwYXJ0cyBhcnJheSBzbyBfdmFsdWUgcmVmbGVjdHMgdGhlIGN1cnJlbnQgc3RhdGVcbiAgICAgIGl0ZW1QYXJ0cy5sZW5ndGggPSBwYXJ0SW5kZXg7XG4gICAgICB0aGlzLmNsZWFyKGl0ZW1QYXJ0ICYmIGl0ZW1QYXJ0LmVuZE5vZGUpO1xuICAgIH1cbiAgfVxuXG4gIGNsZWFyKHN0YXJ0Tm9kZTogTm9kZSA9IHRoaXMuc3RhcnROb2RlKSB7XG4gICAgcmVtb3ZlTm9kZXMoXG4gICAgICAgIHRoaXMuc3RhcnROb2RlLnBhcmVudE5vZGUhLCBzdGFydE5vZGUubmV4dFNpYmxpbmchLCB0aGlzLmVuZE5vZGUpO1xuICB9XG59XG5cbi8qKlxuICogSW1wbGVtZW50cyBhIGJvb2xlYW4gYXR0cmlidXRlLCByb3VnaGx5IGFzIGRlZmluZWQgaW4gdGhlIEhUTUxcbiAqIHNwZWNpZmljYXRpb24uXG4gKlxuICogSWYgdGhlIHZhbHVlIGlzIHRydXRoeSwgdGhlbiB0aGUgYXR0cmlidXRlIGlzIHByZXNlbnQgd2l0aCBhIHZhbHVlIG9mXG4gKiAnJy4gSWYgdGhlIHZhbHVlIGlzIGZhbHNleSwgdGhlIGF0dHJpYnV0ZSBpcyByZW1vdmVkLlxuICovXG5leHBvcnQgY2xhc3MgQm9vbGVhbkF0dHJpYnV0ZVBhcnQgaW1wbGVtZW50cyBQYXJ0IHtcbiAgcmVhZG9ubHkgZWxlbWVudDogRWxlbWVudDtcbiAgcmVhZG9ubHkgbmFtZTogc3RyaW5nO1xuICByZWFkb25seSBzdHJpbmdzOiBSZWFkb25seUFycmF5PHN0cmluZz47XG4gIHZhbHVlOiB1bmtub3duID0gdW5kZWZpbmVkO1xuICBwcml2YXRlIF9fcGVuZGluZ1ZhbHVlOiB1bmtub3duID0gdW5kZWZpbmVkO1xuXG4gIGNvbnN0cnVjdG9yKGVsZW1lbnQ6IEVsZW1lbnQsIG5hbWU6IHN0cmluZywgc3RyaW5nczogUmVhZG9ubHlBcnJheTxzdHJpbmc+KSB7XG4gICAgaWYgKHN0cmluZ3MubGVuZ3RoICE9PSAyIHx8IHN0cmluZ3NbMF0gIT09ICcnIHx8IHN0cmluZ3NbMV0gIT09ICcnKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgJ0Jvb2xlYW4gYXR0cmlidXRlcyBjYW4gb25seSBjb250YWluIGEgc2luZ2xlIGV4cHJlc3Npb24nKTtcbiAgICB9XG4gICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudDtcbiAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgIHRoaXMuc3RyaW5ncyA9IHN0cmluZ3M7XG4gIH1cblxuICBzZXRWYWx1ZSh2YWx1ZTogdW5rbm93bik6IHZvaWQge1xuICAgIHRoaXMuX19wZW5kaW5nVmFsdWUgPSB2YWx1ZTtcbiAgfVxuXG4gIGNvbW1pdCgpIHtcbiAgICB3aGlsZSAoaXNEaXJlY3RpdmUodGhpcy5fX3BlbmRpbmdWYWx1ZSkpIHtcbiAgICAgIGNvbnN0IGRpcmVjdGl2ZSA9IHRoaXMuX19wZW5kaW5nVmFsdWU7XG4gICAgICB0aGlzLl9fcGVuZGluZ1ZhbHVlID0gbm9DaGFuZ2U7XG4gICAgICBkaXJlY3RpdmUodGhpcyk7XG4gICAgfVxuICAgIGlmICh0aGlzLl9fcGVuZGluZ1ZhbHVlID09PSBub0NoYW5nZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCB2YWx1ZSA9ICEhdGhpcy5fX3BlbmRpbmdWYWx1ZTtcbiAgICBpZiAodGhpcy52YWx1ZSAhPT0gdmFsdWUpIHtcbiAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICB0aGlzLmVsZW1lbnQuc2V0QXR0cmlidXRlKHRoaXMubmFtZSwgJycpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5lbGVtZW50LnJlbW92ZUF0dHJpYnV0ZSh0aGlzLm5hbWUpO1xuICAgICAgfVxuICAgICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICAgIH1cbiAgICB0aGlzLl9fcGVuZGluZ1ZhbHVlID0gbm9DaGFuZ2U7XG4gIH1cbn1cblxuLyoqXG4gKiBTZXRzIGF0dHJpYnV0ZSB2YWx1ZXMgZm9yIFByb3BlcnR5UGFydHMsIHNvIHRoYXQgdGhlIHZhbHVlIGlzIG9ubHkgc2V0IG9uY2VcbiAqIGV2ZW4gaWYgdGhlcmUgYXJlIG11bHRpcGxlIHBhcnRzIGZvciBhIHByb3BlcnR5LlxuICpcbiAqIElmIGFuIGV4cHJlc3Npb24gY29udHJvbHMgdGhlIHdob2xlIHByb3BlcnR5IHZhbHVlLCB0aGVuIHRoZSB2YWx1ZSBpcyBzaW1wbHlcbiAqIGFzc2lnbmVkIHRvIHRoZSBwcm9wZXJ0eSB1bmRlciBjb250cm9sLiBJZiB0aGVyZSBhcmUgc3RyaW5nIGxpdGVyYWxzIG9yXG4gKiBtdWx0aXBsZSBleHByZXNzaW9ucywgdGhlbiB0aGUgc3RyaW5ncyBhcmUgZXhwcmVzc2lvbnMgYXJlIGludGVycG9sYXRlZCBpbnRvXG4gKiBhIHN0cmluZyBmaXJzdC5cbiAqL1xuZXhwb3J0IGNsYXNzIFByb3BlcnR5Q29tbWl0dGVyIGV4dGVuZHMgQXR0cmlidXRlQ29tbWl0dGVyIHtcbiAgcmVhZG9ubHkgc2luZ2xlOiBib29sZWFuO1xuXG4gIGNvbnN0cnVjdG9yKGVsZW1lbnQ6IEVsZW1lbnQsIG5hbWU6IHN0cmluZywgc3RyaW5nczogUmVhZG9ubHlBcnJheTxzdHJpbmc+KSB7XG4gICAgc3VwZXIoZWxlbWVudCwgbmFtZSwgc3RyaW5ncyk7XG4gICAgdGhpcy5zaW5nbGUgPVxuICAgICAgICAoc3RyaW5ncy5sZW5ndGggPT09IDIgJiYgc3RyaW5nc1swXSA9PT0gJycgJiYgc3RyaW5nc1sxXSA9PT0gJycpO1xuICB9XG5cbiAgcHJvdGVjdGVkIF9jcmVhdGVQYXJ0KCk6IFByb3BlcnR5UGFydCB7XG4gICAgcmV0dXJuIG5ldyBQcm9wZXJ0eVBhcnQodGhpcyk7XG4gIH1cblxuICBwcm90ZWN0ZWQgX2dldFZhbHVlKCkge1xuICAgIGlmICh0aGlzLnNpbmdsZSkge1xuICAgICAgcmV0dXJuIHRoaXMucGFydHNbMF0udmFsdWU7XG4gICAgfVxuICAgIHJldHVybiBzdXBlci5fZ2V0VmFsdWUoKTtcbiAgfVxuXG4gIGNvbW1pdCgpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5kaXJ0eSkge1xuICAgICAgdGhpcy5kaXJ0eSA9IGZhbHNlO1xuICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLWFueVxuICAgICAgKHRoaXMuZWxlbWVudCBhcyBhbnkpW3RoaXMubmFtZV0gPSB0aGlzLl9nZXRWYWx1ZSgpO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgUHJvcGVydHlQYXJ0IGV4dGVuZHMgQXR0cmlidXRlUGFydCB7fVxuXG4vLyBEZXRlY3QgZXZlbnQgbGlzdGVuZXIgb3B0aW9ucyBzdXBwb3J0LiBJZiB0aGUgYGNhcHR1cmVgIHByb3BlcnR5IGlzIHJlYWRcbi8vIGZyb20gdGhlIG9wdGlvbnMgb2JqZWN0LCB0aGVuIG9wdGlvbnMgYXJlIHN1cHBvcnRlZC4gSWYgbm90LCB0aGVuIHRoZSB0aHJpZFxuLy8gYXJndW1lbnQgdG8gYWRkL3JlbW92ZUV2ZW50TGlzdGVuZXIgaXMgaW50ZXJwcmV0ZWQgYXMgdGhlIGJvb2xlYW4gY2FwdHVyZVxuLy8gdmFsdWUgc28gd2Ugc2hvdWxkIG9ubHkgcGFzcyB0aGUgYGNhcHR1cmVgIHByb3BlcnR5LlxubGV0IGV2ZW50T3B0aW9uc1N1cHBvcnRlZCA9IGZhbHNlO1xuXG50cnkge1xuICBjb25zdCBvcHRpb25zID0ge1xuICAgIGdldCBjYXB0dXJlKCkge1xuICAgICAgZXZlbnRPcHRpb25zU3VwcG9ydGVkID0gdHJ1ZTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH07XG4gIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby1hbnlcbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Rlc3QnLCBvcHRpb25zIGFzIGFueSwgb3B0aW9ucyk7XG4gIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby1hbnlcbiAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Rlc3QnLCBvcHRpb25zIGFzIGFueSwgb3B0aW9ucyk7XG59IGNhdGNoIChfZSkge1xufVxuXG5cbnR5cGUgRXZlbnRIYW5kbGVyV2l0aE9wdGlvbnMgPVxuICAgIEV2ZW50TGlzdGVuZXJPckV2ZW50TGlzdGVuZXJPYmplY3QmUGFydGlhbDxBZGRFdmVudExpc3RlbmVyT3B0aW9ucz47XG5leHBvcnQgY2xhc3MgRXZlbnRQYXJ0IGltcGxlbWVudHMgUGFydCB7XG4gIHJlYWRvbmx5IGVsZW1lbnQ6IEVsZW1lbnQ7XG4gIHJlYWRvbmx5IGV2ZW50TmFtZTogc3RyaW5nO1xuICByZWFkb25seSBldmVudENvbnRleHQ/OiBFdmVudFRhcmdldDtcbiAgdmFsdWU6IHVuZGVmaW5lZHxFdmVudEhhbmRsZXJXaXRoT3B0aW9ucyA9IHVuZGVmaW5lZDtcbiAgcHJpdmF0ZSBfX29wdGlvbnM/OiBBZGRFdmVudExpc3RlbmVyT3B0aW9ucztcbiAgcHJpdmF0ZSBfX3BlbmRpbmdWYWx1ZTogdW5kZWZpbmVkfEV2ZW50SGFuZGxlcldpdGhPcHRpb25zID0gdW5kZWZpbmVkO1xuICBwcml2YXRlIHJlYWRvbmx5IF9fYm91bmRIYW5kbGVFdmVudDogKGV2ZW50OiBFdmVudCkgPT4gdm9pZDtcblxuICBjb25zdHJ1Y3RvcihlbGVtZW50OiBFbGVtZW50LCBldmVudE5hbWU6IHN0cmluZywgZXZlbnRDb250ZXh0PzogRXZlbnRUYXJnZXQpIHtcbiAgICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50O1xuICAgIHRoaXMuZXZlbnROYW1lID0gZXZlbnROYW1lO1xuICAgIHRoaXMuZXZlbnRDb250ZXh0ID0gZXZlbnRDb250ZXh0O1xuICAgIHRoaXMuX19ib3VuZEhhbmRsZUV2ZW50ID0gKGUpID0+IHRoaXMuaGFuZGxlRXZlbnQoZSk7XG4gIH1cblxuICBzZXRWYWx1ZSh2YWx1ZTogdW5kZWZpbmVkfEV2ZW50SGFuZGxlcldpdGhPcHRpb25zKTogdm9pZCB7XG4gICAgdGhpcy5fX3BlbmRpbmdWYWx1ZSA9IHZhbHVlO1xuICB9XG5cbiAgY29tbWl0KCkge1xuICAgIHdoaWxlIChpc0RpcmVjdGl2ZSh0aGlzLl9fcGVuZGluZ1ZhbHVlKSkge1xuICAgICAgY29uc3QgZGlyZWN0aXZlID0gdGhpcy5fX3BlbmRpbmdWYWx1ZTtcbiAgICAgIHRoaXMuX19wZW5kaW5nVmFsdWUgPSBub0NoYW5nZSBhcyBFdmVudEhhbmRsZXJXaXRoT3B0aW9ucztcbiAgICAgIGRpcmVjdGl2ZSh0aGlzKTtcbiAgICB9XG4gICAgaWYgKHRoaXMuX19wZW5kaW5nVmFsdWUgPT09IG5vQ2hhbmdlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgbmV3TGlzdGVuZXIgPSB0aGlzLl9fcGVuZGluZ1ZhbHVlO1xuICAgIGNvbnN0IG9sZExpc3RlbmVyID0gdGhpcy52YWx1ZTtcbiAgICBjb25zdCBzaG91bGRSZW1vdmVMaXN0ZW5lciA9IG5ld0xpc3RlbmVyID09IG51bGwgfHxcbiAgICAgICAgb2xkTGlzdGVuZXIgIT0gbnVsbCAmJlxuICAgICAgICAgICAgKG5ld0xpc3RlbmVyLmNhcHR1cmUgIT09IG9sZExpc3RlbmVyLmNhcHR1cmUgfHxcbiAgICAgICAgICAgICBuZXdMaXN0ZW5lci5vbmNlICE9PSBvbGRMaXN0ZW5lci5vbmNlIHx8XG4gICAgICAgICAgICAgbmV3TGlzdGVuZXIucGFzc2l2ZSAhPT0gb2xkTGlzdGVuZXIucGFzc2l2ZSk7XG4gICAgY29uc3Qgc2hvdWxkQWRkTGlzdGVuZXIgPVxuICAgICAgICBuZXdMaXN0ZW5lciAhPSBudWxsICYmIChvbGRMaXN0ZW5lciA9PSBudWxsIHx8IHNob3VsZFJlbW92ZUxpc3RlbmVyKTtcblxuICAgIGlmIChzaG91bGRSZW1vdmVMaXN0ZW5lcikge1xuICAgICAgdGhpcy5lbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXG4gICAgICAgICAgdGhpcy5ldmVudE5hbWUsIHRoaXMuX19ib3VuZEhhbmRsZUV2ZW50LCB0aGlzLl9fb3B0aW9ucyk7XG4gICAgfVxuICAgIGlmIChzaG91bGRBZGRMaXN0ZW5lcikge1xuICAgICAgdGhpcy5fX29wdGlvbnMgPSBnZXRPcHRpb25zKG5ld0xpc3RlbmVyKTtcbiAgICAgIHRoaXMuZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgICAgIHRoaXMuZXZlbnROYW1lLCB0aGlzLl9fYm91bmRIYW5kbGVFdmVudCwgdGhpcy5fX29wdGlvbnMpO1xuICAgIH1cbiAgICB0aGlzLnZhbHVlID0gbmV3TGlzdGVuZXI7XG4gICAgdGhpcy5fX3BlbmRpbmdWYWx1ZSA9IG5vQ2hhbmdlIGFzIEV2ZW50SGFuZGxlcldpdGhPcHRpb25zO1xuICB9XG5cbiAgaGFuZGxlRXZlbnQoZXZlbnQ6IEV2ZW50KSB7XG4gICAgaWYgKHR5cGVvZiB0aGlzLnZhbHVlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICB0aGlzLnZhbHVlLmNhbGwodGhpcy5ldmVudENvbnRleHQgfHwgdGhpcy5lbGVtZW50LCBldmVudCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICh0aGlzLnZhbHVlIGFzIEV2ZW50TGlzdGVuZXJPYmplY3QpLmhhbmRsZUV2ZW50KGV2ZW50KTtcbiAgICB9XG4gIH1cbn1cblxuLy8gV2UgY29weSBvcHRpb25zIGJlY2F1c2Ugb2YgdGhlIGluY29uc2lzdGVudCBiZWhhdmlvciBvZiBicm93c2VycyB3aGVuIHJlYWRpbmdcbi8vIHRoZSB0aGlyZCBhcmd1bWVudCBvZiBhZGQvcmVtb3ZlRXZlbnRMaXN0ZW5lci4gSUUxMSBkb2Vzbid0IHN1cHBvcnQgb3B0aW9uc1xuLy8gYXQgYWxsLiBDaHJvbWUgNDEgb25seSByZWFkcyBgY2FwdHVyZWAgaWYgdGhlIGFyZ3VtZW50IGlzIGFuIG9iamVjdC5cbmNvbnN0IGdldE9wdGlvbnMgPSAobzogQWRkRXZlbnRMaXN0ZW5lck9wdGlvbnN8dW5kZWZpbmVkKSA9PiBvICYmXG4gICAgKGV2ZW50T3B0aW9uc1N1cHBvcnRlZCA/XG4gICAgICAgICB7Y2FwdHVyZTogby5jYXB0dXJlLCBwYXNzaXZlOiBvLnBhc3NpdmUsIG9uY2U6IG8ub25jZX0gOlxuICAgICAgICAgby5jYXB0dXJlIGFzIEFkZEV2ZW50TGlzdGVuZXJPcHRpb25zKTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAoYykgMjAxNyBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBUaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0XG4gKiBUaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0XG4gKiBDb2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzb1xuICogc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudCBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4gKi9cblxuLyoqXG4gKiBAbW9kdWxlIGxpdC1odG1sXG4gKi9cblxuaW1wb3J0IHtQYXJ0fSBmcm9tICcuL3BhcnQuanMnO1xuaW1wb3J0IHtBdHRyaWJ1dGVDb21taXR0ZXIsIEJvb2xlYW5BdHRyaWJ1dGVQYXJ0LCBFdmVudFBhcnQsIE5vZGVQYXJ0LCBQcm9wZXJ0eUNvbW1pdHRlcn0gZnJvbSAnLi9wYXJ0cy5qcyc7XG5pbXBvcnQge1JlbmRlck9wdGlvbnN9IGZyb20gJy4vcmVuZGVyLW9wdGlvbnMuanMnO1xuaW1wb3J0IHtUZW1wbGF0ZVByb2Nlc3Nvcn0gZnJvbSAnLi90ZW1wbGF0ZS1wcm9jZXNzb3IuanMnO1xuXG4vKipcbiAqIENyZWF0ZXMgUGFydHMgd2hlbiBhIHRlbXBsYXRlIGlzIGluc3RhbnRpYXRlZC5cbiAqL1xuZXhwb3J0IGNsYXNzIERlZmF1bHRUZW1wbGF0ZVByb2Nlc3NvciBpbXBsZW1lbnRzIFRlbXBsYXRlUHJvY2Vzc29yIHtcbiAgLyoqXG4gICAqIENyZWF0ZSBwYXJ0cyBmb3IgYW4gYXR0cmlidXRlLXBvc2l0aW9uIGJpbmRpbmcsIGdpdmVuIHRoZSBldmVudCwgYXR0cmlidXRlXG4gICAqIG5hbWUsIGFuZCBzdHJpbmcgbGl0ZXJhbHMuXG4gICAqXG4gICAqIEBwYXJhbSBlbGVtZW50IFRoZSBlbGVtZW50IGNvbnRhaW5pbmcgdGhlIGJpbmRpbmdcbiAgICogQHBhcmFtIG5hbWUgIFRoZSBhdHRyaWJ1dGUgbmFtZVxuICAgKiBAcGFyYW0gc3RyaW5ncyBUaGUgc3RyaW5nIGxpdGVyYWxzLiBUaGVyZSBhcmUgYWx3YXlzIGF0IGxlYXN0IHR3byBzdHJpbmdzLFxuICAgKiAgIGV2ZW50IGZvciBmdWxseS1jb250cm9sbGVkIGJpbmRpbmdzIHdpdGggYSBzaW5nbGUgZXhwcmVzc2lvbi5cbiAgICovXG4gIGhhbmRsZUF0dHJpYnV0ZUV4cHJlc3Npb25zKFxuICAgICAgZWxlbWVudDogRWxlbWVudCwgbmFtZTogc3RyaW5nLCBzdHJpbmdzOiBzdHJpbmdbXSxcbiAgICAgIG9wdGlvbnM6IFJlbmRlck9wdGlvbnMpOiBSZWFkb25seUFycmF5PFBhcnQ+IHtcbiAgICBjb25zdCBwcmVmaXggPSBuYW1lWzBdO1xuICAgIGlmIChwcmVmaXggPT09ICcuJykge1xuICAgICAgY29uc3QgY29tbWl0dGVyID0gbmV3IFByb3BlcnR5Q29tbWl0dGVyKGVsZW1lbnQsIG5hbWUuc2xpY2UoMSksIHN0cmluZ3MpO1xuICAgICAgcmV0dXJuIGNvbW1pdHRlci5wYXJ0cztcbiAgICB9XG4gICAgaWYgKHByZWZpeCA9PT0gJ0AnKSB7XG4gICAgICByZXR1cm4gW25ldyBFdmVudFBhcnQoZWxlbWVudCwgbmFtZS5zbGljZSgxKSwgb3B0aW9ucy5ldmVudENvbnRleHQpXTtcbiAgICB9XG4gICAgaWYgKHByZWZpeCA9PT0gJz8nKSB7XG4gICAgICByZXR1cm4gW25ldyBCb29sZWFuQXR0cmlidXRlUGFydChlbGVtZW50LCBuYW1lLnNsaWNlKDEpLCBzdHJpbmdzKV07XG4gICAgfVxuICAgIGNvbnN0IGNvbW1pdHRlciA9IG5ldyBBdHRyaWJ1dGVDb21taXR0ZXIoZWxlbWVudCwgbmFtZSwgc3RyaW5ncyk7XG4gICAgcmV0dXJuIGNvbW1pdHRlci5wYXJ0cztcbiAgfVxuICAvKipcbiAgICogQ3JlYXRlIHBhcnRzIGZvciBhIHRleHQtcG9zaXRpb24gYmluZGluZy5cbiAgICogQHBhcmFtIHRlbXBsYXRlRmFjdG9yeVxuICAgKi9cbiAgaGFuZGxlVGV4dEV4cHJlc3Npb24ob3B0aW9uczogUmVuZGVyT3B0aW9ucykge1xuICAgIHJldHVybiBuZXcgTm9kZVBhcnQob3B0aW9ucyk7XG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IGRlZmF1bHRUZW1wbGF0ZVByb2Nlc3NvciA9IG5ldyBEZWZhdWx0VGVtcGxhdGVQcm9jZXNzb3IoKTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAoYykgMjAxNyBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBUaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0XG4gKiBUaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0XG4gKiBDb2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzb1xuICogc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudCBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4gKi9cblxuLyoqXG4gKiBAbW9kdWxlIGxpdC1odG1sXG4gKi9cblxuaW1wb3J0IHtUZW1wbGF0ZVJlc3VsdH0gZnJvbSAnLi90ZW1wbGF0ZS1yZXN1bHQuanMnO1xuaW1wb3J0IHttYXJrZXIsIFRlbXBsYXRlfSBmcm9tICcuL3RlbXBsYXRlLmpzJztcblxuLyoqXG4gKiBBIGZ1bmN0aW9uIHR5cGUgdGhhdCBjcmVhdGVzIGEgVGVtcGxhdGUgZnJvbSBhIFRlbXBsYXRlUmVzdWx0LlxuICpcbiAqIFRoaXMgaXMgYSBob29rIGludG8gdGhlIHRlbXBsYXRlLWNyZWF0aW9uIHByb2Nlc3MgZm9yIHJlbmRlcmluZyB0aGF0XG4gKiByZXF1aXJlcyBzb21lIG1vZGlmaWNhdGlvbiBvZiB0ZW1wbGF0ZXMgYmVmb3JlIHRoZXkncmUgdXNlZCwgbGlrZSBTaGFkeUNTUyxcbiAqIHdoaWNoIG11c3QgYWRkIGNsYXNzZXMgdG8gZWxlbWVudHMgYW5kIHJlbW92ZSBzdHlsZXMuXG4gKlxuICogVGVtcGxhdGVzIHNob3VsZCBiZSBjYWNoZWQgYXMgYWdncmVzc2l2ZWx5IGFzIHBvc3NpYmxlLCBzbyB0aGF0IG1hbnlcbiAqIFRlbXBsYXRlUmVzdWx0cyBwcm9kdWNlZCBmcm9tIHRoZSBzYW1lIGV4cHJlc3Npb24gb25seSBkbyB0aGUgd29yayBvZlxuICogY3JlYXRpbmcgdGhlIFRlbXBsYXRlIHRoZSBmaXJzdCB0aW1lLlxuICpcbiAqIFRlbXBsYXRlcyBhcmUgdXN1YWxseSBjYWNoZWQgYnkgVGVtcGxhdGVSZXN1bHQuc3RyaW5ncyBhbmRcbiAqIFRlbXBsYXRlUmVzdWx0LnR5cGUsIGJ1dCBtYXkgYmUgY2FjaGVkIGJ5IG90aGVyIGtleXMgaWYgdGhpcyBmdW5jdGlvblxuICogbW9kaWZpZXMgdGhlIHRlbXBsYXRlLlxuICpcbiAqIE5vdGUgdGhhdCBjdXJyZW50bHkgVGVtcGxhdGVGYWN0b3JpZXMgbXVzdCBub3QgYWRkLCByZW1vdmUsIG9yIHJlb3JkZXJcbiAqIGV4cHJlc3Npb25zLCBiZWNhdXNlIHRoZXJlIGlzIG5vIHdheSB0byBkZXNjcmliZSBzdWNoIGEgbW9kaWZpY2F0aW9uXG4gKiB0byByZW5kZXIoKSBzbyB0aGF0IHZhbHVlcyBhcmUgaW50ZXJwb2xhdGVkIHRvIHRoZSBjb3JyZWN0IHBsYWNlIGluIHRoZVxuICogdGVtcGxhdGUgaW5zdGFuY2VzLlxuICovXG5leHBvcnQgdHlwZSBUZW1wbGF0ZUZhY3RvcnkgPSAocmVzdWx0OiBUZW1wbGF0ZVJlc3VsdCkgPT4gVGVtcGxhdGU7XG5cbi8qKlxuICogVGhlIGRlZmF1bHQgVGVtcGxhdGVGYWN0b3J5IHdoaWNoIGNhY2hlcyBUZW1wbGF0ZXMga2V5ZWQgb25cbiAqIHJlc3VsdC50eXBlIGFuZCByZXN1bHQuc3RyaW5ncy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRlbXBsYXRlRmFjdG9yeShyZXN1bHQ6IFRlbXBsYXRlUmVzdWx0KSB7XG4gIGxldCB0ZW1wbGF0ZUNhY2hlID0gdGVtcGxhdGVDYWNoZXMuZ2V0KHJlc3VsdC50eXBlKTtcbiAgaWYgKHRlbXBsYXRlQ2FjaGUgPT09IHVuZGVmaW5lZCkge1xuICAgIHRlbXBsYXRlQ2FjaGUgPSB7XG4gICAgICBzdHJpbmdzQXJyYXk6IG5ldyBXZWFrTWFwPFRlbXBsYXRlU3RyaW5nc0FycmF5LCBUZW1wbGF0ZT4oKSxcbiAgICAgIGtleVN0cmluZzogbmV3IE1hcDxzdHJpbmcsIFRlbXBsYXRlPigpXG4gICAgfTtcbiAgICB0ZW1wbGF0ZUNhY2hlcy5zZXQocmVzdWx0LnR5cGUsIHRlbXBsYXRlQ2FjaGUpO1xuICB9XG5cbiAgbGV0IHRlbXBsYXRlID0gdGVtcGxhdGVDYWNoZS5zdHJpbmdzQXJyYXkuZ2V0KHJlc3VsdC5zdHJpbmdzKTtcbiAgaWYgKHRlbXBsYXRlICE9PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4gdGVtcGxhdGU7XG4gIH1cblxuICAvLyBJZiB0aGUgVGVtcGxhdGVTdHJpbmdzQXJyYXkgaXMgbmV3LCBnZW5lcmF0ZSBhIGtleSBmcm9tIHRoZSBzdHJpbmdzXG4gIC8vIFRoaXMga2V5IGlzIHNoYXJlZCBiZXR3ZWVuIGFsbCB0ZW1wbGF0ZXMgd2l0aCBpZGVudGljYWwgY29udGVudFxuICBjb25zdCBrZXkgPSByZXN1bHQuc3RyaW5ncy5qb2luKG1hcmtlcik7XG5cbiAgLy8gQ2hlY2sgaWYgd2UgYWxyZWFkeSBoYXZlIGEgVGVtcGxhdGUgZm9yIHRoaXMga2V5XG4gIHRlbXBsYXRlID0gdGVtcGxhdGVDYWNoZS5rZXlTdHJpbmcuZ2V0KGtleSk7XG4gIGlmICh0ZW1wbGF0ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgLy8gSWYgd2UgaGF2ZSBub3Qgc2VlbiB0aGlzIGtleSBiZWZvcmUsIGNyZWF0ZSBhIG5ldyBUZW1wbGF0ZVxuICAgIHRlbXBsYXRlID0gbmV3IFRlbXBsYXRlKHJlc3VsdCwgcmVzdWx0LmdldFRlbXBsYXRlRWxlbWVudCgpKTtcbiAgICAvLyBDYWNoZSB0aGUgVGVtcGxhdGUgZm9yIHRoaXMga2V5XG4gICAgdGVtcGxhdGVDYWNoZS5rZXlTdHJpbmcuc2V0KGtleSwgdGVtcGxhdGUpO1xuICB9XG5cbiAgLy8gQ2FjaGUgYWxsIGZ1dHVyZSBxdWVyaWVzIGZvciB0aGlzIFRlbXBsYXRlU3RyaW5nc0FycmF5XG4gIHRlbXBsYXRlQ2FjaGUuc3RyaW5nc0FycmF5LnNldChyZXN1bHQuc3RyaW5ncywgdGVtcGxhdGUpO1xuICByZXR1cm4gdGVtcGxhdGU7XG59XG5cbi8qKlxuICogVGhlIGZpcnN0IGFyZ3VtZW50IHRvIEpTIHRlbXBsYXRlIHRhZ3MgcmV0YWluIGlkZW50aXR5IGFjcm9zcyBtdWx0aXBsZVxuICogY2FsbHMgdG8gYSB0YWcgZm9yIHRoZSBzYW1lIGxpdGVyYWwsIHNvIHdlIGNhbiBjYWNoZSB3b3JrIGRvbmUgcGVyIGxpdGVyYWxcbiAqIGluIGEgTWFwLlxuICpcbiAqIFNhZmFyaSBjdXJyZW50bHkgaGFzIGEgYnVnIHdoaWNoIG9jY2FzaW9uYWxseSBicmVha3MgdGhpcyBiZWhhdmlvdXIsIHNvIHdlXG4gKiBuZWVkIHRvIGNhY2hlIHRoZSBUZW1wbGF0ZSBhdCB0d28gbGV2ZWxzLiBXZSBmaXJzdCBjYWNoZSB0aGVcbiAqIFRlbXBsYXRlU3RyaW5nc0FycmF5LCBhbmQgaWYgdGhhdCBmYWlscywgd2UgY2FjaGUgYSBrZXkgY29uc3RydWN0ZWQgYnlcbiAqIGpvaW5pbmcgdGhlIHN0cmluZ3MgYXJyYXkuXG4gKi9cbmV4cG9ydCB0eXBlIHRlbXBsYXRlQ2FjaGUgPSB7XG4gIHJlYWRvbmx5IHN0cmluZ3NBcnJheTogV2Vha01hcDxUZW1wbGF0ZVN0cmluZ3NBcnJheSwgVGVtcGxhdGU+OyAvL1xuICByZWFkb25seSBrZXlTdHJpbmc6IE1hcDxzdHJpbmcsIFRlbXBsYXRlPjtcbn07XG5cbmV4cG9ydCBjb25zdCB0ZW1wbGF0ZUNhY2hlcyA9IG5ldyBNYXA8c3RyaW5nLCB0ZW1wbGF0ZUNhY2hlPigpO1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IChjKSAyMDE3IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqIFRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0XG4gKiBUaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHRcbiAqIENvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzIHBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvXG4gKiBzdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50IGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiAqL1xuXG4vKipcbiAqIEBtb2R1bGUgbGl0LWh0bWxcbiAqL1xuXG5pbXBvcnQge3JlbW92ZU5vZGVzfSBmcm9tICcuL2RvbS5qcyc7XG5pbXBvcnQge05vZGVQYXJ0fSBmcm9tICcuL3BhcnRzLmpzJztcbmltcG9ydCB7UmVuZGVyT3B0aW9uc30gZnJvbSAnLi9yZW5kZXItb3B0aW9ucy5qcyc7XG5pbXBvcnQge3RlbXBsYXRlRmFjdG9yeX0gZnJvbSAnLi90ZW1wbGF0ZS1mYWN0b3J5LmpzJztcbmltcG9ydCB7VGVtcGxhdGVSZXN1bHR9IGZyb20gJy4vdGVtcGxhdGUtcmVzdWx0LmpzJztcblxuZXhwb3J0IGNvbnN0IHBhcnRzID0gbmV3IFdlYWtNYXA8Tm9kZSwgTm9kZVBhcnQ+KCk7XG5cbi8qKlxuICogUmVuZGVycyBhIHRlbXBsYXRlIHRvIGEgY29udGFpbmVyLlxuICpcbiAqIFRvIHVwZGF0ZSBhIGNvbnRhaW5lciB3aXRoIG5ldyB2YWx1ZXMsIHJlZXZhbHVhdGUgdGhlIHRlbXBsYXRlIGxpdGVyYWwgYW5kXG4gKiBjYWxsIGByZW5kZXJgIHdpdGggdGhlIG5ldyByZXN1bHQuXG4gKlxuICogQHBhcmFtIHJlc3VsdCBhIFRlbXBsYXRlUmVzdWx0IGNyZWF0ZWQgYnkgZXZhbHVhdGluZyBhIHRlbXBsYXRlIHRhZyBsaWtlXG4gKiAgICAgYGh0bWxgIG9yIGBzdmdgLlxuICogQHBhcmFtIGNvbnRhaW5lciBBIERPTSBwYXJlbnQgdG8gcmVuZGVyIHRvLiBUaGUgZW50aXJlIGNvbnRlbnRzIGFyZSBlaXRoZXJcbiAqICAgICByZXBsYWNlZCwgb3IgZWZmaWNpZW50bHkgdXBkYXRlZCBpZiB0aGUgc2FtZSByZXN1bHQgdHlwZSB3YXMgcHJldmlvdXNcbiAqICAgICByZW5kZXJlZCB0aGVyZS5cbiAqIEBwYXJhbSBvcHRpb25zIFJlbmRlck9wdGlvbnMgZm9yIHRoZSBlbnRpcmUgcmVuZGVyIHRyZWUgcmVuZGVyZWQgdG8gdGhpc1xuICogICAgIGNvbnRhaW5lci4gUmVuZGVyIG9wdGlvbnMgbXVzdCAqbm90KiBjaGFuZ2UgYmV0d2VlbiByZW5kZXJzIHRvIHRoZSBzYW1lXG4gKiAgICAgY29udGFpbmVyLCBhcyB0aG9zZSBjaGFuZ2VzIHdpbGwgbm90IGVmZmVjdCBwcmV2aW91c2x5IHJlbmRlcmVkIERPTS5cbiAqL1xuZXhwb3J0IGNvbnN0IHJlbmRlciA9XG4gICAgKHJlc3VsdDogVGVtcGxhdGVSZXN1bHQsXG4gICAgIGNvbnRhaW5lcjogRWxlbWVudHxEb2N1bWVudEZyYWdtZW50LFxuICAgICBvcHRpb25zPzogUGFydGlhbDxSZW5kZXJPcHRpb25zPikgPT4ge1xuICAgICAgbGV0IHBhcnQgPSBwYXJ0cy5nZXQoY29udGFpbmVyKTtcbiAgICAgIGlmIChwYXJ0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmVtb3ZlTm9kZXMoY29udGFpbmVyLCBjb250YWluZXIuZmlyc3RDaGlsZCk7XG4gICAgICAgIHBhcnRzLnNldChjb250YWluZXIsIHBhcnQgPSBuZXcgTm9kZVBhcnQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlRmFjdG9yeSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgIHBhcnQuYXBwZW5kSW50byhjb250YWluZXIpO1xuICAgICAgfVxuICAgICAgcGFydC5zZXRWYWx1ZShyZXN1bHQpO1xuICAgICAgcGFydC5jb21taXQoKTtcbiAgICB9O1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IChjKSAyMDE3IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqIFRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0XG4gKiBUaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHRcbiAqIENvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzIHBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvXG4gKiBzdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50IGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiAqL1xuXG4vKipcbiAqXG4gKiBNYWluIGxpdC1odG1sIG1vZHVsZS5cbiAqXG4gKiBNYWluIGV4cG9ydHM6XG4gKlxuICogLSAgW1todG1sXV1cbiAqIC0gIFtbc3ZnXV1cbiAqIC0gIFtbcmVuZGVyXV1cbiAqXG4gKiBAbW9kdWxlIGxpdC1odG1sXG4gKiBAcHJlZmVycmVkXG4gKi9cblxuLyoqXG4gKiBEbyBub3QgcmVtb3ZlIHRoaXMgY29tbWVudDsgaXQga2VlcHMgdHlwZWRvYyBmcm9tIG1pc3BsYWNpbmcgdGhlIG1vZHVsZVxuICogZG9jcy5cbiAqL1xuaW1wb3J0IHtkZWZhdWx0VGVtcGxhdGVQcm9jZXNzb3J9IGZyb20gJy4vbGliL2RlZmF1bHQtdGVtcGxhdGUtcHJvY2Vzc29yLmpzJztcbmltcG9ydCB7U1ZHVGVtcGxhdGVSZXN1bHQsIFRlbXBsYXRlUmVzdWx0fSBmcm9tICcuL2xpYi90ZW1wbGF0ZS1yZXN1bHQuanMnO1xuXG5leHBvcnQge0RlZmF1bHRUZW1wbGF0ZVByb2Nlc3NvciwgZGVmYXVsdFRlbXBsYXRlUHJvY2Vzc29yfSBmcm9tICcuL2xpYi9kZWZhdWx0LXRlbXBsYXRlLXByb2Nlc3Nvci5qcyc7XG5leHBvcnQge2RpcmVjdGl2ZSwgRGlyZWN0aXZlRm4sIGlzRGlyZWN0aXZlfSBmcm9tICcuL2xpYi9kaXJlY3RpdmUuanMnO1xuLy8gVE9ETyhqdXN0aW5mYWduYW5pKTogcmVtb3ZlIGxpbmUgd2hlbiB3ZSBnZXQgTm9kZVBhcnQgbW92aW5nIG1ldGhvZHNcbmV4cG9ydCB7cmVtb3ZlTm9kZXMsIHJlcGFyZW50Tm9kZXN9IGZyb20gJy4vbGliL2RvbS5qcyc7XG5leHBvcnQge25vQ2hhbmdlLCBub3RoaW5nLCBQYXJ0fSBmcm9tICcuL2xpYi9wYXJ0LmpzJztcbmV4cG9ydCB7QXR0cmlidXRlQ29tbWl0dGVyLCBBdHRyaWJ1dGVQYXJ0LCBCb29sZWFuQXR0cmlidXRlUGFydCwgRXZlbnRQYXJ0LCBpc0l0ZXJhYmxlLCBpc1ByaW1pdGl2ZSwgTm9kZVBhcnQsIFByb3BlcnR5Q29tbWl0dGVyLCBQcm9wZXJ0eVBhcnR9IGZyb20gJy4vbGliL3BhcnRzLmpzJztcbmV4cG9ydCB7UmVuZGVyT3B0aW9uc30gZnJvbSAnLi9saWIvcmVuZGVyLW9wdGlvbnMuanMnO1xuZXhwb3J0IHtwYXJ0cywgcmVuZGVyfSBmcm9tICcuL2xpYi9yZW5kZXIuanMnO1xuZXhwb3J0IHt0ZW1wbGF0ZUNhY2hlcywgdGVtcGxhdGVGYWN0b3J5fSBmcm9tICcuL2xpYi90ZW1wbGF0ZS1mYWN0b3J5LmpzJztcbmV4cG9ydCB7VGVtcGxhdGVJbnN0YW5jZX0gZnJvbSAnLi9saWIvdGVtcGxhdGUtaW5zdGFuY2UuanMnO1xuZXhwb3J0IHtUZW1wbGF0ZVByb2Nlc3Nvcn0gZnJvbSAnLi9saWIvdGVtcGxhdGUtcHJvY2Vzc29yLmpzJztcbmV4cG9ydCB7U1ZHVGVtcGxhdGVSZXN1bHQsIFRlbXBsYXRlUmVzdWx0fSBmcm9tICcuL2xpYi90ZW1wbGF0ZS1yZXN1bHQuanMnO1xuZXhwb3J0IHtjcmVhdGVNYXJrZXIsIGlzVGVtcGxhdGVQYXJ0QWN0aXZlLCBUZW1wbGF0ZX0gZnJvbSAnLi9saWIvdGVtcGxhdGUuanMnO1xuXG5kZWNsYXJlIGdsb2JhbCB7XG4gIGludGVyZmFjZSBXaW5kb3cge1xuICAgIGxpdEh0bWxWZXJzaW9uczogc3RyaW5nW107XG4gIH1cbn1cblxuLy8gSU1QT1JUQU5UOiBkbyBub3QgY2hhbmdlIHRoZSBwcm9wZXJ0eSBuYW1lIG9yIHRoZSBhc3NpZ25tZW50IGV4cHJlc3Npb24uXG4vLyBUaGlzIGxpbmUgd2lsbCBiZSB1c2VkIGluIHJlZ2V4ZXMgdG8gc2VhcmNoIGZvciBsaXQtaHRtbCB1c2FnZS5cbi8vIFRPRE8oanVzdGluZmFnbmFuaSk6IGluamVjdCB2ZXJzaW9uIG51bWJlciBhdCBidWlsZCB0aW1lXG4od2luZG93WydsaXRIdG1sVmVyc2lvbnMnXSB8fCAod2luZG93WydsaXRIdG1sVmVyc2lvbnMnXSA9IFtdKSkucHVzaCgnMS4wLjAnKTtcblxuLyoqXG4gKiBJbnRlcnByZXRzIGEgdGVtcGxhdGUgbGl0ZXJhbCBhcyBhbiBIVE1MIHRlbXBsYXRlIHRoYXQgY2FuIGVmZmljaWVudGx5XG4gKiByZW5kZXIgdG8gYW5kIHVwZGF0ZSBhIGNvbnRhaW5lci5cbiAqL1xuZXhwb3J0IGNvbnN0IGh0bWwgPSAoc3RyaW5nczogVGVtcGxhdGVTdHJpbmdzQXJyYXksIC4uLnZhbHVlczogdW5rbm93bltdKSA9PlxuICAgIG5ldyBUZW1wbGF0ZVJlc3VsdChzdHJpbmdzLCB2YWx1ZXMsICdodG1sJywgZGVmYXVsdFRlbXBsYXRlUHJvY2Vzc29yKTtcblxuLyoqXG4gKiBJbnRlcnByZXRzIGEgdGVtcGxhdGUgbGl0ZXJhbCBhcyBhbiBTVkcgdGVtcGxhdGUgdGhhdCBjYW4gZWZmaWNpZW50bHlcbiAqIHJlbmRlciB0byBhbmQgdXBkYXRlIGEgY29udGFpbmVyLlxuICovXG5leHBvcnQgY29uc3Qgc3ZnID0gKHN0cmluZ3M6IFRlbXBsYXRlU3RyaW5nc0FycmF5LCAuLi52YWx1ZXM6IHVua25vd25bXSkgPT5cbiAgICBuZXcgU1ZHVGVtcGxhdGVSZXN1bHQoc3RyaW5ncywgdmFsdWVzLCAnc3ZnJywgZGVmYXVsdFRlbXBsYXRlUHJvY2Vzc29yKTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAoYykgMjAxNyBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBUaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0XG4gKiBUaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0XG4gKiBDb2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzb1xuICogc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudCBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4gKi9cblxuLyoqXG4gKiBAbW9kdWxlIHNoYWR5LXJlbmRlclxuICovXG5cbmltcG9ydCB7aXNUZW1wbGF0ZVBhcnRBY3RpdmUsIFRlbXBsYXRlLCBUZW1wbGF0ZVBhcnR9IGZyb20gJy4vdGVtcGxhdGUuanMnO1xuXG5jb25zdCB3YWxrZXJOb2RlRmlsdGVyID0gMTMzIC8qIE5vZGVGaWx0ZXIuU0hPV197RUxFTUVOVHxDT01NRU5UfFRFWFR9ICovO1xuXG4vKipcbiAqIFJlbW92ZXMgdGhlIGxpc3Qgb2Ygbm9kZXMgZnJvbSBhIFRlbXBsYXRlIHNhZmVseS4gSW4gYWRkaXRpb24gdG8gcmVtb3ZpbmdcbiAqIG5vZGVzIGZyb20gdGhlIFRlbXBsYXRlLCB0aGUgVGVtcGxhdGUgcGFydCBpbmRpY2VzIGFyZSB1cGRhdGVkIHRvIG1hdGNoXG4gKiB0aGUgbXV0YXRlZCBUZW1wbGF0ZSBET00uXG4gKlxuICogQXMgdGhlIHRlbXBsYXRlIGlzIHdhbGtlZCB0aGUgcmVtb3ZhbCBzdGF0ZSBpcyB0cmFja2VkIGFuZFxuICogcGFydCBpbmRpY2VzIGFyZSBhZGp1c3RlZCBhcyBuZWVkZWQuXG4gKlxuICogZGl2XG4gKiAgIGRpdiMxIChyZW1vdmUpIDwtLSBzdGFydCByZW1vdmluZyAocmVtb3Zpbmcgbm9kZSBpcyBkaXYjMSlcbiAqICAgICBkaXZcbiAqICAgICAgIGRpdiMyIChyZW1vdmUpICA8LS0gY29udGludWUgcmVtb3ZpbmcgKHJlbW92aW5nIG5vZGUgaXMgc3RpbGwgZGl2IzEpXG4gKiAgICAgICAgIGRpdlxuICogZGl2IDwtLSBzdG9wIHJlbW92aW5nIHNpbmNlIHByZXZpb3VzIHNpYmxpbmcgaXMgdGhlIHJlbW92aW5nIG5vZGUgKGRpdiMxLFxuICogcmVtb3ZlZCA0IG5vZGVzKVxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlTm9kZXNGcm9tVGVtcGxhdGUoXG4gICAgdGVtcGxhdGU6IFRlbXBsYXRlLCBub2Rlc1RvUmVtb3ZlOiBTZXQ8Tm9kZT4pIHtcbiAgY29uc3Qge2VsZW1lbnQ6IHtjb250ZW50fSwgcGFydHN9ID0gdGVtcGxhdGU7XG4gIGNvbnN0IHdhbGtlciA9XG4gICAgICBkb2N1bWVudC5jcmVhdGVUcmVlV2Fsa2VyKGNvbnRlbnQsIHdhbGtlck5vZGVGaWx0ZXIsIG51bGwsIGZhbHNlKTtcbiAgbGV0IHBhcnRJbmRleCA9IG5leHRBY3RpdmVJbmRleEluVGVtcGxhdGVQYXJ0cyhwYXJ0cyk7XG4gIGxldCBwYXJ0ID0gcGFydHNbcGFydEluZGV4XTtcbiAgbGV0IG5vZGVJbmRleCA9IC0xO1xuICBsZXQgcmVtb3ZlQ291bnQgPSAwO1xuICBjb25zdCBub2Rlc1RvUmVtb3ZlSW5UZW1wbGF0ZSA9IFtdO1xuICBsZXQgY3VycmVudFJlbW92aW5nTm9kZTogTm9kZXxudWxsID0gbnVsbDtcbiAgd2hpbGUgKHdhbGtlci5uZXh0Tm9kZSgpKSB7XG4gICAgbm9kZUluZGV4Kys7XG4gICAgY29uc3Qgbm9kZSA9IHdhbGtlci5jdXJyZW50Tm9kZSBhcyBFbGVtZW50O1xuICAgIC8vIEVuZCByZW1vdmFsIGlmIHN0ZXBwZWQgcGFzdCB0aGUgcmVtb3Zpbmcgbm9kZVxuICAgIGlmIChub2RlLnByZXZpb3VzU2libGluZyA9PT0gY3VycmVudFJlbW92aW5nTm9kZSkge1xuICAgICAgY3VycmVudFJlbW92aW5nTm9kZSA9IG51bGw7XG4gICAgfVxuICAgIC8vIEEgbm9kZSB0byByZW1vdmUgd2FzIGZvdW5kIGluIHRoZSB0ZW1wbGF0ZVxuICAgIGlmIChub2Rlc1RvUmVtb3ZlLmhhcyhub2RlKSkge1xuICAgICAgbm9kZXNUb1JlbW92ZUluVGVtcGxhdGUucHVzaChub2RlKTtcbiAgICAgIC8vIFRyYWNrIG5vZGUgd2UncmUgcmVtb3ZpbmdcbiAgICAgIGlmIChjdXJyZW50UmVtb3ZpbmdOb2RlID09PSBudWxsKSB7XG4gICAgICAgIGN1cnJlbnRSZW1vdmluZ05vZGUgPSBub2RlO1xuICAgICAgfVxuICAgIH1cbiAgICAvLyBXaGVuIHJlbW92aW5nLCBpbmNyZW1lbnQgY291bnQgYnkgd2hpY2ggdG8gYWRqdXN0IHN1YnNlcXVlbnQgcGFydCBpbmRpY2VzXG4gICAgaWYgKGN1cnJlbnRSZW1vdmluZ05vZGUgIT09IG51bGwpIHtcbiAgICAgIHJlbW92ZUNvdW50Kys7XG4gICAgfVxuICAgIHdoaWxlIChwYXJ0ICE9PSB1bmRlZmluZWQgJiYgcGFydC5pbmRleCA9PT0gbm9kZUluZGV4KSB7XG4gICAgICAvLyBJZiBwYXJ0IGlzIGluIGEgcmVtb3ZlZCBub2RlIGRlYWN0aXZhdGUgaXQgYnkgc2V0dGluZyBpbmRleCB0byAtMSBvclxuICAgICAgLy8gYWRqdXN0IHRoZSBpbmRleCBhcyBuZWVkZWQuXG4gICAgICBwYXJ0LmluZGV4ID0gY3VycmVudFJlbW92aW5nTm9kZSAhPT0gbnVsbCA/IC0xIDogcGFydC5pbmRleCAtIHJlbW92ZUNvdW50O1xuICAgICAgLy8gZ28gdG8gdGhlIG5leHQgYWN0aXZlIHBhcnQuXG4gICAgICBwYXJ0SW5kZXggPSBuZXh0QWN0aXZlSW5kZXhJblRlbXBsYXRlUGFydHMocGFydHMsIHBhcnRJbmRleCk7XG4gICAgICBwYXJ0ID0gcGFydHNbcGFydEluZGV4XTtcbiAgICB9XG4gIH1cbiAgbm9kZXNUb1JlbW92ZUluVGVtcGxhdGUuZm9yRWFjaCgobikgPT4gbi5wYXJlbnROb2RlIS5yZW1vdmVDaGlsZChuKSk7XG59XG5cbmNvbnN0IGNvdW50Tm9kZXMgPSAobm9kZTogTm9kZSkgPT4ge1xuICBsZXQgY291bnQgPSAobm9kZS5ub2RlVHlwZSA9PT0gMTEgLyogTm9kZS5ET0NVTUVOVF9GUkFHTUVOVF9OT0RFICovKSA/IDAgOiAxO1xuICBjb25zdCB3YWxrZXIgPSBkb2N1bWVudC5jcmVhdGVUcmVlV2Fsa2VyKG5vZGUsIHdhbGtlck5vZGVGaWx0ZXIsIG51bGwsIGZhbHNlKTtcbiAgd2hpbGUgKHdhbGtlci5uZXh0Tm9kZSgpKSB7XG4gICAgY291bnQrKztcbiAgfVxuICByZXR1cm4gY291bnQ7XG59O1xuXG5jb25zdCBuZXh0QWN0aXZlSW5kZXhJblRlbXBsYXRlUGFydHMgPVxuICAgIChwYXJ0czogVGVtcGxhdGVQYXJ0W10sIHN0YXJ0SW5kZXg6IG51bWJlciA9IC0xKSA9PiB7XG4gICAgICBmb3IgKGxldCBpID0gc3RhcnRJbmRleCArIDE7IGkgPCBwYXJ0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBwYXJ0ID0gcGFydHNbaV07XG4gICAgICAgIGlmIChpc1RlbXBsYXRlUGFydEFjdGl2ZShwYXJ0KSkge1xuICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gLTE7XG4gICAgfTtcblxuLyoqXG4gKiBJbnNlcnRzIHRoZSBnaXZlbiBub2RlIGludG8gdGhlIFRlbXBsYXRlLCBvcHRpb25hbGx5IGJlZm9yZSB0aGUgZ2l2ZW5cbiAqIHJlZk5vZGUuIEluIGFkZGl0aW9uIHRvIGluc2VydGluZyB0aGUgbm9kZSBpbnRvIHRoZSBUZW1wbGF0ZSwgdGhlIFRlbXBsYXRlXG4gKiBwYXJ0IGluZGljZXMgYXJlIHVwZGF0ZWQgdG8gbWF0Y2ggdGhlIG11dGF0ZWQgVGVtcGxhdGUgRE9NLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaW5zZXJ0Tm9kZUludG9UZW1wbGF0ZShcbiAgICB0ZW1wbGF0ZTogVGVtcGxhdGUsIG5vZGU6IE5vZGUsIHJlZk5vZGU6IE5vZGV8bnVsbCA9IG51bGwpIHtcbiAgY29uc3Qge2VsZW1lbnQ6IHtjb250ZW50fSwgcGFydHN9ID0gdGVtcGxhdGU7XG4gIC8vIElmIHRoZXJlJ3Mgbm8gcmVmTm9kZSwgdGhlbiBwdXQgbm9kZSBhdCBlbmQgb2YgdGVtcGxhdGUuXG4gIC8vIE5vIHBhcnQgaW5kaWNlcyBuZWVkIHRvIGJlIHNoaWZ0ZWQgaW4gdGhpcyBjYXNlLlxuICBpZiAocmVmTm9kZSA9PT0gbnVsbCB8fCByZWZOb2RlID09PSB1bmRlZmluZWQpIHtcbiAgICBjb250ZW50LmFwcGVuZENoaWxkKG5vZGUpO1xuICAgIHJldHVybjtcbiAgfVxuICBjb25zdCB3YWxrZXIgPVxuICAgICAgZG9jdW1lbnQuY3JlYXRlVHJlZVdhbGtlcihjb250ZW50LCB3YWxrZXJOb2RlRmlsdGVyLCBudWxsLCBmYWxzZSk7XG4gIGxldCBwYXJ0SW5kZXggPSBuZXh0QWN0aXZlSW5kZXhJblRlbXBsYXRlUGFydHMocGFydHMpO1xuICBsZXQgaW5zZXJ0Q291bnQgPSAwO1xuICBsZXQgd2Fsa2VySW5kZXggPSAtMTtcbiAgd2hpbGUgKHdhbGtlci5uZXh0Tm9kZSgpKSB7XG4gICAgd2Fsa2VySW5kZXgrKztcbiAgICBjb25zdCB3YWxrZXJOb2RlID0gd2Fsa2VyLmN1cnJlbnROb2RlIGFzIEVsZW1lbnQ7XG4gICAgaWYgKHdhbGtlck5vZGUgPT09IHJlZk5vZGUpIHtcbiAgICAgIGluc2VydENvdW50ID0gY291bnROb2Rlcyhub2RlKTtcbiAgICAgIHJlZk5vZGUucGFyZW50Tm9kZSEuaW5zZXJ0QmVmb3JlKG5vZGUsIHJlZk5vZGUpO1xuICAgIH1cbiAgICB3aGlsZSAocGFydEluZGV4ICE9PSAtMSAmJiBwYXJ0c1twYXJ0SW5kZXhdLmluZGV4ID09PSB3YWxrZXJJbmRleCkge1xuICAgICAgLy8gSWYgd2UndmUgaW5zZXJ0ZWQgdGhlIG5vZGUsIHNpbXBseSBhZGp1c3QgYWxsIHN1YnNlcXVlbnQgcGFydHNcbiAgICAgIGlmIChpbnNlcnRDb3VudCA+IDApIHtcbiAgICAgICAgd2hpbGUgKHBhcnRJbmRleCAhPT0gLTEpIHtcbiAgICAgICAgICBwYXJ0c1twYXJ0SW5kZXhdLmluZGV4ICs9IGluc2VydENvdW50O1xuICAgICAgICAgIHBhcnRJbmRleCA9IG5leHRBY3RpdmVJbmRleEluVGVtcGxhdGVQYXJ0cyhwYXJ0cywgcGFydEluZGV4KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBwYXJ0SW5kZXggPSBuZXh0QWN0aXZlSW5kZXhJblRlbXBsYXRlUGFydHMocGFydHMsIHBhcnRJbmRleCk7XG4gICAgfVxuICB9XG59XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTcgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuICogQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbiAqIHN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuICovXG5cbi8qKlxuICogTW9kdWxlIHRvIGFkZCBzaGFkeSBET00vc2hhZHkgQ1NTIHBvbHlmaWxsIHN1cHBvcnQgdG8gbGl0LWh0bWwgdGVtcGxhdGVcbiAqIHJlbmRlcmluZy4gU2VlIHRoZSBbW3JlbmRlcl1dIG1ldGhvZCBmb3IgZGV0YWlscy5cbiAqXG4gKiBAbW9kdWxlIHNoYWR5LXJlbmRlclxuICogQHByZWZlcnJlZFxuICovXG5cbi8qKlxuICogRG8gbm90IHJlbW92ZSB0aGlzIGNvbW1lbnQ7IGl0IGtlZXBzIHR5cGVkb2MgZnJvbSBtaXNwbGFjaW5nIHRoZSBtb2R1bGVcbiAqIGRvY3MuXG4gKi9cbmltcG9ydCB7cmVtb3ZlTm9kZXN9IGZyb20gJy4vZG9tLmpzJztcbmltcG9ydCB7aW5zZXJ0Tm9kZUludG9UZW1wbGF0ZSwgcmVtb3ZlTm9kZXNGcm9tVGVtcGxhdGV9IGZyb20gJy4vbW9kaWZ5LXRlbXBsYXRlLmpzJztcbmltcG9ydCB7UmVuZGVyT3B0aW9uc30gZnJvbSAnLi9yZW5kZXItb3B0aW9ucy5qcyc7XG5pbXBvcnQge3BhcnRzLCByZW5kZXIgYXMgbGl0UmVuZGVyfSBmcm9tICcuL3JlbmRlci5qcyc7XG5pbXBvcnQge3RlbXBsYXRlQ2FjaGVzfSBmcm9tICcuL3RlbXBsYXRlLWZhY3RvcnkuanMnO1xuaW1wb3J0IHtUZW1wbGF0ZUluc3RhbmNlfSBmcm9tICcuL3RlbXBsYXRlLWluc3RhbmNlLmpzJztcbmltcG9ydCB7VGVtcGxhdGVSZXN1bHR9IGZyb20gJy4vdGVtcGxhdGUtcmVzdWx0LmpzJztcbmltcG9ydCB7bWFya2VyLCBUZW1wbGF0ZX0gZnJvbSAnLi90ZW1wbGF0ZS5qcyc7XG5cbmV4cG9ydCB7aHRtbCwgc3ZnLCBUZW1wbGF0ZVJlc3VsdH0gZnJvbSAnLi4vbGl0LWh0bWwuanMnO1xuXG4vLyBHZXQgYSBrZXkgdG8gbG9va3VwIGluIGB0ZW1wbGF0ZUNhY2hlc2AuXG5jb25zdCBnZXRUZW1wbGF0ZUNhY2hlS2V5ID0gKHR5cGU6IHN0cmluZywgc2NvcGVOYW1lOiBzdHJpbmcpID0+XG4gICAgYCR7dHlwZX0tLSR7c2NvcGVOYW1lfWA7XG5cbmxldCBjb21wYXRpYmxlU2hhZHlDU1NWZXJzaW9uID0gdHJ1ZTtcblxuaWYgKHR5cGVvZiB3aW5kb3cuU2hhZHlDU1MgPT09ICd1bmRlZmluZWQnKSB7XG4gIGNvbXBhdGlibGVTaGFkeUNTU1ZlcnNpb24gPSBmYWxzZTtcbn0gZWxzZSBpZiAodHlwZW9mIHdpbmRvdy5TaGFkeUNTUy5wcmVwYXJlVGVtcGxhdGVEb20gPT09ICd1bmRlZmluZWQnKSB7XG4gIGNvbnNvbGUud2FybihcbiAgICAgIGBJbmNvbXBhdGlibGUgU2hhZHlDU1MgdmVyc2lvbiBkZXRlY3RlZC4gYCArXG4gICAgICBgUGxlYXNlIHVwZGF0ZSB0byBhdCBsZWFzdCBAd2ViY29tcG9uZW50cy93ZWJjb21wb25lbnRzanNAMi4wLjIgYW5kIGAgK1xuICAgICAgYEB3ZWJjb21wb25lbnRzL3NoYWR5Y3NzQDEuMy4xLmApO1xuICBjb21wYXRpYmxlU2hhZHlDU1NWZXJzaW9uID0gZmFsc2U7XG59XG5cbi8qKlxuICogVGVtcGxhdGUgZmFjdG9yeSB3aGljaCBzY29wZXMgdGVtcGxhdGUgRE9NIHVzaW5nIFNoYWR5Q1NTLlxuICogQHBhcmFtIHNjb3BlTmFtZSB7c3RyaW5nfVxuICovXG5jb25zdCBzaGFkeVRlbXBsYXRlRmFjdG9yeSA9IChzY29wZU5hbWU6IHN0cmluZykgPT5cbiAgICAocmVzdWx0OiBUZW1wbGF0ZVJlc3VsdCkgPT4ge1xuICAgICAgY29uc3QgY2FjaGVLZXkgPSBnZXRUZW1wbGF0ZUNhY2hlS2V5KHJlc3VsdC50eXBlLCBzY29wZU5hbWUpO1xuICAgICAgbGV0IHRlbXBsYXRlQ2FjaGUgPSB0ZW1wbGF0ZUNhY2hlcy5nZXQoY2FjaGVLZXkpO1xuICAgICAgaWYgKHRlbXBsYXRlQ2FjaGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICB0ZW1wbGF0ZUNhY2hlID0ge1xuICAgICAgICAgIHN0cmluZ3NBcnJheTogbmV3IFdlYWtNYXA8VGVtcGxhdGVTdHJpbmdzQXJyYXksIFRlbXBsYXRlPigpLFxuICAgICAgICAgIGtleVN0cmluZzogbmV3IE1hcDxzdHJpbmcsIFRlbXBsYXRlPigpXG4gICAgICAgIH07XG4gICAgICAgIHRlbXBsYXRlQ2FjaGVzLnNldChjYWNoZUtleSwgdGVtcGxhdGVDYWNoZSk7XG4gICAgICB9XG5cbiAgICAgIGxldCB0ZW1wbGF0ZSA9IHRlbXBsYXRlQ2FjaGUuc3RyaW5nc0FycmF5LmdldChyZXN1bHQuc3RyaW5ncyk7XG4gICAgICBpZiAodGVtcGxhdGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gdGVtcGxhdGU7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGtleSA9IHJlc3VsdC5zdHJpbmdzLmpvaW4obWFya2VyKTtcbiAgICAgIHRlbXBsYXRlID0gdGVtcGxhdGVDYWNoZS5rZXlTdHJpbmcuZ2V0KGtleSk7XG4gICAgICBpZiAodGVtcGxhdGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb25zdCBlbGVtZW50ID0gcmVzdWx0LmdldFRlbXBsYXRlRWxlbWVudCgpO1xuICAgICAgICBpZiAoY29tcGF0aWJsZVNoYWR5Q1NTVmVyc2lvbikge1xuICAgICAgICAgIHdpbmRvdy5TaGFkeUNTUyEucHJlcGFyZVRlbXBsYXRlRG9tKGVsZW1lbnQsIHNjb3BlTmFtZSk7XG4gICAgICAgIH1cbiAgICAgICAgdGVtcGxhdGUgPSBuZXcgVGVtcGxhdGUocmVzdWx0LCBlbGVtZW50KTtcbiAgICAgICAgdGVtcGxhdGVDYWNoZS5rZXlTdHJpbmcuc2V0KGtleSwgdGVtcGxhdGUpO1xuICAgICAgfVxuICAgICAgdGVtcGxhdGVDYWNoZS5zdHJpbmdzQXJyYXkuc2V0KHJlc3VsdC5zdHJpbmdzLCB0ZW1wbGF0ZSk7XG4gICAgICByZXR1cm4gdGVtcGxhdGU7XG4gICAgfTtcblxuY29uc3QgVEVNUExBVEVfVFlQRVMgPSBbJ2h0bWwnLCAnc3ZnJ107XG5cbi8qKlxuICogUmVtb3ZlcyBhbGwgc3R5bGUgZWxlbWVudHMgZnJvbSBUZW1wbGF0ZXMgZm9yIHRoZSBnaXZlbiBzY29wZU5hbWUuXG4gKi9cbmNvbnN0IHJlbW92ZVN0eWxlc0Zyb21MaXRUZW1wbGF0ZXMgPSAoc2NvcGVOYW1lOiBzdHJpbmcpID0+IHtcbiAgVEVNUExBVEVfVFlQRVMuZm9yRWFjaCgodHlwZSkgPT4ge1xuICAgIGNvbnN0IHRlbXBsYXRlcyA9IHRlbXBsYXRlQ2FjaGVzLmdldChnZXRUZW1wbGF0ZUNhY2hlS2V5KHR5cGUsIHNjb3BlTmFtZSkpO1xuICAgIGlmICh0ZW1wbGF0ZXMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgdGVtcGxhdGVzLmtleVN0cmluZy5mb3JFYWNoKCh0ZW1wbGF0ZSkgPT4ge1xuICAgICAgICBjb25zdCB7ZWxlbWVudDoge2NvbnRlbnR9fSA9IHRlbXBsYXRlO1xuICAgICAgICAvLyBJRSAxMSBkb2Vzbid0IHN1cHBvcnQgdGhlIGl0ZXJhYmxlIHBhcmFtIFNldCBjb25zdHJ1Y3RvclxuICAgICAgICBjb25zdCBzdHlsZXMgPSBuZXcgU2V0PEVsZW1lbnQ+KCk7XG4gICAgICAgIEFycmF5LmZyb20oY29udGVudC5xdWVyeVNlbGVjdG9yQWxsKCdzdHlsZScpKS5mb3JFYWNoKChzOiBFbGVtZW50KSA9PiB7XG4gICAgICAgICAgc3R5bGVzLmFkZChzKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJlbW92ZU5vZGVzRnJvbVRlbXBsYXRlKHRlbXBsYXRlLCBzdHlsZXMpO1xuICAgICAgfSk7XG4gICAgfVxuICB9KTtcbn07XG5cbmNvbnN0IHNoYWR5UmVuZGVyU2V0ID0gbmV3IFNldDxzdHJpbmc+KCk7XG5cbi8qKlxuICogRm9yIHRoZSBnaXZlbiBzY29wZSBuYW1lLCBlbnN1cmVzIHRoYXQgU2hhZHlDU1Mgc3R5bGUgc2NvcGluZyBpcyBwZXJmb3JtZWQuXG4gKiBUaGlzIGlzIGRvbmUganVzdCBvbmNlIHBlciBzY29wZSBuYW1lIHNvIHRoZSBmcmFnbWVudCBhbmQgdGVtcGxhdGUgY2Fubm90XG4gKiBiZSBtb2RpZmllZC5cbiAqICgxKSBleHRyYWN0cyBzdHlsZXMgZnJvbSB0aGUgcmVuZGVyZWQgZnJhZ21lbnQgYW5kIGhhbmRzIHRoZW0gdG8gU2hhZHlDU1NcbiAqIHRvIGJlIHNjb3BlZCBhbmQgYXBwZW5kZWQgdG8gdGhlIGRvY3VtZW50XG4gKiAoMikgcmVtb3ZlcyBzdHlsZSBlbGVtZW50cyBmcm9tIGFsbCBsaXQtaHRtbCBUZW1wbGF0ZXMgZm9yIHRoaXMgc2NvcGUgbmFtZS5cbiAqXG4gKiBOb3RlLCA8c3R5bGU+IGVsZW1lbnRzIGNhbiBvbmx5IGJlIHBsYWNlZCBpbnRvIHRlbXBsYXRlcyBmb3IgdGhlXG4gKiBpbml0aWFsIHJlbmRlcmluZyBvZiB0aGUgc2NvcGUuIElmIDxzdHlsZT4gZWxlbWVudHMgYXJlIGluY2x1ZGVkIGluIHRlbXBsYXRlc1xuICogZHluYW1pY2FsbHkgcmVuZGVyZWQgdG8gdGhlIHNjb3BlIChhZnRlciB0aGUgZmlyc3Qgc2NvcGUgcmVuZGVyKSwgdGhleSB3aWxsXG4gKiBub3QgYmUgc2NvcGVkIGFuZCB0aGUgPHN0eWxlPiB3aWxsIGJlIGxlZnQgaW4gdGhlIHRlbXBsYXRlIGFuZCByZW5kZXJlZFxuICogb3V0cHV0LlxuICovXG5jb25zdCBwcmVwYXJlVGVtcGxhdGVTdHlsZXMgPVxuICAgIChyZW5kZXJlZERPTTogRG9jdW1lbnRGcmFnbWVudCwgdGVtcGxhdGU6IFRlbXBsYXRlLCBzY29wZU5hbWU6IHN0cmluZykgPT4ge1xuICAgICAgc2hhZHlSZW5kZXJTZXQuYWRkKHNjb3BlTmFtZSk7XG4gICAgICAvLyBNb3ZlIHN0eWxlcyBvdXQgb2YgcmVuZGVyZWQgRE9NIGFuZCBzdG9yZS5cbiAgICAgIGNvbnN0IHN0eWxlcyA9IHJlbmRlcmVkRE9NLnF1ZXJ5U2VsZWN0b3JBbGwoJ3N0eWxlJyk7XG4gICAgICBjb25zdCB7bGVuZ3RofSA9IHN0eWxlcztcbiAgICAgIC8vIElmIHRoZXJlIGFyZSBubyBzdHlsZXMsIHNraXAgdW5uZWNlc3Nhcnkgd29ya1xuICAgICAgaWYgKGxlbmd0aCA9PT0gMCkge1xuICAgICAgICAvLyBFbnN1cmUgcHJlcGFyZVRlbXBsYXRlU3R5bGVzIGlzIGNhbGxlZCB0byBzdXBwb3J0IGFkZGluZ1xuICAgICAgICAvLyBzdHlsZXMgdmlhIGBwcmVwYXJlQWRvcHRlZENzc1RleHRgIHNpbmNlIHRoYXQgcmVxdWlyZXMgdGhhdFxuICAgICAgICAvLyBgcHJlcGFyZVRlbXBsYXRlU3R5bGVzYCBpcyBjYWxsZWQuXG4gICAgICAgIHdpbmRvdy5TaGFkeUNTUyEucHJlcGFyZVRlbXBsYXRlU3R5bGVzKHRlbXBsYXRlLmVsZW1lbnQsIHNjb3BlTmFtZSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGNvbmRlbnNlZFN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcbiAgICAgIC8vIENvbGxlY3Qgc3R5bGVzIGludG8gYSBzaW5nbGUgc3R5bGUuIFRoaXMgaGVscHMgdXMgbWFrZSBzdXJlIFNoYWR5Q1NTXG4gICAgICAvLyBtYW5pcHVsYXRpb25zIHdpbGwgbm90IHByZXZlbnQgdXMgZnJvbSBiZWluZyBhYmxlIHRvIGZpeCB1cCB0ZW1wbGF0ZVxuICAgICAgLy8gcGFydCBpbmRpY2VzLlxuICAgICAgLy8gTk9URTogY29sbGVjdGluZyBzdHlsZXMgaXMgaW5lZmZpY2llbnQgZm9yIGJyb3dzZXJzIGJ1dCBTaGFkeUNTU1xuICAgICAgLy8gY3VycmVudGx5IGRvZXMgdGhpcyBhbnl3YXkuIFdoZW4gaXQgZG9lcyBub3QsIHRoaXMgc2hvdWxkIGJlIGNoYW5nZWQuXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IHN0eWxlID0gc3R5bGVzW2ldO1xuICAgICAgICBzdHlsZS5wYXJlbnROb2RlIS5yZW1vdmVDaGlsZChzdHlsZSk7XG4gICAgICAgIGNvbmRlbnNlZFN0eWxlLnRleHRDb250ZW50ISArPSBzdHlsZS50ZXh0Q29udGVudDtcbiAgICAgIH1cbiAgICAgIC8vIFJlbW92ZSBzdHlsZXMgZnJvbSBuZXN0ZWQgdGVtcGxhdGVzIGluIHRoaXMgc2NvcGUuXG4gICAgICByZW1vdmVTdHlsZXNGcm9tTGl0VGVtcGxhdGVzKHNjb3BlTmFtZSk7XG4gICAgICAvLyBBbmQgdGhlbiBwdXQgdGhlIGNvbmRlbnNlZCBzdHlsZSBpbnRvIHRoZSBcInJvb3RcIiB0ZW1wbGF0ZSBwYXNzZWQgaW4gYXNcbiAgICAgIC8vIGB0ZW1wbGF0ZWAuXG4gICAgICBjb25zdCBjb250ZW50ID0gdGVtcGxhdGUuZWxlbWVudC5jb250ZW50O1xuICAgICAgaW5zZXJ0Tm9kZUludG9UZW1wbGF0ZSh0ZW1wbGF0ZSwgY29uZGVuc2VkU3R5bGUsIGNvbnRlbnQuZmlyc3RDaGlsZCk7XG4gICAgICAvLyBOb3RlLCBpdCdzIGltcG9ydGFudCB0aGF0IFNoYWR5Q1NTIGdldHMgdGhlIHRlbXBsYXRlIHRoYXQgYGxpdC1odG1sYFxuICAgICAgLy8gd2lsbCBhY3R1YWxseSByZW5kZXIgc28gdGhhdCBpdCBjYW4gdXBkYXRlIHRoZSBzdHlsZSBpbnNpZGUgd2hlblxuICAgICAgLy8gbmVlZGVkIChlLmcuIEBhcHBseSBuYXRpdmUgU2hhZG93IERPTSBjYXNlKS5cbiAgICAgIHdpbmRvdy5TaGFkeUNTUyEucHJlcGFyZVRlbXBsYXRlU3R5bGVzKHRlbXBsYXRlLmVsZW1lbnQsIHNjb3BlTmFtZSk7XG4gICAgICBjb25zdCBzdHlsZSA9IGNvbnRlbnQucXVlcnlTZWxlY3Rvcignc3R5bGUnKTtcbiAgICAgIGlmICh3aW5kb3cuU2hhZHlDU1MhLm5hdGl2ZVNoYWRvdyAmJiBzdHlsZSAhPT0gbnVsbCkge1xuICAgICAgICAvLyBXaGVuIGluIG5hdGl2ZSBTaGFkb3cgRE9NLCBlbnN1cmUgdGhlIHN0eWxlIGNyZWF0ZWQgYnkgU2hhZHlDU1MgaXNcbiAgICAgICAgLy8gaW5jbHVkZWQgaW4gaW5pdGlhbGx5IHJlbmRlcmVkIG91dHB1dCAoYHJlbmRlcmVkRE9NYCkuXG4gICAgICAgIHJlbmRlcmVkRE9NLmluc2VydEJlZm9yZShzdHlsZS5jbG9uZU5vZGUodHJ1ZSksIHJlbmRlcmVkRE9NLmZpcnN0Q2hpbGQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gV2hlbiBubyBzdHlsZSBpcyBsZWZ0IGluIHRoZSB0ZW1wbGF0ZSwgcGFydHMgd2lsbCBiZSBicm9rZW4gYXMgYVxuICAgICAgICAvLyByZXN1bHQuIFRvIGZpeCB0aGlzLCB3ZSBwdXQgYmFjayB0aGUgc3R5bGUgbm9kZSBTaGFkeUNTUyByZW1vdmVkXG4gICAgICAgIC8vIGFuZCB0aGVuIHRlbGwgbGl0IHRvIHJlbW92ZSB0aGF0IG5vZGUgZnJvbSB0aGUgdGVtcGxhdGUuXG4gICAgICAgIC8vIFRoZXJlIGNhbiBiZSBubyBzdHlsZSBpbiB0aGUgdGVtcGxhdGUgaW4gMiBjYXNlcyAoMSkgd2hlbiBTaGFkeSBET01cbiAgICAgICAgLy8gaXMgaW4gdXNlLCBTaGFkeUNTUyByZW1vdmVzIGFsbCBzdHlsZXMsICgyKSB3aGVuIG5hdGl2ZSBTaGFkb3cgRE9NXG4gICAgICAgIC8vIGlzIGluIHVzZSBTaGFkeUNTUyByZW1vdmVzIHRoZSBzdHlsZSBpZiBpdCBjb250YWlucyBubyBjb250ZW50LlxuICAgICAgICAvLyBOT1RFLCBTaGFkeUNTUyBjcmVhdGVzIGl0cyBvd24gc3R5bGUgc28gd2UgY2FuIHNhZmVseSBhZGQvcmVtb3ZlXG4gICAgICAgIC8vIGBjb25kZW5zZWRTdHlsZWAgaGVyZS5cbiAgICAgICAgY29udGVudC5pbnNlcnRCZWZvcmUoY29uZGVuc2VkU3R5bGUsIGNvbnRlbnQuZmlyc3RDaGlsZCk7XG4gICAgICAgIGNvbnN0IHJlbW92ZXMgPSBuZXcgU2V0KCk7XG4gICAgICAgIHJlbW92ZXMuYWRkKGNvbmRlbnNlZFN0eWxlKTtcbiAgICAgICAgcmVtb3ZlTm9kZXNGcm9tVGVtcGxhdGUodGVtcGxhdGUsIHJlbW92ZXMpO1xuICAgICAgfVxuICAgIH07XG5cbmV4cG9ydCBpbnRlcmZhY2UgU2hhZHlSZW5kZXJPcHRpb25zIGV4dGVuZHMgUGFydGlhbDxSZW5kZXJPcHRpb25zPiB7XG4gIHNjb3BlTmFtZTogc3RyaW5nO1xufVxuXG4vKipcbiAqIEV4dGVuc2lvbiB0byB0aGUgc3RhbmRhcmQgYHJlbmRlcmAgbWV0aG9kIHdoaWNoIHN1cHBvcnRzIHJlbmRlcmluZ1xuICogdG8gU2hhZG93Um9vdHMgd2hlbiB0aGUgU2hhZHlET00gKGh0dHBzOi8vZ2l0aHViLmNvbS93ZWJjb21wb25lbnRzL3NoYWR5ZG9tKVxuICogYW5kIFNoYWR5Q1NTIChodHRwczovL2dpdGh1Yi5jb20vd2ViY29tcG9uZW50cy9zaGFkeWNzcykgcG9seWZpbGxzIGFyZSB1c2VkXG4gKiBvciB3aGVuIHRoZSB3ZWJjb21wb25lbnRzanNcbiAqIChodHRwczovL2dpdGh1Yi5jb20vd2ViY29tcG9uZW50cy93ZWJjb21wb25lbnRzanMpIHBvbHlmaWxsIGlzIHVzZWQuXG4gKlxuICogQWRkcyBhIGBzY29wZU5hbWVgIG9wdGlvbiB3aGljaCBpcyB1c2VkIHRvIHNjb3BlIGVsZW1lbnQgRE9NIGFuZCBzdHlsZXNoZWV0c1xuICogd2hlbiBuYXRpdmUgU2hhZG93RE9NIGlzIHVuYXZhaWxhYmxlLiBUaGUgYHNjb3BlTmFtZWAgd2lsbCBiZSBhZGRlZCB0b1xuICogdGhlIGNsYXNzIGF0dHJpYnV0ZSBvZiBhbGwgcmVuZGVyZWQgRE9NLiBJbiBhZGRpdGlvbiwgYW55IHN0eWxlIGVsZW1lbnRzIHdpbGxcbiAqIGJlIGF1dG9tYXRpY2FsbHkgcmUtd3JpdHRlbiB3aXRoIHRoaXMgYHNjb3BlTmFtZWAgc2VsZWN0b3IgYW5kIG1vdmVkIG91dFxuICogb2YgdGhlIHJlbmRlcmVkIERPTSBhbmQgaW50byB0aGUgZG9jdW1lbnQgYDxoZWFkPmAuXG4gKlxuICogSXQgaXMgY29tbW9uIHRvIHVzZSB0aGlzIHJlbmRlciBtZXRob2QgaW4gY29uanVuY3Rpb24gd2l0aCBhIGN1c3RvbSBlbGVtZW50XG4gKiB3aGljaCByZW5kZXJzIGEgc2hhZG93Um9vdC4gV2hlbiB0aGlzIGlzIGRvbmUsIHR5cGljYWxseSB0aGUgZWxlbWVudCdzXG4gKiBgbG9jYWxOYW1lYCBzaG91bGQgYmUgdXNlZCBhcyB0aGUgYHNjb3BlTmFtZWAuXG4gKlxuICogSW4gYWRkaXRpb24gdG8gRE9NIHNjb3BpbmcsIFNoYWR5Q1NTIGFsc28gc3VwcG9ydHMgYSBiYXNpYyBzaGltIGZvciBjc3NcbiAqIGN1c3RvbSBwcm9wZXJ0aWVzIChuZWVkZWQgb25seSBvbiBvbGRlciBicm93c2VycyBsaWtlIElFMTEpIGFuZCBhIHNoaW0gZm9yXG4gKiBhIGRlcHJlY2F0ZWQgZmVhdHVyZSBjYWxsZWQgYEBhcHBseWAgdGhhdCBzdXBwb3J0cyBhcHBseWluZyBhIHNldCBvZiBjc3NcbiAqIGN1c3RvbSBwcm9wZXJ0aWVzIHRvIGEgZ2l2ZW4gbG9jYXRpb24uXG4gKlxuICogVXNhZ2UgY29uc2lkZXJhdGlvbnM6XG4gKlxuICogKiBQYXJ0IHZhbHVlcyBpbiBgPHN0eWxlPmAgZWxlbWVudHMgYXJlIG9ubHkgYXBwbGllZCB0aGUgZmlyc3QgdGltZSBhIGdpdmVuXG4gKiBgc2NvcGVOYW1lYCByZW5kZXJzLiBTdWJzZXF1ZW50IGNoYW5nZXMgdG8gcGFydHMgaW4gc3R5bGUgZWxlbWVudHMgd2lsbCBoYXZlXG4gKiBubyBlZmZlY3QuIEJlY2F1c2Ugb2YgdGhpcywgcGFydHMgaW4gc3R5bGUgZWxlbWVudHMgc2hvdWxkIG9ubHkgYmUgdXNlZCBmb3JcbiAqIHZhbHVlcyB0aGF0IHdpbGwgbmV2ZXIgY2hhbmdlLCBmb3IgZXhhbXBsZSBwYXJ0cyB0aGF0IHNldCBzY29wZS13aWRlIHRoZW1lXG4gKiB2YWx1ZXMgb3IgcGFydHMgd2hpY2ggcmVuZGVyIHNoYXJlZCBzdHlsZSBlbGVtZW50cy5cbiAqXG4gKiAqIE5vdGUsIGR1ZSB0byBhIGxpbWl0YXRpb24gb2YgdGhlIFNoYWR5RE9NIHBvbHlmaWxsLCByZW5kZXJpbmcgaW4gYVxuICogY3VzdG9tIGVsZW1lbnQncyBgY29uc3RydWN0b3JgIGlzIG5vdCBzdXBwb3J0ZWQuIEluc3RlYWQgcmVuZGVyaW5nIHNob3VsZFxuICogZWl0aGVyIGRvbmUgYXN5bmNocm9ub3VzbHksIGZvciBleGFtcGxlIGF0IG1pY3JvdGFzayB0aW1pbmcgKGZvciBleGFtcGxlXG4gKiBgUHJvbWlzZS5yZXNvbHZlKClgKSwgb3IgYmUgZGVmZXJyZWQgdW50aWwgdGhlIGZpcnN0IHRpbWUgdGhlIGVsZW1lbnQnc1xuICogYGNvbm5lY3RlZENhbGxiYWNrYCBydW5zLlxuICpcbiAqIFVzYWdlIGNvbnNpZGVyYXRpb25zIHdoZW4gdXNpbmcgc2hpbW1lZCBjdXN0b20gcHJvcGVydGllcyBvciBgQGFwcGx5YDpcbiAqXG4gKiAqIFdoZW5ldmVyIGFueSBkeW5hbWljIGNoYW5nZXMgYXJlIG1hZGUgd2hpY2ggYWZmZWN0XG4gKiBjc3MgY3VzdG9tIHByb3BlcnRpZXMsIGBTaGFkeUNTUy5zdHlsZUVsZW1lbnQoZWxlbWVudClgIG11c3QgYmUgY2FsbGVkXG4gKiB0byB1cGRhdGUgdGhlIGVsZW1lbnQuIFRoZXJlIGFyZSB0d28gY2FzZXMgd2hlbiB0aGlzIGlzIG5lZWRlZDpcbiAqICgxKSB0aGUgZWxlbWVudCBpcyBjb25uZWN0ZWQgdG8gYSBuZXcgcGFyZW50LCAoMikgYSBjbGFzcyBpcyBhZGRlZCB0byB0aGVcbiAqIGVsZW1lbnQgdGhhdCBjYXVzZXMgaXQgdG8gbWF0Y2ggZGlmZmVyZW50IGN1c3RvbSBwcm9wZXJ0aWVzLlxuICogVG8gYWRkcmVzcyB0aGUgZmlyc3QgY2FzZSB3aGVuIHJlbmRlcmluZyBhIGN1c3RvbSBlbGVtZW50LCBgc3R5bGVFbGVtZW50YFxuICogc2hvdWxkIGJlIGNhbGxlZCBpbiB0aGUgZWxlbWVudCdzIGBjb25uZWN0ZWRDYWxsYmFja2AuXG4gKlxuICogKiBTaGltbWVkIGN1c3RvbSBwcm9wZXJ0aWVzIG1heSBvbmx5IGJlIGRlZmluZWQgZWl0aGVyIGZvciBhbiBlbnRpcmVcbiAqIHNoYWRvd1Jvb3QgKGZvciBleGFtcGxlLCBpbiBhIGA6aG9zdGAgcnVsZSkgb3IgdmlhIGEgcnVsZSB0aGF0IGRpcmVjdGx5XG4gKiBtYXRjaGVzIGFuIGVsZW1lbnQgd2l0aCBhIHNoYWRvd1Jvb3QuIEluIG90aGVyIHdvcmRzLCBpbnN0ZWFkIG9mIGZsb3dpbmcgZnJvbVxuICogcGFyZW50IHRvIGNoaWxkIGFzIGRvIG5hdGl2ZSBjc3MgY3VzdG9tIHByb3BlcnRpZXMsIHNoaW1tZWQgY3VzdG9tIHByb3BlcnRpZXNcbiAqIGZsb3cgb25seSBmcm9tIHNoYWRvd1Jvb3RzIHRvIG5lc3RlZCBzaGFkb3dSb290cy5cbiAqXG4gKiAqIFdoZW4gdXNpbmcgYEBhcHBseWAgbWl4aW5nIGNzcyBzaG9ydGhhbmQgcHJvcGVydHkgbmFtZXMgd2l0aFxuICogbm9uLXNob3J0aGFuZCBuYW1lcyAoZm9yIGV4YW1wbGUgYGJvcmRlcmAgYW5kIGBib3JkZXItd2lkdGhgKSBpcyBub3RcbiAqIHN1cHBvcnRlZC5cbiAqL1xuZXhwb3J0IGNvbnN0IHJlbmRlciA9XG4gICAgKHJlc3VsdDogVGVtcGxhdGVSZXN1bHQsXG4gICAgIGNvbnRhaW5lcjogRWxlbWVudHxEb2N1bWVudEZyYWdtZW50fFNoYWRvd1Jvb3QsXG4gICAgIG9wdGlvbnM6IFNoYWR5UmVuZGVyT3B0aW9ucykgPT4ge1xuICAgICAgY29uc3Qgc2NvcGVOYW1lID0gb3B0aW9ucy5zY29wZU5hbWU7XG4gICAgICBjb25zdCBoYXNSZW5kZXJlZCA9IHBhcnRzLmhhcyhjb250YWluZXIpO1xuICAgICAgY29uc3QgbmVlZHNTY29waW5nID0gY29tcGF0aWJsZVNoYWR5Q1NTVmVyc2lvbiAmJlxuICAgICAgICAgIGNvbnRhaW5lci5ub2RlVHlwZSA9PT0gMTEgLyogTm9kZS5ET0NVTUVOVF9GUkFHTUVOVF9OT0RFICovICYmXG4gICAgICAgICAgISEoY29udGFpbmVyIGFzIFNoYWRvd1Jvb3QpLmhvc3QgJiYgcmVzdWx0IGluc3RhbmNlb2YgVGVtcGxhdGVSZXN1bHQ7XG4gICAgICAvLyBIYW5kbGUgZmlyc3QgcmVuZGVyIHRvIGEgc2NvcGUgc3BlY2lhbGx5Li4uXG4gICAgICBjb25zdCBmaXJzdFNjb3BlUmVuZGVyID0gbmVlZHNTY29waW5nICYmICFzaGFkeVJlbmRlclNldC5oYXMoc2NvcGVOYW1lKTtcbiAgICAgIC8vIE9uIGZpcnN0IHNjb3BlIHJlbmRlciwgcmVuZGVyIGludG8gYSBmcmFnbWVudDsgdGhpcyBjYW5ub3QgYmUgYSBzaW5nbGVcbiAgICAgIC8vIGZyYWdtZW50IHRoYXQgaXMgcmV1c2VkIHNpbmNlIG5lc3RlZCByZW5kZXJzIGNhbiBvY2N1ciBzeW5jaHJvbm91c2x5LlxuICAgICAgY29uc3QgcmVuZGVyQ29udGFpbmVyID1cbiAgICAgICAgICBmaXJzdFNjb3BlUmVuZGVyID8gZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpIDogY29udGFpbmVyO1xuICAgICAgbGl0UmVuZGVyKFxuICAgICAgICAgIHJlc3VsdCxcbiAgICAgICAgICByZW5kZXJDb250YWluZXIsXG4gICAgICAgICAge3RlbXBsYXRlRmFjdG9yeTogc2hhZHlUZW1wbGF0ZUZhY3Rvcnkoc2NvcGVOYW1lKSwgLi4ub3B0aW9uc30gYXNcbiAgICAgICAgICAgICAgUmVuZGVyT3B0aW9ucyk7XG4gICAgICAvLyBXaGVuIHBlcmZvcm1pbmcgZmlyc3Qgc2NvcGUgcmVuZGVyLFxuICAgICAgLy8gKDEpIFdlJ3ZlIHJlbmRlcmVkIGludG8gYSBmcmFnbWVudCBzbyB0aGF0IHRoZXJlJ3MgYSBjaGFuY2UgdG9cbiAgICAgIC8vIGBwcmVwYXJlVGVtcGxhdGVTdHlsZXNgIGJlZm9yZSBzdWItZWxlbWVudHMgaGl0IHRoZSBET01cbiAgICAgIC8vICh3aGljaCBtaWdodCBjYXVzZSB0aGVtIHRvIHJlbmRlciBiYXNlZCBvbiBhIGNvbW1vbiBwYXR0ZXJuIG9mXG4gICAgICAvLyByZW5kZXJpbmcgaW4gYSBjdXN0b20gZWxlbWVudCdzIGBjb25uZWN0ZWRDYWxsYmFja2ApO1xuICAgICAgLy8gKDIpIFNjb3BlIHRoZSB0ZW1wbGF0ZSB3aXRoIFNoYWR5Q1NTIG9uZSB0aW1lIG9ubHkgZm9yIHRoaXMgc2NvcGUuXG4gICAgICAvLyAoMykgUmVuZGVyIHRoZSBmcmFnbWVudCBpbnRvIHRoZSBjb250YWluZXIgYW5kIG1ha2Ugc3VyZSB0aGVcbiAgICAgIC8vIGNvbnRhaW5lciBrbm93cyBpdHMgYHBhcnRgIGlzIHRoZSBvbmUgd2UganVzdCByZW5kZXJlZC4gVGhpcyBlbnN1cmVzXG4gICAgICAvLyBET00gd2lsbCBiZSByZS11c2VkIG9uIHN1YnNlcXVlbnQgcmVuZGVycy5cbiAgICAgIGlmIChmaXJzdFNjb3BlUmVuZGVyKSB7XG4gICAgICAgIGNvbnN0IHBhcnQgPSBwYXJ0cy5nZXQocmVuZGVyQ29udGFpbmVyKSE7XG4gICAgICAgIHBhcnRzLmRlbGV0ZShyZW5kZXJDb250YWluZXIpO1xuICAgICAgICBpZiAocGFydC52YWx1ZSBpbnN0YW5jZW9mIFRlbXBsYXRlSW5zdGFuY2UpIHtcbiAgICAgICAgICBwcmVwYXJlVGVtcGxhdGVTdHlsZXMoXG4gICAgICAgICAgICAgIHJlbmRlckNvbnRhaW5lciBhcyBEb2N1bWVudEZyYWdtZW50LFxuICAgICAgICAgICAgICBwYXJ0LnZhbHVlLnRlbXBsYXRlLFxuICAgICAgICAgICAgICBzY29wZU5hbWUpO1xuICAgICAgICB9XG4gICAgICAgIHJlbW92ZU5vZGVzKGNvbnRhaW5lciwgY29udGFpbmVyLmZpcnN0Q2hpbGQpO1xuICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQocmVuZGVyQ29udGFpbmVyKTtcbiAgICAgICAgcGFydHMuc2V0KGNvbnRhaW5lciwgcGFydCk7XG4gICAgICB9XG4gICAgICAvLyBBZnRlciBlbGVtZW50cyBoYXZlIGhpdCB0aGUgRE9NLCB1cGRhdGUgc3R5bGluZyBpZiB0aGlzIGlzIHRoZVxuICAgICAgLy8gaW5pdGlhbCByZW5kZXIgdG8gdGhpcyBjb250YWluZXIuXG4gICAgICAvLyBUaGlzIGlzIG5lZWRlZCB3aGVuZXZlciBkeW5hbWljIGNoYW5nZXMgYXJlIG1hZGUgc28gaXQgd291bGQgYmVcbiAgICAgIC8vIHNhZmVzdCB0byBkbyBldmVyeSByZW5kZXI7IGhvd2V2ZXIsIHRoaXMgd291bGQgcmVncmVzcyBwZXJmb3JtYW5jZVxuICAgICAgLy8gc28gd2UgbGVhdmUgaXQgdXAgdG8gdGhlIHVzZXIgdG8gY2FsbCBgU2hhZHlDU1NTLnN0eWxlRWxlbWVudGBcbiAgICAgIC8vIGZvciBkeW5hbWljIGNoYW5nZXMuXG4gICAgICBpZiAoIWhhc1JlbmRlcmVkICYmIG5lZWRzU2NvcGluZykge1xuICAgICAgICB3aW5kb3cuU2hhZHlDU1MhLnN0eWxlRWxlbWVudCgoY29udGFpbmVyIGFzIFNoYWRvd1Jvb3QpLmhvc3QpO1xuICAgICAgfVxuICAgIH07XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTcgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuICogQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbiAqIHN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuICovXG5cbi8qKlxuICogV2hlbiB1c2luZyBDbG9zdXJlIENvbXBpbGVyLCBKU0NvbXBpbGVyX3JlbmFtZVByb3BlcnR5KHByb3BlcnR5LCBvYmplY3QpIGlzXG4gKiByZXBsYWNlZCBhdCBjb21waWxlIHRpbWUgYnkgdGhlIG11bmdlZCBuYW1lIGZvciBvYmplY3RbcHJvcGVydHldLiBXZSBjYW5ub3RcbiAqIGFsaWFzIHRoaXMgZnVuY3Rpb24sIHNvIHdlIGhhdmUgdG8gdXNlIGEgc21hbGwgc2hpbSB0aGF0IGhhcyB0aGUgc2FtZVxuICogYmVoYXZpb3Igd2hlbiBub3QgY29tcGlsaW5nLlxuICovXG53aW5kb3cuSlNDb21waWxlcl9yZW5hbWVQcm9wZXJ0eSA9XG4gICAgPFAgZXh0ZW5kcyBQcm9wZXJ0eUtleT4ocHJvcDogUCwgX29iajogdW5rbm93bik6IFAgPT4gcHJvcDtcblxuZGVjbGFyZSBnbG9iYWwge1xuICB2YXIgSlNDb21waWxlcl9yZW5hbWVQcm9wZXJ0eTogPFAgZXh0ZW5kcyBQcm9wZXJ0eUtleT4oXG4gICAgICBwcm9wOiBQLCBfb2JqOiB1bmtub3duKSA9PiBQO1xuXG4gIGludGVyZmFjZSBXaW5kb3cge1xuICAgIEpTQ29tcGlsZXJfcmVuYW1lUHJvcGVydHk6IHR5cGVvZiBKU0NvbXBpbGVyX3JlbmFtZVByb3BlcnR5O1xuICB9XG59XG5cbi8qKlxuICogQ29udmVydHMgcHJvcGVydHkgdmFsdWVzIHRvIGFuZCBmcm9tIGF0dHJpYnV0ZSB2YWx1ZXMuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ29tcGxleEF0dHJpYnV0ZUNvbnZlcnRlcjxUeXBlID0gdW5rbm93biwgVHlwZUhpbnQgPSB1bmtub3duPiB7XG4gIC8qKlxuICAgKiBGdW5jdGlvbiBjYWxsZWQgdG8gY29udmVydCBhbiBhdHRyaWJ1dGUgdmFsdWUgdG8gYSBwcm9wZXJ0eVxuICAgKiB2YWx1ZS5cbiAgICovXG4gIGZyb21BdHRyaWJ1dGU/KHZhbHVlOiBzdHJpbmd8bnVsbCwgdHlwZT86IFR5cGVIaW50KTogVHlwZTtcblxuICAvKipcbiAgICogRnVuY3Rpb24gY2FsbGVkIHRvIGNvbnZlcnQgYSBwcm9wZXJ0eSB2YWx1ZSB0byBhbiBhdHRyaWJ1dGVcbiAgICogdmFsdWUuXG4gICAqXG4gICAqIEl0IHJldHVybnMgdW5rbm93biBpbnN0ZWFkIG9mIHN0cmluZywgdG8gYmUgY29tcGF0aWJsZSB3aXRoXG4gICAqIGh0dHBzOi8vZ2l0aHViLmNvbS9XSUNHL3RydXN0ZWQtdHlwZXMgKGFuZCBzaW1pbGFyIGVmZm9ydHMpLlxuICAgKi9cbiAgdG9BdHRyaWJ1dGU/KHZhbHVlOiBUeXBlLCB0eXBlPzogVHlwZUhpbnQpOiB1bmtub3duO1xufVxuXG50eXBlIEF0dHJpYnV0ZUNvbnZlcnRlcjxUeXBlID0gdW5rbm93biwgVHlwZUhpbnQgPSB1bmtub3duPiA9XG4gICAgQ29tcGxleEF0dHJpYnV0ZUNvbnZlcnRlcjxUeXBlPnwoKHZhbHVlOiBzdHJpbmcsIHR5cGU/OiBUeXBlSGludCkgPT4gVHlwZSk7XG5cbi8qKlxuICogRGVmaW5lcyBvcHRpb25zIGZvciBhIHByb3BlcnR5IGFjY2Vzc29yLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFByb3BlcnR5RGVjbGFyYXRpb248VHlwZSA9IHVua25vd24sIFR5cGVIaW50ID0gdW5rbm93bj4ge1xuICAvKipcbiAgICogSW5kaWNhdGVzIGhvdyBhbmQgd2hldGhlciB0aGUgcHJvcGVydHkgYmVjb21lcyBhbiBvYnNlcnZlZCBhdHRyaWJ1dGUuXG4gICAqIElmIHRoZSB2YWx1ZSBpcyBgZmFsc2VgLCB0aGUgcHJvcGVydHkgaXMgbm90IGFkZGVkIHRvIGBvYnNlcnZlZEF0dHJpYnV0ZXNgLlxuICAgKiBJZiB0cnVlIG9yIGFic2VudCwgdGhlIGxvd2VyY2FzZWQgcHJvcGVydHkgbmFtZSBpcyBvYnNlcnZlZCAoZS5nLiBgZm9vQmFyYFxuICAgKiBiZWNvbWVzIGBmb29iYXJgKS4gSWYgYSBzdHJpbmcsIHRoZSBzdHJpbmcgdmFsdWUgaXMgb2JzZXJ2ZWQgKGUuZ1xuICAgKiBgYXR0cmlidXRlOiAnZm9vLWJhcidgKS5cbiAgICovXG4gIHJlYWRvbmx5IGF0dHJpYnV0ZT86IGJvb2xlYW58c3RyaW5nO1xuXG4gIC8qKlxuICAgKiBJbmRpY2F0ZXMgdGhlIHR5cGUgb2YgdGhlIHByb3BlcnR5LiBUaGlzIGlzIHVzZWQgb25seSBhcyBhIGhpbnQgZm9yIHRoZVxuICAgKiBgY29udmVydGVyYCB0byBkZXRlcm1pbmUgaG93IHRvIGNvbnZlcnQgdGhlIGF0dHJpYnV0ZVxuICAgKiB0by9mcm9tIGEgcHJvcGVydHkuXG4gICAqL1xuICByZWFkb25seSB0eXBlPzogVHlwZUhpbnQ7XG5cbiAgLyoqXG4gICAqIEluZGljYXRlcyBob3cgdG8gY29udmVydCB0aGUgYXR0cmlidXRlIHRvL2Zyb20gYSBwcm9wZXJ0eS4gSWYgdGhpcyB2YWx1ZVxuICAgKiBpcyBhIGZ1bmN0aW9uLCBpdCBpcyB1c2VkIHRvIGNvbnZlcnQgdGhlIGF0dHJpYnV0ZSB2YWx1ZSBhIHRoZSBwcm9wZXJ0eVxuICAgKiB2YWx1ZS4gSWYgaXQncyBhbiBvYmplY3QsIGl0IGNhbiBoYXZlIGtleXMgZm9yIGBmcm9tQXR0cmlidXRlYCBhbmRcbiAgICogYHRvQXR0cmlidXRlYC4gSWYgbm8gYHRvQXR0cmlidXRlYCBmdW5jdGlvbiBpcyBwcm92aWRlZCBhbmRcbiAgICogYHJlZmxlY3RgIGlzIHNldCB0byBgdHJ1ZWAsIHRoZSBwcm9wZXJ0eSB2YWx1ZSBpcyBzZXQgZGlyZWN0bHkgdG8gdGhlXG4gICAqIGF0dHJpYnV0ZS4gQSBkZWZhdWx0IGBjb252ZXJ0ZXJgIGlzIHVzZWQgaWYgbm9uZSBpcyBwcm92aWRlZDsgaXQgc3VwcG9ydHNcbiAgICogYEJvb2xlYW5gLCBgU3RyaW5nYCwgYE51bWJlcmAsIGBPYmplY3RgLCBhbmQgYEFycmF5YC4gTm90ZSxcbiAgICogd2hlbiBhIHByb3BlcnR5IGNoYW5nZXMgYW5kIHRoZSBjb252ZXJ0ZXIgaXMgdXNlZCB0byB1cGRhdGUgdGhlIGF0dHJpYnV0ZSxcbiAgICogdGhlIHByb3BlcnR5IGlzIG5ldmVyIHVwZGF0ZWQgYWdhaW4gYXMgYSByZXN1bHQgb2YgdGhlIGF0dHJpYnV0ZSBjaGFuZ2luZyxcbiAgICogYW5kIHZpY2UgdmVyc2EuXG4gICAqL1xuICByZWFkb25seSBjb252ZXJ0ZXI/OiBBdHRyaWJ1dGVDb252ZXJ0ZXI8VHlwZSwgVHlwZUhpbnQ+O1xuXG4gIC8qKlxuICAgKiBJbmRpY2F0ZXMgaWYgdGhlIHByb3BlcnR5IHNob3VsZCByZWZsZWN0IHRvIGFuIGF0dHJpYnV0ZS5cbiAgICogSWYgYHRydWVgLCB3aGVuIHRoZSBwcm9wZXJ0eSBpcyBzZXQsIHRoZSBhdHRyaWJ1dGUgaXMgc2V0IHVzaW5nIHRoZVxuICAgKiBhdHRyaWJ1dGUgbmFtZSBkZXRlcm1pbmVkIGFjY29yZGluZyB0byB0aGUgcnVsZXMgZm9yIHRoZSBgYXR0cmlidXRlYFxuICAgKiBwcm9wZXJ0eSBvcHRpb24gYW5kIHRoZSB2YWx1ZSBvZiB0aGUgcHJvcGVydHkgY29udmVydGVkIHVzaW5nIHRoZSBydWxlc1xuICAgKiBmcm9tIHRoZSBgY29udmVydGVyYCBwcm9wZXJ0eSBvcHRpb24uXG4gICAqL1xuICByZWFkb25seSByZWZsZWN0PzogYm9vbGVhbjtcblxuICAvKipcbiAgICogQSBmdW5jdGlvbiB0aGF0IGluZGljYXRlcyBpZiBhIHByb3BlcnR5IHNob3VsZCBiZSBjb25zaWRlcmVkIGNoYW5nZWQgd2hlblxuICAgKiBpdCBpcyBzZXQuIFRoZSBmdW5jdGlvbiBzaG91bGQgdGFrZSB0aGUgYG5ld1ZhbHVlYCBhbmQgYG9sZFZhbHVlYCBhbmRcbiAgICogcmV0dXJuIGB0cnVlYCBpZiBhbiB1cGRhdGUgc2hvdWxkIGJlIHJlcXVlc3RlZC5cbiAgICovXG4gIGhhc0NoYW5nZWQ/KHZhbHVlOiBUeXBlLCBvbGRWYWx1ZTogVHlwZSk6IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIEluZGljYXRlcyB3aGV0aGVyIGFuIGFjY2Vzc29yIHdpbGwgYmUgY3JlYXRlZCBmb3IgdGhpcyBwcm9wZXJ0eS4gQnlcbiAgICogZGVmYXVsdCwgYW4gYWNjZXNzb3Igd2lsbCBiZSBnZW5lcmF0ZWQgZm9yIHRoaXMgcHJvcGVydHkgdGhhdCByZXF1ZXN0cyBhblxuICAgKiB1cGRhdGUgd2hlbiBzZXQuIElmIHRoaXMgZmxhZyBpcyBgdHJ1ZWAsIG5vIGFjY2Vzc29yIHdpbGwgYmUgY3JlYXRlZCwgYW5kXG4gICAqIGl0IHdpbGwgYmUgdGhlIHVzZXIncyByZXNwb25zaWJpbGl0eSB0byBjYWxsXG4gICAqIGB0aGlzLnJlcXVlc3RVcGRhdGUocHJvcGVydHlOYW1lLCBvbGRWYWx1ZSlgIHRvIHJlcXVlc3QgYW4gdXBkYXRlIHdoZW5cbiAgICogdGhlIHByb3BlcnR5IGNoYW5nZXMuXG4gICAqL1xuICByZWFkb25seSBub0FjY2Vzc29yPzogYm9vbGVhbjtcbn1cblxuLyoqXG4gKiBNYXAgb2YgcHJvcGVydGllcyB0byBQcm9wZXJ0eURlY2xhcmF0aW9uIG9wdGlvbnMuIEZvciBlYWNoIHByb3BlcnR5IGFuXG4gKiBhY2Nlc3NvciBpcyBtYWRlLCBhbmQgdGhlIHByb3BlcnR5IGlzIHByb2Nlc3NlZCBhY2NvcmRpbmcgdG8gdGhlXG4gKiBQcm9wZXJ0eURlY2xhcmF0aW9uIG9wdGlvbnMuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUHJvcGVydHlEZWNsYXJhdGlvbnMge1xuICByZWFkb25seSBba2V5OiBzdHJpbmddOiBQcm9wZXJ0eURlY2xhcmF0aW9uO1xufVxuXG50eXBlIFByb3BlcnR5RGVjbGFyYXRpb25NYXAgPSBNYXA8UHJvcGVydHlLZXksIFByb3BlcnR5RGVjbGFyYXRpb24+O1xuXG50eXBlIEF0dHJpYnV0ZU1hcCA9IE1hcDxzdHJpbmcsIFByb3BlcnR5S2V5PjtcblxuZXhwb3J0IHR5cGUgUHJvcGVydHlWYWx1ZXMgPSBNYXA8UHJvcGVydHlLZXksIHVua25vd24+O1xuXG5leHBvcnQgY29uc3QgZGVmYXVsdENvbnZlcnRlcjogQ29tcGxleEF0dHJpYnV0ZUNvbnZlcnRlciA9IHtcblxuICB0b0F0dHJpYnV0ZSh2YWx1ZTogdW5rbm93biwgdHlwZT86IHVua25vd24pOiB1bmtub3duIHtcbiAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgIGNhc2UgQm9vbGVhbjpcbiAgICAgICAgcmV0dXJuIHZhbHVlID8gJycgOiBudWxsO1xuICAgICAgY2FzZSBPYmplY3Q6XG4gICAgICBjYXNlIEFycmF5OlxuICAgICAgICAvLyBpZiB0aGUgdmFsdWUgaXMgYG51bGxgIG9yIGB1bmRlZmluZWRgIHBhc3MgdGhpcyB0aHJvdWdoXG4gICAgICAgIC8vIHRvIGFsbG93IHJlbW92aW5nL25vIGNoYW5nZSBiZWhhdmlvci5cbiAgICAgICAgcmV0dXJuIHZhbHVlID09IG51bGwgPyB2YWx1ZSA6IEpTT04uc3RyaW5naWZ5KHZhbHVlKTtcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9LFxuXG4gIGZyb21BdHRyaWJ1dGUodmFsdWU6IHN0cmluZ3xudWxsLCB0eXBlPzogdW5rbm93bikge1xuICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgY2FzZSBCb29sZWFuOlxuICAgICAgICByZXR1cm4gdmFsdWUgIT09IG51bGw7XG4gICAgICBjYXNlIE51bWJlcjpcbiAgICAgICAgcmV0dXJuIHZhbHVlID09PSBudWxsID8gbnVsbCA6IE51bWJlcih2YWx1ZSk7XG4gICAgICBjYXNlIE9iamVjdDpcbiAgICAgIGNhc2UgQXJyYXk6XG4gICAgICAgIHJldHVybiBKU09OLnBhcnNlKHZhbHVlISk7XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuXG59O1xuXG5leHBvcnQgaW50ZXJmYWNlIEhhc0NoYW5nZWQge1xuICAodmFsdWU6IHVua25vd24sIG9sZDogdW5rbm93bik6IGJvb2xlYW47XG59XG5cbi8qKlxuICogQ2hhbmdlIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyB0cnVlIGlmIGB2YWx1ZWAgaXMgZGlmZmVyZW50IGZyb20gYG9sZFZhbHVlYC5cbiAqIFRoaXMgbWV0aG9kIGlzIHVzZWQgYXMgdGhlIGRlZmF1bHQgZm9yIGEgcHJvcGVydHkncyBgaGFzQ2hhbmdlZGAgZnVuY3Rpb24uXG4gKi9cbmV4cG9ydCBjb25zdCBub3RFcXVhbDogSGFzQ2hhbmdlZCA9ICh2YWx1ZTogdW5rbm93biwgb2xkOiB1bmtub3duKTogYm9vbGVhbiA9PiB7XG4gIC8vIFRoaXMgZW5zdXJlcyAob2xkPT1OYU4sIHZhbHVlPT1OYU4pIGFsd2F5cyByZXR1cm5zIGZhbHNlXG4gIHJldHVybiBvbGQgIT09IHZhbHVlICYmIChvbGQgPT09IG9sZCB8fCB2YWx1ZSA9PT0gdmFsdWUpO1xufTtcblxuY29uc3QgZGVmYXVsdFByb3BlcnR5RGVjbGFyYXRpb246IFByb3BlcnR5RGVjbGFyYXRpb24gPSB7XG4gIGF0dHJpYnV0ZTogdHJ1ZSxcbiAgdHlwZTogU3RyaW5nLFxuICBjb252ZXJ0ZXI6IGRlZmF1bHRDb252ZXJ0ZXIsXG4gIHJlZmxlY3Q6IGZhbHNlLFxuICBoYXNDaGFuZ2VkOiBub3RFcXVhbFxufTtcblxuY29uc3QgbWljcm90YXNrUHJvbWlzZSA9IFByb21pc2UucmVzb2x2ZSh0cnVlKTtcblxuY29uc3QgU1RBVEVfSEFTX1VQREFURUQgPSAxO1xuY29uc3QgU1RBVEVfVVBEQVRFX1JFUVVFU1RFRCA9IDEgPDwgMjtcbmNvbnN0IFNUQVRFX0lTX1JFRkxFQ1RJTkdfVE9fQVRUUklCVVRFID0gMSA8PCAzO1xuY29uc3QgU1RBVEVfSVNfUkVGTEVDVElOR19UT19QUk9QRVJUWSA9IDEgPDwgNDtcbmNvbnN0IFNUQVRFX0hBU19DT05ORUNURUQgPSAxIDw8IDU7XG50eXBlIFVwZGF0ZVN0YXRlID0gdHlwZW9mIFNUQVRFX0hBU19VUERBVEVEfHR5cGVvZiBTVEFURV9VUERBVEVfUkVRVUVTVEVEfFxuICAgIHR5cGVvZiBTVEFURV9JU19SRUZMRUNUSU5HX1RPX0FUVFJJQlVURXxcbiAgICB0eXBlb2YgU1RBVEVfSVNfUkVGTEVDVElOR19UT19QUk9QRVJUWXx0eXBlb2YgU1RBVEVfSEFTX0NPTk5FQ1RFRDtcblxuLyoqXG4gKiBCYXNlIGVsZW1lbnQgY2xhc3Mgd2hpY2ggbWFuYWdlcyBlbGVtZW50IHByb3BlcnRpZXMgYW5kIGF0dHJpYnV0ZXMuIFdoZW5cbiAqIHByb3BlcnRpZXMgY2hhbmdlLCB0aGUgYHVwZGF0ZWAgbWV0aG9kIGlzIGFzeW5jaHJvbm91c2x5IGNhbGxlZC4gVGhpcyBtZXRob2RcbiAqIHNob3VsZCBiZSBzdXBwbGllZCBieSBzdWJjbGFzc2VycyB0byByZW5kZXIgdXBkYXRlcyBhcyBkZXNpcmVkLlxuICovXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgVXBkYXRpbmdFbGVtZW50IGV4dGVuZHMgSFRNTEVsZW1lbnQge1xuICAvKlxuICAgKiBEdWUgdG8gY2xvc3VyZSBjb21waWxlciBFUzYgY29tcGlsYXRpb24gYnVncywgQG5vY29sbGFwc2UgaXMgcmVxdWlyZWQgb25cbiAgICogYWxsIHN0YXRpYyBtZXRob2RzIGFuZCBwcm9wZXJ0aWVzIHdpdGggaW5pdGlhbGl6ZXJzLiAgUmVmZXJlbmNlOlxuICAgKiAtIGh0dHBzOi8vZ2l0aHViLmNvbS9nb29nbGUvY2xvc3VyZS1jb21waWxlci9pc3N1ZXMvMTc3NlxuICAgKi9cblxuICAvKipcbiAgICogTWFwcyBhdHRyaWJ1dGUgbmFtZXMgdG8gcHJvcGVydGllczsgZm9yIGV4YW1wbGUgYGZvb2JhcmAgYXR0cmlidXRlIHRvXG4gICAqIGBmb29CYXJgIHByb3BlcnR5LiBDcmVhdGVkIGxhemlseSBvbiB1c2VyIHN1YmNsYXNzZXMgd2hlbiBmaW5hbGl6aW5nIHRoZVxuICAgKiBjbGFzcy5cbiAgICovXG4gIHByaXZhdGUgc3RhdGljIF9hdHRyaWJ1dGVUb1Byb3BlcnR5TWFwOiBBdHRyaWJ1dGVNYXA7XG5cbiAgLyoqXG4gICAqIE1hcmtzIGNsYXNzIGFzIGhhdmluZyBmaW5pc2hlZCBjcmVhdGluZyBwcm9wZXJ0aWVzLlxuICAgKi9cbiAgcHJvdGVjdGVkIHN0YXRpYyBmaW5hbGl6ZWQgPSB0cnVlO1xuXG4gIC8qKlxuICAgKiBNZW1vaXplZCBsaXN0IG9mIGFsbCBjbGFzcyBwcm9wZXJ0aWVzLCBpbmNsdWRpbmcgYW55IHN1cGVyY2xhc3MgcHJvcGVydGllcy5cbiAgICogQ3JlYXRlZCBsYXppbHkgb24gdXNlciBzdWJjbGFzc2VzIHdoZW4gZmluYWxpemluZyB0aGUgY2xhc3MuXG4gICAqL1xuICBwcml2YXRlIHN0YXRpYyBfY2xhc3NQcm9wZXJ0aWVzPzogUHJvcGVydHlEZWNsYXJhdGlvbk1hcDtcblxuICAvKipcbiAgICogVXNlci1zdXBwbGllZCBvYmplY3QgdGhhdCBtYXBzIHByb3BlcnR5IG5hbWVzIHRvIGBQcm9wZXJ0eURlY2xhcmF0aW9uYFxuICAgKiBvYmplY3RzIGNvbnRhaW5pbmcgb3B0aW9ucyBmb3IgY29uZmlndXJpbmcgdGhlIHByb3BlcnR5LlxuICAgKi9cbiAgc3RhdGljIHByb3BlcnRpZXM6IFByb3BlcnR5RGVjbGFyYXRpb25zO1xuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgbGlzdCBvZiBhdHRyaWJ1dGVzIGNvcnJlc3BvbmRpbmcgdG8gdGhlIHJlZ2lzdGVyZWQgcHJvcGVydGllcy5cbiAgICogQG5vY29sbGFwc2VcbiAgICovXG4gIHN0YXRpYyBnZXQgb2JzZXJ2ZWRBdHRyaWJ1dGVzKCkge1xuICAgIC8vIG5vdGU6IHBpZ2d5IGJhY2tpbmcgb24gdGhpcyB0byBlbnN1cmUgd2UncmUgZmluYWxpemVkLlxuICAgIHRoaXMuZmluYWxpemUoKTtcbiAgICBjb25zdCBhdHRyaWJ1dGVzOiBzdHJpbmdbXSA9IFtdO1xuICAgIC8vIFVzZSBmb3JFYWNoIHNvIHRoaXMgd29ya3MgZXZlbiBpZiBmb3Ivb2YgbG9vcHMgYXJlIGNvbXBpbGVkIHRvIGZvciBsb29wc1xuICAgIC8vIGV4cGVjdGluZyBhcnJheXNcbiAgICB0aGlzLl9jbGFzc1Byb3BlcnRpZXMhLmZvckVhY2goKHYsIHApID0+IHtcbiAgICAgIGNvbnN0IGF0dHIgPSB0aGlzLl9hdHRyaWJ1dGVOYW1lRm9yUHJvcGVydHkocCwgdik7XG4gICAgICBpZiAoYXR0ciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRoaXMuX2F0dHJpYnV0ZVRvUHJvcGVydHlNYXAuc2V0KGF0dHIsIHApO1xuICAgICAgICBhdHRyaWJ1dGVzLnB1c2goYXR0cik7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIGF0dHJpYnV0ZXM7XG4gIH1cblxuICAvKipcbiAgICogRW5zdXJlcyB0aGUgcHJpdmF0ZSBgX2NsYXNzUHJvcGVydGllc2AgcHJvcGVydHkgbWV0YWRhdGEgaXMgY3JlYXRlZC5cbiAgICogSW4gYWRkaXRpb24gdG8gYGZpbmFsaXplYCB0aGlzIGlzIGFsc28gY2FsbGVkIGluIGBjcmVhdGVQcm9wZXJ0eWAgdG9cbiAgICogZW5zdXJlIHRoZSBgQHByb3BlcnR5YCBkZWNvcmF0b3IgY2FuIGFkZCBwcm9wZXJ0eSBtZXRhZGF0YS5cbiAgICovXG4gIC8qKiBAbm9jb2xsYXBzZSAqL1xuICBwcml2YXRlIHN0YXRpYyBfZW5zdXJlQ2xhc3NQcm9wZXJ0aWVzKCkge1xuICAgIC8vIGVuc3VyZSBwcml2YXRlIHN0b3JhZ2UgZm9yIHByb3BlcnR5IGRlY2xhcmF0aW9ucy5cbiAgICBpZiAoIXRoaXMuaGFzT3duUHJvcGVydHkoXG4gICAgICAgICAgICBKU0NvbXBpbGVyX3JlbmFtZVByb3BlcnR5KCdfY2xhc3NQcm9wZXJ0aWVzJywgdGhpcykpKSB7XG4gICAgICB0aGlzLl9jbGFzc1Byb3BlcnRpZXMgPSBuZXcgTWFwKCk7XG4gICAgICAvLyBOT1RFOiBXb3JrYXJvdW5kIElFMTEgbm90IHN1cHBvcnRpbmcgTWFwIGNvbnN0cnVjdG9yIGFyZ3VtZW50LlxuICAgICAgY29uc3Qgc3VwZXJQcm9wZXJ0aWVzOiBQcm9wZXJ0eURlY2xhcmF0aW9uTWFwID1cbiAgICAgICAgICBPYmplY3QuZ2V0UHJvdG90eXBlT2YodGhpcykuX2NsYXNzUHJvcGVydGllcztcbiAgICAgIGlmIChzdXBlclByb3BlcnRpZXMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBzdXBlclByb3BlcnRpZXMuZm9yRWFjaChcbiAgICAgICAgICAgICh2OiBQcm9wZXJ0eURlY2xhcmF0aW9uLCBrOiBQcm9wZXJ0eUtleSkgPT5cbiAgICAgICAgICAgICAgICB0aGlzLl9jbGFzc1Byb3BlcnRpZXMhLnNldChrLCB2KSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBwcm9wZXJ0eSBhY2Nlc3NvciBvbiB0aGUgZWxlbWVudCBwcm90b3R5cGUgaWYgb25lIGRvZXMgbm90IGV4aXN0LlxuICAgKiBUaGUgcHJvcGVydHkgc2V0dGVyIGNhbGxzIHRoZSBwcm9wZXJ0eSdzIGBoYXNDaGFuZ2VkYCBwcm9wZXJ0eSBvcHRpb25cbiAgICogb3IgdXNlcyBhIHN0cmljdCBpZGVudGl0eSBjaGVjayB0byBkZXRlcm1pbmUgd2hldGhlciBvciBub3QgdG8gcmVxdWVzdFxuICAgKiBhbiB1cGRhdGUuXG4gICAqIEBub2NvbGxhcHNlXG4gICAqL1xuICBzdGF0aWMgY3JlYXRlUHJvcGVydHkoXG4gICAgICBuYW1lOiBQcm9wZXJ0eUtleSxcbiAgICAgIG9wdGlvbnM6IFByb3BlcnR5RGVjbGFyYXRpb24gPSBkZWZhdWx0UHJvcGVydHlEZWNsYXJhdGlvbikge1xuICAgIC8vIE5vdGUsIHNpbmNlIHRoaXMgY2FuIGJlIGNhbGxlZCBieSB0aGUgYEBwcm9wZXJ0eWAgZGVjb3JhdG9yIHdoaWNoXG4gICAgLy8gaXMgY2FsbGVkIGJlZm9yZSBgZmluYWxpemVgLCB3ZSBlbnN1cmUgc3RvcmFnZSBleGlzdHMgZm9yIHByb3BlcnR5XG4gICAgLy8gbWV0YWRhdGEuXG4gICAgdGhpcy5fZW5zdXJlQ2xhc3NQcm9wZXJ0aWVzKCk7XG4gICAgdGhpcy5fY2xhc3NQcm9wZXJ0aWVzIS5zZXQobmFtZSwgb3B0aW9ucyk7XG4gICAgLy8gRG8gbm90IGdlbmVyYXRlIGFuIGFjY2Vzc29yIGlmIHRoZSBwcm90b3R5cGUgYWxyZWFkeSBoYXMgb25lLCBzaW5jZVxuICAgIC8vIGl0IHdvdWxkIGJlIGxvc3Qgb3RoZXJ3aXNlIGFuZCB0aGF0IHdvdWxkIG5ldmVyIGJlIHRoZSB1c2VyJ3MgaW50ZW50aW9uO1xuICAgIC8vIEluc3RlYWQsIHdlIGV4cGVjdCB1c2VycyB0byBjYWxsIGByZXF1ZXN0VXBkYXRlYCB0aGVtc2VsdmVzIGZyb21cbiAgICAvLyB1c2VyLWRlZmluZWQgYWNjZXNzb3JzLiBOb3RlIHRoYXQgaWYgdGhlIHN1cGVyIGhhcyBhbiBhY2Nlc3NvciB3ZSB3aWxsXG4gICAgLy8gc3RpbGwgb3ZlcndyaXRlIGl0XG4gICAgaWYgKG9wdGlvbnMubm9BY2Nlc3NvciB8fCB0aGlzLnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eShuYW1lKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBrZXkgPSB0eXBlb2YgbmFtZSA9PT0gJ3N5bWJvbCcgPyBTeW1ib2woKSA6IGBfXyR7bmFtZX1gO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLnByb3RvdHlwZSwgbmFtZSwge1xuICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLWFueSBubyBzeW1ib2wgaW4gaW5kZXhcbiAgICAgIGdldCgpOiBhbnkge1xuICAgICAgICByZXR1cm4gdGhpc1trZXldO1xuICAgICAgfSxcbiAgICAgIHNldCh0aGlzOiBVcGRhdGluZ0VsZW1lbnQsIHZhbHVlOiB1bmtub3duKSB7XG4gICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby1hbnkgbm8gc3ltYm9sIGluIGluZGV4XG4gICAgICAgIGNvbnN0IG9sZFZhbHVlID0gKHRoaXMgYXMgYW55KVtuYW1lXTtcbiAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLWFueSBubyBzeW1ib2wgaW4gaW5kZXhcbiAgICAgICAgKHRoaXMgYXMgYW55KVtrZXldID0gdmFsdWU7XG4gICAgICAgIHRoaXMuX3JlcXVlc3RVcGRhdGUobmFtZSwgb2xkVmFsdWUpO1xuICAgICAgfSxcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgIGVudW1lcmFibGU6IHRydWVcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIHByb3BlcnR5IGFjY2Vzc29ycyBmb3IgcmVnaXN0ZXJlZCBwcm9wZXJ0aWVzIGFuZCBlbnN1cmVzXG4gICAqIGFueSBzdXBlcmNsYXNzZXMgYXJlIGFsc28gZmluYWxpemVkLlxuICAgKiBAbm9jb2xsYXBzZVxuICAgKi9cbiAgcHJvdGVjdGVkIHN0YXRpYyBmaW5hbGl6ZSgpIHtcbiAgICBpZiAodGhpcy5oYXNPd25Qcm9wZXJ0eShKU0NvbXBpbGVyX3JlbmFtZVByb3BlcnR5KCdmaW5hbGl6ZWQnLCB0aGlzKSkgJiZcbiAgICAgICAgdGhpcy5maW5hbGl6ZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLy8gZmluYWxpemUgYW55IHN1cGVyY2xhc3Nlc1xuICAgIGNvbnN0IHN1cGVyQ3RvciA9IE9iamVjdC5nZXRQcm90b3R5cGVPZih0aGlzKTtcbiAgICBpZiAodHlwZW9mIHN1cGVyQ3Rvci5maW5hbGl6ZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgc3VwZXJDdG9yLmZpbmFsaXplKCk7XG4gICAgfVxuICAgIHRoaXMuZmluYWxpemVkID0gdHJ1ZTtcbiAgICB0aGlzLl9lbnN1cmVDbGFzc1Byb3BlcnRpZXMoKTtcbiAgICAvLyBpbml0aWFsaXplIE1hcCBwb3B1bGF0ZWQgaW4gb2JzZXJ2ZWRBdHRyaWJ1dGVzXG4gICAgdGhpcy5fYXR0cmlidXRlVG9Qcm9wZXJ0eU1hcCA9IG5ldyBNYXAoKTtcbiAgICAvLyBtYWtlIGFueSBwcm9wZXJ0aWVzXG4gICAgLy8gTm90ZSwgb25seSBwcm9jZXNzIFwib3duXCIgcHJvcGVydGllcyBzaW5jZSB0aGlzIGVsZW1lbnQgd2lsbCBpbmhlcml0XG4gICAgLy8gYW55IHByb3BlcnRpZXMgZGVmaW5lZCBvbiB0aGUgc3VwZXJDbGFzcywgYW5kIGZpbmFsaXphdGlvbiBlbnN1cmVzXG4gICAgLy8gdGhlIGVudGlyZSBwcm90b3R5cGUgY2hhaW4gaXMgZmluYWxpemVkLlxuICAgIGlmICh0aGlzLmhhc093blByb3BlcnR5KEpTQ29tcGlsZXJfcmVuYW1lUHJvcGVydHkoJ3Byb3BlcnRpZXMnLCB0aGlzKSkpIHtcbiAgICAgIGNvbnN0IHByb3BzID0gdGhpcy5wcm9wZXJ0aWVzO1xuICAgICAgLy8gc3VwcG9ydCBzeW1ib2xzIGluIHByb3BlcnRpZXMgKElFMTEgZG9lcyBub3Qgc3VwcG9ydCB0aGlzKVxuICAgICAgY29uc3QgcHJvcEtleXMgPSBbXG4gICAgICAgIC4uLk9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHByb3BzKSxcbiAgICAgICAgLi4uKHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSAnZnVuY3Rpb24nKSA/XG4gICAgICAgICAgICBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHByb3BzKSA6XG4gICAgICAgICAgICBbXVxuICAgICAgXTtcbiAgICAgIC8vIFRoaXMgZm9yL29mIGlzIG9rIGJlY2F1c2UgcHJvcEtleXMgaXMgYW4gYXJyYXlcbiAgICAgIGZvciAoY29uc3QgcCBvZiBwcm9wS2V5cykge1xuICAgICAgICAvLyBub3RlLCB1c2Ugb2YgYGFueWAgaXMgZHVlIHRvIFR5cGVTcmlwdCBsYWNrIG9mIHN1cHBvcnQgZm9yIHN5bWJvbCBpblxuICAgICAgICAvLyBpbmRleCB0eXBlc1xuICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bm8tYW55IG5vIHN5bWJvbCBpbiBpbmRleFxuICAgICAgICB0aGlzLmNyZWF0ZVByb3BlcnR5KHAsIChwcm9wcyBhcyBhbnkpW3BdKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgcHJvcGVydHkgbmFtZSBmb3IgdGhlIGdpdmVuIGF0dHJpYnV0ZSBgbmFtZWAuXG4gICAqIEBub2NvbGxhcHNlXG4gICAqL1xuICBwcml2YXRlIHN0YXRpYyBfYXR0cmlidXRlTmFtZUZvclByb3BlcnR5KFxuICAgICAgbmFtZTogUHJvcGVydHlLZXksIG9wdGlvbnM6IFByb3BlcnR5RGVjbGFyYXRpb24pIHtcbiAgICBjb25zdCBhdHRyaWJ1dGUgPSBvcHRpb25zLmF0dHJpYnV0ZTtcbiAgICByZXR1cm4gYXR0cmlidXRlID09PSBmYWxzZSA/XG4gICAgICAgIHVuZGVmaW5lZCA6XG4gICAgICAgICh0eXBlb2YgYXR0cmlidXRlID09PSAnc3RyaW5nJyA/XG4gICAgICAgICAgICAgYXR0cmlidXRlIDpcbiAgICAgICAgICAgICAodHlwZW9mIG5hbWUgPT09ICdzdHJpbmcnID8gbmFtZS50b0xvd2VyQ2FzZSgpIDogdW5kZWZpbmVkKSk7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0cnVlIGlmIGEgcHJvcGVydHkgc2hvdWxkIHJlcXVlc3QgYW4gdXBkYXRlLlxuICAgKiBDYWxsZWQgd2hlbiBhIHByb3BlcnR5IHZhbHVlIGlzIHNldCBhbmQgdXNlcyB0aGUgYGhhc0NoYW5nZWRgXG4gICAqIG9wdGlvbiBmb3IgdGhlIHByb3BlcnR5IGlmIHByZXNlbnQgb3IgYSBzdHJpY3QgaWRlbnRpdHkgY2hlY2suXG4gICAqIEBub2NvbGxhcHNlXG4gICAqL1xuICBwcml2YXRlIHN0YXRpYyBfdmFsdWVIYXNDaGFuZ2VkKFxuICAgICAgdmFsdWU6IHVua25vd24sIG9sZDogdW5rbm93biwgaGFzQ2hhbmdlZDogSGFzQ2hhbmdlZCA9IG5vdEVxdWFsKSB7XG4gICAgcmV0dXJuIGhhc0NoYW5nZWQodmFsdWUsIG9sZCk7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgcHJvcGVydHkgdmFsdWUgZm9yIHRoZSBnaXZlbiBhdHRyaWJ1dGUgdmFsdWUuXG4gICAqIENhbGxlZCB2aWEgdGhlIGBhdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2tgIGFuZCB1c2VzIHRoZSBwcm9wZXJ0eSdzXG4gICAqIGBjb252ZXJ0ZXJgIG9yIGBjb252ZXJ0ZXIuZnJvbUF0dHJpYnV0ZWAgcHJvcGVydHkgb3B0aW9uLlxuICAgKiBAbm9jb2xsYXBzZVxuICAgKi9cbiAgcHJpdmF0ZSBzdGF0aWMgX3Byb3BlcnR5VmFsdWVGcm9tQXR0cmlidXRlKFxuICAgICAgdmFsdWU6IHN0cmluZ3xudWxsLCBvcHRpb25zOiBQcm9wZXJ0eURlY2xhcmF0aW9uKSB7XG4gICAgY29uc3QgdHlwZSA9IG9wdGlvbnMudHlwZTtcbiAgICBjb25zdCBjb252ZXJ0ZXIgPSBvcHRpb25zLmNvbnZlcnRlciB8fCBkZWZhdWx0Q29udmVydGVyO1xuICAgIGNvbnN0IGZyb21BdHRyaWJ1dGUgPVxuICAgICAgICAodHlwZW9mIGNvbnZlcnRlciA9PT0gJ2Z1bmN0aW9uJyA/IGNvbnZlcnRlciA6IGNvbnZlcnRlci5mcm9tQXR0cmlidXRlKTtcbiAgICByZXR1cm4gZnJvbUF0dHJpYnV0ZSA/IGZyb21BdHRyaWJ1dGUodmFsdWUsIHR5cGUpIDogdmFsdWU7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgYXR0cmlidXRlIHZhbHVlIGZvciB0aGUgZ2l2ZW4gcHJvcGVydHkgdmFsdWUuIElmIHRoaXNcbiAgICogcmV0dXJucyB1bmRlZmluZWQsIHRoZSBwcm9wZXJ0eSB3aWxsICpub3QqIGJlIHJlZmxlY3RlZCB0byBhbiBhdHRyaWJ1dGUuXG4gICAqIElmIHRoaXMgcmV0dXJucyBudWxsLCB0aGUgYXR0cmlidXRlIHdpbGwgYmUgcmVtb3ZlZCwgb3RoZXJ3aXNlIHRoZVxuICAgKiBhdHRyaWJ1dGUgd2lsbCBiZSBzZXQgdG8gdGhlIHZhbHVlLlxuICAgKiBUaGlzIHVzZXMgdGhlIHByb3BlcnR5J3MgYHJlZmxlY3RgIGFuZCBgdHlwZS50b0F0dHJpYnV0ZWAgcHJvcGVydHkgb3B0aW9ucy5cbiAgICogQG5vY29sbGFwc2VcbiAgICovXG4gIHByaXZhdGUgc3RhdGljIF9wcm9wZXJ0eVZhbHVlVG9BdHRyaWJ1dGUoXG4gICAgICB2YWx1ZTogdW5rbm93biwgb3B0aW9uczogUHJvcGVydHlEZWNsYXJhdGlvbikge1xuICAgIGlmIChvcHRpb25zLnJlZmxlY3QgPT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCB0eXBlID0gb3B0aW9ucy50eXBlO1xuICAgIGNvbnN0IGNvbnZlcnRlciA9IG9wdGlvbnMuY29udmVydGVyO1xuICAgIGNvbnN0IHRvQXR0cmlidXRlID1cbiAgICAgICAgY29udmVydGVyICYmIChjb252ZXJ0ZXIgYXMgQ29tcGxleEF0dHJpYnV0ZUNvbnZlcnRlcikudG9BdHRyaWJ1dGUgfHxcbiAgICAgICAgZGVmYXVsdENvbnZlcnRlci50b0F0dHJpYnV0ZTtcbiAgICByZXR1cm4gdG9BdHRyaWJ1dGUhKHZhbHVlLCB0eXBlKTtcbiAgfVxuXG4gIHByaXZhdGUgX3VwZGF0ZVN0YXRlOiBVcGRhdGVTdGF0ZSA9IDA7XG4gIHByaXZhdGUgX2luc3RhbmNlUHJvcGVydGllczogUHJvcGVydHlWYWx1ZXN8dW5kZWZpbmVkID0gdW5kZWZpbmVkO1xuICBwcml2YXRlIF91cGRhdGVQcm9taXNlOiBQcm9taXNlPHVua25vd24+ID0gbWljcm90YXNrUHJvbWlzZTtcbiAgcHJpdmF0ZSBfaGFzQ29ubmVjdGVkUmVzb2x2ZXI6ICgoKSA9PiB2b2lkKXx1bmRlZmluZWQgPSB1bmRlZmluZWQ7XG5cbiAgLyoqXG4gICAqIE1hcCB3aXRoIGtleXMgZm9yIGFueSBwcm9wZXJ0aWVzIHRoYXQgaGF2ZSBjaGFuZ2VkIHNpbmNlIHRoZSBsYXN0XG4gICAqIHVwZGF0ZSBjeWNsZSB3aXRoIHByZXZpb3VzIHZhbHVlcy5cbiAgICovXG4gIHByaXZhdGUgX2NoYW5nZWRQcm9wZXJ0aWVzOiBQcm9wZXJ0eVZhbHVlcyA9IG5ldyBNYXAoKTtcblxuICAvKipcbiAgICogTWFwIHdpdGgga2V5cyBvZiBwcm9wZXJ0aWVzIHRoYXQgc2hvdWxkIGJlIHJlZmxlY3RlZCB3aGVuIHVwZGF0ZWQuXG4gICAqL1xuICBwcml2YXRlIF9yZWZsZWN0aW5nUHJvcGVydGllczogTWFwPFByb3BlcnR5S2V5LCBQcm9wZXJ0eURlY2xhcmF0aW9uPnxcbiAgICAgIHVuZGVmaW5lZCA9IHVuZGVmaW5lZDtcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuaW5pdGlhbGl6ZSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIFBlcmZvcm1zIGVsZW1lbnQgaW5pdGlhbGl6YXRpb24uIEJ5IGRlZmF1bHQgY2FwdHVyZXMgYW55IHByZS1zZXQgdmFsdWVzIGZvclxuICAgKiByZWdpc3RlcmVkIHByb3BlcnRpZXMuXG4gICAqL1xuICBwcm90ZWN0ZWQgaW5pdGlhbGl6ZSgpIHtcbiAgICB0aGlzLl9zYXZlSW5zdGFuY2VQcm9wZXJ0aWVzKCk7XG4gICAgLy8gZW5zdXJlcyBmaXJzdCB1cGRhdGUgd2lsbCBiZSBjYXVnaHQgYnkgYW4gZWFybHkgYWNjZXNzIG9mIGB1cGRhdGVDb21wbGV0ZWBcbiAgICB0aGlzLl9yZXF1ZXN0VXBkYXRlKCk7XG4gIH1cblxuICAvKipcbiAgICogRml4ZXMgYW55IHByb3BlcnRpZXMgc2V0IG9uIHRoZSBpbnN0YW5jZSBiZWZvcmUgdXBncmFkZSB0aW1lLlxuICAgKiBPdGhlcndpc2UgdGhlc2Ugd291bGQgc2hhZG93IHRoZSBhY2Nlc3NvciBhbmQgYnJlYWsgdGhlc2UgcHJvcGVydGllcy5cbiAgICogVGhlIHByb3BlcnRpZXMgYXJlIHN0b3JlZCBpbiBhIE1hcCB3aGljaCBpcyBwbGF5ZWQgYmFjayBhZnRlciB0aGVcbiAgICogY29uc3RydWN0b3IgcnVucy4gTm90ZSwgb24gdmVyeSBvbGQgdmVyc2lvbnMgb2YgU2FmYXJpICg8PTkpIG9yIENocm9tZVxuICAgKiAoPD00MSksIHByb3BlcnRpZXMgY3JlYXRlZCBmb3IgbmF0aXZlIHBsYXRmb3JtIHByb3BlcnRpZXMgbGlrZSAoYGlkYCBvclxuICAgKiBgbmFtZWApIG1heSBub3QgaGF2ZSBkZWZhdWx0IHZhbHVlcyBzZXQgaW4gdGhlIGVsZW1lbnQgY29uc3RydWN0b3IuIE9uXG4gICAqIHRoZXNlIGJyb3dzZXJzIG5hdGl2ZSBwcm9wZXJ0aWVzIGFwcGVhciBvbiBpbnN0YW5jZXMgYW5kIHRoZXJlZm9yZSB0aGVpclxuICAgKiBkZWZhdWx0IHZhbHVlIHdpbGwgb3ZlcndyaXRlIGFueSBlbGVtZW50IGRlZmF1bHQgKGUuZy4gaWYgdGhlIGVsZW1lbnQgc2V0c1xuICAgKiB0aGlzLmlkID0gJ2lkJyBpbiB0aGUgY29uc3RydWN0b3IsIHRoZSAnaWQnIHdpbGwgYmVjb21lICcnIHNpbmNlIHRoaXMgaXNcbiAgICogdGhlIG5hdGl2ZSBwbGF0Zm9ybSBkZWZhdWx0KS5cbiAgICovXG4gIHByaXZhdGUgX3NhdmVJbnN0YW5jZVByb3BlcnRpZXMoKSB7XG4gICAgLy8gVXNlIGZvckVhY2ggc28gdGhpcyB3b3JrcyBldmVuIGlmIGZvci9vZiBsb29wcyBhcmUgY29tcGlsZWQgdG8gZm9yIGxvb3BzXG4gICAgLy8gZXhwZWN0aW5nIGFycmF5c1xuICAgICh0aGlzLmNvbnN0cnVjdG9yIGFzIHR5cGVvZiBVcGRhdGluZ0VsZW1lbnQpXG4gICAgICAgIC5fY2xhc3NQcm9wZXJ0aWVzIS5mb3JFYWNoKChfdiwgcCkgPT4ge1xuICAgICAgICAgIGlmICh0aGlzLmhhc093blByb3BlcnR5KHApKSB7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IHRoaXNbcCBhcyBrZXlvZiB0aGlzXTtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzW3AgYXMga2V5b2YgdGhpc107XG4gICAgICAgICAgICBpZiAoIXRoaXMuX2luc3RhbmNlUHJvcGVydGllcykge1xuICAgICAgICAgICAgICB0aGlzLl9pbnN0YW5jZVByb3BlcnRpZXMgPSBuZXcgTWFwKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9pbnN0YW5jZVByb3BlcnRpZXMuc2V0KHAsIHZhbHVlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEFwcGxpZXMgcHJldmlvdXNseSBzYXZlZCBpbnN0YW5jZSBwcm9wZXJ0aWVzLlxuICAgKi9cbiAgcHJpdmF0ZSBfYXBwbHlJbnN0YW5jZVByb3BlcnRpZXMoKSB7XG4gICAgLy8gVXNlIGZvckVhY2ggc28gdGhpcyB3b3JrcyBldmVuIGlmIGZvci9vZiBsb29wcyBhcmUgY29tcGlsZWQgdG8gZm9yIGxvb3BzXG4gICAgLy8gZXhwZWN0aW5nIGFycmF5c1xuICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby1hbnlcbiAgICB0aGlzLl9pbnN0YW5jZVByb3BlcnRpZXMhLmZvckVhY2goKHYsIHApID0+ICh0aGlzIGFzIGFueSlbcF0gPSB2KTtcbiAgICB0aGlzLl9pbnN0YW5jZVByb3BlcnRpZXMgPSB1bmRlZmluZWQ7XG4gIH1cblxuICBjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICB0aGlzLl91cGRhdGVTdGF0ZSA9IHRoaXMuX3VwZGF0ZVN0YXRlIHwgU1RBVEVfSEFTX0NPTk5FQ1RFRDtcbiAgICAvLyBFbnN1cmUgZmlyc3QgY29ubmVjdGlvbiBjb21wbGV0ZXMgYW4gdXBkYXRlLiBVcGRhdGVzIGNhbm5vdCBjb21wbGV0ZSBiZWZvcmVcbiAgICAvLyBjb25uZWN0aW9uIGFuZCBpZiBvbmUgaXMgcGVuZGluZyBjb25uZWN0aW9uIHRoZSBgX2hhc0Nvbm5lY3Rpb25SZXNvbHZlcmBcbiAgICAvLyB3aWxsIGV4aXN0LiBJZiBzbywgcmVzb2x2ZSBpdCB0byBjb21wbGV0ZSB0aGUgdXBkYXRlLCBvdGhlcndpc2VcbiAgICAvLyByZXF1ZXN0VXBkYXRlLlxuICAgIGlmICh0aGlzLl9oYXNDb25uZWN0ZWRSZXNvbHZlcikge1xuICAgICAgdGhpcy5faGFzQ29ubmVjdGVkUmVzb2x2ZXIoKTtcbiAgICAgIHRoaXMuX2hhc0Nvbm5lY3RlZFJlc29sdmVyID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBBbGxvd3MgZm9yIGBzdXBlci5kaXNjb25uZWN0ZWRDYWxsYmFjaygpYCBpbiBleHRlbnNpb25zIHdoaWxlXG4gICAqIHJlc2VydmluZyB0aGUgcG9zc2liaWxpdHkgb2YgbWFraW5nIG5vbi1icmVha2luZyBmZWF0dXJlIGFkZGl0aW9uc1xuICAgKiB3aGVuIGRpc2Nvbm5lY3RpbmcgYXQgc29tZSBwb2ludCBpbiB0aGUgZnV0dXJlLlxuICAgKi9cbiAgZGlzY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gIH1cblxuICAvKipcbiAgICogU3luY2hyb25pemVzIHByb3BlcnR5IHZhbHVlcyB3aGVuIGF0dHJpYnV0ZXMgY2hhbmdlLlxuICAgKi9cbiAgYXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrKG5hbWU6IHN0cmluZywgb2xkOiBzdHJpbmd8bnVsbCwgdmFsdWU6IHN0cmluZ3xudWxsKSB7XG4gICAgaWYgKG9sZCAhPT0gdmFsdWUpIHtcbiAgICAgIHRoaXMuX2F0dHJpYnV0ZVRvUHJvcGVydHkobmFtZSwgdmFsdWUpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgX3Byb3BlcnR5VG9BdHRyaWJ1dGUoXG4gICAgICBuYW1lOiBQcm9wZXJ0eUtleSwgdmFsdWU6IHVua25vd24sXG4gICAgICBvcHRpb25zOiBQcm9wZXJ0eURlY2xhcmF0aW9uID0gZGVmYXVsdFByb3BlcnR5RGVjbGFyYXRpb24pIHtcbiAgICBjb25zdCBjdG9yID0gKHRoaXMuY29uc3RydWN0b3IgYXMgdHlwZW9mIFVwZGF0aW5nRWxlbWVudCk7XG4gICAgY29uc3QgYXR0ciA9IGN0b3IuX2F0dHJpYnV0ZU5hbWVGb3JQcm9wZXJ0eShuYW1lLCBvcHRpb25zKTtcbiAgICBpZiAoYXR0ciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBjb25zdCBhdHRyVmFsdWUgPSBjdG9yLl9wcm9wZXJ0eVZhbHVlVG9BdHRyaWJ1dGUodmFsdWUsIG9wdGlvbnMpO1xuICAgICAgLy8gYW4gdW5kZWZpbmVkIHZhbHVlIGRvZXMgbm90IGNoYW5nZSB0aGUgYXR0cmlidXRlLlxuICAgICAgaWYgKGF0dHJWYWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIC8vIFRyYWNrIGlmIHRoZSBwcm9wZXJ0eSBpcyBiZWluZyByZWZsZWN0ZWQgdG8gYXZvaWRcbiAgICAgIC8vIHNldHRpbmcgdGhlIHByb3BlcnR5IGFnYWluIHZpYSBgYXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrYC4gTm90ZTpcbiAgICAgIC8vIDEuIHRoaXMgdGFrZXMgYWR2YW50YWdlIG9mIHRoZSBmYWN0IHRoYXQgdGhlIGNhbGxiYWNrIGlzIHN5bmNocm9ub3VzLlxuICAgICAgLy8gMi4gd2lsbCBiZWhhdmUgaW5jb3JyZWN0bHkgaWYgbXVsdGlwbGUgYXR0cmlidXRlcyBhcmUgaW4gdGhlIHJlYWN0aW9uXG4gICAgICAvLyBzdGFjayBhdCB0aW1lIG9mIGNhbGxpbmcuIEhvd2V2ZXIsIHNpbmNlIHdlIHByb2Nlc3MgYXR0cmlidXRlc1xuICAgICAgLy8gaW4gYHVwZGF0ZWAgdGhpcyBzaG91bGQgbm90IGJlIHBvc3NpYmxlIChvciBhbiBleHRyZW1lIGNvcm5lciBjYXNlXG4gICAgICAvLyB0aGF0IHdlJ2QgbGlrZSB0byBkaXNjb3ZlcikuXG4gICAgICAvLyBtYXJrIHN0YXRlIHJlZmxlY3RpbmdcbiAgICAgIHRoaXMuX3VwZGF0ZVN0YXRlID0gdGhpcy5fdXBkYXRlU3RhdGUgfCBTVEFURV9JU19SRUZMRUNUSU5HX1RPX0FUVFJJQlVURTtcbiAgICAgIGlmIChhdHRyVmFsdWUgPT0gbnVsbCkge1xuICAgICAgICB0aGlzLnJlbW92ZUF0dHJpYnV0ZShhdHRyKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuc2V0QXR0cmlidXRlKGF0dHIsIGF0dHJWYWx1ZSBhcyBzdHJpbmcpO1xuICAgICAgfVxuICAgICAgLy8gbWFyayBzdGF0ZSBub3QgcmVmbGVjdGluZ1xuICAgICAgdGhpcy5fdXBkYXRlU3RhdGUgPSB0aGlzLl91cGRhdGVTdGF0ZSAmIH5TVEFURV9JU19SRUZMRUNUSU5HX1RPX0FUVFJJQlVURTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIF9hdHRyaWJ1dGVUb1Byb3BlcnR5KG5hbWU6IHN0cmluZywgdmFsdWU6IHN0cmluZ3xudWxsKSB7XG4gICAgLy8gVXNlIHRyYWNraW5nIGluZm8gdG8gYXZvaWQgZGVzZXJpYWxpemluZyBhdHRyaWJ1dGUgdmFsdWUgaWYgaXQgd2FzXG4gICAgLy8ganVzdCBzZXQgZnJvbSBhIHByb3BlcnR5IHNldHRlci5cbiAgICBpZiAodGhpcy5fdXBkYXRlU3RhdGUgJiBTVEFURV9JU19SRUZMRUNUSU5HX1RPX0FUVFJJQlVURSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBjdG9yID0gKHRoaXMuY29uc3RydWN0b3IgYXMgdHlwZW9mIFVwZGF0aW5nRWxlbWVudCk7XG4gICAgY29uc3QgcHJvcE5hbWUgPSBjdG9yLl9hdHRyaWJ1dGVUb1Byb3BlcnR5TWFwLmdldChuYW1lKTtcbiAgICBpZiAocHJvcE5hbWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgY29uc3Qgb3B0aW9ucyA9XG4gICAgICAgICAgY3Rvci5fY2xhc3NQcm9wZXJ0aWVzIS5nZXQocHJvcE5hbWUpIHx8IGRlZmF1bHRQcm9wZXJ0eURlY2xhcmF0aW9uO1xuICAgICAgLy8gbWFyayBzdGF0ZSByZWZsZWN0aW5nXG4gICAgICB0aGlzLl91cGRhdGVTdGF0ZSA9IHRoaXMuX3VwZGF0ZVN0YXRlIHwgU1RBVEVfSVNfUkVGTEVDVElOR19UT19QUk9QRVJUWTtcbiAgICAgIHRoaXNbcHJvcE5hbWUgYXMga2V5b2YgdGhpc10gPVxuICAgICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby1hbnlcbiAgICAgICAgICBjdG9yLl9wcm9wZXJ0eVZhbHVlRnJvbUF0dHJpYnV0ZSh2YWx1ZSwgb3B0aW9ucykgYXMgYW55O1xuICAgICAgLy8gbWFyayBzdGF0ZSBub3QgcmVmbGVjdGluZ1xuICAgICAgdGhpcy5fdXBkYXRlU3RhdGUgPSB0aGlzLl91cGRhdGVTdGF0ZSAmIH5TVEFURV9JU19SRUZMRUNUSU5HX1RPX1BST1BFUlRZO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBUaGlzIHByaXZhdGUgdmVyc2lvbiBvZiBgcmVxdWVzdFVwZGF0ZWAgZG9lcyBub3QgYWNjZXNzIG9yIHJldHVybiB0aGVcbiAgICogYHVwZGF0ZUNvbXBsZXRlYCBwcm9taXNlLiBUaGlzIHByb21pc2UgY2FuIGJlIG92ZXJyaWRkZW4gYW5kIGlzIHRoZXJlZm9yZVxuICAgKiBub3QgZnJlZSB0byBhY2Nlc3MuXG4gICAqL1xuICBwcml2YXRlIF9yZXF1ZXN0VXBkYXRlKG5hbWU/OiBQcm9wZXJ0eUtleSwgb2xkVmFsdWU/OiB1bmtub3duKSB7XG4gICAgbGV0IHNob3VsZFJlcXVlc3RVcGRhdGUgPSB0cnVlO1xuICAgIC8vIElmIHdlIGhhdmUgYSBwcm9wZXJ0eSBrZXksIHBlcmZvcm0gcHJvcGVydHkgdXBkYXRlIHN0ZXBzLlxuICAgIGlmIChuYW1lICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGNvbnN0IGN0b3IgPSB0aGlzLmNvbnN0cnVjdG9yIGFzIHR5cGVvZiBVcGRhdGluZ0VsZW1lbnQ7XG4gICAgICBjb25zdCBvcHRpb25zID1cbiAgICAgICAgICBjdG9yLl9jbGFzc1Byb3BlcnRpZXMhLmdldChuYW1lKSB8fCBkZWZhdWx0UHJvcGVydHlEZWNsYXJhdGlvbjtcbiAgICAgIGlmIChjdG9yLl92YWx1ZUhhc0NoYW5nZWQoXG4gICAgICAgICAgICAgIHRoaXNbbmFtZSBhcyBrZXlvZiB0aGlzXSwgb2xkVmFsdWUsIG9wdGlvbnMuaGFzQ2hhbmdlZCkpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9jaGFuZ2VkUHJvcGVydGllcy5oYXMobmFtZSkpIHtcbiAgICAgICAgICB0aGlzLl9jaGFuZ2VkUHJvcGVydGllcy5zZXQobmFtZSwgb2xkVmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIC8vIEFkZCB0byByZWZsZWN0aW5nIHByb3BlcnRpZXMgc2V0LlxuICAgICAgICAvLyBOb3RlLCBpdCdzIGltcG9ydGFudCB0aGF0IGV2ZXJ5IGNoYW5nZSBoYXMgYSBjaGFuY2UgdG8gYWRkIHRoZVxuICAgICAgICAvLyBwcm9wZXJ0eSB0byBgX3JlZmxlY3RpbmdQcm9wZXJ0aWVzYC4gVGhpcyBlbnN1cmVzIHNldHRpbmdcbiAgICAgICAgLy8gYXR0cmlidXRlICsgcHJvcGVydHkgcmVmbGVjdHMgY29ycmVjdGx5LlxuICAgICAgICBpZiAob3B0aW9ucy5yZWZsZWN0ID09PSB0cnVlICYmXG4gICAgICAgICAgICAhKHRoaXMuX3VwZGF0ZVN0YXRlICYgU1RBVEVfSVNfUkVGTEVDVElOR19UT19QUk9QRVJUWSkpIHtcbiAgICAgICAgICBpZiAodGhpcy5fcmVmbGVjdGluZ1Byb3BlcnRpZXMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5fcmVmbGVjdGluZ1Byb3BlcnRpZXMgPSBuZXcgTWFwKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRoaXMuX3JlZmxlY3RpbmdQcm9wZXJ0aWVzLnNldChuYW1lLCBvcHRpb25zKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gQWJvcnQgdGhlIHJlcXVlc3QgaWYgdGhlIHByb3BlcnR5IHNob3VsZCBub3QgYmUgY29uc2lkZXJlZCBjaGFuZ2VkLlxuICAgICAgICBzaG91bGRSZXF1ZXN0VXBkYXRlID0gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICghdGhpcy5faGFzUmVxdWVzdGVkVXBkYXRlICYmIHNob3VsZFJlcXVlc3RVcGRhdGUpIHtcbiAgICAgIHRoaXMuX2VucXVldWVVcGRhdGUoKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUmVxdWVzdHMgYW4gdXBkYXRlIHdoaWNoIGlzIHByb2Nlc3NlZCBhc3luY2hyb25vdXNseS4gVGhpcyBzaG91bGRcbiAgICogYmUgY2FsbGVkIHdoZW4gYW4gZWxlbWVudCBzaG91bGQgdXBkYXRlIGJhc2VkIG9uIHNvbWUgc3RhdGUgbm90IHRyaWdnZXJlZFxuICAgKiBieSBzZXR0aW5nIGEgcHJvcGVydHkuIEluIHRoaXMgY2FzZSwgcGFzcyBubyBhcmd1bWVudHMuIEl0IHNob3VsZCBhbHNvIGJlXG4gICAqIGNhbGxlZCB3aGVuIG1hbnVhbGx5IGltcGxlbWVudGluZyBhIHByb3BlcnR5IHNldHRlci4gSW4gdGhpcyBjYXNlLCBwYXNzIHRoZVxuICAgKiBwcm9wZXJ0eSBgbmFtZWAgYW5kIGBvbGRWYWx1ZWAgdG8gZW5zdXJlIHRoYXQgYW55IGNvbmZpZ3VyZWQgcHJvcGVydHlcbiAgICogb3B0aW9ucyBhcmUgaG9ub3JlZC4gUmV0dXJucyB0aGUgYHVwZGF0ZUNvbXBsZXRlYCBQcm9taXNlIHdoaWNoIGlzIHJlc29sdmVkXG4gICAqIHdoZW4gdGhlIHVwZGF0ZSBjb21wbGV0ZXMuXG4gICAqXG4gICAqIEBwYXJhbSBuYW1lIHtQcm9wZXJ0eUtleX0gKG9wdGlvbmFsKSBuYW1lIG9mIHJlcXVlc3RpbmcgcHJvcGVydHlcbiAgICogQHBhcmFtIG9sZFZhbHVlIHthbnl9IChvcHRpb25hbCkgb2xkIHZhbHVlIG9mIHJlcXVlc3RpbmcgcHJvcGVydHlcbiAgICogQHJldHVybnMge1Byb21pc2V9IEEgUHJvbWlzZSB0aGF0IGlzIHJlc29sdmVkIHdoZW4gdGhlIHVwZGF0ZSBjb21wbGV0ZXMuXG4gICAqL1xuICByZXF1ZXN0VXBkYXRlKG5hbWU/OiBQcm9wZXJ0eUtleSwgb2xkVmFsdWU/OiB1bmtub3duKSB7XG4gICAgdGhpcy5fcmVxdWVzdFVwZGF0ZShuYW1lLCBvbGRWYWx1ZSk7XG4gICAgcmV0dXJuIHRoaXMudXBkYXRlQ29tcGxldGU7XG4gIH1cblxuICAvKipcbiAgICogU2V0cyB1cCB0aGUgZWxlbWVudCB0byBhc3luY2hyb25vdXNseSB1cGRhdGUuXG4gICAqL1xuICBwcml2YXRlIGFzeW5jIF9lbnF1ZXVlVXBkYXRlKCkge1xuICAgIC8vIE1hcmsgc3RhdGUgdXBkYXRpbmcuLi5cbiAgICB0aGlzLl91cGRhdGVTdGF0ZSA9IHRoaXMuX3VwZGF0ZVN0YXRlIHwgU1RBVEVfVVBEQVRFX1JFUVVFU1RFRDtcbiAgICBsZXQgcmVzb2x2ZSE6IChyOiBib29sZWFuKSA9PiB2b2lkO1xuICAgIGxldCByZWplY3QhOiAoZTogRXJyb3IpID0+IHZvaWQ7XG4gICAgY29uc3QgcHJldmlvdXNVcGRhdGVQcm9taXNlID0gdGhpcy5fdXBkYXRlUHJvbWlzZTtcbiAgICB0aGlzLl91cGRhdGVQcm9taXNlID0gbmV3IFByb21pc2UoKHJlcywgcmVqKSA9PiB7XG4gICAgICByZXNvbHZlID0gcmVzO1xuICAgICAgcmVqZWN0ID0gcmVqO1xuICAgIH0pO1xuICAgIHRyeSB7XG4gICAgICAvLyBFbnN1cmUgYW55IHByZXZpb3VzIHVwZGF0ZSBoYXMgcmVzb2x2ZWQgYmVmb3JlIHVwZGF0aW5nLlxuICAgICAgLy8gVGhpcyBgYXdhaXRgIGFsc28gZW5zdXJlcyB0aGF0IHByb3BlcnR5IGNoYW5nZXMgYXJlIGJhdGNoZWQuXG4gICAgICBhd2FpdCBwcmV2aW91c1VwZGF0ZVByb21pc2U7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgLy8gSWdub3JlIGFueSBwcmV2aW91cyBlcnJvcnMuIFdlIG9ubHkgY2FyZSB0aGF0IHRoZSBwcmV2aW91cyBjeWNsZSBpc1xuICAgICAgLy8gZG9uZS4gQW55IGVycm9yIHNob3VsZCBoYXZlIGJlZW4gaGFuZGxlZCBpbiB0aGUgcHJldmlvdXMgdXBkYXRlLlxuICAgIH1cbiAgICAvLyBNYWtlIHN1cmUgdGhlIGVsZW1lbnQgaGFzIGNvbm5lY3RlZCBiZWZvcmUgdXBkYXRpbmcuXG4gICAgaWYgKCF0aGlzLl9oYXNDb25uZWN0ZWQpIHtcbiAgICAgIGF3YWl0IG5ldyBQcm9taXNlKChyZXMpID0+IHRoaXMuX2hhc0Nvbm5lY3RlZFJlc29sdmVyID0gcmVzKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMucGVyZm9ybVVwZGF0ZSgpO1xuICAgICAgLy8gSWYgYHBlcmZvcm1VcGRhdGVgIHJldHVybnMgYSBQcm9taXNlLCB3ZSBhd2FpdCBpdC4gVGhpcyBpcyBkb25lIHRvXG4gICAgICAvLyBlbmFibGUgY29vcmRpbmF0aW5nIHVwZGF0ZXMgd2l0aCBhIHNjaGVkdWxlci4gTm90ZSwgdGhlIHJlc3VsdCBpc1xuICAgICAgLy8gY2hlY2tlZCB0byBhdm9pZCBkZWxheWluZyBhbiBhZGRpdGlvbmFsIG1pY3JvdGFzayB1bmxlc3Mgd2UgbmVlZCB0by5cbiAgICAgIGlmIChyZXN1bHQgIT0gbnVsbCkge1xuICAgICAgICBhd2FpdCByZXN1bHQ7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgcmVqZWN0KGUpO1xuICAgIH1cbiAgICByZXNvbHZlKCF0aGlzLl9oYXNSZXF1ZXN0ZWRVcGRhdGUpO1xuICB9XG5cbiAgcHJpdmF0ZSBnZXQgX2hhc0Nvbm5lY3RlZCgpIHtcbiAgICByZXR1cm4gKHRoaXMuX3VwZGF0ZVN0YXRlICYgU1RBVEVfSEFTX0NPTk5FQ1RFRCk7XG4gIH1cblxuICBwcml2YXRlIGdldCBfaGFzUmVxdWVzdGVkVXBkYXRlKCkge1xuICAgIHJldHVybiAodGhpcy5fdXBkYXRlU3RhdGUgJiBTVEFURV9VUERBVEVfUkVRVUVTVEVEKTtcbiAgfVxuXG4gIHByb3RlY3RlZCBnZXQgaGFzVXBkYXRlZCgpIHtcbiAgICByZXR1cm4gKHRoaXMuX3VwZGF0ZVN0YXRlICYgU1RBVEVfSEFTX1VQREFURUQpO1xuICB9XG5cbiAgLyoqXG4gICAqIFBlcmZvcm1zIGFuIGVsZW1lbnQgdXBkYXRlLiBOb3RlLCBpZiBhbiBleGNlcHRpb24gaXMgdGhyb3duIGR1cmluZyB0aGVcbiAgICogdXBkYXRlLCBgZmlyc3RVcGRhdGVkYCBhbmQgYHVwZGF0ZWRgIHdpbGwgbm90IGJlIGNhbGxlZC5cbiAgICpcbiAgICogWW91IGNhbiBvdmVycmlkZSB0aGlzIG1ldGhvZCB0byBjaGFuZ2UgdGhlIHRpbWluZyBvZiB1cGRhdGVzLiBJZiB0aGlzXG4gICAqIG1ldGhvZCBpcyBvdmVycmlkZGVuLCBgc3VwZXIucGVyZm9ybVVwZGF0ZSgpYCBtdXN0IGJlIGNhbGxlZC5cbiAgICpcbiAgICogRm9yIGluc3RhbmNlLCB0byBzY2hlZHVsZSB1cGRhdGVzIHRvIG9jY3VyIGp1c3QgYmVmb3JlIHRoZSBuZXh0IGZyYW1lOlxuICAgKlxuICAgKiBgYGBcbiAgICogcHJvdGVjdGVkIGFzeW5jIHBlcmZvcm1VcGRhdGUoKTogUHJvbWlzZTx1bmtub3duPiB7XG4gICAqICAgYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiByZXNvbHZlKCkpKTtcbiAgICogICBzdXBlci5wZXJmb3JtVXBkYXRlKCk7XG4gICAqIH1cbiAgICogYGBgXG4gICAqL1xuICBwcm90ZWN0ZWQgcGVyZm9ybVVwZGF0ZSgpOiB2b2lkfFByb21pc2U8dW5rbm93bj4ge1xuICAgIC8vIE1peGluIGluc3RhbmNlIHByb3BlcnRpZXMgb25jZSwgaWYgdGhleSBleGlzdC5cbiAgICBpZiAodGhpcy5faW5zdGFuY2VQcm9wZXJ0aWVzKSB7XG4gICAgICB0aGlzLl9hcHBseUluc3RhbmNlUHJvcGVydGllcygpO1xuICAgIH1cbiAgICBsZXQgc2hvdWxkVXBkYXRlID0gZmFsc2U7XG4gICAgY29uc3QgY2hhbmdlZFByb3BlcnRpZXMgPSB0aGlzLl9jaGFuZ2VkUHJvcGVydGllcztcbiAgICB0cnkge1xuICAgICAgc2hvdWxkVXBkYXRlID0gdGhpcy5zaG91bGRVcGRhdGUoY2hhbmdlZFByb3BlcnRpZXMpO1xuICAgICAgaWYgKHNob3VsZFVwZGF0ZSkge1xuICAgICAgICB0aGlzLnVwZGF0ZShjaGFuZ2VkUHJvcGVydGllcyk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgLy8gUHJldmVudCBgZmlyc3RVcGRhdGVkYCBhbmQgYHVwZGF0ZWRgIGZyb20gcnVubmluZyB3aGVuIHRoZXJlJ3MgYW5cbiAgICAgIC8vIHVwZGF0ZSBleGNlcHRpb24uXG4gICAgICBzaG91bGRVcGRhdGUgPSBmYWxzZTtcbiAgICAgIHRocm93IGU7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIC8vIEVuc3VyZSBlbGVtZW50IGNhbiBhY2NlcHQgYWRkaXRpb25hbCB1cGRhdGVzIGFmdGVyIGFuIGV4Y2VwdGlvbi5cbiAgICAgIHRoaXMuX21hcmtVcGRhdGVkKCk7XG4gICAgfVxuICAgIGlmIChzaG91bGRVcGRhdGUpIHtcbiAgICAgIGlmICghKHRoaXMuX3VwZGF0ZVN0YXRlICYgU1RBVEVfSEFTX1VQREFURUQpKSB7XG4gICAgICAgIHRoaXMuX3VwZGF0ZVN0YXRlID0gdGhpcy5fdXBkYXRlU3RhdGUgfCBTVEFURV9IQVNfVVBEQVRFRDtcbiAgICAgICAgdGhpcy5maXJzdFVwZGF0ZWQoY2hhbmdlZFByb3BlcnRpZXMpO1xuICAgICAgfVxuICAgICAgdGhpcy51cGRhdGVkKGNoYW5nZWRQcm9wZXJ0aWVzKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIF9tYXJrVXBkYXRlZCgpIHtcbiAgICB0aGlzLl9jaGFuZ2VkUHJvcGVydGllcyA9IG5ldyBNYXAoKTtcbiAgICB0aGlzLl91cGRhdGVTdGF0ZSA9IHRoaXMuX3VwZGF0ZVN0YXRlICYgflNUQVRFX1VQREFURV9SRVFVRVNURUQ7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyBhIFByb21pc2UgdGhhdCByZXNvbHZlcyB3aGVuIHRoZSBlbGVtZW50IGhhcyBjb21wbGV0ZWQgdXBkYXRpbmcuXG4gICAqIFRoZSBQcm9taXNlIHZhbHVlIGlzIGEgYm9vbGVhbiB0aGF0IGlzIGB0cnVlYCBpZiB0aGUgZWxlbWVudCBjb21wbGV0ZWQgdGhlXG4gICAqIHVwZGF0ZSB3aXRob3V0IHRyaWdnZXJpbmcgYW5vdGhlciB1cGRhdGUuIFRoZSBQcm9taXNlIHJlc3VsdCBpcyBgZmFsc2VgIGlmXG4gICAqIGEgcHJvcGVydHkgd2FzIHNldCBpbnNpZGUgYHVwZGF0ZWQoKWAuIElmIHRoZSBQcm9taXNlIGlzIHJlamVjdGVkLCBhblxuICAgKiBleGNlcHRpb24gd2FzIHRocm93biBkdXJpbmcgdGhlIHVwZGF0ZS4gVGhpcyBnZXR0ZXIgY2FuIGJlIGltcGxlbWVudGVkIHRvXG4gICAqIGF3YWl0IGFkZGl0aW9uYWwgc3RhdGUuIEZvciBleGFtcGxlLCBpdCBpcyBzb21ldGltZXMgdXNlZnVsIHRvIGF3YWl0IGFcbiAgICogcmVuZGVyZWQgZWxlbWVudCBiZWZvcmUgZnVsZmlsbGluZyB0aGlzIFByb21pc2UuIFRvIGRvIHRoaXMsIGZpcnN0IGF3YWl0XG4gICAqIGBzdXBlci51cGRhdGVDb21wbGV0ZWAgdGhlbiBhbnkgc3Vic2VxdWVudCBzdGF0ZS5cbiAgICpcbiAgICogQHJldHVybnMge1Byb21pc2V9IFRoZSBQcm9taXNlIHJldHVybnMgYSBib29sZWFuIHRoYXQgaW5kaWNhdGVzIGlmIHRoZVxuICAgKiB1cGRhdGUgcmVzb2x2ZWQgd2l0aG91dCB0cmlnZ2VyaW5nIGFub3RoZXIgdXBkYXRlLlxuICAgKi9cbiAgZ2V0IHVwZGF0ZUNvbXBsZXRlKCkge1xuICAgIHJldHVybiB0aGlzLl91cGRhdGVQcm9taXNlO1xuICB9XG5cbiAgLyoqXG4gICAqIENvbnRyb2xzIHdoZXRoZXIgb3Igbm90IGB1cGRhdGVgIHNob3VsZCBiZSBjYWxsZWQgd2hlbiB0aGUgZWxlbWVudCByZXF1ZXN0c1xuICAgKiBhbiB1cGRhdGUuIEJ5IGRlZmF1bHQsIHRoaXMgbWV0aG9kIGFsd2F5cyByZXR1cm5zIGB0cnVlYCwgYnV0IHRoaXMgY2FuIGJlXG4gICAqIGN1c3RvbWl6ZWQgdG8gY29udHJvbCB3aGVuIHRvIHVwZGF0ZS5cbiAgICpcbiAgICogKiBAcGFyYW0gX2NoYW5nZWRQcm9wZXJ0aWVzIE1hcCBvZiBjaGFuZ2VkIHByb3BlcnRpZXMgd2l0aCBvbGQgdmFsdWVzXG4gICAqL1xuICBwcm90ZWN0ZWQgc2hvdWxkVXBkYXRlKF9jaGFuZ2VkUHJvcGVydGllczogUHJvcGVydHlWYWx1ZXMpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGVzIHRoZSBlbGVtZW50LiBUaGlzIG1ldGhvZCByZWZsZWN0cyBwcm9wZXJ0eSB2YWx1ZXMgdG8gYXR0cmlidXRlcy5cbiAgICogSXQgY2FuIGJlIG92ZXJyaWRkZW4gdG8gcmVuZGVyIGFuZCBrZWVwIHVwZGF0ZWQgZWxlbWVudCBET00uXG4gICAqIFNldHRpbmcgcHJvcGVydGllcyBpbnNpZGUgdGhpcyBtZXRob2Qgd2lsbCAqbm90KiB0cmlnZ2VyXG4gICAqIGFub3RoZXIgdXBkYXRlLlxuICAgKlxuICAgKiAqIEBwYXJhbSBfY2hhbmdlZFByb3BlcnRpZXMgTWFwIG9mIGNoYW5nZWQgcHJvcGVydGllcyB3aXRoIG9sZCB2YWx1ZXNcbiAgICovXG4gIHByb3RlY3RlZCB1cGRhdGUoX2NoYW5nZWRQcm9wZXJ0aWVzOiBQcm9wZXJ0eVZhbHVlcykge1xuICAgIGlmICh0aGlzLl9yZWZsZWN0aW5nUHJvcGVydGllcyAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgIHRoaXMuX3JlZmxlY3RpbmdQcm9wZXJ0aWVzLnNpemUgPiAwKSB7XG4gICAgICAvLyBVc2UgZm9yRWFjaCBzbyB0aGlzIHdvcmtzIGV2ZW4gaWYgZm9yL29mIGxvb3BzIGFyZSBjb21waWxlZCB0byBmb3JcbiAgICAgIC8vIGxvb3BzIGV4cGVjdGluZyBhcnJheXNcbiAgICAgIHRoaXMuX3JlZmxlY3RpbmdQcm9wZXJ0aWVzLmZvckVhY2goXG4gICAgICAgICAgKHYsIGspID0+IHRoaXMuX3Byb3BlcnR5VG9BdHRyaWJ1dGUoaywgdGhpc1trIGFzIGtleW9mIHRoaXNdLCB2KSk7XG4gICAgICB0aGlzLl9yZWZsZWN0aW5nUHJvcGVydGllcyA9IHVuZGVmaW5lZDtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogSW52b2tlZCB3aGVuZXZlciB0aGUgZWxlbWVudCBpcyB1cGRhdGVkLiBJbXBsZW1lbnQgdG8gcGVyZm9ybVxuICAgKiBwb3N0LXVwZGF0aW5nIHRhc2tzIHZpYSBET00gQVBJcywgZm9yIGV4YW1wbGUsIGZvY3VzaW5nIGFuIGVsZW1lbnQuXG4gICAqXG4gICAqIFNldHRpbmcgcHJvcGVydGllcyBpbnNpZGUgdGhpcyBtZXRob2Qgd2lsbCB0cmlnZ2VyIHRoZSBlbGVtZW50IHRvIHVwZGF0ZVxuICAgKiBhZ2FpbiBhZnRlciB0aGlzIHVwZGF0ZSBjeWNsZSBjb21wbGV0ZXMuXG4gICAqXG4gICAqICogQHBhcmFtIF9jaGFuZ2VkUHJvcGVydGllcyBNYXAgb2YgY2hhbmdlZCBwcm9wZXJ0aWVzIHdpdGggb2xkIHZhbHVlc1xuICAgKi9cbiAgcHJvdGVjdGVkIHVwZGF0ZWQoX2NoYW5nZWRQcm9wZXJ0aWVzOiBQcm9wZXJ0eVZhbHVlcykge1xuICB9XG5cbiAgLyoqXG4gICAqIEludm9rZWQgd2hlbiB0aGUgZWxlbWVudCBpcyBmaXJzdCB1cGRhdGVkLiBJbXBsZW1lbnQgdG8gcGVyZm9ybSBvbmUgdGltZVxuICAgKiB3b3JrIG9uIHRoZSBlbGVtZW50IGFmdGVyIHVwZGF0ZS5cbiAgICpcbiAgICogU2V0dGluZyBwcm9wZXJ0aWVzIGluc2lkZSB0aGlzIG1ldGhvZCB3aWxsIHRyaWdnZXIgdGhlIGVsZW1lbnQgdG8gdXBkYXRlXG4gICAqIGFnYWluIGFmdGVyIHRoaXMgdXBkYXRlIGN5Y2xlIGNvbXBsZXRlcy5cbiAgICpcbiAgICogKiBAcGFyYW0gX2NoYW5nZWRQcm9wZXJ0aWVzIE1hcCBvZiBjaGFuZ2VkIHByb3BlcnRpZXMgd2l0aCBvbGQgdmFsdWVzXG4gICAqL1xuICBwcm90ZWN0ZWQgZmlyc3RVcGRhdGVkKF9jaGFuZ2VkUHJvcGVydGllczogUHJvcGVydHlWYWx1ZXMpIHtcbiAgfVxufVxuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IChjKSAyMDE3IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqIFRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0XG4gKiBUaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHRcbiAqIENvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzIHBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvXG4gKiBzdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50IGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiAqL1xuXG5pbXBvcnQge0xpdEVsZW1lbnR9IGZyb20gJy4uL2xpdC1lbGVtZW50LmpzJztcblxuaW1wb3J0IHtQcm9wZXJ0eURlY2xhcmF0aW9uLCBVcGRhdGluZ0VsZW1lbnR9IGZyb20gJy4vdXBkYXRpbmctZWxlbWVudC5qcyc7XG5cbmV4cG9ydCB0eXBlIENvbnN0cnVjdG9yPFQ+ID0ge1xuICBuZXcgKC4uLmFyZ3M6IHVua25vd25bXSk6IFRcbn07XG5cbi8vIEZyb20gdGhlIFRDMzkgRGVjb3JhdG9ycyBwcm9wb3NhbFxuaW50ZXJmYWNlIENsYXNzRGVzY3JpcHRvciB7XG4gIGtpbmQ6ICdjbGFzcyc7XG4gIGVsZW1lbnRzOiBDbGFzc0VsZW1lbnRbXTtcbiAgZmluaXNoZXI/OiA8VD4oY2xheno6IENvbnN0cnVjdG9yPFQ+KSA9PiB1bmRlZmluZWQgfCBDb25zdHJ1Y3RvcjxUPjtcbn1cblxuLy8gRnJvbSB0aGUgVEMzOSBEZWNvcmF0b3JzIHByb3Bvc2FsXG5pbnRlcmZhY2UgQ2xhc3NFbGVtZW50IHtcbiAga2luZDogJ2ZpZWxkJ3wnbWV0aG9kJztcbiAga2V5OiBQcm9wZXJ0eUtleTtcbiAgcGxhY2VtZW50OiAnc3RhdGljJ3wncHJvdG90eXBlJ3wnb3duJztcbiAgaW5pdGlhbGl6ZXI/OiBGdW5jdGlvbjtcbiAgZXh0cmFzPzogQ2xhc3NFbGVtZW50W107XG4gIGZpbmlzaGVyPzogPFQ+KGNsYXp6OiBDb25zdHJ1Y3RvcjxUPikgPT4gdW5kZWZpbmVkIHwgQ29uc3RydWN0b3I8VD47XG4gIGRlc2NyaXB0b3I/OiBQcm9wZXJ0eURlc2NyaXB0b3I7XG59XG5cbmNvbnN0IGxlZ2FjeUN1c3RvbUVsZW1lbnQgPVxuICAgICh0YWdOYW1lOiBzdHJpbmcsIGNsYXp6OiBDb25zdHJ1Y3RvcjxIVE1MRWxlbWVudD4pID0+IHtcbiAgICAgIHdpbmRvdy5jdXN0b21FbGVtZW50cy5kZWZpbmUodGFnTmFtZSwgY2xhenopO1xuICAgICAgLy8gQ2FzdCBhcyBhbnkgYmVjYXVzZSBUUyBkb2Vzbid0IHJlY29nbml6ZSB0aGUgcmV0dXJuIHR5cGUgYXMgYmVpbmcgYVxuICAgICAgLy8gc3VidHlwZSBvZiB0aGUgZGVjb3JhdGVkIGNsYXNzIHdoZW4gY2xhenogaXMgdHlwZWQgYXNcbiAgICAgIC8vIGBDb25zdHJ1Y3RvcjxIVE1MRWxlbWVudD5gIGZvciBzb21lIHJlYXNvbi5cbiAgICAgIC8vIGBDb25zdHJ1Y3RvcjxIVE1MRWxlbWVudD5gIGlzIGhlbHBmdWwgdG8gbWFrZSBzdXJlIHRoZSBkZWNvcmF0b3IgaXNcbiAgICAgIC8vIGFwcGxpZWQgdG8gZWxlbWVudHMgaG93ZXZlci5cbiAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby1hbnlcbiAgICAgIHJldHVybiBjbGF6eiBhcyBhbnk7XG4gICAgfTtcblxuY29uc3Qgc3RhbmRhcmRDdXN0b21FbGVtZW50ID1cbiAgICAodGFnTmFtZTogc3RyaW5nLCBkZXNjcmlwdG9yOiBDbGFzc0Rlc2NyaXB0b3IpID0+IHtcbiAgICAgIGNvbnN0IHtraW5kLCBlbGVtZW50c30gPSBkZXNjcmlwdG9yO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAga2luZCxcbiAgICAgICAgZWxlbWVudHMsXG4gICAgICAgIC8vIFRoaXMgY2FsbGJhY2sgaXMgY2FsbGVkIG9uY2UgdGhlIGNsYXNzIGlzIG90aGVyd2lzZSBmdWxseSBkZWZpbmVkXG4gICAgICAgIGZpbmlzaGVyKGNsYXp6OiBDb25zdHJ1Y3RvcjxIVE1MRWxlbWVudD4pIHtcbiAgICAgICAgICB3aW5kb3cuY3VzdG9tRWxlbWVudHMuZGVmaW5lKHRhZ05hbWUsIGNsYXp6KTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9O1xuXG4vKipcbiAqIENsYXNzIGRlY29yYXRvciBmYWN0b3J5IHRoYXQgZGVmaW5lcyB0aGUgZGVjb3JhdGVkIGNsYXNzIGFzIGEgY3VzdG9tIGVsZW1lbnQuXG4gKlxuICogQHBhcmFtIHRhZ05hbWUgdGhlIG5hbWUgb2YgdGhlIGN1c3RvbSBlbGVtZW50IHRvIGRlZmluZVxuICovXG5leHBvcnQgY29uc3QgY3VzdG9tRWxlbWVudCA9ICh0YWdOYW1lOiBzdHJpbmcpID0+XG4gICAgKGNsYXNzT3JEZXNjcmlwdG9yOiBDb25zdHJ1Y3RvcjxIVE1MRWxlbWVudD58Q2xhc3NEZXNjcmlwdG9yKSA9PlxuICAgICAgICAodHlwZW9mIGNsYXNzT3JEZXNjcmlwdG9yID09PSAnZnVuY3Rpb24nKSA/XG4gICAgbGVnYWN5Q3VzdG9tRWxlbWVudCh0YWdOYW1lLCBjbGFzc09yRGVzY3JpcHRvcikgOlxuICAgIHN0YW5kYXJkQ3VzdG9tRWxlbWVudCh0YWdOYW1lLCBjbGFzc09yRGVzY3JpcHRvcik7XG5cbmNvbnN0IHN0YW5kYXJkUHJvcGVydHkgPVxuICAgIChvcHRpb25zOiBQcm9wZXJ0eURlY2xhcmF0aW9uLCBlbGVtZW50OiBDbGFzc0VsZW1lbnQpID0+IHtcbiAgICAgIC8vIFdoZW4gZGVjb3JhdGluZyBhbiBhY2Nlc3NvciwgcGFzcyBpdCB0aHJvdWdoIGFuZCBhZGQgcHJvcGVydHkgbWV0YWRhdGEuXG4gICAgICAvLyBOb3RlLCB0aGUgYGhhc093blByb3BlcnR5YCBjaGVjayBpbiBgY3JlYXRlUHJvcGVydHlgIGVuc3VyZXMgd2UgZG9uJ3RcbiAgICAgIC8vIHN0b21wIG92ZXIgdGhlIHVzZXIncyBhY2Nlc3Nvci5cbiAgICAgIGlmIChlbGVtZW50LmtpbmQgPT09ICdtZXRob2QnICYmIGVsZW1lbnQuZGVzY3JpcHRvciAmJlxuICAgICAgICAgICEoJ3ZhbHVlJyBpbiBlbGVtZW50LmRlc2NyaXB0b3IpKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgLi4uZWxlbWVudCxcbiAgICAgICAgICBmaW5pc2hlcihjbGF6ejogdHlwZW9mIFVwZGF0aW5nRWxlbWVudCkge1xuICAgICAgICAgICAgY2xhenouY3JlYXRlUHJvcGVydHkoZWxlbWVudC5rZXksIG9wdGlvbnMpO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIGNyZWF0ZVByb3BlcnR5KCkgdGFrZXMgY2FyZSBvZiBkZWZpbmluZyB0aGUgcHJvcGVydHksIGJ1dCB3ZSBzdGlsbFxuICAgICAgICAvLyBtdXN0IHJldHVybiBzb21lIGtpbmQgb2YgZGVzY3JpcHRvciwgc28gcmV0dXJuIGEgZGVzY3JpcHRvciBmb3IgYW5cbiAgICAgICAgLy8gdW51c2VkIHByb3RvdHlwZSBmaWVsZC4gVGhlIGZpbmlzaGVyIGNhbGxzIGNyZWF0ZVByb3BlcnR5KCkuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAga2luZDogJ2ZpZWxkJyxcbiAgICAgICAgICBrZXk6IFN5bWJvbCgpLFxuICAgICAgICAgIHBsYWNlbWVudDogJ293bicsXG4gICAgICAgICAgZGVzY3JpcHRvcjoge30sXG4gICAgICAgICAgLy8gV2hlbiBAYmFiZWwvcGx1Z2luLXByb3Bvc2FsLWRlY29yYXRvcnMgaW1wbGVtZW50cyBpbml0aWFsaXplcnMsXG4gICAgICAgICAgLy8gZG8gdGhpcyBpbnN0ZWFkIG9mIHRoZSBpbml0aWFsaXplciBiZWxvdy4gU2VlOlxuICAgICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9iYWJlbC9iYWJlbC9pc3N1ZXMvOTI2MCBleHRyYXM6IFtcbiAgICAgICAgICAvLyAgIHtcbiAgICAgICAgICAvLyAgICAga2luZDogJ2luaXRpYWxpemVyJyxcbiAgICAgICAgICAvLyAgICAgcGxhY2VtZW50OiAnb3duJyxcbiAgICAgICAgICAvLyAgICAgaW5pdGlhbGl6ZXI6IGRlc2NyaXB0b3IuaW5pdGlhbGl6ZXIsXG4gICAgICAgICAgLy8gICB9XG4gICAgICAgICAgLy8gXSxcbiAgICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bm8tYW55IGRlY29yYXRvclxuICAgICAgICAgIGluaXRpYWxpemVyKHRoaXM6IGFueSkge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBlbGVtZW50LmluaXRpYWxpemVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgIHRoaXNbZWxlbWVudC5rZXldID0gZWxlbWVudC5pbml0aWFsaXplci5jYWxsKHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgICAgZmluaXNoZXIoY2xheno6IHR5cGVvZiBVcGRhdGluZ0VsZW1lbnQpIHtcbiAgICAgICAgICAgIGNsYXp6LmNyZWF0ZVByb3BlcnR5KGVsZW1lbnQua2V5LCBvcHRpb25zKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfTtcblxuY29uc3QgbGVnYWN5UHJvcGVydHkgPVxuICAgIChvcHRpb25zOiBQcm9wZXJ0eURlY2xhcmF0aW9uLCBwcm90bzogT2JqZWN0LCBuYW1lOiBQcm9wZXJ0eUtleSkgPT4ge1xuICAgICAgKHByb3RvLmNvbnN0cnVjdG9yIGFzIHR5cGVvZiBVcGRhdGluZ0VsZW1lbnQpXG4gICAgICAgICAgLmNyZWF0ZVByb3BlcnR5KG5hbWUsIG9wdGlvbnMpO1xuICAgIH07XG5cbi8qKlxuICogQSBwcm9wZXJ0eSBkZWNvcmF0b3Igd2hpY2ggY3JlYXRlcyBhIExpdEVsZW1lbnQgcHJvcGVydHkgd2hpY2ggcmVmbGVjdHMgYVxuICogY29ycmVzcG9uZGluZyBhdHRyaWJ1dGUgdmFsdWUuIEEgYFByb3BlcnR5RGVjbGFyYXRpb25gIG1heSBvcHRpb25hbGx5IGJlXG4gKiBzdXBwbGllZCB0byBjb25maWd1cmUgcHJvcGVydHkgZmVhdHVyZXMuXG4gKlxuICogQEV4cG9ydERlY29yYXRlZEl0ZW1zXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwcm9wZXJ0eShvcHRpb25zPzogUHJvcGVydHlEZWNsYXJhdGlvbikge1xuICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bm8tYW55IGRlY29yYXRvclxuICByZXR1cm4gKHByb3RvT3JEZXNjcmlwdG9yOiBPYmplY3R8Q2xhc3NFbGVtZW50LCBuYW1lPzogUHJvcGVydHlLZXkpOiBhbnkgPT5cbiAgICAgICAgICAgICAobmFtZSAhPT0gdW5kZWZpbmVkKSA/XG4gICAgICBsZWdhY3lQcm9wZXJ0eShvcHRpb25zISwgcHJvdG9PckRlc2NyaXB0b3IgYXMgT2JqZWN0LCBuYW1lKSA6XG4gICAgICBzdGFuZGFyZFByb3BlcnR5KG9wdGlvbnMhLCBwcm90b09yRGVzY3JpcHRvciBhcyBDbGFzc0VsZW1lbnQpO1xufVxuXG4vKipcbiAqIEEgcHJvcGVydHkgZGVjb3JhdG9yIHRoYXQgY29udmVydHMgYSBjbGFzcyBwcm9wZXJ0eSBpbnRvIGEgZ2V0dGVyIHRoYXRcbiAqIGV4ZWN1dGVzIGEgcXVlcnlTZWxlY3RvciBvbiB0aGUgZWxlbWVudCdzIHJlbmRlclJvb3QuXG4gKlxuICogQEV4cG9ydERlY29yYXRlZEl0ZW1zXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBxdWVyeShzZWxlY3Rvcjogc3RyaW5nKSB7XG4gIHJldHVybiAocHJvdG9PckRlc2NyaXB0b3I6IE9iamVjdHxDbGFzc0VsZW1lbnQsXG4gICAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLWFueSBkZWNvcmF0b3JcbiAgICAgICAgICBuYW1lPzogUHJvcGVydHlLZXkpOiBhbnkgPT4ge1xuICAgIGNvbnN0IGRlc2NyaXB0b3IgPSB7XG4gICAgICBnZXQodGhpczogTGl0RWxlbWVudCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZW5kZXJSb290LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpO1xuICAgICAgfSxcbiAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgfTtcbiAgICByZXR1cm4gKG5hbWUgIT09IHVuZGVmaW5lZCkgP1xuICAgICAgICBsZWdhY3lRdWVyeShkZXNjcmlwdG9yLCBwcm90b09yRGVzY3JpcHRvciBhcyBPYmplY3QsIG5hbWUpIDpcbiAgICAgICAgc3RhbmRhcmRRdWVyeShkZXNjcmlwdG9yLCBwcm90b09yRGVzY3JpcHRvciBhcyBDbGFzc0VsZW1lbnQpO1xuICB9O1xufVxuXG4vKipcbiAqIEEgcHJvcGVydHkgZGVjb3JhdG9yIHRoYXQgY29udmVydHMgYSBjbGFzcyBwcm9wZXJ0eSBpbnRvIGEgZ2V0dGVyXG4gKiB0aGF0IGV4ZWN1dGVzIGEgcXVlcnlTZWxlY3RvckFsbCBvbiB0aGUgZWxlbWVudCdzIHJlbmRlclJvb3QuXG4gKlxuICogQEV4cG9ydERlY29yYXRlZEl0ZW1zXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBxdWVyeUFsbChzZWxlY3Rvcjogc3RyaW5nKSB7XG4gIHJldHVybiAocHJvdG9PckRlc2NyaXB0b3I6IE9iamVjdHxDbGFzc0VsZW1lbnQsXG4gICAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLWFueSBkZWNvcmF0b3JcbiAgICAgICAgICBuYW1lPzogUHJvcGVydHlLZXkpOiBhbnkgPT4ge1xuICAgIGNvbnN0IGRlc2NyaXB0b3IgPSB7XG4gICAgICBnZXQodGhpczogTGl0RWxlbWVudCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZW5kZXJSb290LnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpO1xuICAgICAgfSxcbiAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgfTtcbiAgICByZXR1cm4gKG5hbWUgIT09IHVuZGVmaW5lZCkgP1xuICAgICAgICBsZWdhY3lRdWVyeShkZXNjcmlwdG9yLCBwcm90b09yRGVzY3JpcHRvciBhcyBPYmplY3QsIG5hbWUpIDpcbiAgICAgICAgc3RhbmRhcmRRdWVyeShkZXNjcmlwdG9yLCBwcm90b09yRGVzY3JpcHRvciBhcyBDbGFzc0VsZW1lbnQpO1xuICB9O1xufVxuXG5jb25zdCBsZWdhY3lRdWVyeSA9XG4gICAgKGRlc2NyaXB0b3I6IFByb3BlcnR5RGVzY3JpcHRvciwgcHJvdG86IE9iamVjdCwgbmFtZTogUHJvcGVydHlLZXkpID0+IHtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwcm90bywgbmFtZSwgZGVzY3JpcHRvcik7XG4gICAgfTtcblxuY29uc3Qgc3RhbmRhcmRRdWVyeSA9IChkZXNjcmlwdG9yOiBQcm9wZXJ0eURlc2NyaXB0b3IsIGVsZW1lbnQ6IENsYXNzRWxlbWVudCkgPT5cbiAgICAoe1xuICAgICAga2luZDogJ21ldGhvZCcsXG4gICAgICBwbGFjZW1lbnQ6ICdwcm90b3R5cGUnLFxuICAgICAga2V5OiBlbGVtZW50LmtleSxcbiAgICAgIGRlc2NyaXB0b3IsXG4gICAgfSk7XG5cbmNvbnN0IHN0YW5kYXJkRXZlbnRPcHRpb25zID1cbiAgICAob3B0aW9uczogQWRkRXZlbnRMaXN0ZW5lck9wdGlvbnMsIGVsZW1lbnQ6IENsYXNzRWxlbWVudCkgPT4ge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4uZWxlbWVudCxcbiAgICAgICAgZmluaXNoZXIoY2xheno6IHR5cGVvZiBVcGRhdGluZ0VsZW1lbnQpIHtcbiAgICAgICAgICBPYmplY3QuYXNzaWduKFxuICAgICAgICAgICAgICBjbGF6ei5wcm90b3R5cGVbZWxlbWVudC5rZXkgYXMga2V5b2YgVXBkYXRpbmdFbGVtZW50XSwgb3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfTtcblxuY29uc3QgbGVnYWN5RXZlbnRPcHRpb25zID1cbiAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bm8tYW55IGxlZ2FjeSBkZWNvcmF0b3JcbiAgICAob3B0aW9uczogQWRkRXZlbnRMaXN0ZW5lck9wdGlvbnMsIHByb3RvOiBhbnksIG5hbWU6IFByb3BlcnR5S2V5KSA9PiB7XG4gICAgICBPYmplY3QuYXNzaWduKHByb3RvW25hbWVdLCBvcHRpb25zKTtcbiAgICB9O1xuXG4vKipcbiAqIEFkZHMgZXZlbnQgbGlzdGVuZXIgb3B0aW9ucyB0byBhIG1ldGhvZCB1c2VkIGFzIGFuIGV2ZW50IGxpc3RlbmVyIGluIGFcbiAqIGxpdC1odG1sIHRlbXBsYXRlLlxuICpcbiAqIEBwYXJhbSBvcHRpb25zIEFuIG9iamVjdCB0aGF0IHNwZWNpZmlzIGV2ZW50IGxpc3RlbmVyIG9wdGlvbnMgYXMgYWNjZXB0ZWQgYnlcbiAqIGBFdmVudFRhcmdldCNhZGRFdmVudExpc3RlbmVyYCBhbmQgYEV2ZW50VGFyZ2V0I3JlbW92ZUV2ZW50TGlzdGVuZXJgLlxuICpcbiAqIEN1cnJlbnQgYnJvd3NlcnMgc3VwcG9ydCB0aGUgYGNhcHR1cmVgLCBgcGFzc2l2ZWAsIGFuZCBgb25jZWAgb3B0aW9ucy4gU2VlOlxuICogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0V2ZW50VGFyZ2V0L2FkZEV2ZW50TGlzdGVuZXIjUGFyYW1ldGVyc1xuICpcbiAqIEBleGFtcGxlXG4gKlxuICogICAgIGNsYXNzIE15RWxlbWVudCB7XG4gKlxuICogICAgICAgY2xpY2tlZCA9IGZhbHNlO1xuICpcbiAqICAgICAgIHJlbmRlcigpIHtcbiAqICAgICAgICAgcmV0dXJuIGh0bWxgPGRpdiBAY2xpY2s9JHt0aGlzLl9vbkNsaWNrfWA+PGJ1dHRvbj48L2J1dHRvbj48L2Rpdj5gO1xuICogICAgICAgfVxuICpcbiAqICAgICAgIEBldmVudE9wdGlvbnMoe2NhcHR1cmU6IHRydWV9KVxuICogICAgICAgX29uQ2xpY2soZSkge1xuICogICAgICAgICB0aGlzLmNsaWNrZWQgPSB0cnVlO1xuICogICAgICAgfVxuICogICAgIH1cbiAqL1xuZXhwb3J0IGNvbnN0IGV2ZW50T3B0aW9ucyA9IChvcHRpb25zOiBBZGRFdmVudExpc3RlbmVyT3B0aW9ucykgPT5cbiAgICAvLyBSZXR1cm4gdmFsdWUgdHlwZWQgYXMgYW55IHRvIHByZXZlbnQgVHlwZVNjcmlwdCBmcm9tIGNvbXBsYWluaW5nIHRoYXRcbiAgICAvLyBzdGFuZGFyZCBkZWNvcmF0b3IgZnVuY3Rpb24gc2lnbmF0dXJlIGRvZXMgbm90IG1hdGNoIFR5cGVTY3JpcHQgZGVjb3JhdG9yXG4gICAgLy8gc2lnbmF0dXJlXG4gICAgLy8gVE9ETyhrc2NoYWFmKTogdW5jbGVhciB3aHkgaXQgd2FzIG9ubHkgZmFpbGluZyBvbiB0aGlzIGRlY29yYXRvciBhbmQgbm90XG4gICAgLy8gdGhlIG90aGVyc1xuICAgICgocHJvdG9PckRlc2NyaXB0b3I6IE9iamVjdHxDbGFzc0VsZW1lbnQsIG5hbWU/OiBzdHJpbmcpID0+XG4gICAgICAgICAobmFtZSAhPT0gdW5kZWZpbmVkKSA/XG4gICAgICAgICBsZWdhY3lFdmVudE9wdGlvbnMob3B0aW9ucywgcHJvdG9PckRlc2NyaXB0b3IgYXMgT2JqZWN0LCBuYW1lKSA6XG4gICAgICAgICBzdGFuZGFyZEV2ZW50T3B0aW9ucyhvcHRpb25zLCBwcm90b09yRGVzY3JpcHRvciBhcyBDbGFzc0VsZW1lbnQpKSBhc1xuICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bm8tYW55IGRlY29yYXRvclxuICAgICAgICBhbnk7XG4iLCIvKipcbkBsaWNlbnNlXG5Db3B5cmlnaHQgKGMpIDIwMTkgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0XG5odHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHQgVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdFxuaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0IFRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZVxuZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHQgQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXNcbnBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvIHN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnRcbmZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuKi9cblxuZXhwb3J0IGNvbnN0IHN1cHBvcnRzQWRvcHRpbmdTdHlsZVNoZWV0cyA9XG4gICAgKCdhZG9wdGVkU3R5bGVTaGVldHMnIGluIERvY3VtZW50LnByb3RvdHlwZSkgJiZcbiAgICAoJ3JlcGxhY2UnIGluIENTU1N0eWxlU2hlZXQucHJvdG90eXBlKTtcblxuY29uc3QgY29uc3RydWN0aW9uVG9rZW4gPSBTeW1ib2woKTtcblxuZXhwb3J0IGNsYXNzIENTU1Jlc3VsdCB7XG4gIF9zdHlsZVNoZWV0PzogQ1NTU3R5bGVTaGVldHxudWxsO1xuXG4gIHJlYWRvbmx5IGNzc1RleHQ6IHN0cmluZztcblxuICBjb25zdHJ1Y3Rvcihjc3NUZXh0OiBzdHJpbmcsIHNhZmVUb2tlbjogc3ltYm9sKSB7XG4gICAgaWYgKHNhZmVUb2tlbiAhPT0gY29uc3RydWN0aW9uVG9rZW4pIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAnQ1NTUmVzdWx0IGlzIG5vdCBjb25zdHJ1Y3RhYmxlLiBVc2UgYHVuc2FmZUNTU2Agb3IgYGNzc2AgaW5zdGVhZC4nKTtcbiAgICB9XG4gICAgdGhpcy5jc3NUZXh0ID0gY3NzVGV4dDtcbiAgfVxuXG4gIC8vIE5vdGUsIHRoaXMgaXMgYSBnZXR0ZXIgc28gdGhhdCBpdCdzIGxhenkuIEluIHByYWN0aWNlLCB0aGlzIG1lYW5zXG4gIC8vIHN0eWxlc2hlZXRzIGFyZSBub3QgY3JlYXRlZCB1bnRpbCB0aGUgZmlyc3QgZWxlbWVudCBpbnN0YW5jZSBpcyBtYWRlLlxuICBnZXQgc3R5bGVTaGVldCgpOiBDU1NTdHlsZVNoZWV0fG51bGwge1xuICAgIGlmICh0aGlzLl9zdHlsZVNoZWV0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgIC8vIE5vdGUsIGlmIGBhZG9wdGVkU3R5bGVTaGVldHNgIGlzIHN1cHBvcnRlZCB0aGVuIHdlIGFzc3VtZSBDU1NTdHlsZVNoZWV0XG4gICAgICAvLyBpcyBjb25zdHJ1Y3RhYmxlLlxuICAgICAgaWYgKHN1cHBvcnRzQWRvcHRpbmdTdHlsZVNoZWV0cykge1xuICAgICAgICB0aGlzLl9zdHlsZVNoZWV0ID0gbmV3IENTU1N0eWxlU2hlZXQoKTtcbiAgICAgICAgdGhpcy5fc3R5bGVTaGVldC5yZXBsYWNlU3luYyh0aGlzLmNzc1RleHQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5fc3R5bGVTaGVldCA9IG51bGw7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0aGlzLl9zdHlsZVNoZWV0O1xuICB9XG5cbiAgdG9TdHJpbmcoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy5jc3NUZXh0O1xuICB9XG59XG5cbi8qKlxuICogV3JhcCBhIHZhbHVlIGZvciBpbnRlcnBvbGF0aW9uIGluIGEgY3NzIHRhZ2dlZCB0ZW1wbGF0ZSBsaXRlcmFsLlxuICpcbiAqIFRoaXMgaXMgdW5zYWZlIGJlY2F1c2UgdW50cnVzdGVkIENTUyB0ZXh0IGNhbiBiZSB1c2VkIHRvIHBob25lIGhvbWVcbiAqIG9yIGV4ZmlsdHJhdGUgZGF0YSB0byBhbiBhdHRhY2tlciBjb250cm9sbGVkIHNpdGUuIFRha2UgY2FyZSB0byBvbmx5IHVzZVxuICogdGhpcyB3aXRoIHRydXN0ZWQgaW5wdXQuXG4gKi9cbmV4cG9ydCBjb25zdCB1bnNhZmVDU1MgPSAodmFsdWU6IHVua25vd24pID0+IHtcbiAgcmV0dXJuIG5ldyBDU1NSZXN1bHQoU3RyaW5nKHZhbHVlKSwgY29uc3RydWN0aW9uVG9rZW4pO1xufTtcblxuY29uc3QgdGV4dEZyb21DU1NSZXN1bHQgPSAodmFsdWU6IENTU1Jlc3VsdCkgPT4ge1xuICBpZiAodmFsdWUgaW5zdGFuY2VvZiBDU1NSZXN1bHQpIHtcbiAgICByZXR1cm4gdmFsdWUuY3NzVGV4dDtcbiAgfSBlbHNlIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIGBWYWx1ZSBwYXNzZWQgdG8gJ2NzcycgZnVuY3Rpb24gbXVzdCBiZSBhICdjc3MnIGZ1bmN0aW9uIHJlc3VsdDogJHtcbiAgICAgICAgICAgIHZhbHVlfS4gVXNlICd1bnNhZmVDU1MnIHRvIHBhc3Mgbm9uLWxpdGVyYWwgdmFsdWVzLCBidXRcbiAgICAgICAgICAgIHRha2UgY2FyZSB0byBlbnN1cmUgcGFnZSBzZWN1cml0eS5gKTtcbiAgfVxufTtcblxuLyoqXG4gKiBUZW1wbGF0ZSB0YWcgd2hpY2ggd2hpY2ggY2FuIGJlIHVzZWQgd2l0aCBMaXRFbGVtZW50J3MgYHN0eWxlYCBwcm9wZXJ0eSB0b1xuICogc2V0IGVsZW1lbnQgc3R5bGVzLiBGb3Igc2VjdXJpdHkgcmVhc29ucywgb25seSBsaXRlcmFsIHN0cmluZyB2YWx1ZXMgbWF5IGJlXG4gKiB1c2VkLiBUbyBpbmNvcnBvcmF0ZSBub24tbGl0ZXJhbCB2YWx1ZXMgYHVuc2FmZUNTU2AgbWF5IGJlIHVzZWQgaW5zaWRlIGFcbiAqIHRlbXBsYXRlIHN0cmluZyBwYXJ0LlxuICovXG5leHBvcnQgY29uc3QgY3NzID0gKHN0cmluZ3M6IFRlbXBsYXRlU3RyaW5nc0FycmF5LCAuLi52YWx1ZXM6IENTU1Jlc3VsdFtdKSA9PiB7XG4gIGNvbnN0IGNzc1RleHQgPSB2YWx1ZXMucmVkdWNlKFxuICAgICAgKGFjYywgdiwgaWR4KSA9PiBhY2MgKyB0ZXh0RnJvbUNTU1Jlc3VsdCh2KSArIHN0cmluZ3NbaWR4ICsgMV0sXG4gICAgICBzdHJpbmdzWzBdKTtcbiAgcmV0dXJuIG5ldyBDU1NSZXN1bHQoY3NzVGV4dCwgY29uc3RydWN0aW9uVG9rZW4pO1xufTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAoYykgMjAxNyBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBUaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0XG4gKiBUaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0XG4gKiBDb2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzb1xuICogc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudCBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4gKi9cbmltcG9ydCB7VGVtcGxhdGVSZXN1bHR9IGZyb20gJ2xpdC1odG1sJztcbmltcG9ydCB7cmVuZGVyfSBmcm9tICdsaXQtaHRtbC9saWIvc2hhZHktcmVuZGVyLmpzJztcblxuaW1wb3J0IHtQcm9wZXJ0eVZhbHVlcywgVXBkYXRpbmdFbGVtZW50fSBmcm9tICcuL2xpYi91cGRhdGluZy1lbGVtZW50LmpzJztcblxuZXhwb3J0ICogZnJvbSAnLi9saWIvdXBkYXRpbmctZWxlbWVudC5qcyc7XG5leHBvcnQgKiBmcm9tICcuL2xpYi9kZWNvcmF0b3JzLmpzJztcbmV4cG9ydCB7aHRtbCwgc3ZnLCBUZW1wbGF0ZVJlc3VsdCwgU1ZHVGVtcGxhdGVSZXN1bHR9IGZyb20gJ2xpdC1odG1sL2xpdC1odG1sLmpzJztcbmltcG9ydCB7c3VwcG9ydHNBZG9wdGluZ1N0eWxlU2hlZXRzLCBDU1NSZXN1bHR9IGZyb20gJy4vbGliL2Nzcy10YWcuanMnO1xuZXhwb3J0ICogZnJvbSAnLi9saWIvY3NzLXRhZy5qcyc7XG5cbmRlY2xhcmUgZ2xvYmFsIHtcbiAgaW50ZXJmYWNlIFdpbmRvdyB7XG4gICAgbGl0RWxlbWVudFZlcnNpb25zOiBzdHJpbmdbXTtcbiAgfVxufVxuXG4vLyBJTVBPUlRBTlQ6IGRvIG5vdCBjaGFuZ2UgdGhlIHByb3BlcnR5IG5hbWUgb3IgdGhlIGFzc2lnbm1lbnQgZXhwcmVzc2lvbi5cbi8vIFRoaXMgbGluZSB3aWxsIGJlIHVzZWQgaW4gcmVnZXhlcyB0byBzZWFyY2ggZm9yIExpdEVsZW1lbnQgdXNhZ2UuXG4vLyBUT0RPKGp1c3RpbmZhZ25hbmkpOiBpbmplY3QgdmVyc2lvbiBudW1iZXIgYXQgYnVpbGQgdGltZVxuKHdpbmRvd1snbGl0RWxlbWVudFZlcnNpb25zJ10gfHwgKHdpbmRvd1snbGl0RWxlbWVudFZlcnNpb25zJ10gPSBbXSkpXG4gICAgLnB1c2goJzIuMC4xJyk7XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ1NTUmVzdWx0QXJyYXkgZXh0ZW5kcyBBcnJheTxDU1NSZXN1bHR8Q1NTUmVzdWx0QXJyYXk+IHt9XG5cbi8qKlxuICogTWluaW1hbCBpbXBsZW1lbnRhdGlvbiBvZiBBcnJheS5wcm90b3R5cGUuZmxhdFxuICogQHBhcmFtIGFyciB0aGUgYXJyYXkgdG8gZmxhdHRlblxuICogQHBhcmFtIHJlc3VsdCB0aGUgYWNjdW1sYXRlZCByZXN1bHRcbiAqL1xuZnVuY3Rpb24gYXJyYXlGbGF0KFxuICAgIHN0eWxlczogQ1NTUmVzdWx0QXJyYXksIHJlc3VsdDogQ1NTUmVzdWx0W10gPSBbXSk6IENTU1Jlc3VsdFtdIHtcbiAgZm9yIChsZXQgaSA9IDAsIGxlbmd0aCA9IHN0eWxlcy5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IHZhbHVlID0gc3R5bGVzW2ldO1xuICAgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgYXJyYXlGbGF0KHZhbHVlLCByZXN1bHQpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXN1bHQucHVzaCh2YWx1ZSk7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKiBEZWVwbHkgZmxhdHRlbnMgc3R5bGVzIGFycmF5LiBVc2VzIG5hdGl2ZSBmbGF0IGlmIGF2YWlsYWJsZS4gKi9cbmNvbnN0IGZsYXR0ZW5TdHlsZXMgPSAoc3R5bGVzOiBDU1NSZXN1bHRBcnJheSk6IENTU1Jlc3VsdFtdID0+XG4gICAgc3R5bGVzLmZsYXQgPyBzdHlsZXMuZmxhdChJbmZpbml0eSkgOiBhcnJheUZsYXQoc3R5bGVzKTtcblxuZXhwb3J0IGNsYXNzIExpdEVsZW1lbnQgZXh0ZW5kcyBVcGRhdGluZ0VsZW1lbnQge1xuICAvKipcbiAgICogRW5zdXJlIHRoaXMgY2xhc3MgaXMgbWFya2VkIGFzIGBmaW5hbGl6ZWRgIGFzIGFuIG9wdGltaXphdGlvbiBlbnN1cmluZ1xuICAgKiBpdCB3aWxsIG5vdCBuZWVkbGVzc2x5IHRyeSB0byBgZmluYWxpemVgLlxuICAgKi9cbiAgcHJvdGVjdGVkIHN0YXRpYyBmaW5hbGl6ZWQgPSB0cnVlO1xuXG4gIC8qKlxuICAgKiBSZW5kZXIgbWV0aG9kIHVzZWQgdG8gcmVuZGVyIHRoZSBsaXQtaHRtbCBUZW1wbGF0ZVJlc3VsdCB0byB0aGUgZWxlbWVudCdzXG4gICAqIERPTS5cbiAgICogQHBhcmFtIHtUZW1wbGF0ZVJlc3VsdH0gVGVtcGxhdGUgdG8gcmVuZGVyLlxuICAgKiBAcGFyYW0ge0VsZW1lbnR8RG9jdW1lbnRGcmFnbWVudH0gTm9kZSBpbnRvIHdoaWNoIHRvIHJlbmRlci5cbiAgICogQHBhcmFtIHtTdHJpbmd9IEVsZW1lbnQgbmFtZS5cbiAgICogQG5vY29sbGFwc2VcbiAgICovXG4gIHN0YXRpYyByZW5kZXIgPSByZW5kZXI7XG5cbiAgLyoqXG4gICAqIEFycmF5IG9mIHN0eWxlcyB0byBhcHBseSB0byB0aGUgZWxlbWVudC4gVGhlIHN0eWxlcyBzaG91bGQgYmUgZGVmaW5lZFxuICAgKiB1c2luZyB0aGUgYGNzc2AgdGFnIGZ1bmN0aW9uLlxuICAgKi9cbiAgc3RhdGljIHN0eWxlcz86IENTU1Jlc3VsdHxDU1NSZXN1bHRBcnJheTtcblxuICBwcml2YXRlIHN0YXRpYyBfc3R5bGVzOiBDU1NSZXN1bHRbXXx1bmRlZmluZWQ7XG5cbiAgLyoqIEBub2NvbGxhcHNlICovXG4gIHByb3RlY3RlZCBzdGF0aWMgZmluYWxpemUoKSB7XG4gICAgc3VwZXIuZmluYWxpemUoKTtcbiAgICAvLyBQcmVwYXJlIHN0eWxpbmcgdGhhdCBpcyBzdGFtcGVkIGF0IGZpcnN0IHJlbmRlciB0aW1lLiBTdHlsaW5nXG4gICAgLy8gaXMgYnVpbHQgZnJvbSB1c2VyIHByb3ZpZGVkIGBzdHlsZXNgIG9yIGlzIGluaGVyaXRlZCBmcm9tIHRoZSBzdXBlcmNsYXNzLlxuICAgIHRoaXMuX3N0eWxlcyA9XG4gICAgICAgIHRoaXMuaGFzT3duUHJvcGVydHkoSlNDb21waWxlcl9yZW5hbWVQcm9wZXJ0eSgnc3R5bGVzJywgdGhpcykpID9cbiAgICAgICAgdGhpcy5fZ2V0VW5pcXVlU3R5bGVzKCkgOlxuICAgICAgICB0aGlzLl9zdHlsZXMgfHwgW107XG4gIH1cblxuICAvKiogQG5vY29sbGFwc2UgKi9cbiAgcHJpdmF0ZSBzdGF0aWMgX2dldFVuaXF1ZVN0eWxlcygpOiBDU1NSZXN1bHRbXSB7XG4gICAgLy8gVGFrZSBjYXJlIG5vdCB0byBjYWxsIGB0aGlzLnN0eWxlc2AgbXVsdGlwbGUgdGltZXMgc2luY2UgdGhpcyBnZW5lcmF0ZXNcbiAgICAvLyBuZXcgQ1NTUmVzdWx0cyBlYWNoIHRpbWUuXG4gICAgLy8gVE9ETyhzb3J2ZWxsKTogU2luY2Ugd2UgZG8gbm90IGNhY2hlIENTU1Jlc3VsdHMgYnkgaW5wdXQsIGFueVxuICAgIC8vIHNoYXJlZCBzdHlsZXMgd2lsbCBnZW5lcmF0ZSBuZXcgc3R5bGVzaGVldCBvYmplY3RzLCB3aGljaCBpcyB3YXN0ZWZ1bC5cbiAgICAvLyBUaGlzIHNob3VsZCBiZSBhZGRyZXNzZWQgd2hlbiBhIGJyb3dzZXIgc2hpcHMgY29uc3RydWN0YWJsZVxuICAgIC8vIHN0eWxlc2hlZXRzLlxuICAgIGNvbnN0IHVzZXJTdHlsZXMgPSB0aGlzLnN0eWxlcztcbiAgICBjb25zdCBzdHlsZXM6IENTU1Jlc3VsdFtdID0gW107XG4gICAgaWYgKEFycmF5LmlzQXJyYXkodXNlclN0eWxlcykpIHtcbiAgICAgIGNvbnN0IGZsYXRTdHlsZXMgPSBmbGF0dGVuU3R5bGVzKHVzZXJTdHlsZXMpO1xuICAgICAgLy8gQXMgYSBwZXJmb3JtYW5jZSBvcHRpbWl6YXRpb24gdG8gYXZvaWQgZHVwbGljYXRlZCBzdHlsaW5nIHRoYXQgY2FuXG4gICAgICAvLyBvY2N1ciBlc3BlY2lhbGx5IHdoZW4gY29tcG9zaW5nIHZpYSBzdWJjbGFzc2luZywgZGUtZHVwbGljYXRlIHN0eWxlc1xuICAgICAgLy8gcHJlc2VydmluZyB0aGUgbGFzdCBpdGVtIGluIHRoZSBsaXN0LiBUaGUgbGFzdCBpdGVtIGlzIGtlcHQgdG9cbiAgICAgIC8vIHRyeSB0byBwcmVzZXJ2ZSBjYXNjYWRlIG9yZGVyIHdpdGggdGhlIGFzc3VtcHRpb24gdGhhdCBpdCdzIG1vc3RcbiAgICAgIC8vIGltcG9ydGFudCB0aGF0IGxhc3QgYWRkZWQgc3R5bGVzIG92ZXJyaWRlIHByZXZpb3VzIHN0eWxlcy5cbiAgICAgIGNvbnN0IHN0eWxlU2V0ID0gZmxhdFN0eWxlcy5yZWR1Y2VSaWdodCgoc2V0LCBzKSA9PiB7XG4gICAgICAgIHNldC5hZGQocyk7XG4gICAgICAgIC8vIG9uIElFIHNldC5hZGQgZG9lcyBub3QgcmV0dXJuIHRoZSBzZXQuXG4gICAgICAgIHJldHVybiBzZXQ7XG4gICAgICB9LCBuZXcgU2V0PENTU1Jlc3VsdD4oKSk7XG4gICAgICAvLyBBcnJheS5mcm9tIGRvZXMgbm90IHdvcmsgb24gU2V0IGluIElFXG4gICAgICBzdHlsZVNldC5mb3JFYWNoKCh2KSA9PiBzdHlsZXMudW5zaGlmdCh2KSk7XG4gICAgfSBlbHNlIGlmICh1c2VyU3R5bGVzKSB7XG4gICAgICBzdHlsZXMucHVzaCh1c2VyU3R5bGVzKTtcbiAgICB9XG4gICAgcmV0dXJuIHN0eWxlcztcbiAgfVxuXG4gIHByaXZhdGUgX25lZWRzU2hpbUFkb3B0ZWRTdHlsZVNoZWV0cz86IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIE5vZGUgb3IgU2hhZG93Um9vdCBpbnRvIHdoaWNoIGVsZW1lbnQgRE9NIHNob3VsZCBiZSByZW5kZXJlZC4gRGVmYXVsdHNcbiAgICogdG8gYW4gb3BlbiBzaGFkb3dSb290LlxuICAgKi9cbiAgcmVhZG9ubHkgcmVuZGVyUm9vdCE6IEVsZW1lbnR8RG9jdW1lbnRGcmFnbWVudDtcblxuICAvKipcbiAgICogUGVyZm9ybXMgZWxlbWVudCBpbml0aWFsaXphdGlvbi4gQnkgZGVmYXVsdCB0aGlzIGNhbGxzIGBjcmVhdGVSZW5kZXJSb290YFxuICAgKiB0byBjcmVhdGUgdGhlIGVsZW1lbnQgYHJlbmRlclJvb3RgIG5vZGUgYW5kIGNhcHR1cmVzIGFueSBwcmUtc2V0IHZhbHVlcyBmb3JcbiAgICogcmVnaXN0ZXJlZCBwcm9wZXJ0aWVzLlxuICAgKi9cbiAgcHJvdGVjdGVkIGluaXRpYWxpemUoKSB7XG4gICAgc3VwZXIuaW5pdGlhbGl6ZSgpO1xuICAgICh0aGlzIGFzIHtyZW5kZXJSb290OiBFbGVtZW50IHwgRG9jdW1lbnRGcmFnbWVudH0pLnJlbmRlclJvb3QgPVxuICAgICAgICB0aGlzLmNyZWF0ZVJlbmRlclJvb3QoKTtcbiAgICAvLyBOb3RlLCBpZiByZW5kZXJSb290IGlzIG5vdCBhIHNoYWRvd1Jvb3QsIHN0eWxlcyB3b3VsZC9jb3VsZCBhcHBseSB0byB0aGVcbiAgICAvLyBlbGVtZW50J3MgZ2V0Um9vdE5vZGUoKS4gV2hpbGUgdGhpcyBjb3VsZCBiZSBkb25lLCB3ZSdyZSBjaG9vc2luZyBub3QgdG9cbiAgICAvLyBzdXBwb3J0IHRoaXMgbm93IHNpbmNlIGl0IHdvdWxkIHJlcXVpcmUgZGlmZmVyZW50IGxvZ2ljIGFyb3VuZCBkZS1kdXBpbmcuXG4gICAgaWYgKHdpbmRvdy5TaGFkb3dSb290ICYmIHRoaXMucmVuZGVyUm9vdCBpbnN0YW5jZW9mIHdpbmRvdy5TaGFkb3dSb290KSB7XG4gICAgICB0aGlzLmFkb3B0U3R5bGVzKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIG5vZGUgaW50byB3aGljaCB0aGUgZWxlbWVudCBzaG91bGQgcmVuZGVyIGFuZCBieSBkZWZhdWx0XG4gICAqIGNyZWF0ZXMgYW5kIHJldHVybnMgYW4gb3BlbiBzaGFkb3dSb290LiBJbXBsZW1lbnQgdG8gY3VzdG9taXplIHdoZXJlIHRoZVxuICAgKiBlbGVtZW50J3MgRE9NIGlzIHJlbmRlcmVkLiBGb3IgZXhhbXBsZSwgdG8gcmVuZGVyIGludG8gdGhlIGVsZW1lbnQnc1xuICAgKiBjaGlsZE5vZGVzLCByZXR1cm4gYHRoaXNgLlxuICAgKiBAcmV0dXJucyB7RWxlbWVudHxEb2N1bWVudEZyYWdtZW50fSBSZXR1cm5zIGEgbm9kZSBpbnRvIHdoaWNoIHRvIHJlbmRlci5cbiAgICovXG4gIHByb3RlY3RlZCBjcmVhdGVSZW5kZXJSb290KCk6IEVsZW1lbnR8U2hhZG93Um9vdCB7XG4gICAgcmV0dXJuIHRoaXMuYXR0YWNoU2hhZG93KHttb2RlOiAnb3Blbid9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBcHBsaWVzIHN0eWxpbmcgdG8gdGhlIGVsZW1lbnQgc2hhZG93Um9vdCB1c2luZyB0aGUgYHN0YXRpYyBnZXQgc3R5bGVzYFxuICAgKiBwcm9wZXJ0eS4gU3R5bGluZyB3aWxsIGFwcGx5IHVzaW5nIGBzaGFkb3dSb290LmFkb3B0ZWRTdHlsZVNoZWV0c2Agd2hlcmVcbiAgICogYXZhaWxhYmxlIGFuZCB3aWxsIGZhbGxiYWNrIG90aGVyd2lzZS4gV2hlbiBTaGFkb3cgRE9NIGlzIHBvbHlmaWxsZWQsXG4gICAqIFNoYWR5Q1NTIHNjb3BlcyBzdHlsZXMgYW5kIGFkZHMgdGhlbSB0byB0aGUgZG9jdW1lbnQuIFdoZW4gU2hhZG93IERPTVxuICAgKiBpcyBhdmFpbGFibGUgYnV0IGBhZG9wdGVkU3R5bGVTaGVldHNgIGlzIG5vdCwgc3R5bGVzIGFyZSBhcHBlbmRlZCB0byB0aGVcbiAgICogZW5kIG9mIHRoZSBgc2hhZG93Um9vdGAgdG8gW21pbWljIHNwZWNcbiAgICogYmVoYXZpb3JdKGh0dHBzOi8vd2ljZy5naXRodWIuaW8vY29uc3RydWN0LXN0eWxlc2hlZXRzLyN1c2luZy1jb25zdHJ1Y3RlZC1zdHlsZXNoZWV0cykuXG4gICAqL1xuICBwcm90ZWN0ZWQgYWRvcHRTdHlsZXMoKSB7XG4gICAgY29uc3Qgc3R5bGVzID0gKHRoaXMuY29uc3RydWN0b3IgYXMgdHlwZW9mIExpdEVsZW1lbnQpLl9zdHlsZXMhO1xuICAgIGlmIChzdHlsZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIC8vIFRoZXJlIGFyZSB0aHJlZSBzZXBhcmF0ZSBjYXNlcyBoZXJlIGJhc2VkIG9uIFNoYWRvdyBET00gc3VwcG9ydC5cbiAgICAvLyAoMSkgc2hhZG93Um9vdCBwb2x5ZmlsbGVkOiB1c2UgU2hhZHlDU1NcbiAgICAvLyAoMikgc2hhZG93Um9vdC5hZG9wdGVkU3R5bGVTaGVldHMgYXZhaWxhYmxlOiB1c2UgaXQuXG4gICAgLy8gKDMpIHNoYWRvd1Jvb3QuYWRvcHRlZFN0eWxlU2hlZXRzIHBvbHlmaWxsZWQ6IGFwcGVuZCBzdHlsZXMgYWZ0ZXJcbiAgICAvLyByZW5kZXJpbmdcbiAgICBpZiAod2luZG93LlNoYWR5Q1NTICE9PSB1bmRlZmluZWQgJiYgIXdpbmRvdy5TaGFkeUNTUy5uYXRpdmVTaGFkb3cpIHtcbiAgICAgIHdpbmRvdy5TaGFkeUNTUy5TY29waW5nU2hpbS5wcmVwYXJlQWRvcHRlZENzc1RleHQoXG4gICAgICAgICAgc3R5bGVzLm1hcCgocykgPT4gcy5jc3NUZXh0KSwgdGhpcy5sb2NhbE5hbWUpO1xuICAgIH0gZWxzZSBpZiAoc3VwcG9ydHNBZG9wdGluZ1N0eWxlU2hlZXRzKSB7XG4gICAgICAodGhpcy5yZW5kZXJSb290IGFzIFNoYWRvd1Jvb3QpLmFkb3B0ZWRTdHlsZVNoZWV0cyA9XG4gICAgICAgICAgc3R5bGVzLm1hcCgocykgPT4gcy5zdHlsZVNoZWV0ISk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFRoaXMgbXVzdCBiZSBkb25lIGFmdGVyIHJlbmRlcmluZyBzbyB0aGUgYWN0dWFsIHN0eWxlIGluc2VydGlvbiBpcyBkb25lXG4gICAgICAvLyBpbiBgdXBkYXRlYC5cbiAgICAgIHRoaXMuX25lZWRzU2hpbUFkb3B0ZWRTdHlsZVNoZWV0cyA9IHRydWU7XG4gICAgfVxuICB9XG5cbiAgY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgc3VwZXIuY29ubmVjdGVkQ2FsbGJhY2soKTtcbiAgICAvLyBOb3RlLCBmaXJzdCB1cGRhdGUvcmVuZGVyIGhhbmRsZXMgc3R5bGVFbGVtZW50IHNvIHdlIG9ubHkgY2FsbCB0aGlzIGlmXG4gICAgLy8gY29ubmVjdGVkIGFmdGVyIGZpcnN0IHVwZGF0ZS5cbiAgICBpZiAodGhpcy5oYXNVcGRhdGVkICYmIHdpbmRvdy5TaGFkeUNTUyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB3aW5kb3cuU2hhZHlDU1Muc3R5bGVFbGVtZW50KHRoaXMpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGVzIHRoZSBlbGVtZW50LiBUaGlzIG1ldGhvZCByZWZsZWN0cyBwcm9wZXJ0eSB2YWx1ZXMgdG8gYXR0cmlidXRlc1xuICAgKiBhbmQgY2FsbHMgYHJlbmRlcmAgdG8gcmVuZGVyIERPTSB2aWEgbGl0LWh0bWwuIFNldHRpbmcgcHJvcGVydGllcyBpbnNpZGVcbiAgICogdGhpcyBtZXRob2Qgd2lsbCAqbm90KiB0cmlnZ2VyIGFub3RoZXIgdXBkYXRlLlxuICAgKiAqIEBwYXJhbSBfY2hhbmdlZFByb3BlcnRpZXMgTWFwIG9mIGNoYW5nZWQgcHJvcGVydGllcyB3aXRoIG9sZCB2YWx1ZXNcbiAgICovXG4gIHByb3RlY3RlZCB1cGRhdGUoY2hhbmdlZFByb3BlcnRpZXM6IFByb3BlcnR5VmFsdWVzKSB7XG4gICAgc3VwZXIudXBkYXRlKGNoYW5nZWRQcm9wZXJ0aWVzKTtcbiAgICBjb25zdCB0ZW1wbGF0ZVJlc3VsdCA9IHRoaXMucmVuZGVyKCkgYXMgdW5rbm93bjtcbiAgICBpZiAodGVtcGxhdGVSZXN1bHQgaW5zdGFuY2VvZiBUZW1wbGF0ZVJlc3VsdCkge1xuICAgICAgKHRoaXMuY29uc3RydWN0b3IgYXMgdHlwZW9mIExpdEVsZW1lbnQpXG4gICAgICAgICAgLnJlbmRlcihcbiAgICAgICAgICAgICAgdGVtcGxhdGVSZXN1bHQsXG4gICAgICAgICAgICAgIHRoaXMucmVuZGVyUm9vdCxcbiAgICAgICAgICAgICAge3Njb3BlTmFtZTogdGhpcy5sb2NhbE5hbWUsIGV2ZW50Q29udGV4dDogdGhpc30pO1xuICAgIH1cbiAgICAvLyBXaGVuIG5hdGl2ZSBTaGFkb3cgRE9NIGlzIHVzZWQgYnV0IGFkb3B0ZWRTdHlsZXMgYXJlIG5vdCBzdXBwb3J0ZWQsXG4gICAgLy8gaW5zZXJ0IHN0eWxpbmcgYWZ0ZXIgcmVuZGVyaW5nIHRvIGVuc3VyZSBhZG9wdGVkU3R5bGVzIGhhdmUgaGlnaGVzdFxuICAgIC8vIHByaW9yaXR5LlxuICAgIGlmICh0aGlzLl9uZWVkc1NoaW1BZG9wdGVkU3R5bGVTaGVldHMpIHtcbiAgICAgIHRoaXMuX25lZWRzU2hpbUFkb3B0ZWRTdHlsZVNoZWV0cyA9IGZhbHNlO1xuICAgICAgKHRoaXMuY29uc3RydWN0b3IgYXMgdHlwZW9mIExpdEVsZW1lbnQpLl9zdHlsZXMhLmZvckVhY2goKHMpID0+IHtcbiAgICAgICAgY29uc3Qgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xuICAgICAgICBzdHlsZS50ZXh0Q29udGVudCA9IHMuY3NzVGV4dDtcbiAgICAgICAgdGhpcy5yZW5kZXJSb290LmFwcGVuZENoaWxkKHN0eWxlKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBJbnZva2VkIG9uIGVhY2ggdXBkYXRlIHRvIHBlcmZvcm0gcmVuZGVyaW5nIHRhc2tzLiBUaGlzIG1ldGhvZCBtdXN0IHJldHVyblxuICAgKiBhIGxpdC1odG1sIFRlbXBsYXRlUmVzdWx0LiBTZXR0aW5nIHByb3BlcnRpZXMgaW5zaWRlIHRoaXMgbWV0aG9kIHdpbGwgKm5vdCpcbiAgICogdHJpZ2dlciB0aGUgZWxlbWVudCB0byB1cGRhdGUuXG4gICAqL1xuICBwcm90ZWN0ZWQgcmVuZGVyKCk6IFRlbXBsYXRlUmVzdWx0fHZvaWQge1xuICB9XG59XG4iLCJpbXBvcnQgYXhpb3MsIHsgQXhpb3NSZXNwb25zZSwgQ2FuY2VsVG9rZW4sIEF4aW9zUmVxdWVzdENvbmZpZyB9IGZyb20gJ2F4aW9zJztcbmltcG9ydCB7IGh0bWwsIFRlbXBsYXRlUmVzdWx0IH0gZnJvbSAnbGl0LWh0bWwnO1xuXG4vKiogR2V0IHRoZSB2YWx1ZSBmb3IgYSBuYW1lZCBjb29raWUgKi9cbmV4cG9ydCBjb25zdCBnZXRDb29raWUgPSAobmFtZTogc3RyaW5nKTogc3RyaW5nID0+IHtcbiAgICBmb3IgKGNvbnN0IGNvb2tpZSBvZiBkb2N1bWVudC5jb29raWUuc3BsaXQoJzsnKSkge1xuICAgICAgICBjb25zdCBpZHggPSBjb29raWUuaW5kZXhPZignPScpO1xuICAgICAgICBsZXQga2V5ID0gY29va2llLnN1YnN0cigwLCBpZHgpO1xuICAgICAgICBsZXQgdmFsdWUgPSBjb29raWUuc3Vic3RyKGlkeCArIDEpO1xuXG4gICAgICAgIC8vIG5vIHNwYWNlcyBhbGxvd2VkXG4gICAgICAgIGtleSA9IGtleS50cmltKCk7XG4gICAgICAgIHZhbHVlID0gdmFsdWUudHJpbSgpO1xuXG4gICAgICAgIGlmIChrZXkgPT09IG5hbWUpIHtcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbn07XG5cbmV4cG9ydCB0eXBlIENsYXNzTWFwID0ge1xuICAgIFtjbGFzc05hbWU6IHN0cmluZ106IGJvb2xlYW5cbn07XG5cbmV4cG9ydCBjb25zdCBnZXRDbGFzc2VzID0gKG1hcDogQ2xhc3NNYXApOiBzdHJpbmcgPT4ge1xuICAgIGNvbnN0IGNsYXNzTmFtZXM6IHN0cmluZ1tdID0gW107XG4gICAgT2JqZWN0LmtleXMobWFwKS5mb3JFYWNoKChjbGFzc05hbWU6IHN0cmluZykgPT4ge1xuICAgICAgICBpZiAobWFwW2NsYXNzTmFtZV0pIHtcbiAgICAgICAgICAgIGNsYXNzTmFtZXMucHVzaChjbGFzc05hbWUpO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICBsZXQgcmVzdWx0ID0gY2xhc3NOYW1lcy5qb2luKCcgJyk7XG4gICAgaWYgKHJlc3VsdC50cmltKCkubGVuZ3RoID4gMCkge1xuICAgICAgICByZXN1bHQgPSAnICcgKyByZXN1bHQ7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0VXJsID0gKFxuICAgIHVybDogc3RyaW5nLFxuICAgIGNhbmNlbFRva2VuOiBDYW5jZWxUb2tlbiA9IG51bGxcbik6IFByb21pc2U8QXhpb3NSZXNwb25zZT4gPT4ge1xuICAgIGNvbnN0IGNzcmYgPSBnZXRDb29raWUoJ2NzcmZ0b2tlbicpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSBjc3JmID8geyAnWC1DU1JGVG9rZW4nOiBjc3JmIH0gOiB7fTtcbiAgICBjb25zdCBjb25maWc6IEF4aW9zUmVxdWVzdENvbmZpZyA9IHsgaGVhZGVycyB9O1xuICAgIGlmIChjYW5jZWxUb2tlbikge1xuICAgICAgICBjb25maWcuY2FuY2VsVG9rZW4gPSBjYW5jZWxUb2tlbjtcbiAgICB9XG4gICAgcmV0dXJuIGF4aW9zLmdldCh1cmwsIGNvbmZpZyk7XG59O1xuXG5leHBvcnQgY29uc3QgcG9zdFVybCA9ICh1cmw6IHN0cmluZywgcGF5bG9hZDogYW55KTogUHJvbWlzZTxBeGlvc1Jlc3BvbnNlPiA9PiB7XG4gICAgY29uc3QgY3NyZiA9IGdldENvb2tpZSgnY3NyZnRva2VuJyk7XG4gICAgY29uc3QgaGVhZGVycyA9IGNzcmYgPyB7ICdYLUNTUkZUb2tlbic6IGNzcmYgfSA6IHt9O1xuICAgIHJldHVybiBheGlvcy5wb3N0KHVybCwgcGF5bG9hZCwgeyBoZWFkZXJzIH0pO1xufTtcblxuLyoqXG4gKi9cbmV4cG9ydCBjb25zdCByZW5kZXJJZiA9IChwcmVkaWNhdGU6IGJvb2xlYW4gfCBhbnkpID0+IChcbiAgICB0aGVuOiAoKSA9PiBUZW1wbGF0ZVJlc3VsdCxcbiAgICBvdGhlcndpc2U/OiAoKSA9PiBUZW1wbGF0ZVJlc3VsdFxuKSA9PiB7XG4gICAgcmV0dXJuIHByZWRpY2F0ZSA/IHRoZW4oKSA6IG90aGVyd2lzZSA/IG90aGVyd2lzZSgpIDogaHRtbGBgO1xufTtcblxuZXhwb3J0IGNvbnN0IGhleFRvUmdiID0gKGhleDogc3RyaW5nKTogeyByOiBudW1iZXIsIGc6IG51bWJlciwgYjogbnVtYmVyIH0gPT4ge1xuICAgIHZhciByZXN1bHQgPSAvXiM/KFthLWZcXGRdezJ9KShbYS1mXFxkXXsyfSkoW2EtZlxcZF17Mn0pJC9pLmV4ZWMoaGV4KTtcbiAgICByZXR1cm4gcmVzdWx0XG4gICAgICAgID8ge1xuICAgICAgICAgICAgICByOiBwYXJzZUludChyZXN1bHRbMV0sIDE2KSxcbiAgICAgICAgICAgICAgZzogcGFyc2VJbnQocmVzdWx0WzJdLCAxNiksXG4gICAgICAgICAgICAgIGI6IHBhcnNlSW50KHJlc3VsdFszXSwgMTYpXG4gICAgICAgICAgfVxuICAgICAgICA6IG51bGw7XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0RWxlbWVudE9mZnNldCA9IChcbiAgICBlbGU6IEhUTUxFbGVtZW50XG4pOiB7XG4gICAgdG9wOiBudW1iZXIsXG4gICAgbGVmdDogbnVtYmVyLFxuICAgIGJvdHRvbTogbnVtYmVyLFxuICAgIHJpZ2h0OiBudW1iZXIsXG4gICAgd2lkdGg6IG51bWJlcixcbiAgICBoZWlnaHQ6IG51bWJlclxufSA9PiB7XG4gICAgY29uc3QgcmVjdCA9IGVsZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICBjb25zdCBzY3JvbGxMZWZ0ID1cbiAgICAgICAgd2luZG93LnBhZ2VYT2Zmc2V0IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxMZWZ0O1xuICAgIGNvbnN0IHNjcm9sbFRvcCA9IHdpbmRvdy5wYWdlWU9mZnNldCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wO1xuICAgIHJldHVybiB7XG4gICAgICAgIHRvcDogcmVjdC50b3AgKyBzY3JvbGxUb3AsXG4gICAgICAgIGxlZnQ6IHJlY3QubGVmdCArIHNjcm9sbExlZnQsXG4gICAgICAgIGJvdHRvbTogcmVjdC50b3AgKyByZWN0LmhlaWdodCxcbiAgICAgICAgcmlnaHQ6IHJlY3QubGVmdCArIHJlY3Qud2lkdGgsXG4gICAgICAgIHdpZHRoOiByZWN0LndpZHRoLFxuICAgICAgICBoZWlnaHQ6IHJlY3QuaGVpZ2h0XG4gICAgfTtcbn07XG4iLCJpbXBvcnQgeyBBeGlvc1Jlc3BvbnNlIH0gZnJvbSAnYXhpb3MnO1xuaW1wb3J0IHsgY3NzLCBjdXN0b21FbGVtZW50LCBodG1sLCBMaXRFbGVtZW50LCBwcm9wZXJ0eSwgVGVtcGxhdGVSZXN1bHQgfSBmcm9tICdsaXQtZWxlbWVudCc7XG5pbXBvcnQgeyBGZWF0dXJlUHJvcGVydGllcyB9IGZyb20gJy4uL2ludGVyZmFjZXMnO1xuaW1wb3J0IHsgZ2V0VXJsLCBwb3N0VXJsIH0gZnJvbSAnLi4vdXRpbHMnO1xuaW1wb3J0IGF1dG9zaXplIGZyb20gJ2F1dG9zaXplJztcbmltcG9ydCBCdXR0b24gZnJvbSAnLi4vYnV0dG9uL0J1dHRvbic7XG5cblxuQGN1c3RvbUVsZW1lbnQoXCJhbGlhcy1lZGl0b3JcIilcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEFsaWFzRWRpdG9yIGV4dGVuZHMgTGl0RWxlbWVudCB7XG5cbiAgc3RhdGljIGdldCBzdHlsZXMoKSB7XG4gICAgcmV0dXJuIGNzc2BcblxuICAgICAgOmhvc3Qge1xuICAgICAgICBsaW5lLWhlaWdodDogbm9ybWFsO1xuICAgICAgfVxuXG4gICAgICB0ZXh0YXJlYSB7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDVweDtcbiAgICAgICAgYm9yZGVyLWNvbG9yOiB2YXIoLS1jb2xvci1ib3JkZXJzKTtcbiAgICAgICAgcGFkZGluZzogMTBweDtcbiAgICAgICAgY29sb3I6IHZhcigtLWNvbG9yLXRleHQpO1xuICAgICAgICBmb250LXNpemU6IDE0cHg7XG4gICAgICAgIHJlc2l6ZTogbm9uZTtcbiAgICAgIH1cblxuICAgICAgdGV4dGFyZWE6Zm9jdXMge1xuICAgICAgICBib3gtc2hhZG93OiBub25lO1xuICAgICAgICBvdXRsaW5lOiBub25lO1xuICAgICAgfVxuXG4gICAgICAjbGVmdC1jb2x1bW4ge1xuICAgICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgICAgIG1hcmdpbi1sZWZ0OiAxMHB4O1xuICAgICAgICB3aWR0aDogMzAwcHg7XG4gICAgICAgIHotaW5kZXg6IDEwMDtcbiAgICAgIH1cblxuICAgICAgLnNlYXJjaCB7XG4gICAgICAgIG1hcmdpbi1ib3R0b206IDEwcHg7XG4gICAgICB9XG5cbiAgICAgIC5mZWF0dXJlIHtcbiAgICAgICAgcGFkZGluZzogNHB4IDE0cHg7XG4gICAgICAgIGZvbnQtc2l6ZTogMTZweDtcbiAgICAgIH1cblxuICAgICAgLmxldmVsLTAge1xuICAgICAgICBtYXJnaW4tbGVmdDogMHB4O1xuICAgICAgfVxuXG4gICAgICAubGV2ZWwtMSB7XG4gICAgICAgIG1hcmdpbi1sZWZ0OiA1cHg7XG4gICAgICAgIGZvbnQtc2l6ZTogOTUlO1xuICAgICAgfVxuXG4gICAgICAubGV2ZWwtMiB7XG4gICAgICAgIG1hcmdpbi1sZWZ0OiAxMHB4O1xuICAgICAgICBmb250LXNpemU6IDkwJTtcbiAgICAgIH1cblxuICAgICAgLmxldmVsLTMge1xuICAgICAgICBtYXJnaW4tbGVmdDogMTVweDtcbiAgICAgICAgZm9udC1zaXplOiA4NSU7XG4gICAgICB9XG5cbiAgICAgIC5mZWF0dXJlLW5hbWUge1xuICAgICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgICB9XG5cbiAgICAgIC5jbGlja2FibGUge1xuICAgICAgICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XG4gICAgICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICAgICAgY29sb3I6IHZhcigtLWNvbG9yLWxpbmstcHJpbWFyeSk7XG4gICAgICB9XG5cbiAgICAgIC5jbGlja2FibGUuc2Vjb25kYXJ5IHtcbiAgICAgICAgY29sb3I6IHZhcigtLWNvbG9yLWxpbmstc2Vjb25kYXJ5KTtcbiAgICAgIH1cblxuICAgICAgLmNsaWNrYWJsZTpob3ZlciB7XG4gICAgICAgIHRleHQtZGVjb3JhdGlvbjogdW5kZXJsaW5lO1xuICAgICAgICBjb2xvcjogdmFyKC0tY29sb3ItbGluay1wcmltYXJ5LWhvdmVyKTtcbiAgICAgIH1cblxuICAgICAgLmZlYXR1cmU6aG92ZXIgLnNob3dvbmhvdmVyIHtcbiAgICAgICAgdmlzaWJpbGl0eTogdmlzaWJsZTtcbiAgICAgIH1cblxuICAgICAgLnNob3dvbmhvdmVyIHtcbiAgICAgICAgdmlzaWJpbGl0eTogaGlkZGVuO1xuICAgICAgfVxuXG4gICAgICAuYWxpYXNlcyB7XG4gICAgICAgIGNvbG9yOiAjYmJiO1xuICAgICAgICBmb250LXNpemU6IDgwJTtcbiAgICAgICAgZGlzcGxheTogaW5saW5lO1xuICAgICAgICBtYXJnaW4tbGVmdDogNXB4O1xuICAgICAgfVxuXG4gICAgICBycC1sYWJlbCB7XG4gICAgICAgIG1hcmdpbi1yaWdodDogM3B4O1xuICAgICAgICBtYXJnaW4tYm90dG9tOiAzcHg7XG4gICAgICAgIHZlcnRpY2FsLWFsaWduOiB0b3A7XG4gICAgICB9XG5cbiAgICAgIC5zZWxlY3RlZCB7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgICAgIHBhZGRpbmc6IDE1cHg7XG4gICAgICB9XG5cbiAgICAgIC5zZWxlY3RlZCAubmFtZSB7XG4gICAgICAgIGZvbnQtc2l6ZTogMThweDtcbiAgICAgICAgcGFkZGluZzogNXB4O1xuICAgICAgfVxuXG4gICAgICAuc2VsZWN0ZWQgLmhlbHAge1xuICAgICAgICBwYWRkaW5nOiA1cHggMnB4O1xuICAgICAgICBmb250LXNpemU6IDExcHg7XG4gICAgICAgIGNvbG9yOiB2YXIoLS1jb2xvci1zZWNvbmRhcnktbGlnaHQpO1xuICAgICAgfVxuXG4gICAgICAjcmlnaHQtY29sdW1uIHtcbiAgICAgICAgdmVydGljYWwtYWxpZ246IHRvcDtcbiAgICAgICAgbWFyZ2luLWxlZnQ6IDIwcHg7XG4gICAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICAgIH1cblxuICAgICAgbGVhZmxldC1tYXAge1xuICAgICAgICBoZWlnaHQ6IDI1MHB4O1xuICAgICAgICB3aWR0aDogNDUwcHg7XG4gICAgICAgIGJvcmRlcjogMHB4IHNvbGlkICM5OTk7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDVweDtcbiAgICAgIH1cblxuICAgICAgLmVkaXQge1xuICAgICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgICAgIG1hcmdpbi1yaWdodDogMHB4O1xuICAgICAgfVxuXG4gICBgO1xuICB9XG5cbiAgQHByb3BlcnR5KHt0eXBlOiBBcnJheSwgYXR0cmlidXRlOiBmYWxzZX0pXG4gIHBhdGg6IEZlYXR1cmVQcm9wZXJ0aWVzW10gPSBbXTtcblxuICBAcHJvcGVydHkoKVxuICBlbmRwb2ludDogc3RyaW5nO1xuXG4gIEBwcm9wZXJ0eSgpXG4gIG9zbUlkOiBzdHJpbmc7XG5cbiAgQHByb3BlcnR5KHt0eXBlOiBPYmplY3R9KVxuICBob3ZlcmVkOiBGZWF0dXJlUHJvcGVydGllcztcblxuICBAcHJvcGVydHkoe3R5cGU6IE9iamVjdH0pXG4gIGVkaXRGZWF0dXJlOiBGZWF0dXJlUHJvcGVydGllc1xuXG4gIHB1YmxpYyBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICB9XG5cbiAgcHVibGljIHVwZGF0ZWQoY2hhbmdlZFByb3BlcnRpZXM6IE1hcDxzdHJpbmcsIGFueT4pIHtcblxuICAgIGlmIChjaGFuZ2VkUHJvcGVydGllcy5oYXMoXCJvc21JZFwiKSkge1xuICAgICAgLy8gZ29pbmcgdXAgdGhlIHRyZWUgZG9lc24ndCByZXF1aXJlIGEgZmV0Y2hcbiAgICAgIGNvbnN0IG5ld1BhdGggPSBbXTtcbiAgICAgIGZvciAobGV0IGZlYXR1cmUgb2YgdGhpcy5wYXRoKSB7XG4gICAgICAgIG5ld1BhdGgucHVzaChmZWF0dXJlKTtcbiAgICAgICAgaWYgKGZlYXR1cmUub3NtX2lkID09PSB0aGlzLm9zbUlkKSB7XG4gICAgICAgICAgdGhpcy5wYXRoID0gWy4uLm5ld1BhdGhdO1xuICAgICAgICAgIHRoaXMuaGlkZUFsaWFzRGlhbG9nKCk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHRoaXMuZmV0Y2hGZWF0dXJlKCk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBmZXRjaEZlYXR1cmUoKSB7XG4gICAgZ2V0VXJsKHRoaXMuZ2V0RW5kcG9pbnQoKSArIFwiYm91bmRhcmllcy9cIiArIHRoaXMub3NtSWQgKyBcIi9cIikudGhlbigocmVzcG9uc2U6IEF4aW9zUmVzcG9uc2UpID0+IHtcbiAgICAgIHRoaXMucGF0aCA9IHJlc3BvbnNlLmRhdGEgYXMgRmVhdHVyZVByb3BlcnRpZXNbXTtcbiAgICAgIHRoaXMuaGlkZUFsaWFzRGlhbG9nKCk7XG4gICAgfSk7XG4gIH1cblxuICAvKlxuICAgTWFrZXMgc3VyZSBvdXIgdGV4dGFyZWEgZ3Jvd3Mgd2l0aCB1c1xuICAgKi9cbiAgcHJpdmF0ZSBmaXJlVGV4dGFyZWFBdXRvc2l6ZSgpOiB2b2lkIHtcbiAgICB3aW5kb3cuc2V0VGltZW91dCgoKT0+e1xuICAgICAgYXV0b3NpemUodGhpcy5zaGFkb3dSb290LnF1ZXJ5U2VsZWN0b3IoJ3RleHRhcmVhJykpO1xuICAgICAgYXV0b3NpemUudXBkYXRlKHRoaXMuc2hhZG93Um9vdC5xdWVyeVNlbGVjdG9yKCd0ZXh0YXJlYScpKTtcbiAgICB9LCAwKTtcbiAgfVxuICBcbiAgcHJpdmF0ZSBoYW5kbGVNYXBDbGlja2VkKGZlYXR1cmU6IEZlYXR1cmVQcm9wZXJ0aWVzKTogdm9pZCB7XG4gICAgdGhpcy5ob3ZlcmVkID0gbnVsbDtcbiAgICBpZiAoIWZlYXR1cmUgfHwgZmVhdHVyZS5vc21faWQgIT09IHRoaXMub3NtSWQpIHtcbiAgICAgIHRoaXMub3NtSWQgPSBmZWF0dXJlLm9zbV9pZDtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGhhbmRsZVBsYWNlQ2xpY2tlZChmZWF0dXJlOiBGZWF0dXJlUHJvcGVydGllcykge1xuICAgIHRoaXMub3NtSWQgPSBmZWF0dXJlLm9zbV9pZDtcbiAgfVxuXG4gIHByaXZhdGUgaGFuZGxlU2VhcmNoU2VsZWN0aW9uKGV2dDogQ3VzdG9tRXZlbnQpIHtcbiAgICBjb25zdCBzZWxlY3Rpb24gPSBldnQuZGV0YWlsLnNlbGVjdGVkIGFzIEZlYXR1cmVQcm9wZXJ0aWVzO1xuICAgIHRoaXMuc2hvd0FsaWFzRGlhbG9nKHNlbGVjdGlvbik7XG4gIH1cblxuICBwcml2YXRlIHJlbmRlckZlYXR1cmUoZmVhdHVyZTogRmVhdHVyZVByb3BlcnRpZXMsIHJlbWFpbmluZ1BhdGg6IEZlYXR1cmVQcm9wZXJ0aWVzW10pOiBUZW1wbGF0ZVJlc3VsdCB7XG4gICAgY29uc3Qgc2VsZWN0ZWRGZWF0dXJlID0gdGhpcy5wYXRoW3RoaXMucGF0aC5sZW5ndGggLSAxXTtcbiAgICBjb25zdCBjbGlja2FibGUgPSAoKGZlYXR1cmUuaGFzX2NoaWxkcmVuIHx8IGZlYXR1cmUubGV2ZWwgPT09IDAgKSYmIGZlYXR1cmUgIT09IHNlbGVjdGVkRmVhdHVyZSk7XG4gICAgY29uc3QgcmVuZGVyZWRGZWF0dXJlID0gaHRtbGBcbiAgICAgIDxkaXYgY2xhc3M9XCJmZWF0dXJlXCI+XG4gICAgICAgIDxkaXYgXG4gICAgICAgICAgQG1vdXNlb3Zlcj0keygpID0+IHsgaWYgKGZlYXR1cmUubGV2ZWwgPiAwKSB7IHRoaXMuaG92ZXJlZCA9IGZlYXR1cmUgfX19XG4gICAgICAgICAgQG1vdXNlb3V0PSR7KCkgPT4geyB0aGlzLmhvdmVyZWQgPSBudWxsIH19XG4gICAgICAgICAgY2xhc3M9XCJsZXZlbC0ke2ZlYXR1cmUubGV2ZWx9XCJcbiAgICAgICAgPlxuXG4gXG5cbiAgICAgICAgPGRpdiBjbGFzcz1cImZlYXR1cmUtbmFtZSAkeyBjbGlja2FibGUgPyAnY2xpY2thYmxlJyA6ICcnfVwiIFxuICAgICAgICAgIEBjbGljaz0keygpID0+IHsgaWYgKGNsaWNrYWJsZSkge3RoaXMuaGFuZGxlUGxhY2VDbGlja2VkKGZlYXR1cmUpIH19fT5cbiAgICAgICAgICAke2ZlYXR1cmUubmFtZX1cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPGRpdiBjbGFzcz1cImFsaWFzZXNcIj5cbiAgICAgICAgICAke2ZlYXR1cmUuYWxpYXNlcy5zcGxpdCgnXFxuJykubWFwKChhbGlhczogc3RyaW5nKT0+YWxpYXMudHJpbSgpLmxlbmd0aCA+IDAgPyBodG1sYFxuICAgICAgICAgICAgPHJwLWxhYmVsIGNsYXNzPVwiYWxpYXNcIiBAY2xpY2s9JHsoKT0+e3RoaXMuc2hvd0FsaWFzRGlhbG9nKGZlYXR1cmUpO319IGxpZ2h0IGNsaWNrYWJsZT4ke2FsaWFzfTwvcnAtbGFiZWw+XG4gICAgICAgICAgYDogbnVsbCl9XG5cbiAgICAgICAgICAke2ZlYXR1cmUubGV2ZWwgPiAwID8gaHRtbGBcbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiZWRpdCBjbGlja2FibGUgc2hvd29uaG92ZXJcIiBAY2xpY2s9JHsoZXZ0OiBNb3VzZUV2ZW50KT0+IHsgdGhpcy5zaG93QWxpYXNEaWFsb2coZmVhdHVyZSk7IGV2dC5wcmV2ZW50RGVmYXVsdCgpOyBldnQuc3RvcFByb3BhZ2F0aW9uKCl9fT5cbiAgICAgICAgICAgIDxycC1pY29uIG5hbWU9XCJyZWdpc3RlclwiIHNpemU9XCIxMlwiPjwvcnAtaWNvbj5cbiAgICAgICAgICA8L2Rpdj5gOiAnJ31cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgIDwvZGl2PlxuICAgICAgICBcbiAgICAgIDwvZGl2PlxuICAgICAgYDtcblxuICAgIGNvbnN0IHJlbmRlcmVkQ2hpbGRyZW4gPSAoZmVhdHVyZS5jaGlsZHJlbiB8fCBbXSkubWFwKChjaGlsZDogRmVhdHVyZVByb3BlcnRpZXMpPT4ge1xuICAgIFxuICAgICAgaWYgKHJlbWFpbmluZ1BhdGgubGVuZ3RoID4gMCAmJiAocmVtYWluaW5nUGF0aFswXS5vc21faWQgPT09IGNoaWxkLm9zbV9pZCkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVuZGVyRmVhdHVyZShyZW1haW5pbmdQYXRoWzBdLCByZW1haW5pbmdQYXRoLnNsaWNlKDEpKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHJlbWFpbmluZ1BhdGgubGVuZ3RoID09PSAwIHx8IHJlbWFpbmluZ1BhdGhbMF0uY2hpbGRyZW4ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlbmRlckZlYXR1cmUoY2hpbGQsIHJlbWFpbmluZ1BhdGgpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbnVsbDtcbiAgICBcbiAgICB9KTtcblxuICAgIHJldHVybiBodG1sYFxuICAgICAgJHtyZW5kZXJlZEZlYXR1cmV9XG4gICAgICAke3JlbmRlcmVkQ2hpbGRyZW59XG4gICAgYFxuICB9XG5cbiAgcHVibGljIHNob3dBbGlhc0RpYWxvZyhmZWF0dXJlOiBGZWF0dXJlUHJvcGVydGllcykge1xuICAgIHRoaXMuZWRpdEZlYXR1cmUgPSBmZWF0dXJlO1xuICAgIGNvbnN0IGFsaWFzRGlhbG9nID0gdGhpcy5zaGFkb3dSb290LmdldEVsZW1lbnRCeUlkKFwiYWxpYXMtZGlhbG9nXCIpO1xuICAgIGlmIChhbGlhc0RpYWxvZyl7XG4gICAgICB0aGlzLmZpcmVUZXh0YXJlYUF1dG9zaXplKCk7XG4gICAgICBhbGlhc0RpYWxvZy5zZXRBdHRyaWJ1dGUoJ29wZW4nLCAnJyk7XG4gICAgfVxuICB9XG5cbiAgcHVibGljIGhpZGVBbGlhc0RpYWxvZygpIHtcbiAgICBjb25zdCBhbGlhc0RpYWxvZyA9IHRoaXMuc2hhZG93Um9vdC5nZXRFbGVtZW50QnlJZChcImFsaWFzLWRpYWxvZ1wiKTtcbiAgICBpZiAoYWxpYXNEaWFsb2cpIHtcbiAgICAgIGFsaWFzRGlhbG9nLnJlbW92ZUF0dHJpYnV0ZShcIm9wZW5cIik7XG4gICAgfVxuXG4gICAgdGhpcy5yZXF1ZXN0VXBkYXRlKCk7XG4gIH1cblxuICBwcml2YXRlIGdldEVuZHBvaW50KCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMuZW5kcG9pbnQgKyAoIXRoaXMuZW5kcG9pbnQuZW5kc1dpdGgoJy8nKSA/ICcvJyA6ICcnKTtcbiAgfVxuXG4gIHByaXZhdGUgaGFuZGxlRGlhbG9nQ2xpY2soYnV0dG9uOiBCdXR0b24pIHtcbiAgICBpZiAoYnV0dG9uLm5hbWUgPT09IFwiU2F2ZVwiKSB7XG4gICAgICBidXR0b24uc2V0UHJvZ3Jlc3ModHJ1ZSk7XG4gICAgICBjb25zdCB0ZXh0YXJlYSA9IHRoaXMuc2hhZG93Um9vdC5nZXRFbGVtZW50QnlJZCh0aGlzLmVkaXRGZWF0dXJlLm9zbV9pZCkgYXMgSFRNTFRleHRBcmVhRWxlbWVudDtcbiAgICAgIGNvbnN0IGFsaWFzZXMgPSB0ZXh0YXJlYS52YWx1ZTtcbiAgICAgIGNvbnN0IHBheWxvYWQgPSB7IFwib3NtX2lkXCI6ICB0aGlzLmVkaXRGZWF0dXJlLm9zbV9pZCwgYWxpYXNlcyB9O1xuICAgICAgcG9zdFVybCh0aGlzLmdldEVuZHBvaW50KCkgKyBcImJvdW5kYXJpZXMvXCIgKyAgdGhpcy5lZGl0RmVhdHVyZS5vc21faWQgKyBcIi9cIiwgcGF5bG9hZCkudGhlbigocmVzcG9uc2U6IEF4aW9zUmVzcG9uc2UpID0+IHtcbiAgICAgICAgdGhpcy5mZXRjaEZlYXR1cmUoKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmKGJ1dHRvbi5uYW1lID09PSBcIkNhbmNlbFwiKSB7XG4gICAgICB0aGlzLmhpZGVBbGlhc0RpYWxvZygpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgcmVuZGVyT3B0aW9uRGV0YWlsKG9wdGlvbjogRmVhdHVyZVByb3BlcnRpZXMsIHNlbGVjdGVkOiBib29sZWFuKTogVGVtcGxhdGVSZXN1bHQge1xuICAgIGNvbnN0IHN0eWxlID0gaHRtbGBcbiAgICAgIDxzdHlsZT5cbiAgICAgICAgcnAtbGFiZWwge1xuICAgICAgICAgIG1hcmdpbi10b3A6IDNweDtcbiAgICAgICAgICBtYXJnaW4tcmlnaHQ6IDNweDtcbiAgICAgICAgfVxuICAgICAgPC9zdHlsZT5cbiAgICBgO1xuXG4gICAgY29uc3QgYWxpYXNMaXN0ID0gb3B0aW9uLmFsaWFzZXMuc3BsaXQoJ1xcbicpO1xuICAgIGNvbnN0IGFsaWFzZXMgPSBhbGlhc0xpc3QubWFwKChhbGlhczogc3RyaW5nKT0+YWxpYXMudHJpbSgpLmxlbmd0aCA+IDAgPyBodG1sYDxycC1sYWJlbCBjbGFzcz1cImFsaWFzXCIgZGFyaz4ke2FsaWFzfTwvcnAtbGFiZWw+YDogbnVsbCk7XG4gICAgcmV0dXJuIGh0bWxgJHtzdHlsZX08ZGl2IGNsYXNzPVwicGF0aFwiPiR7b3B0aW9uLnBhdGgucmVwbGFjZSgvPi9naSwgXCLigKNcIil9PC9kaXY+PGRpdiBjbGFzcz1cImFsaWFzZXNcIj4ke2FsaWFzZXN9PC9kaXY+YDsgICAgXG4gIH1cblxuICBwdWJsaWMgcmVuZGVyKCk6IFRlbXBsYXRlUmVzdWx0IHtcbiAgICBpZiAodGhpcy5wYXRoLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIGh0bWxgYDtcbiAgICB9XG5cbiAgICAvLyBpZiB3ZSBhcmUgYSBsZWFmLCBoYXZlIG91ciBtYXAgc2hvdyB0aGUgbGV2ZWwgYWJvdmVcbiAgICBjb25zdCBzZWxlY3RlZEZlYXR1cmUgPSB0aGlzLnBhdGhbdGhpcy5wYXRoLmxlbmd0aCAtIDFdO1xuICAgIGNvbnN0IG1hcEZlYXR1cmUgPSBzZWxlY3RlZEZlYXR1cmUuY2hpbGRyZW4ubGVuZ3RoID09PSAwID8gdGhpcy5wYXRoW3RoaXMucGF0aC5sZW5ndGggLSAyXSA6IHNlbGVjdGVkRmVhdHVyZTtcbiAgICBcbiAgICBjb25zdCBlZGl0RmVhdHVyZUlkID0gdGhpcy5lZGl0RmVhdHVyZSA/IHRoaXMuZWRpdEZlYXR1cmUub3NtX2lkIDogbnVsbDtcbiAgICBjb25zdCBlZGl0RmVhdHVyZU5hbWUgPSB0aGlzLmVkaXRGZWF0dXJlID8gdGhpcy5lZGl0RmVhdHVyZS5uYW1lIDogbnVsbDtcbiAgICBjb25zdCBlZGl0RmVhdHVyZUFsaWFzZXMgPSB0aGlzLmVkaXRGZWF0dXJlID8gdGhpcy5lZGl0RmVhdHVyZS5hbGlhc2VzIDogbnVsbDtcbiAgICByZXR1cm4gaHRtbGBcbiAgICAgIDxkaXYgaWQ9XCJsZWZ0LWNvbHVtblwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwic2VhcmNoXCI+XG4gICAgICAgICAgPHJwLXNlbGVjdCBcbiAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiU2VhcmNoXCIgXG4gICAgICAgICAgICBlbmRwb2ludD1cIiR7dGhpcy5nZXRFbmRwb2ludCgpfWJvdW5kYXJpZXMvJHt0aGlzLnBhdGhbMF0ub3NtX2lkfS8/cT1cIlxuICAgICAgICAgICAgLnJlbmRlck9wdGlvbkRldGFpbD0ke3RoaXMucmVuZGVyT3B0aW9uRGV0YWlsfVxuICAgICAgICAgICAgQHJwLXNlbGVjdGlvbj0ke3RoaXMuaGFuZGxlU2VhcmNoU2VsZWN0aW9uLmJpbmQodGhpcyl9XG4gICAgICAgICAgPjwvcnAtc2VsZWN0PlxuICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJmZWF0dXJlLXRyZWVcIj5cbiAgICAgICAgICAke3RoaXMucmVuZGVyRmVhdHVyZSh0aGlzLnBhdGhbMF0sIHRoaXMucGF0aC5zbGljZSgxKSl9XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG5cbiAgICAgIDxkaXYgaWQ9XCJyaWdodC1jb2x1bW5cIj5cbiAgICAgICAgPGxlYWZsZXQtbWFwIFxuICAgICAgICAgIGVuZHBvaW50PSR7dGhpcy5nZXRFbmRwb2ludCgpfVxuICAgICAgICAgIC5mZWF0dXJlPSR7bWFwRmVhdHVyZX1cbiAgICAgICAgICAub3NtSWQ9JHttYXBGZWF0dXJlLm9zbV9pZH1cbiAgICAgICAgICAuaG92ZXJlZD0ke3RoaXMuaG92ZXJlZH1cbiAgICAgICAgICAub25GZWF0dXJlQ2xpY2tlZD0ke3RoaXMuaGFuZGxlTWFwQ2xpY2tlZC5iaW5kKHRoaXMpfT5cbiAgICAgICAgPC9sZWFmbGV0LW1hcD5cbiAgICAgIDwvZGl2PlxuXG4gICAgICA8cnAtZGlhbG9nIGlkPVwiYWxpYXMtZGlhbG9nXCIgXG4gICAgICAgIHRpdGxlPVwiQWxpYXNlcyBmb3IgJHtlZGl0RmVhdHVyZU5hbWV9XCIgXG4gICAgICAgIHByaW1hcnlCdXR0b25OYW1lPVwiU2F2ZVwiXG4gICAgICAgIC5vbkJ1dHRvbkNsaWNrZWQ9JHt0aGlzLmhhbmRsZURpYWxvZ0NsaWNrLmJpbmQodGhpcyl9PlxuXG4gICAgICAgIDxkaXYgY2xhc3M9XCJzZWxlY3RlZFwiPlxuICAgICAgICAgIDx0ZXh0YXJlYSBpZD1cIiR7ZWRpdEZlYXR1cmVJZH1cIiAudmFsdWU9JHtlZGl0RmVhdHVyZUFsaWFzZXN9PjwvdGV4dGFyZWE+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cImhlbHBcIj5cbiAgICAgICAgICAgIEVudGVyIG90aGVyIGFsaWFzZXMgZm9yICR7ZWRpdEZlYXR1cmVOYW1lfSwgb25lIHBlciBsaW5lXG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9ycC1kaWFsb2c+ICAgICAgICAgICAgIFxuXG4gICAgYDtcbiAgfVxufSIsImltcG9ydCB7IExpdEVsZW1lbnQsIFRlbXBsYXRlUmVzdWx0LCBodG1sLCBjc3MsIGN1c3RvbUVsZW1lbnQsIHByb3BlcnR5IH0gZnJvbSAnbGl0LWVsZW1lbnQnO1xuaW1wb3J0IHsgZ2V0Q2xhc3NlcyB9IGZyb20gJy4uL3V0aWxzJztcblxuQGN1c3RvbUVsZW1lbnQoXCJycC1idXR0b25cIilcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJ1dHRvbiBleHRlbmRzIExpdEVsZW1lbnQge1xuXG4gIHN0YXRpYyBnZXQgc3R5bGVzKCkge1xuICAgIHJldHVybiBjc3NgXG4gICAgICAuYnV0dG9uIHtcbiAgICAgICAgYmFja2dyb3VuZDogYmx1ZTtcbiAgICAgICAgY29sb3I6ICNmZmY7XG4gICAgICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgICAgICBib3JkZXItcmFkaXVzOiB2YXIoLS1jdXJ2YXR1cmUpO1xuICAgICAgICBvdXRsaW5lOiBub25lO1xuICAgICAgfVxuXG4gICAgICAuYnV0dG9uOmZvY3VzIHtcbiAgICAgICAgb3V0bGluZTogbm9uZTtcbiAgICAgICAgbWFyZ2luOiAwO1xuICAgICAgfVxuXG4gICAgICAuYnV0dG9uOmZvY3VzIC5tYXNre1xuICAgICAgICBiYWNrZ3JvdW5kOiByZ2IoMCwwLDAsLjEpO1xuICAgICAgICBib3gtc2hhZG93OiAwIDAgMHB4IDJweCB2YXIoLS1jb2xvci1idXR0b24tcHJpbWFyeSk7XG4gICAgICB9XG5cbiAgICAgIC5idXR0b24uc2Vjb25kYXJ5OmZvY3VzIC5tYXNre1xuICAgICAgICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1jb2xvci1idXR0b24tc2Vjb25kYXJ5KTtcbiAgICAgICAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7XG4gICAgICAgIGJveC1zaGFkb3c6IDAgMCAwcHggMnB4IHZhcigtLWNvbG9yLWJ1dHRvbi1zZWNvbmRhcnkpO1xuICAgICAgfVxuXG4gICAgICAubWFzayB7XG4gICAgICAgIHBhZGRpbmc6IDVweCAxMHB4O1xuICAgICAgICBib3JkZXItcmFkaXVzOiB2YXIoLS1jdXJ2YXR1cmUpO1xuICAgICAgICBib3JkZXI6IDFweCBzb2xpZCB0cmFuc3BhcmVudDtcbiAgICAgIH1cblxuICAgICAgLnByaW1hcnkge1xuICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1jb2xvci1idXR0b24tcHJpbWFyeSk7XG4gICAgICAgIGNvbG9yOiB2YXIoLS1jb2xvci1idXR0b24tcHJpbWFyeS10ZXh0KTtcbiAgICAgIH1cblxuICAgICAgLnNlY29uZGFyeSB7XG4gICAgICAgIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50O1xuICAgICAgICBjb2xvcjogdmFyKC0tY29sb3ItYnV0dG9uLXNlY29uZGFyeSk7XG4gICAgICB9XG5cbiAgICAgIC5zZWNvbmRhcnk6aG92ZXIgLm1hc2t7XG4gICAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWNvbG9yLWJ1dHRvbi1zZWNvbmRhcnkpO1xuICAgICAgfVxuXG4gICAgICAuYnV0dG9uLnByb2dyZXNze1xuICAgICAgICBiYWNrZ3JvdW5kOiAjZGRkO1xuICAgICAgfVxuXG4gICAgICAuYnV0dG9uLnByb2dyZXNzOmZvY3VzIC5tYXNrIHtcbiAgICAgICAgYm94LXNoYWRvdzogMCAwIDBweCAycHggdmFyKC0tY29sb3ItYnV0dG9uLXNlY29uZGFyeSk7XG4gICAgICB9XG5cbiAgICAgIC5tYXNrOmhvdmVyIHtcbiAgICAgICAgYmFja2dyb3VuZDogcmdiKDAsMCwwLC4xKTtcbiAgICAgIH1cblxuICAgICAgLnNlY29uZGFyeSAubWFzazpob3ZlciB7XG4gICAgICAgIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50O1xuICAgICAgfVxuXG4gIGA7XG4gIH1cblxuICBAcHJvcGVydHkoe3R5cGU6IEJvb2xlYW59KVxuICBwcmltYXJ5OiBib29sZWFuO1xuXG4gIEBwcm9wZXJ0eSh7dHlwZTogQm9vbGVhbn0pXG4gIHNlY29uZGFyeTogYm9vbGVhbjtcblxuICBAcHJvcGVydHkoKVxuICBuYW1lOiBzdHJpbmc7XG5cbiAgQHByb3BlcnR5KClcbiAgaW5Qcm9nZXNzTmFtZTogc3RyaW5nO1xuXG4gIEBwcm9wZXJ0eSh7dHlwZTogQm9vbGVhbn0pXG4gIGlzUHJvZ3Jlc3M6IGJvb2xlYW47XG5cbiAgcHVibGljIHNldFByb2dyZXNzKHByb2dyZXNzOiBib29sZWFuKTogdm9pZCB7XG4gICAgdGhpcy5pc1Byb2dyZXNzID0gcHJvZ3Jlc3M7XG4gIH1cblxuICBwcml2YXRlIGhhbmRsZUtleVVwKGV2ZW50OiBLZXlib2FyZEV2ZW50KTogdm9pZCB7XG4gICAgaWYgKGV2ZW50LmtleSA9PT0gXCJFbnRlclwiKSB7XG4gICAgICB0aGlzLmNsaWNrKCk7XG4gICAgfVxuICB9XG5cbiAgcHVibGljIHJlbmRlcigpOiBUZW1wbGF0ZVJlc3VsdCB7XG4gICAgICByZXR1cm4gaHRtbGBcbiAgICAgICAgPGRpdiBjbGFzcz1cImJ1dHRvbiBcbiAgICAgICAgICAke2dldENsYXNzZXMoeyBcbiAgICAgICAgICBcInByb2dyZXNzXCI6IHRoaXMuaXNQcm9ncmVzcyxcbiAgICAgICAgICBcInByaW1hcnlcIjogdGhpcy5wcmltYXJ5LFxuICAgICAgICAgIFwic2Vjb25kYXJ5XCI6IHRoaXMuc2Vjb25kYXJ5XG4gICAgICAgICAgfSl9XCJcbiAgICAgICAgICB0YWJpbmRleD1cIjBcIlxuICAgICAgICAgIEBrZXl1cD0ke3RoaXMuaGFuZGxlS2V5VXB9XG4gICAgICAgID5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwibWFza1wiPlxuICAgICAgICAgICAgJHt0aGlzLmlzUHJvZ3Jlc3MgPyB0aGlzLmluUHJvZ2Vzc05hbWUgfHwgdGhpcy5uYW1lIDogdGhpcy5uYW1lfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIGA7XG4gIH1cbn0iLCJpbXBvcnQgeyBjdXN0b21FbGVtZW50LCBwcm9wZXJ0eSB9IGZyb20gJ2xpdC1lbGVtZW50L2xpYi9kZWNvcmF0b3JzJztcbmltcG9ydCB7IExpdEVsZW1lbnQsIFRlbXBsYXRlUmVzdWx0LCBodG1sLCBjc3MgfSBmcm9tICdsaXQtZWxlbWVudCc7XG5pbXBvcnQgQnV0dG9uIGZyb20gJy4uL2J1dHRvbi9CdXR0b24nO1xuXG5AY3VzdG9tRWxlbWVudChcInJwLWRpYWxvZ1wiKVxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRGlhbG9nIGV4dGVuZHMgTGl0RWxlbWVudCB7XG5cbiAgc3RhdGljIGdldCBzdHlsZXMoKSB7XG4gICAgcmV0dXJuIGNzc2BcblxuICAgICAgLm1hc2sge1xuICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgYmFja2dyb3VuZDogcmdiYSgwLCAwLCAwLCAuNSk7XG4gICAgICAgIG9wYWNpdHk6IDA7XG4gICAgICAgIHZpc2liaWxpdHk6IGhpZGRlbjtcbiAgICAgICAgcG9zaXRpb246IGZpeGVkO1xuICAgICAgICB0b3A6MHB4O1xuICAgICAgICBsZWZ0OjBweDtcbiAgICAgICAgei1pbmRleDogMjAwMDtcbiAgICAgICAgdHJhbnNpdGlvbjogYWxsIGVhc2UtaW4gMjUwbXM7XG4gICAgICB9XG5cbiAgICAgIC5kaWFsb2cge1xuICAgICAgICBiYWNrZ3JvdW5kOiAjZmZmO1xuICAgICAgICB3aWR0aDogNTAwcHg7XG4gICAgICAgIG1hcmdpbjogMHB4IGF1dG87IFxuICAgICAgICB0b3A6IC0yMDBweDtcbiAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgICAgICB0cmFuc2l0aW9uOiB0b3AgZWFzZS1pbi1vdXQgMjAwbXM7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IHZhcigtLWN1cnZhdHVyZSk7XG4gICAgICAgIG92ZXJmbG93OiBoaWRkZW47XG4gICAgICAgIGJveC1zaGFkb3c6IDBweCAwcHggMHB4IDRweCByZ2JhKDAsMCwwLC4wNCk7XG4gICAgICB9XG5cbiAgICAgIC5tYXNrLm9wZW4ge1xuICAgICAgICBvcGFjaXR5OiAxO1xuICAgICAgICB2aXNpYmlsaXR5OiB2aXNpYmxlO1xuICAgICAgfVxuXG4gICAgICAudGl0bGUge1xuICAgICAgICBwYWRkaW5nOiAxMHB4IDIwcHg7XG4gICAgICAgIGZvbnQtc2l6ZTogMThweDtcbiAgICAgICAgY29sb3I6IHZhcigtLWNvbG9yLXRleHQtbGlnaHQpO1xuICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1jb2xvci1wcmltYXJ5LWRhcmspO1xuICAgICAgfVxuXG4gICAgICAuZm9vdGVyIHtcbiAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tY29sb3ItcHJpbWFyeS1saWdodCk7XG4gICAgICAgIHBhZGRpbmc6IDEwcHg7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGZsZXgtZmxvdzogcm93LXJldmVyc2U7XG4gICAgICB9XG5cbiAgICAgIHJwLWJ1dHRvbiB7XG4gICAgICAgIG1hcmdpbi1sZWZ0OiA1cHg7XG4gICAgICB9XG4gIGA7XG4gIH1cblxuXG4gIEBwcm9wZXJ0eSh7dHlwZSA6IEJvb2xlYW59KVxuICBvcGVuOiBib29sZWFuO1xuXG4gIEBwcm9wZXJ0eSgpXG4gIHRpdGxlOiBzdHJpbmc7XG5cbiAgQHByb3BlcnR5KClcbiAgYm9keTogc3RyaW5nO1xuXG4gIEBwcm9wZXJ0eSgpXG4gIHByaW1hcnlCdXR0b25OYW1lOiBzdHJpbmcgPSBcIk9rXCI7XG5cbiAgQHByb3BlcnR5KHt0eXBlOiBTdHJpbmd9KVxuICBjYW5jZWxCdXR0b25OYW1lOiBzdHJpbmcgPSBcIkNhbmNlbFwiO1xuXG4gIEBwcm9wZXJ0eSgpXG4gIGluUHJvZ3Jlc3NOYW1lOiBzdHJpbmcgPSBcIlNhdmluZ1wiO1xuXG4gIEBwcm9wZXJ0eSh7YXR0cmlidXRlOiBmYWxzZX0pXG4gIG9uQnV0dG9uQ2xpY2tlZDogKGJ1dHRvbjogQnV0dG9uKSA9PiB2b2lkO1xuXG4gIHB1YmxpYyBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICB9XG5cbiAgcHVibGljIHVwZGF0ZWQoY2hhbmdlZFByb3BlcnRpZXM6IE1hcDxzdHJpbmcsIGFueT4pIHtcbiAgICBpZiAoY2hhbmdlZFByb3BlcnRpZXMuaGFzKFwib3BlblwiKSkge1xuICAgICAgLy8gbWFrZSBzdXJlIG91ciBidXR0b25zIGFyZW4ndCBpbiBwcm9ncmVzcyBvbiBzaG93XG4gICAgICBpZiAodGhpcy5vcGVuKSB7XG4gICAgICAgIHRoaXMuc2hhZG93Um9vdC5xdWVyeVNlbGVjdG9yQWxsKFwicnAtYnV0dG9uXCIpLmZvckVhY2goKGJ1dHRvbjogQnV0dG9uKT0+YnV0dG9uLnNldFByb2dyZXNzKGZhbHNlKSk7XG4gICAgICAgIGNvbnN0IGlucHV0cyA9IHRoaXMucXVlcnlTZWxlY3RvckFsbChcInRleHRhcmVhLGlucHV0XCIpO1xuICAgICAgICBpZiAoaW5wdXRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICB3aW5kb3cuc2V0VGltZW91dCgoKT0+e1xuICAgICAgICAgICAgKGlucHV0c1swXSBhcyBhbnkpLmZvY3VzKCk7ICAgICAgICAgICAgXG4gICAgICAgICAgfSwgMTAwKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyBoYW5kbGVDbGljayhldnQ6IE1vdXNlRXZlbnQpIHtcbiAgICBjb25zdCBidXR0b24gPSBldnQuY3VycmVudFRhcmdldCBhcyBCdXR0b247XG4gICAgaWYgKCFidXR0b24uaXNQcm9ncmVzcykge1xuICAgICAgdGhpcy5vbkJ1dHRvbkNsaWNrZWQoYnV0dG9uKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGdldERvY3VtZW50SGVpZ2h0KCk6IG51bWJlciB7XG4gICAgY29uc3QgYm9keSA9IGRvY3VtZW50LmJvZHk7XG4gICAgY29uc3QgaHRtbCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcbiAgICByZXR1cm4gTWF0aC5tYXgoYm9keS5zY3JvbGxIZWlnaHQsIGJvZHkub2Zmc2V0SGVpZ2h0LCBodG1sLmNsaWVudEhlaWdodCwgaHRtbC5zY3JvbGxIZWlnaHQsIGh0bWwub2Zmc2V0SGVpZ2h0KTtcbiAgfVxuXG4gIHByaXZhdGUgaGFuZGxlS2V5VXAoZXZlbnQ6IEtleWJvYXJkRXZlbnQpIHtcbiAgICBpZiAoZXZlbnQua2V5ID09PSBcIkVzY2FwZVwiKSB7XG4gICAgICAvLyBmaW5kIG91ciBjYW5jZWwgYnV0dG9uIGFuZCBjbGljayBpdFxuICAgICAgdGhpcy5zaGFkb3dSb290LnF1ZXJ5U2VsZWN0b3JBbGwoXCJycC1idXR0b25cIikuZm9yRWFjaChcbiAgICAgICAgKGJ1dHRvbjogQnV0dG9uKT0+eyBpZiAoYnV0dG9uLm5hbWUgPT09IHRoaXMuY2FuY2VsQnV0dG9uTmFtZSkge2J1dHRvbi5jbGljaygpfX1cbiAgICAgIClcbiAgICB9XG4gIH1cblxuICBwdWJsaWMgcmVuZGVyKCk6IFRlbXBsYXRlUmVzdWx0IHtcblxuICAgIGNvbnN0IGhlaWdodCA9IHRoaXMuZ2V0RG9jdW1lbnRIZWlnaHQoKTtcblxuICAgIHJldHVybiBodG1sYFxuICAgICAgICA8c3R5bGU+XG4gICAgICAgICAgLm1hc2sge1xuICAgICAgICAgICAgaGVpZ2h0OiAke2hlaWdodCArIDEwMH1weDtcbiAgICAgICAgICB9XG4gICAgICAgICAgLm1hc2sub3BlbiA+IC5kaWFsb2cge1xuICAgICAgICAgICAgdG9wOiAxMDBweDtcbiAgICAgICAgICB9XG4gICAgICAgIDwvc3R5bGU+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJtYXNrICR7dGhpcy5vcGVuID8gJ29wZW4nIDogJyd9XCI+XG4gICAgICAgICAgPGRpdiBAa2V5dXA9JHt0aGlzLmhhbmRsZUtleVVwfSBjbGFzcz1cImRpYWxvZ1wiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhlYWRlclwiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwidGl0bGVcIj4ke3RoaXMudGl0bGV9PC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJib2R5XCIgQGtleXByZXNzPSR7dGhpcy5oYW5kbGVLZXlVcH0+JHt0aGlzLmJvZHkgPyB0aGlzLmJvZHkgOiBodG1sYDxzbG90Pjwvc2xvdD5gfTwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZvb3RlclwiPlxuICAgICAgICAgICAgICA8cnAtYnV0dG9uIEBjbGljaz0ke3RoaXMuaGFuZGxlQ2xpY2t9IG5hbWU9JHt0aGlzLnByaW1hcnlCdXR0b25OYW1lfSBpblByb2dlc3NOYW1lPSR7dGhpcy5pblByb2dyZXNzTmFtZX0gcHJpbWFyeT59PC9ycC1idXR0b24+XG4gICAgICAgICAgICAgIDxycC1idXR0b24gQGNsaWNrPSR7dGhpcy5oYW5kbGVDbGlja30gbmFtZT0ke3RoaXMuY2FuY2VsQnV0dG9uTmFtZX0gc2Vjb25kYXJ5PjwvcnAtYnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+ICAgICAgXG4gICAgICAgIDwvZGl2PlxuXG4gICAgYDtcbiAgfVxufSIsImltcG9ydCB7IExpdEVsZW1lbnQgfSBmcm9tICdsaXQtZWxlbWVudCc7XG5pbXBvcnQgeyBDdXN0b21FdmVudFR5cGUgfSBmcm9tICcuL2ludGVyZmFjZXMnO1xuXG5leHBvcnQgaW50ZXJmYWNlIEV2ZW50SGFuZGxlciB7XG4gIGV2ZW50OiBzdHJpbmc7XG4gIG1ldGhvZDogRXZlbnRMaXN0ZW5lcjtcbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUmFwaWRFbGVtZW50IGV4dGVuZHMgTGl0RWxlbWVudCB7XG5cbiAgcHVibGljIGdldEV2ZW50SGFuZGxlcnMoKTogRXZlbnRIYW5kbGVyW10ge1xuICAgIHJldHVybiBbXTtcbiAgfVxuXG4gIGNvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgIHN1cGVyLmNvbm5lY3RlZENhbGxiYWNrKCk7XG4gICAgZm9yIChjb25zdCBoYW5kbGVyIG9mIHRoaXMuZ2V0RXZlbnRIYW5kbGVycygpKSB7XG4gICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKGhhbmRsZXIuZXZlbnQsIGhhbmRsZXIubWV0aG9kLmJpbmQodGhpcykpO1xuICAgIH1cbiAgfVxuXG4gIGRpc2Nvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgIGZvciAoY29uc3QgaGFuZGxlciBvZiB0aGlzLmdldEV2ZW50SGFuZGxlcnMoKSkge1xuICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihoYW5kbGVyLmV2ZW50LCBoYW5kbGVyLm1ldGhvZCk7XG4gICAgfVxuICAgIHN1cGVyLmRpc2Nvbm5lY3RlZENhbGxiYWNrKCk7XG4gIH1cblxuICBwdWJsaWMgZmlyZUV2ZW50KHR5cGU6IEN1c3RvbUV2ZW50VHlwZSwgZGV0YWlsOiBhbnkgPSB7fSk6IHZvaWQge1xuICAgIGNvbnN0IGV2ZW50ID0gbmV3IEN1c3RvbUV2ZW50KHR5cGUsIHtcbiAgICAgICAgZGV0YWlsLFxuICAgICAgICBidWJibGVzOiB0cnVlLFxuICAgICAgICBjb21wb3NlZDogdHJ1ZVxuICAgIH0pO1xuICAgIHRoaXMuZGlzcGF0Y2hFdmVudChldmVudCk7XG4gIH07XG59IiwiaW1wb3J0IHsgY3VzdG9tRWxlbWVudCwgVGVtcGxhdGVSZXN1bHQsIGh0bWwsIGNzcywgcHJvcGVydHkgfSBmcm9tICdsaXQtZWxlbWVudCc7XG5pbXBvcnQgUmFwaWRFbGVtZW50IGZyb20gJy4uL1JhcGlkRWxlbWVudCc7XG5cbkBjdXN0b21FbGVtZW50KFwicnAtdGV4dGlucHV0XCIpXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUZXh0SW5wdXQgZXh0ZW5kcyBSYXBpZEVsZW1lbnQge1xuICBzdGF0aWMgZ2V0IHN0eWxlcygpIHtcbiAgICByZXR1cm4gY3NzYFxuICAgICAgXG4gICAgICAuaW5wdXQtY29udGFpbmVyIHtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogNXB4O1xuICAgICAgICBvdmVyZmxvdzogaGlkZGVuO1xuICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWNvbG9yLXdpZGdldC1iZyk7XG4gICAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWNvbG9yLXdpZGdldC1ib3JkZXIpO1xuICAgICAgICBib3gtc2hhZG93OiBub25lO1xuICAgICAgICB0cmFuc2l0aW9uOiBhbGwgZWFzZS1pbi1vdXQgMjAwbXM7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGZsZXgtZGlyZWN0aW9uOiByb3c7XG4gICAgICAgIGFsaWduLWl0ZW1zOiBzdHJldGNoO1xuICAgICAgfVxuXG4gICAgICAuaW5wdXQtY29udGFpbmVyOmZvY3VzLXdpdGhpbiB7XG4gICAgICAgIGJvcmRlci1jb2xvcjogdmFyKC0tY29sb3Itd2lkZ2V0LWJvcmRlcik7XG4gICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWNvbG9yLXdpZGdldC1iZy1mb2N1c2VkKTtcbiAgICAgICAgYm94LXNoYWRvdzogdmFyKC0tY29sb3Itd2lkZ2V0LXNoYWRvdy1mb2N1c2VkKSAxcHggMXB4IDZweCAwcHggaW5zZXQ7XG4gICAgICB9XG5cbiAgICAgIC5pbnB1dC1jb250YWluZXI6aG92ZXIge1xuICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1jb2xvci13aWRnZXQtYmctZm9jdXNlZCk7XG4gICAgICB9XG5cbiAgICAgIHRleHRhcmVhIHtcbiAgICAgICAgaGVpZ2h0OiA4NSU7XG4gICAgICB9XG5cbiAgICAgIC50ZXh0aW5wdXQge1xuICAgICAgICBwYWRkaW5nOiA4cHg7XG4gICAgICAgIGJvcmRlcjogMHB4IHNvbGlkIHJlZDtcbiAgICAgICAgZmxleDogMTtcbiAgICAgICAgbWFyZ2luOiAwO1xuICAgICAgICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDtcbiAgICAgICAgY29sb3I6IHZhcigtLWNvbG9yLXRleHQpO1xuICAgICAgICBmb250LXNpemU6IDEzcHg7XG4gICAgICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICAgICAgcmVzaXplOiBub25lO1xuICAgICAgfVxuXG4gICAgICAudGV4dGlucHV0OmZvY3VzIHtcbiAgICAgICAgb3V0bGluZTogbm9uZTtcbiAgICAgICAgY3Vyc29yOiB0ZXh0O1xuICAgICAgfVxuXG4gICAgYFxuICB9XG5cbiAgQHByb3BlcnR5KHt0eXBlOiBCb29sZWFufSlcbiAgdGV4dGFyZWE6IGJvb2xlYW47XG5cbiAgQHByb3BlcnR5KHt0eXBlOiBTdHJpbmd9KVxuICBwbGFjZWhvbGRlcjogc3RyaW5nID0gXCJcIjtcblxuICBAcHJvcGVydHkoe3R5cGU6IFN0cmluZ30pXG4gIHZhbHVlOiBzdHJpbmcgPSBcIlwiO1xuXG4gIEBwcm9wZXJ0eSh7dHlwZTogT2JqZWN0fSlcbiAgaW5wdXRFbGVtZW50OiBIVE1MSW5wdXRFbGVtZW50O1xuXG4gIHB1YmxpYyBmaXJzdFVwZGF0ZWQoY2hhbmdlczogTWFwPHN0cmluZywgYW55Pikge1xuICAgIHN1cGVyLmZpcnN0VXBkYXRlZChjaGFuZ2VzKTtcbiAgICB0aGlzLmlucHV0RWxlbWVudCA9IHRoaXMuc2hhZG93Um9vdC5xdWVyeVNlbGVjdG9yKFwiLnRleHRpbnB1dFwiKTtcbiAgfVxuXG4gIHB1YmxpYyByZW5kZXIoKTogVGVtcGxhdGVSZXN1bHQge1xuICAgIHJldHVybiBodG1sYFxuICAgIDxzdHlsZT5cbiAgICAgIC5pbnB1dC1jb250YWluZXIge1xuICAgICAgICBoZWlnaHQ6ICR7dGhpcy50ZXh0YXJlYSA/ICcxMDAlJyA6ICdhdXRvJ307XG4gICAgICB9XG4gICAgPC9zdHlsZT5cbiAgICA8ZGl2IGNsYXNzPVwiaW5wdXQtY29udGFpbmVyXCIgQGNsaWNrPSR7KCk9PnsgKHRoaXMuc2hhZG93Um9vdC5xdWVyeVNlbGVjdG9yKFwiLnRleHRpbnB1dFwiKSBhcyBIVE1MSW5wdXRFbGVtZW50KS5mb2N1cygpfX0+XG4gICAgICAke3RoaXMudGV4dGFyZWEgPyBodG1sYFxuICAgICAgICA8dGV4dGFyZWEgY2xhc3M9XCJ0ZXh0aW5wdXRcIiBcbiAgICAgICAgICAudmFsdWU9JHt0aGlzLnZhbHVlfVxuICAgICAgICAgIHBsYWNlaG9sZGVyPSR7dGhpcy5wbGFjZWhvbGRlcn0+XG4gICAgICAgIDwvdGV4dGFyZWE+XG4gICAgICBgIDogaHRtbGBcbiAgICAgICAgPGlucHV0IGNsYXNzPVwidGV4dGlucHV0XCIgXG4gICAgICAgICAgLnZhbHVlPSR7dGhpcy52YWx1ZX1cbiAgICAgICAgICBwbGFjZWhvbGRlcj0ke3RoaXMucGxhY2Vob2xkZXJ9PlxuICAgICAgYH1cbiAgICA8L2Rpdj5cbiAgICBgO1xuICB9XG59XG4iLCJpbXBvcnQgeyBMaXRFbGVtZW50LCBUZW1wbGF0ZVJlc3VsdCwgaHRtbCwgY3NzLCBjdXN0b21FbGVtZW50LCBwcm9wZXJ0eSB9IGZyb20gJ2xpdC1lbGVtZW50JztcbmltcG9ydCB7IGdldENsYXNzZXMgfSBmcm9tICcuLi91dGlscyc7XG5cblxuQGN1c3RvbUVsZW1lbnQoXCJycC1sYWJlbFwiKVxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTGFiZWwgZXh0ZW5kcyBMaXRFbGVtZW50IHtcblxuICBzdGF0aWMgZ2V0IHN0eWxlcygpIHtcbiAgICByZXR1cm4gY3NzYFxuXG4gICAgICA6aG9zdCB7XG4gICAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICAgIH1cblxuICAgICAgLm1hc2sge1xuICAgICAgICBwYWRkaW5nOiAzcHggNnB4O1xuICAgICAgICBib3JkZXItcmFkaXVzOiB2YXIoLS1jdXJ2YXR1cmUpO1xuICAgICAgfVxuXG4gICAgICAubGFiZWwuY2xpY2thYmxlIC5tYXNrOmhvdmVyIHtcbiAgICAgICAgYmFja2dyb3VuZDogcmdiKDAsMCwwLC4wNSk7XG4gICAgICB9XG5cbiAgICAgIC5sYWJlbCB7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDJweDtcbiAgICAgICAgZm9udC1zaXplOiA4MCU7XG4gICAgICAgIGZvbnQtd2VpZ2h0OiA0MDA7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IHZhcigtLWN1cnZhdHVyZSk7XG4gICAgICAgIGJhY2tncm91bmQ6IHRvbWF0bztcbiAgICAgICAgY29sb3I6ICNmZmY7XG4gICAgICAgIHRleHQtc2hhZG93OiAwIDAuMDRlbSAwLjA0ZW0gcmdiYSgwLDAsMCwwLjM1KTtcbiAgICAgIH1cblxuICAgICAgLnByaW1hcnkge1xuICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1jb2xvci1sYWJlbC1wcmltYXJ5KTtcbiAgICAgICAgY29sb3I6IHZhcigtLWNvbG9yLWxhYmVsLXByaW1hcnktdGV4dCk7XG4gICAgICB9XG5cbiAgICAgIC5zZWNvbmRhcnkge1xuICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1jb2xvci1sYWJlbC1zZWNvbmRhcnkpO1xuICAgICAgICBjb2xvcjogdmFyKC0tY29sb3ItbGFiZWwtc2Vjb25kYXJ5LXRleHQpO1xuICAgICAgICB0ZXh0LXNoYWRvdzogbm9uZTtcbiAgICAgIH1cblxuICAgICAgLmxpZ2h0IHtcbiAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tY29sb3Itb3ZlcmxheS1saWdodCk7XG4gICAgICAgIGNvbG9yOiB2YXIoLS1jb2xvci1vdmVybGF5LWxpZ2h0LXRleHQpO1xuICAgICAgICB0ZXh0LXNoYWRvdzogbm9uZTtcbiAgICAgIH1cblxuICAgICAgLmRhcmsge1xuICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1jb2xvci1vdmVybGF5LWRhcmspO1xuICAgICAgICBjb2xvcjogdmFyKC0tY29sb3Itb3ZlcmxheS1kYXJrLXRleHQpO1xuICAgICAgICB0ZXh0LXNoYWRvdzogbm9uZTtcbiAgICAgIH1cblxuICAgICAgLmNsaWNrYWJsZSB7XG4gICAgICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICAgIH1cbiAgYDtcbiAgfVxuXG4gIEBwcm9wZXJ0eSh7dHlwZTogQm9vbGVhbn0pXG4gIGNsaWNrYWJsZTogYm9vbGVhbjtcbiAgXG4gIEBwcm9wZXJ0eSh7dHlwZTogQm9vbGVhbn0pXG4gIHByaW1hcnk6IGJvb2xlYW47XG5cbiAgQHByb3BlcnR5KHt0eXBlOiBCb29sZWFufSlcbiAgc2Vjb25kYXJ5OiBib29sZWFuO1xuXG4gIEBwcm9wZXJ0eSh7dHlwZTogQm9vbGVhbn0pXG4gIGxpZ2h0OiBib29sZWFuO1xuXG4gIEBwcm9wZXJ0eSh7dHlwZTogQm9vbGVhbn0pXG4gIGRhcms6IGJvb2xlYW47XG5cbiAgQHByb3BlcnR5KClcbiAgYmFja2dyb3VuZENvbG9yOiBzdHJpbmc7XG5cbiAgQHByb3BlcnR5KClcbiAgdGV4dENvbG9yOiBzdHJpbmc7XG5cbiAgcHVibGljIHJlbmRlcigpOiBUZW1wbGF0ZVJlc3VsdCB7XG4gICAgcmV0dXJuIGh0bWxgXG4gICAgICAke3RoaXMuYmFja2dyb3VuZENvbG9yICYmIHRoaXMudGV4dENvbG9yID8gaHRtbGBcbiAgICAgICAgPHN0eWxlPlxuICAgICAgICAgIC5sYWJlbCB7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kOiAke3RoaXMuYmFja2dyb3VuZENvbG9yfTtcbiAgICAgICAgICAgIGNvbG9yOiAke3RoaXMudGV4dENvbG9yfTtcbiAgICAgICAgICB9XG4gICAgICAgIDwvc3R5bGU+XG4gICAgICBgOiBudWxsfVxuXG4gICAgICA8ZGl2IGNsYXNzPVwibGFiZWwgJHtnZXRDbGFzc2VzKHsgXG4gICAgICAgIFwiY2xpY2thYmxlXCI6IHRoaXMuY2xpY2thYmxlLFxuICAgICAgICBcInByaW1hcnlcIjogdGhpcy5wcmltYXJ5LFxuICAgICAgICBcInNlY29uZGFyeVwiOiB0aGlzLnNlY29uZGFyeSxcbiAgICAgICAgXCJsaWdodFwiOiB0aGlzLmxpZ2h0LFxuICAgICAgICBcImRhcmtcIjogdGhpcy5kYXJrXG4gICAgICAgIH0pfVwiXG4gICAgICAgPlxuICAgICAgICA8ZGl2IGNsYXNzPVwibWFza1wiPlxuICAgICAgICAgIDxzbG90Pjwvc2xvdD5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICBgO1xuICB9XG59IiwiZXhwb3J0IGludGVyZmFjZSBGZWF0dXJlUHJvcGVydGllcyB7XG4gICAgbmFtZTogc3RyaW5nO1xuICAgIG9zbV9pZDogc3RyaW5nO1xuICAgIGxldmVsOiBudW1iZXI7XG4gICAgY2hpbGRyZW4/OiBGZWF0dXJlUHJvcGVydGllc1tdO1xuICAgIGhhc19jaGlsZHJlbj86IGJvb2xlYW47XG4gICAgYWxpYXNlcz86IHN0cmluZztcbiAgICBwYXJlbnRfb3NtX2lkPzogc3RyaW5nO1xuICAgIGlkPzogbnVtYmVyO1xuICAgIHBhdGg/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBlbnVtIEN1c3RvbUV2ZW50VHlwZSB7XG4gICAgQ2FuY2VsZWQgPSAncnAtY2FuY2VsZWQnLFxuICAgIEN1cnNvckNoYW5nZWQgPSAncnAtY3Vyc29yLWNoYW5nZWQnLFxuICAgIFNlbGVjdGlvbiA9ICdycC1zZWxlY3Rpb24nXG59IiwiaW1wb3J0IHsgY3VzdG9tRWxlbWVudCwgVGVtcGxhdGVSZXN1bHQsIGh0bWwsIHByb3BlcnR5LCBjc3MgfSBmcm9tICdsaXQtZWxlbWVudCc7XG5pbXBvcnQgeyBDdXN0b21FdmVudFR5cGUgfSBmcm9tICcuLi9pbnRlcmZhY2VzJztcbmltcG9ydCBSYXBpZEVsZW1lbnQsIHsgRXZlbnRIYW5kbGVyIH0gZnJvbSAnLi4vUmFwaWRFbGVtZW50JztcblxuQGN1c3RvbUVsZW1lbnQoXCJycC1vcHRpb25zXCIpXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBPcHRpb25zIGV4dGVuZHMgUmFwaWRFbGVtZW50IHtcblxuICBzdGF0aWMgZ2V0IHN0eWxlcygpIHtcbiAgICByZXR1cm4gY3NzYFxuICAgICAgLm9wdGlvbnMge1xuICAgICAgICBvdmVyZmxvdy15OiBzY3JvbGw7XG4gICAgICAgIGJhY2tncm91bmQ6ICNmZmY7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDVweDtcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1jb2xvci1ib3JkZXJzKTtcbiAgICAgICAgYm94LXNoYWRvdzogMHB4IDBweCAzcHggMXB4IHJnYmEoMCwwLDAsLjA2KTtcbiAgICAgICAgLyogdHJhbnNpdGlvbjogb3BhY2l0eSBlYXNlLWluLW91dCAyMDBtcywgdG9wIGVhc2UtaW4tb3V0IDEwMG1zOyAqL1xuICAgICAgICBtYXgtaGVpZ2h0OiAzMDBweDtcbiAgICAgICAgb3BhY2l0eTogMDtcbiAgICAgICAgdmlzaWJpbGl0eTogaGlkZGVuO1xuICAgICAgfVxuXG4gICAgICAuc2hvdyB7XG4gICAgICAgIG9wYWNpdHk6IDE7XG4gICAgICAgIHZpc2liaWxpdHk6IHZpc2libGU7XG4gICAgICB9XG5cbiAgICAgIC5vcHRpb24ge1xuICAgICAgICBmb250LXNpemU6IDE0cHg7XG4gICAgICAgIHBhZGRpbmc6IDEwcHggMjBweDtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogNXB4O1xuICAgICAgICBtYXJnaW46IDVweDtcbiAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xuICAgICAgICBjb2xvcjogdmFyKC0tY29sb3ItdGV4dCk7XG4gICAgICB9XG5cbiAgICAgIC5vcHRpb24uZm9jdXNlZCB7XG4gICAgICAgIGJhY2tncm91bmQ6IHJnYmEodmFyKC0tcHJpbWFyeS1yZ2IpLCAuOCk7XG4gICAgICAgIGNvbG9yOiB2YXIoLS1jb2xvci10ZXh0LWxpZ2h0KTtcbiAgICAgIH1cblxuICAgICAgLm9wdGlvbiAuZGV0YWlsIHtcbiAgICAgICAgZm9udC1zaXplOiA4NSU7XG4gICAgICAgIGNvbG9yOiByZ2JhKDI1NSwyNTUsMjU1LC45KTtcbiAgICAgIH1cblxuICAgICAgY29kZSB7XG4gICAgICAgIGJhY2tncm91bmQ6IHJnYmEoMCwwLDAsLjE1KTtcbiAgICAgICAgcGFkZGluZzogMXB4IDVweDtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogNHB4O1xuICAgICAgfVxuICAgIGBcbiAgfVxuXG4gIEBwcm9wZXJ0eSh7dHlwZTogTnVtYmVyfSlcbiAgdG9wOiBudW1iZXI7XG5cbiAgQHByb3BlcnR5KHt0eXBlOiBOdW1iZXJ9KVxuICBsZWZ0OiBudW1iZXI7XG5cbiAgQHByb3BlcnR5KHt0eXBlOiBOdW1iZXJ9KVxuICB3aWR0aDogbnVtYmVyO1xuXG4gIEBwcm9wZXJ0eSh7dHlwZTogT2JqZWN0fSlcbiAgYW5jaG9yVG86IEhUTUxFbGVtZW50XG5cbiAgQHByb3BlcnR5KHt0eXBlOiBCb29sZWFufSlcbiAgdmlzaWJsZTogYm9vbGVhbjtcblxuICBAcHJvcGVydHkoe3R5cGU6IE51bWJlcn0pXG4gIGN1cnNvckluZGV4OiBudW1iZXIgPSAwO1xuXG4gIEBwcm9wZXJ0eSh7dHlwZTogQXJyYXl9KVxuICBvcHRpb25zOiBhbnlbXVxuXG4gIEBwcm9wZXJ0eSh7YXR0cmlidXRlOiBmYWxzZX0pXG4gIHJlbmRlck9wdGlvbjogKG9wdGlvbjogYW55LCBzZWxlY3RlZDogYm9vbGVhbikgPT4gdm9pZDtcblxuICBAcHJvcGVydHkoe2F0dHJpYnV0ZTogZmFsc2V9KVxuICByZW5kZXJPcHRpb25OYW1lOiAob3B0aW9uOiBhbnksIHNlbGVjdGVkOiBib29sZWFuKSA9PiB2b2lkO1xuXG4gIEBwcm9wZXJ0eSh7YXR0cmlidXRlOiBmYWxzZX0pXG4gIHJlbmRlck9wdGlvbkRldGFpbDogKG9wdGlvbjogYW55LCBzZWxlY3RlZDogYm9vbGVhbikgPT4gdm9pZDtcblxuICBwdWJsaWMgdXBkYXRlZChjaGFuZ2VkUHJvcGVydGllczogTWFwPHN0cmluZywgYW55Pikge1xuICAgIHN1cGVyLnVwZGF0ZWQoY2hhbmdlZFByb3BlcnRpZXMpO1xuXG4gICAgLy8gaWYgb3VyIGN1cnNvciBjaGFuZ2VkLCBsZXRzIG1ha2Ugc3VyZSBvdXIgc2Nyb2xsYm94IGlzIHNob3dpbmcgaXRcbiAgICBpZihjaGFuZ2VkUHJvcGVydGllcy5oYXMoXCJjdXJzb3JJbmRleFwiKSkge1xuICAgICAgY29uc3QgZm9jdXNlZEVsZSA9IHRoaXMuc2hhZG93Um9vdC5xdWVyeVNlbGVjdG9yKFwiLmZvY3VzZWRcIikgYXMgSFRNTERpdkVsZW1lbnQ7XG4gICAgICBpZiAoZm9jdXNlZEVsZSkge1xuICAgICAgICBjb25zdCBzY3JvbGxCb3ggPSAgdGhpcy5zaGFkb3dSb290LnF1ZXJ5U2VsZWN0b3IoXCIub3B0aW9uc1wiKTtcbiAgICAgICAgY29uc3Qgc2Nyb2xsQm94SGVpZ2h0ID0gc2Nyb2xsQm94LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodFxuICAgICAgICBjb25zdCBmb2N1c2VkRWxlSGVpZ2h0ID0gZm9jdXNlZEVsZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQ7ICAgICAgICAgICAgICBcbiAgICAgICAgaWYgKGZvY3VzZWRFbGUub2Zmc2V0VG9wICsgZm9jdXNlZEVsZUhlaWdodCA+IHNjcm9sbEJveC5zY3JvbGxUb3AgKyBzY3JvbGxCb3hIZWlnaHQgLSA1KSB7XG4gICAgICAgICAgY29uc3Qgc2Nyb2xsVG8gPSBmb2N1c2VkRWxlLm9mZnNldFRvcCAtIHNjcm9sbEJveEhlaWdodCArIGZvY3VzZWRFbGVIZWlnaHQgKyA1O1xuICAgICAgICAgIHNjcm9sbEJveC5zY3JvbGxUbyh7IHRvcDogc2Nyb2xsVG8gfSk7XG4gICAgICAgIH0gZWxzZSBpZiAoZm9jdXNlZEVsZS5vZmZzZXRUb3AgPCBzY3JvbGxCb3guc2Nyb2xsVG9wKSB7XG4gICAgICAgICAgY29uc3Qgc2Nyb2xsVG8gPSBmb2N1c2VkRWxlLm9mZnNldFRvcCAtIDU7XG4gICAgICAgICAgc2Nyb2xsQm94LnNjcm9sbFRvKHsgdG9wOiBzY3JvbGxUbyB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmKGNoYW5nZWRQcm9wZXJ0aWVzLmhhcyhcIm9wdGlvbnNcIikpIHtcbiAgICAgIHRoaXMuY2FsY3VsYXRlUG9zaXRpb24oKTtcbiAgICAgIHRoaXMuY3Vyc29ySW5kZXggPSAwO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgcmVuZGVyT3B0aW9uRGVmYXVsdChvcHRpb246IGFueSwgc2VsZWN0ZWQ6IGJvb2xlYW4pOiBUZW1wbGF0ZVJlc3VsdCB7XG4gICAgY29uc3QgcmVuZGVyT3B0aW9uTmFtZSA9ICh0aGlzLnJlbmRlck9wdGlvbk5hbWUgfHwgdGhpcy5yZW5kZXJPcHRpb25OYW1lRGVmYXVsdCk7XG4gICAgY29uc3QgcmVuZGVyT3B0aW9uRGV0YWlsID0gKHRoaXMucmVuZGVyT3B0aW9uRGV0YWlsIHx8IHRoaXMucmVuZGVyT3B0aW9uRGV0YWlsRGVmYXVsdCk7XG4gICAgaWYgKHNlbGVjdGVkKSB7XG4gICAgICByZXR1cm4gaHRtbGA8ZGl2IGNsYXNzPVwibmFtZVwiPiR7cmVuZGVyT3B0aW9uTmFtZShvcHRpb24sIHNlbGVjdGVkKX08L2Rpdj48ZGl2IGNsYXNzPVwiZGV0YWlsXCI+JHtyZW5kZXJPcHRpb25EZXRhaWwob3B0aW9uLCBzZWxlY3RlZCl9PC9kaXY+YDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGh0bWxgPGRpdiBjbGFzcz1cIm5hbWVcIj4ke3JlbmRlck9wdGlvbk5hbWUob3B0aW9uLCBzZWxlY3RlZCl9PC9kaXY+YDtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIHJlbmRlck9wdGlvbk5hbWVEZWZhdWx0KG9wdGlvbjogYW55LCBzZWxlY3RlZDogYm9vbGVhbik6IFRlbXBsYXRlUmVzdWx0IHtcbiAgICByZXR1cm4gaHRtbGAke29wdGlvbi5uYW1lfWBcbiAgfVxuXG4gIHByaXZhdGUgcmVuZGVyT3B0aW9uRGV0YWlsRGVmYXVsdChvcHRpb246IGFueSwgc2VsZWN0ZWQ6IGJvb2xlYW4pOiBUZW1wbGF0ZVJlc3VsdCB7XG4gICAgcmV0dXJuIGh0bWxgJHtvcHRpb24uZGV0YWlsfWBcbiAgfVxuXG4gIHByaXZhdGUgaGFuZGxlU2VsZWN0aW9uKHRhYmJlZDogYm9vbGVhbiA9IGZhbHNlKSB7XG4gICAgY29uc3Qgc2VsZWN0ZWQgPSB0aGlzLm9wdGlvbnNbdGhpcy5jdXJzb3JJbmRleF07XG4gICAgdGhpcy5maXJlRXZlbnQoQ3VzdG9tRXZlbnRUeXBlLlNlbGVjdGlvbiwgeyBzZWxlY3RlZCwgdGFiYmVkIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSBtb3ZlQ3Vyc29yKGRpcmVjdGlvbjogbnVtYmVyKTogdm9pZCB7XG4gICAgY29uc3QgbmV3SW5kZXggPSBNYXRoLm1heChNYXRoLm1pbih0aGlzLmN1cnNvckluZGV4ICsgZGlyZWN0aW9uLCB0aGlzLm9wdGlvbnMubGVuZ3RoIC0gMSksIDApO1xuICAgIHRoaXMuc2V0Q3Vyc29yKG5ld0luZGV4KTtcbiAgfVxuXG4gIHByaXZhdGUgc2V0Q3Vyc29yKG5ld0luZGV4OiBudW1iZXIpOiB2b2lkIHtcbiAgICBpZiAobmV3SW5kZXggIT09IHRoaXMuY3Vyc29ySW5kZXgpe1xuICAgICAgdGhpcy5jdXJzb3JJbmRleCA9IG5ld0luZGV4O1xuICAgICAgdGhpcy5maXJlRXZlbnQoQ3VzdG9tRXZlbnRUeXBlLkN1cnNvckNoYW5nZWQsIHsgaW5kZXg6IG5ld0luZGV4IH0pO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgaGFuZGxlS2V5RG93bihldnQ6IEtleWJvYXJkRXZlbnQpIHtcbiAgICBpZiAodGhpcy52aXNpYmxlKSB7XG4gICAgICBpZiAoKGV2dC5jdHJsS2V5ICYmIGV2dC5rZXkgPT09IFwiblwiKSB8fCBldnQua2V5ID09PSBcIkFycm93RG93blwiKSB7XG4gICAgICAgIHRoaXMubW92ZUN1cnNvcigxKTtcbiAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB9IGVsc2UgaWYgKChldnQuY3RybEtleSAmJiBldnQua2V5ID09PSBcInBcIikgfHwgZXZ0LmtleSA9PT0gXCJBcnJvd1VwXCIpIHtcbiAgICAgICAgdGhpcy5tb3ZlQ3Vyc29yKC0xKTtcbiAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB9IGVsc2UgaWYgKGV2dC5rZXkgPT09IFwiRW50ZXJcIiB8fCBldnQua2V5ID09PSBcIlRhYlwiKSB7XG4gICAgICAgIHRoaXMuaGFuZGxlU2VsZWN0aW9uKGV2dC5rZXkgPT09IFwiVGFiXCIpO1xuICAgICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIH1cblxuICAgICAgaWYoZXZ0LmtleSA9PT0gXCJFc2NhcGVcIikge1xuICAgICAgICB0aGlzLmZpcmVFdmVudChDdXN0b21FdmVudFR5cGUuQ2FuY2VsZWQpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgY2FsY3VsYXRlUG9zaXRpb24oKSB7XG4gICAgY29uc3Qgb3B0aW9uc0JvdW5kcyA9IHRoaXMuc2hhZG93Um9vdC5xdWVyeVNlbGVjdG9yKCcub3B0aW9ucycpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIGlmICh0aGlzLmFuY2hvclRvKSB7XG4gICAgICBjb25zdCBhbmNob3JCb3VuZHMgPSB0aGlzLmFuY2hvclRvLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOyAgICBcbiAgICAgIGNvbnN0IHRvcFRvcCA9IGFuY2hvckJvdW5kcy50b3AgLSBvcHRpb25zQm91bmRzLmhlaWdodDtcbiAgICAgIGlmICh0b3BUb3AgPiAwICYmIGFuY2hvckJvdW5kcy5ib3R0b20gKyBvcHRpb25zQm91bmRzLmhlaWdodCA+IHdpbmRvdy5pbm5lckhlaWdodCkge1xuICAgICAgICB0aGlzLnRvcCA9IHRvcFRvcCArIHdpbmRvdy5wYWdlWU9mZnNldDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMudG9wID0gYW5jaG9yQm91bmRzLmJvdHRvbSArIHdpbmRvdy5wYWdlWU9mZnNldDtcbiAgICAgIH1cblxuICAgICAgdGhpcy5sZWZ0ID0gYW5jaG9yQm91bmRzLmxlZnQ7XG4gICAgICB0aGlzLndpZHRoID0gYW5jaG9yQm91bmRzLndpZHRoO1xuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyBnZXRFdmVudEhhbmRsZXJzKCk6IEV2ZW50SGFuZGxlcltdIHtcbiAgICByZXR1cm4gW1xuICAgICAgeyBldmVudDogJ2tleWRvd24nLCBtZXRob2Q6IHRoaXMuaGFuZGxlS2V5RG93biB9LFxuICAgICAgeyBldmVudDogJ3Njcm9sbCcsIG1ldGhvZDogdGhpcy5jYWxjdWxhdGVQb3NpdGlvbiB9XG4gICAgXVxuICB9XG5cbiAgcHVibGljIHJlbmRlcigpOiBUZW1wbGF0ZVJlc3VsdCB7XG4gICAgY29uc3QgcmVuZGVyT3B0aW9uID0gKHRoaXMucmVuZGVyT3B0aW9uIHx8IHRoaXMucmVuZGVyT3B0aW9uRGVmYXVsdCkuYmluZCh0aGlzKTtcbiAgICByZXR1cm4gaHRtbGBcbiAgICAgIDxzdHlsZT5cbiAgICAgICAgLm9wdGlvbnMge1xuICAgICAgICAgIHRvcDogJHt0aGlzLnRvcH1weDtcbiAgICAgICAgICBsZWZ0OiAke3RoaXMubGVmdH1weDtcbiAgICAgICAgICB3aWR0aDogJHt0aGlzLndpZHRofXB4O1xuICAgICAgICB9XG4gICAgICA8L3N0eWxlPlxuICAgICAgPGRpdiBjbGFzcz1cIm9wdGlvbnMgJHt0aGlzLnZpc2libGUgPyBcInNob3dcIjogXCJcIn1cIj5cbiAgICAgICAgJHt0aGlzLm9wdGlvbnMubWFwKChvcHRpb246IGFueSwgaW5kZXg6IG51bWJlcik9Pmh0bWxgXG4gICAgICAgICAgPGRpdiBcbiAgICAgICAgICAgIEBtb3VzZW1vdmU9JHsoKT0+e3RoaXMuc2V0Q3Vyc29yKGluZGV4KX19XG4gICAgICAgICAgICBAY2xpY2s9JHsoKT0+e3RoaXMuaGFuZGxlU2VsZWN0aW9uKCk7fX1cbiAgICAgICAgICAgIGNsYXNzPVwib3B0aW9uICR7aW5kZXggPT0gdGhpcy5jdXJzb3JJbmRleCA/ICdmb2N1c2VkJyA6ICcnfVwiPlxuICAgICAgICAgICAgICAke3JlbmRlck9wdGlvbihvcHRpb24sIGluZGV4ID09IHRoaXMuY3Vyc29ySW5kZXgpfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICBgKX1cbiAgICAgIDwvZGl2PmA7XG4gIH1cbn1cbiIsImltcG9ydCB7IGN1c3RvbUVsZW1lbnQsIFRlbXBsYXRlUmVzdWx0LCBodG1sLCBjc3MsIHByb3BlcnR5IH0gZnJvbSAnbGl0LWVsZW1lbnQnO1xuaW1wb3J0IHsgZ2V0VXJsIH0gZnJvbSAnLi4vdXRpbHMnO1xuaW1wb3J0IGF4aW9zLCB7IEF4aW9zUmVzcG9uc2UsIENhbmNlbFRva2VuU291cmNlIH0gZnJvbSAnYXhpb3MnO1xuaW1wb3J0ICcuLi9vcHRpb25zL09wdGlvbnMnO1xuaW1wb3J0IFJhcGlkRWxlbWVudCwgeyBFdmVudEhhbmRsZXIgfSBmcm9tICcuLi9SYXBpZEVsZW1lbnQnO1xuaW1wb3J0IHsgQ3VzdG9tRXZlbnRUeXBlIH0gZnJvbSAnLi4vaW50ZXJmYWNlcyc7XG5pbXBvcnQgVGV4dElucHV0IGZyb20gJy4uL3RleHRpbnB1dC9UZXh0SW5wdXQnO1xuXG5jb25zdCBMT09LX0FIRUFEID0gMjA7XG5cbkBjdXN0b21FbGVtZW50KFwicnAtc2VsZWN0XCIpXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTZWxlY3QgZXh0ZW5kcyBSYXBpZEVsZW1lbnQge1xuXG4gIHN0YXRpYyBnZXQgc3R5bGVzKCkge1xuICAgIHJldHVybiBjc3NgXG4gICAgICA6aG9zdCB7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgICB9XG4gICAgYFxuICB9XG5cbiAgQHByb3BlcnR5KHt0eXBlOiBBcnJheX0pXG4gIHNlbGVjdGVkOiBhbnlbXSA9IFtdO1xuXG4gIEBwcm9wZXJ0eSgpXG4gIHBsYWNlaG9sZGVyOiBzdHJpbmcgPSAnJztcblxuICBAcHJvcGVydHkoKVxuICBlbmRwb2ludDogc3RyaW5nO1xuXG4gIEBwcm9wZXJ0eSh7dHlwZTogU3RyaW5nfSlcbiAgaW5wdXQ6IHN0cmluZyA9ICcnO1xuXG4gIEBwcm9wZXJ0eSh7dHlwZTogQXJyYXl9KVxuICBvcHRpb25zOiBhbnlbXSA9IFtdO1xuXG4gIEBwcm9wZXJ0eSh7dHlwZTogTnVtYmVyfSlcbiAgcXVpZXRNaWxsaXM6IG51bWJlciA9IDIwMDtcblxuICBAcHJvcGVydHkoe3R5cGU6IEJvb2xlYW59KVxuICBmZXRjaGluZzogYm9vbGVhbjtcblxuICBAcHJvcGVydHkoe2F0dHJpYnV0ZTogZmFsc2V9KVxuICBjdXJzb3JJbmRleDogbnVtYmVyO1xuXG4gIEBwcm9wZXJ0eSh7YXR0cmlidXRlOiBmYWxzZX0pXG4gIGFuY2hvckVsZW1lbnQ6IEhUTUxFbGVtZW50O1xuXG4gIEBwcm9wZXJ0eSh7YXR0cmlidXRlOiBmYWxzZX0pXG4gIHJlbmRlck9wdGlvbjogKG9wdGlvbjogYW55LCBzZWxlY3RlZDogYm9vbGVhbikgPT4gdm9pZDtcblxuICBAcHJvcGVydHkoe2F0dHJpYnV0ZTogZmFsc2V9KVxuICByZW5kZXJPcHRpb25OYW1lOiAob3B0aW9uOiBhbnksIHNlbGVjdGVkOiBib29sZWFuKSA9PiB2b2lkO1xuXG4gIEBwcm9wZXJ0eSh7YXR0cmlidXRlOiBmYWxzZX0pXG4gIHJlbmRlck9wdGlvbkRldGFpbDogKG9wdGlvbjogYW55LCBzZWxlY3RlZDogYm9vbGVhbikgPT4gdm9pZCA9ICgpPT57fTtcblxuICBwcml2YXRlIGxhc3RRdWVyeTogbnVtYmVyO1xuICBwcml2YXRlIGNhbmNlbFRva2VuOiBDYW5jZWxUb2tlblNvdXJjZTtcbiAgcHJpdmF0ZSBjb21wbGV0ZTogYm9vbGVhbjtcbiAgcHJpdmF0ZSBwYWdlOiBudW1iZXI7XG4gIHByaXZhdGUgcXVlcnk6IHN0cmluZztcblxuICBwdWJsaWMgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcbiAgfVxuXG4gIHB1YmxpYyB1cGRhdGVkKGNoYW5nZWRQcm9wZXJ0aWVzOiBNYXA8c3RyaW5nLCBhbnk+KSB7XG4gICAgc3VwZXIudXBkYXRlZChjaGFuZ2VkUHJvcGVydGllcyk7XG4gICAgaWYgKGNoYW5nZWRQcm9wZXJ0aWVzLmhhcyhcInNlbGVjdGVkXCIpKSB7XG4gICAgICB0aGlzLmlucHV0ID0gXCJcIjtcbiAgICAgIHRoaXMuc2hhZG93Um9vdC5xdWVyeVNlbGVjdG9yKFwiaW5wdXRcIikuYmx1cigpO1xuICAgIH1cbiAgICBcbiAgICBpZiAoY2hhbmdlZFByb3BlcnRpZXMuaGFzKFwiaW5wdXRcIikgJiYgIWNoYW5nZWRQcm9wZXJ0aWVzLmhhcyhcInNlbGVjdGVkXCIpKSB7XG4gICAgICBpZiAoIXRoaXMuaW5wdXQpIHtcbiAgICAgICAgdGhpcy5vcHRpb25zID0gW107XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMubGFzdFF1ZXJ5KSB7XG4gICAgICAgIHdpbmRvdy5jbGVhclRpbWVvdXQodGhpcy5sYXN0UXVlcnkpO1xuICAgICAgfVxuICAgICAgdGhpcy5sYXN0UXVlcnkgPSB3aW5kb3cuc2V0VGltZW91dCgoKT0+e1xuICAgICAgICB0aGlzLmZldGNoT3B0aW9ucyh0aGlzLmlucHV0KTtcbiAgICAgIH0sIHRoaXMucXVpZXRNaWxsaXMpO1xuICAgIH1cblxuICAgICAgIC8vIGlmIG91ciBjdXJzb3IgY2hhbmdlZCwgbGV0cyBtYWtlIHN1cmUgb3VyIHNjcm9sbGJveCBpcyBzaG93aW5nIGl0XG4gICAgaWYoY2hhbmdlZFByb3BlcnRpZXMuaGFzKFwiY3Vyc29ySW5kZXhcIikpIHtcbiAgICAgIGlmICh0aGlzLm9wdGlvbnMubGVuZ3RoID4gMCAmJiBcbiAgICAgICAgICB0aGlzLnF1ZXJ5ICYmIFxuICAgICAgICAgICF0aGlzLmNvbXBsZXRlICYmIFxuICAgICAgICAgIHRoaXMuY3Vyc29ySW5kZXggPiB0aGlzLm9wdGlvbnMubGVuZ3RoIC0gTE9PS19BSEVBRCkge1xuICAgICAgICB0aGlzLmZldGNoT3B0aW9ucyh0aGlzLnF1ZXJ5LCB0aGlzLnBhZ2UgKyAxKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGhhbmRsZU9wdGlvblNlbGVjdGlvbihldmVudDogQ3VzdG9tRXZlbnQpIHtcbiAgICBjb25zdCBzZWxlY3RlZCA9IGV2ZW50LmRldGFpbC5zZWxlY3RlZDtcbiAgICB0aGlzLnNlbGVjdGVkID0gW3NlbGVjdGVkXTtcbiAgICB0aGlzLm9wdGlvbnMgPSBbXTtcbiAgICB0aGlzLmlucHV0ID0gc2VsZWN0ZWQubmFtZTtcbiB9XG5cbiAgcHVibGljIGZldGNoT3B0aW9ucyhxdWVyeTogc3RyaW5nLCBwYWdlOiBudW1iZXIgPSAwKSB7XG4gICAgXG4gICAgaWYgKCF0aGlzLmZldGNoaW5nKSB7XG4gICAgICAvLyBtYWtlIHN1cmUgd2UgY2FuY2VsIGFueSBwcmV2aW91cyByZXF1ZXN0XG4gICAgICBpZiAodGhpcy5jYW5jZWxUb2tlbikge1xuICAgICAgICB0aGlzLmNhbmNlbFRva2VuLmNhbmNlbCgpO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBDYW5jZWxUb2tlbiA9IGF4aW9zLkNhbmNlbFRva2VuO1xuICAgICAgdGhpcy5jYW5jZWxUb2tlbiA9IENhbmNlbFRva2VuLnNvdXJjZSgpO1xuXG4gICAgICB0aGlzLmZldGNoaW5nID0gdHJ1ZTtcbiAgICAgIGdldFVybCh0aGlzLmVuZHBvaW50ICsgZW5jb2RlVVJJQ29tcG9uZW50KHF1ZXJ5KSArIFwiJnBhZ2U9XCIgKyBwYWdlLCB0aGlzLmNhbmNlbFRva2VuLnRva2VuKS50aGVuKChyZXNwb25zZTogQXhpb3NSZXNwb25zZSkgPT4ge1xuICAgICAgICBpZiAocGFnZSA9PT0gMCkge1xuICAgICAgICAgIHRoaXMub3B0aW9ucyA9IHJlc3BvbnNlLmRhdGEuZmlsdGVyKChvcHRpb246IGFueSkgPT4gb3B0aW9uLmxldmVsID4gMCk7XG4gICAgICAgICAgdGhpcy5jdXJzb3JJbmRleCA9IDA7XG4gICAgICAgICAgdGhpcy5xdWVyeSA9IHF1ZXJ5O1xuICAgICAgICAgIHRoaXMuY29tcGxldGUgPSB0aGlzLm9wdGlvbnMubGVuZ3RoID09PSAwO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnN0IG5ld1Jlc3VsdHMgPSByZXNwb25zZS5kYXRhLmZpbHRlcigob3B0aW9uOiBhbnkpID0+IG9wdGlvbi5sZXZlbCA+IDApO1xuICAgICAgICAgIGlmIChuZXdSZXN1bHRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHRoaXMub3B0aW9ucyA9IFsgLi4udGhpcy5vcHRpb25zLCAuLi5uZXdSZXN1bHRzXTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhpcy5jb21wbGV0ZSA9IG5ld1Jlc3VsdHMubGVuZ3RoID09PSAwXG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5mZXRjaGluZyA9IGZhbHNlO1xuICAgICAgICB0aGlzLnBhZ2UgPSBwYWdlO1xuICAgICAgfSkuY2F0Y2goKHJlYXNvbjogYW55KT0+e1xuICAgICAgICAvLyBjYW5jZWxsZWRcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgaGFuZGxlQmx1cigpIHtcbiAgICAvLyB3ZSBkb24ndCBkbyB0aGlzIGltbWVkaWF0ZWx5IHNvIHdlIGNhbiBoYW5kbGUgY2xpY2sgZXZlbnRzIG91dHNpZGUgb2Ygb3VyIGlucHV0XG4gICAgd2luZG93LnNldFRpbWVvdXQoKCk9Pnt0aGlzLm9wdGlvbnMgPSBbXX0sIDEwMCk7XG4gIH1cblxuICBwcml2YXRlIGhhbmRsZUZvY3VzKCk6IHZvaWQge1xuICB9XG5cbiAgcHJpdmF0ZSBoYW5kbGVLZXlVcChldnQ6IEtleWJvYXJkRXZlbnQpIHtcbiAgICBjb25zdCBlbGUgPSBldnQuY3VycmVudFRhcmdldCBhcyBUZXh0SW5wdXQ7XG4gICAgdGhpcy5pbnB1dCA9IGVsZS5pbnB1dEVsZW1lbnQudmFsdWUudHJpbSgpO1xuICB9XG5cbiAgcHJpdmF0ZSBoYW5kbGVDYW5jZWwoKSB7XG4gICAgdGhpcy5vcHRpb25zID0gW107XG4gIH1cblxuICBwcml2YXRlIGhhbmRsZUN1cnNvckNoYW5nZWQoZXZlbnQ6IEN1c3RvbUV2ZW50KSB7XG4gICAgdGhpcy5jdXJzb3JJbmRleCA9IGV2ZW50LmRldGFpbC5pbmRleDtcbiAgfVxuXG4gIHB1YmxpYyBnZXRFdmVudEhhbmRsZXJzKCk6IEV2ZW50SGFuZGxlcltdIHtcbiAgICByZXR1cm4gW1xuICAgICAgeyBldmVudDogQ3VzdG9tRXZlbnRUeXBlLkNhbmNlbGVkLCBtZXRob2Q6IHRoaXMuaGFuZGxlQ2FuY2VsIH0sXG4gICAgICB7IGV2ZW50OiBDdXN0b21FdmVudFR5cGUuQ3Vyc29yQ2hhbmdlZCwgbWV0aG9kOiB0aGlzLmhhbmRsZUN1cnNvckNoYW5nZWQgfSxcbiAgICAgIC8vIHsgZXZlbnQ6IEN1c3RvbUV2ZW50VHlwZS5TZWxlY3Rpb24sIG1ldGhvZDogdGhpcy5oYW5kbGVPcHRpb25TZWxlY3Rpb24gfSxcbiAgICBdO1xuICB9XG5cbiAgcHVibGljIGZpcnN0VXBkYXRlZChjaGFuZ2VkUHJvcGVydGllczogYW55KSB7XG4gICAgdGhpcy5hbmNob3JFbGVtZW50ID0gdGhpcy5zaGFkb3dSb290LnF1ZXJ5U2VsZWN0b3IoXCJycC10ZXh0aW5wdXRcIik7XG4gIH1cblxuICBwdWJsaWMgcmVuZGVyKCk6IFRlbXBsYXRlUmVzdWx0IHtcbiAgICByZXR1cm4gaHRtbGBcbiAgICAgIDxycC10ZXh0aW5wdXRcbiAgICAgICAgQGtleXVwPSR7dGhpcy5oYW5kbGVLZXlVcH1cbiAgICAgICAgQGJsdXI9JHt0aGlzLmhhbmRsZUJsdXJ9IFxuICAgICAgICBAZm9jdXM9JHt0aGlzLmhhbmRsZUZvY3VzfSBcbiAgICAgICAgLnZhbHVlPSR7dGhpcy5pbnB1dH0gIFxuICAgICAgICBwbGFjZWhvbGRlcj0ke3RoaXMucGxhY2Vob2xkZXJ9XG4gICAgICA+PC9ycC10ZXh0aW5wdXQ+XG4gICAgICA8cnAtb3B0aW9uc1xuICAgICAgICBjdXJzb3JJbmRleD0ke3RoaXMuY3Vyc29ySW5kZXh9XG4gICAgICAgIEBycC1zZWxlY3Rpb249JHt0aGlzLmhhbmRsZU9wdGlvblNlbGVjdGlvbn1cbiAgICAgICAgLnJlbmRlck9wdGlvbkRldGFpbD0ke3RoaXMucmVuZGVyT3B0aW9uRGV0YWlsfVxuICAgICAgICAucmVuZGVyT3B0aW9uTmFtZT0ke3RoaXMucmVuZGVyT3B0aW9uTmFtZX1cbiAgICAgICAgLnJlbmRlck9wdGlvbj0ke3RoaXMucmVuZGVyT3B0aW9ufVxuICAgICAgICAuYW5jaG9yVG89JHt0aGlzLmFuY2hvckVsZW1lbnR9XG4gICAgICAgIC5vcHRpb25zPSR7dGhpcy5vcHRpb25zfVxuICAgICAgICA/dmlzaWJsZT0ke3RoaXMuaW5wdXQubGVuZ3RoID4gMCAmJiB0aGlzLm9wdGlvbnMubGVuZ3RoID4gMH1cbiAgICAgID48L3JwLW9wdGlvbnM+XG4gICAgYFxuICB9XG59IiwiY29uc3QgU1RBVEVfQk9EWSA9IDA7IC8vIG5vdCBpbiBhIGV4cHJlc3Npb25cbmNvbnN0IFNUQVRFX1BSRUZJWCA9IDE7IC8vICdAJyBwcmVmaXggdGhhdCBkZW5vdGVzIHRoZSBzdGFydCBvZiBhbiBleHByZXNzaW9uXG5jb25zdCBTVEFURV9JREVOVElGSUVSID0gMjsgLy8gdGhlIGlkZW50aWZpZXIgcGFydCwgZS5nLiAnY29udGFjdC5hZ2UnIGluICdAY29udGFjdC5hZ2UnXG5jb25zdCBTVEFURV9CQUxBTkNFRCA9IDM7IC8vIHRoZSBiYWxhbmNlZCBwYXJlbnRoZXNlcyBkZWxpbWl0ZWQgcGFydCwgZS5nLiAnKDEgKyAyKScgaW4gJ0AoMSArIDIpJ1xuY29uc3QgU1RBVEVfU1RSSU5HX0xJVEVSQUwgPSA0OyAvLyBhIHN0cmluZyBsaXRlcmFsIHdoaWNoIGNvdWxkIGNvbnRhaW4gKVxuY29uc3QgU1RBVEVfRVNDQVBFRF9QUkVGSVggPSA1OyAvLyBhICdAJyBwcmVmaXggcHJlY2VkZWQgYnkgYW5vdGhlciAnQCdcbmNvbnN0IFNUQVRFX0lHTk9SRSA9IDY7XG5cbmV4cG9ydCBpbnRlcmZhY2UgRXhwcmVzc2lvbiB7XG4gIHN0YXJ0OiBudW1iZXI7XG4gIGVuZDogbnVtYmVyO1xuICB0ZXh0OiBzdHJpbmc7XG4gIGNsb3NlZDogYm9vbGVhbjtcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmVzIHdoZXRoZXIgdGhlIGdpdmVuIHN0cmluZyBzdGFydHMgd2l0aCB0aGUgZ2l2ZW4gdGV4dFxuICovXG5jb25zdCBzdGFydHNXaXRoID0gKHN0cjogc3RyaW5nLCBzdGFydDogc3RyaW5nKTogYm9vbGVhbiA9PiB7XG4gIHJldHVybiBzdHIuaW5kZXhPZihzdGFydCwgMCkgPT09IDA7XG59O1xuXG4vKipcbiAqIENoZWNrcyB0aGUgcGFyc2VkIChwb3NzaWJseSBwYXJ0aWFsKSBleHByZXNzaW9uIHRvIGRldGVybWluZSBpZiBpdCdzIHZhbGlkIGJhc2VkIG9uIGhvdyBpdCBzdGFydHNcbiAqL1xuY29uc3QgaXNWYWxpZFN0YXJ0ID0gKFxuICBwYXJ0aWFsRXhwcmVzc2lvbjogc3RyaW5nLFxuICBhbGxvd2VkVG9wTGV2ZWxzOiBzdHJpbmdbXSxcbiAgYWxsb3dJbmNvbXBsZXRlOiBib29sZWFuXG4pOiBib29sZWFuID0+IHtcbiAgY29uc3QgYm9keSA9IHBhcnRpYWxFeHByZXNzaW9uLnN1YnN0cmluZygxKTsgLy8gc3RyaXAgcHJlZml4XG5cbiAgaWYgKGJvZHlbMF0gPT09ICcoJykge1xuICAgIHJldHVybiB0cnVlO1xuICB9IGVsc2Uge1xuICAgIC8vIGlmIGV4cHJlc3Npb24gZG9lc24ndCBzdGFydCB3aXRoICggdGhlbiBjaGVjayBpdCdzIGFuIGFsbG93ZWQgdG9wIGxldmVsIGNvbnRleHQgcmVmZXJlbmNlXG4gICAgY29uc3QgdG9wTGV2ZWwgPSBib2R5LnNwbGl0KCcuJylbMF0udG9Mb3dlckNhc2UoKTtcblxuICAgIGlmIChhbGxvd0luY29tcGxldGUpIHtcbiAgICAgIGZvciAoY29uc3QgYWxsb3dlZCBvZiBhbGxvd2VkVG9wTGV2ZWxzKSB7XG4gICAgICAgIGlmIChzdGFydHNXaXRoKGFsbG93ZWQsIHRvcExldmVsKSkge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBhbGxvd2VkVG9wTGV2ZWxzLmluZGV4T2YodG9wTGV2ZWwpID49IDA7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufTtcblxuLyoqXG4gKiBEZXRlcm1pbmVzIHdoZXRoZXIgdGhlIGdpdmVuIGNoYXJhY3RlciBpcyBhIHdvcmQgY2hhcmFjdGVyLCBpLmUuIFxcdyBpbiBhIHJlZ2V4XG4gKi9cbmV4cG9ydCBjb25zdCBpc1dvcmRDaGFyID0gKGNoOiBzdHJpbmcgfCAwKTogYm9vbGVhbiA9PiB7XG4gIHJldHVybiAoXG4gICAgKGNoID49ICdhJyAmJiBjaCA8PSAneicpIHx8IChjaCA+PSAnQScgJiYgY2ggPD0gJ1onKSB8fCAoY2ggPj0gJzAnICYmIGNoIDw9ICc5JykgfHwgY2ggPT09ICdfJ1xuICApO1xufTtcblxuLyoqXG4gKiBEZXRlcm1pbmVzIHdoZXRoZXIgd2UgYXJlIGluIGEgc3RyaW5nIGxpdGVyYWxcbiAqL1xuY29uc3QgaXNJblN0cmluZ0xpdGVyYWwgPSAocGFydGlhbEV4cHJlc3Npb246IHN0cmluZyk6IGJvb2xlYW4gPT4ge1xuICAvLyBjb3VudCBudW1iZXIgcXVvdGF0aW9uIG1hcmtzXG4gIGxldCBudW1RdW90ZXMgPSAwO1xuICBmb3IgKGNvbnN0IHBvcyBvZiBwYXJ0aWFsRXhwcmVzc2lvbikge1xuICAgIGlmIChwb3MgPT09ICdcIicpIHtcbiAgICAgIG51bVF1b3RlcysrO1xuICAgIH1cbiAgfVxuICByZXR1cm4gbnVtUXVvdGVzICUgMiAhPT0gMDsgLy8gb2RkIG1lYW5zIGxhc3Qgc3RyaW5nIGxpdGVyYWwgaXMgb3BlblxufTtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRXhjZWxsZW50UGFyc2VyIHtcbiAgcHJpdmF0ZSBleHByZXNzaW9uUHJlZml4OiBzdHJpbmc7XG4gIHByaXZhdGUgYWxsb3dlZFRvcExldmVsczogc3RyaW5nW107XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBuZXcgcGFyc2VyXG4gICAqIEBwYXJhbSBleHByZXNzaW9uUHJlZml4IHRoZSBwcmVmaXggZm9yIGV4cHJlc3Npb25zLCBlLmcuICdAJ1xuICAgKiBAcGFyYW0gYWxsb3dlZFRvcExldmVscyB0aGUgY29udGV4dCBuYW1lcyB0aGF0IGFyZSBhbGxvd2VkIHdpdGhvdXQgcGFyZW50aGVzZXMsIGUuZy4gW1wiY29udGFjdFwiLCBcImZsb3dcIiwgLi4uXVxuICAgKi9cbiAgY29uc3RydWN0b3IoZXhwcmVzc2lvblByZWZpeDogc3RyaW5nLCBhbGxvd2VkVG9wTGV2ZWxzOiBzdHJpbmdbXSkge1xuICAgIHRoaXMuZXhwcmVzc2lvblByZWZpeCA9IGV4cHJlc3Npb25QcmVmaXg7XG4gICAgdGhpcy5hbGxvd2VkVG9wTGV2ZWxzID0gYWxsb3dlZFRvcExldmVscztcbiAgfVxuXG4gIC8qKlxuICAgKiBHaXZlbiB0aGUgdGV4dCB1cCB0byB0aGUgY2FyZXQgcG9zaXRpb24sIHJldHVybnMgdGhlIGV4cHJlc3Npb24gY3VycmVudGx5IGJlaW5nIGVkaXRlZCwgd2l0aG91dCBpdHMgcHJlZml4XG4gICAqL1xuICBwdWJsaWMgZXhwcmVzc2lvbkNvbnRleHQodGV4dFRvQ2FyZXQ6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgY29uc3QgZXhwcmVzc2lvbnMgPSB0aGlzLmZpbmRFeHByZXNzaW9ucyh0ZXh0VG9DYXJldCk7XG4gICAgaWYgKGV4cHJlc3Npb25zLmxlbmd0aCA9PT0gMCkge1xuICAgICAgLy8gbm8gZXhwcmVzc2lvbnMgZm91bmRcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIGNvbnN0IGxhc3RFeHByZXNzaW9uID0gZXhwcmVzc2lvbnNbZXhwcmVzc2lvbnMubGVuZ3RoIC0gMV07XG5cbiAgICAvLyBoYXMgbGFzdCBleHByZXNzaW9uIGFscmVhZHkgZW5kZWQgb3IgaXMgaXQgY2xvc2VkIChpLmUuIGhhcyBiYWxhbmNlZCBwYXJlbnRoZXNlcylcbiAgICBpZiAobGFzdEV4cHJlc3Npb24uZW5kIDwgdGV4dFRvQ2FyZXQubGVuZ3RoIHx8IGxhc3RFeHByZXNzaW9uLmNsb3NlZCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgcmV0dXJuIGxhc3RFeHByZXNzaW9uLnRleHQuc3Vic3RyaW5nKDEpOyAvLyByZXR1cm4gd2l0aG91dCBwcmVmaXhcbiAgfVxuXG4gIC8qKlxuICAgKiBHaXZlbiB0aGUgcGFydGlhbCBleHByZXNzaW9uIGN1cnJlbnRseSBiZWluZyBlZGl0ZWQsIHJldHVybnMgdGhlIGN1cnJlbnQgYXV0by1jb21wbGV0YWJsZSBpZGVudGlmaWVyXG4gICAqIHdoaWNoIG1heSBiZSBhIGZ1bmN0aW9uIG5hbWUgb3IgYSBjb250ZXh0IHJlZmVyZW5jZS5cbiAgICovXG4gIHB1YmxpYyBhdXRvQ29tcGxldGVDb250ZXh0KHBhcnRpYWxFeHByZXNzaW9uOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIGlmIChpc0luU3RyaW5nTGl0ZXJhbChwYXJ0aWFsRXhwcmVzc2lvbikpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIGNvbnN0IG5lZWRlZFBhcmVudGhlc2VzID0gW107XG4gICAgbGV0IGZyYWdtZW50ID0gJyc7XG4gICAgbGV0IHNraXBDaGFyID0gZmFsc2U7XG4gICAgbGV0IGluUXVvdGVzID0gZmFsc2U7XG4gICAgbGV0IHByZXBlbmRGbGFnID0gJyc7XG5cbiAgICBmb3IgKGxldCBwb3MgPSBwYXJ0aWFsRXhwcmVzc2lvbi5sZW5ndGggLSAxOyBwb3MgPj0gMDsgcG9zLS0pIHtcbiAgICAgIGNvbnN0IGNoID0gcGFydGlhbEV4cHJlc3Npb25bcG9zXTtcblxuICAgICAgaWYgKGNoID09PSAnICcpIHtcbiAgICAgICAgc2tpcENoYXIgPSB0cnVlO1xuICAgICAgfVxuXG4gICAgICBpZiAoY2ggPT09ICcsJykge1xuICAgICAgICBza2lwQ2hhciA9IHRydWU7XG4gICAgICAgIGlmIChuZWVkZWRQYXJlbnRoZXNlc1tuZWVkZWRQYXJlbnRoZXNlcy5sZW5ndGggLSAxXSAhPT0gJygnKSB7XG4gICAgICAgICAgbmVlZGVkUGFyZW50aGVzZXMucHVzaCgnKCcpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChjaCA9PT0gJyknICYmICFpblF1b3Rlcykge1xuICAgICAgICBza2lwQ2hhciA9IHRydWU7XG4gICAgICAgIG5lZWRlZFBhcmVudGhlc2VzLnB1c2goJygnKTtcbiAgICAgICAgbmVlZGVkUGFyZW50aGVzZXMucHVzaCgnKCcpO1xuICAgICAgfVxuXG4gICAgICBpZiAoY2ggPT09ICdcIicpIHtcbiAgICAgICAgaW5RdW90ZXMgPSAhaW5RdW90ZXM7XG4gICAgICB9XG5cbiAgICAgIGlmIChza2lwQ2hhcikge1xuICAgICAgICBpZiAoY2ggPT09ICcoJyAmJiAhaW5RdW90ZXMpIHtcbiAgICAgICAgICBpZiAobmVlZGVkUGFyZW50aGVzZXNbbmVlZGVkUGFyZW50aGVzZXMubGVuZ3RoIC0gMV0gPT09ICcoJykge1xuICAgICAgICAgICAgbmVlZGVkUGFyZW50aGVzZXMucG9wKCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKG5lZWRlZFBhcmVudGhlc2VzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgc2tpcENoYXIgPSBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKGNoID09PSAnKCcgJiYgZnJhZ21lbnQgPT09ICcnKSB7XG4gICAgICAgIHByZXBlbmRGbGFnID0gJyMnO1xuICAgICAgfVxuXG4gICAgICBpZiAoc2tpcENoYXIgfHwgaW5RdW90ZXMgfHwgKGNoID09PSAnKCcgJiYgZnJhZ21lbnQgPT09ICcnKSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKGlzV29yZENoYXIoY2gpIHx8IGNoID09PSAnLicpIHtcbiAgICAgICAgZnJhZ21lbnQgPSBjaCArIGZyYWdtZW50O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGZyYWdtZW50Lm1hdGNoKC9bQS1aYS16XVtcXHddKihcXC5bXFx3XSspKi8pKSB7XG4gICAgICByZXR1cm4gcHJlcGVuZEZsYWcgKyBmcmFnbWVudDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFRPRE8gZmluZCB0aGUgZnVuY3Rpb24gY29udGV4dFxuICAgKi9cbiAgcHVibGljIGZ1bmN0aW9uQ29udGV4dChwYXJ0aWFsRXhwcmVzc2lvbjogc3RyaW5nKTogc3RyaW5nIHtcbiAgICBjb25zdCBpblN0cmluZyA9IGlzSW5TdHJpbmdMaXRlcmFsKHBhcnRpYWxFeHByZXNzaW9uKTtcblxuICAgIC8vIGluaXRpYWwgc3RhdGUgaXMgc3RyaW5nIGxpdGVyYWwgaWYgbnVtYmVyIG9mIHF1b3RlcyBpcyBvZGRcbiAgICBsZXQgc3RhdGUgPSBpblN0cmluZyA/IFNUQVRFX1NUUklOR19MSVRFUkFMIDogU1RBVEVfSUdOT1JFO1xuICAgIGxldCBpZGVudGlmaWVyID0gJyc7XG4gICAgbGV0IHBhcmVudGhlc2VzTGV2ZWwgPSBwYXJ0aWFsRXhwcmVzc2lvblstMV0gPT09ICcoJyA/IDAgOiAxO1xuXG4gICAgZm9yIChsZXQgcG9zID0gcGFydGlhbEV4cHJlc3Npb24ubGVuZ3RoIC0gMTsgcG9zID49IDA7IHBvcy0tKSB7XG4gICAgICBjb25zdCBjaCA9IHBhcnRpYWxFeHByZXNzaW9uW3Bvc107XG5cbiAgICAgIGlmIChjaCA9PT0gJ0AnKSB7XG4gICAgICAgIHJldHVybiAnJztcbiAgICAgIH1cblxuICAgICAgaWYgKHN0YXRlID09PSBTVEFURV9JR05PUkUpIHtcbiAgICAgICAgaWYgKHBhcmVudGhlc2VzTGV2ZWwgPT09IDAgJiYgKGlzV29yZENoYXIoY2gpIHx8IGNoID09PSAnLicpKSB7XG4gICAgICAgICAgc3RhdGUgPSBTVEFURV9JREVOVElGSUVSO1xuICAgICAgICAgIGlkZW50aWZpZXIgPSBjaCArIGlkZW50aWZpZXI7XG4gICAgICAgIH0gZWxzZSBpZiAoY2ggPT09ICdcIicpIHtcbiAgICAgICAgICBzdGF0ZSA9IFNUQVRFX1NUUklOR19MSVRFUkFMO1xuICAgICAgICB9IGVsc2UgaWYgKGNoID09PSAnKCcpIHtcbiAgICAgICAgICBwYXJlbnRoZXNlc0xldmVsLS07XG4gICAgICAgIH0gZWxzZSBpZiAoY2ggPT09ICcpJykge1xuICAgICAgICAgIHBhcmVudGhlc2VzTGV2ZWwrKztcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChzdGF0ZSA9PT0gU1RBVEVfSURFTlRJRklFUikge1xuICAgICAgICBpZiAoaXNXb3JkQ2hhcihjaCkgfHwgY2ggPT09ICcuJykge1xuICAgICAgICAgIGlkZW50aWZpZXIgPSBjaCArIGlkZW50aWZpZXI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIGlkZW50aWZpZXI7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoc3RhdGUgPT09IFNUQVRFX1NUUklOR19MSVRFUkFMKSB7XG4gICAgICAgIGlmIChjaCA9PT0gJ1wiJykge1xuICAgICAgICAgIHN0YXRlID0gU1RBVEVfSUdOT1JFO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiAnJztcbiAgfVxuXG4gIHB1YmxpYyBnZXRDb250YWN0RmllbGRzKHRleHQ6IHN0cmluZyk6IHN0cmluZ1tdIHtcbiAgICBjb25zdCBmaWVsZHMgPSB7fTtcbiAgICBjb25zdCByZSA9IC8oKHBhcmVudHxjaGlsZFxcLikqY29udGFjdFxcLikqZmllbGRzXFwuKFthLXowLTlfXSspL2c7XG4gICAgY29uc3QgZXhwcmVzc2lvbnMgPSB0aGlzLmZpbmRFeHByZXNzaW9ucyh0ZXh0KTtcbiAgICBmb3IgKGNvbnN0IGV4cHJlc3Npb24gb2YgZXhwcmVzc2lvbnMpIHtcbiAgICAgIGxldCBtYXRjaDtcbiAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby1jb25kaXRpb25hbC1hc3NpZ25tZW50XG4gICAgICB3aGlsZSAoKG1hdGNoID0gcmUuZXhlYyhleHByZXNzaW9uLnRleHQpKSkge1xuICAgICAgICAoZmllbGRzIGFzIGFueSlbbWF0Y2hbM11dID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKGZpZWxkcyk7XG4gIH1cblxuICAvKipcbiAgICogRmluZHMgYWxsIGV4cHJlc3Npb25zIGluIHRoZSBnaXZlbiB0ZXh0LCBpbmNsdWRpbmcgYW55IHBhcnRpYWxseSBjb21wbGV0ZSBleHByZXNzaW9uIGF0IHRoZSBlbmQgb2YgdGhlIGlucHV0XG4gICAqL1xuICBwdWJsaWMgZmluZEV4cHJlc3Npb25zKHRleHQ6IHN0cmluZyk6IEV4cHJlc3Npb25bXSB7XG4gICAgY29uc3QgZXhwcmVzc2lvbnM6IEV4cHJlc3Npb25bXSA9IFtdO1xuICAgIGxldCBzdGF0ZSA9IFNUQVRFX0JPRFk7XG4gICAgbGV0IGN1cnJlbnRFeHByZXNzaW9uOiBFeHByZXNzaW9uID0gbnVsbDtcbiAgICBsZXQgcGFyZW50aGVzZXNMZXZlbCA9IDA7XG5cbiAgICBmb3IgKGxldCBwb3MgPSAwOyBwb3MgPCB0ZXh0Lmxlbmd0aDsgcG9zKyspIHtcbiAgICAgIGNvbnN0IGNoID0gdGV4dFtwb3NdO1xuXG4gICAgICAvLyBpbiBvcmRlciB0byBkZXRlcm1pbmUgaWYgdGhlIGIgaW4gYS5iIHRlcm1pbmF0ZXMgYW4gaWRlbnRpZmllciwgd2UgaGF2ZSB0byBwZWVrIHR3byBjaGFyYWN0ZXJzIGFoZWFkIGFzXG4gICAgICAvLyBpdCBjb3VsZCBiZSBhLmIuIChiIHRlcm1pbmF0ZXMpIG9yIGEuYi5jIChiIGRvZXNuJ3QgdGVybWluYXRlKVxuICAgICAgY29uc3QgbmV4dENoID0gcG9zIDwgdGV4dC5sZW5ndGggLSAxID8gdGV4dFtwb3MgKyAxXSA6IDA7XG4gICAgICBjb25zdCBuZXh0TmV4dENoID0gcG9zIDwgdGV4dC5sZW5ndGggLSAyID8gdGV4dFtwb3MgKyAyXSA6IDA7XG5cbiAgICAgIGlmIChzdGF0ZSA9PT0gU1RBVEVfQk9EWSkge1xuICAgICAgICBpZiAoY2ggPT09IHRoaXMuZXhwcmVzc2lvblByZWZpeCAmJiAoaXNXb3JkQ2hhcihuZXh0Q2gpIHx8IG5leHRDaCA9PT0gJygnKSkge1xuICAgICAgICAgIHN0YXRlID0gU1RBVEVfUFJFRklYO1xuICAgICAgICAgIGN1cnJlbnRFeHByZXNzaW9uID0ge1xuICAgICAgICAgICAgc3RhcnQ6IHBvcyxcbiAgICAgICAgICAgIGVuZDogbnVsbCxcbiAgICAgICAgICAgIHRleHQ6IGNoLFxuICAgICAgICAgICAgY2xvc2VkOiBmYWxzZVxuICAgICAgICAgIH07XG4gICAgICAgIH0gZWxzZSBpZiAoY2ggPT09IHRoaXMuZXhwcmVzc2lvblByZWZpeCAmJiBuZXh0Q2ggPT09IHRoaXMuZXhwcmVzc2lvblByZWZpeCkge1xuICAgICAgICAgIHN0YXRlID0gU1RBVEVfRVNDQVBFRF9QUkVGSVg7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoc3RhdGUgPT09IFNUQVRFX1BSRUZJWCkge1xuICAgICAgICBpZiAoaXNXb3JkQ2hhcihjaCkpIHtcbiAgICAgICAgICBzdGF0ZSA9IFNUQVRFX0lERU5USUZJRVI7IC8vIHdlJ3JlIHBhcnNpbmcgYW4gZXhwcmVzc2lvbiBsaWtlIEBYWFhcbiAgICAgICAgfSBlbHNlIGlmIChjaCA9PT0gJygnKSB7XG4gICAgICAgICAgLy8gd2UncmUgcGFyc2luZyBhbiBleHByZXNzaW9uIGxpa2UgQCgxICsgMilcbiAgICAgICAgICBzdGF0ZSA9IFNUQVRFX0JBTEFOQ0VEO1xuICAgICAgICAgIHBhcmVudGhlc2VzTGV2ZWwgKz0gMTtcbiAgICAgICAgfVxuICAgICAgICBjdXJyZW50RXhwcmVzc2lvbi50ZXh0ICs9IGNoO1xuICAgICAgfSBlbHNlIGlmIChzdGF0ZSA9PT0gU1RBVEVfSURFTlRJRklFUikge1xuICAgICAgICBjdXJyZW50RXhwcmVzc2lvbi50ZXh0ICs9IGNoO1xuICAgICAgfSBlbHNlIGlmIChzdGF0ZSA9PT0gU1RBVEVfQkFMQU5DRUQpIHtcbiAgICAgICAgaWYgKGNoID09PSAnKCcpIHtcbiAgICAgICAgICBwYXJlbnRoZXNlc0xldmVsICs9IDE7XG4gICAgICAgIH0gZWxzZSBpZiAoY2ggPT09ICcpJykge1xuICAgICAgICAgIHBhcmVudGhlc2VzTGV2ZWwgLT0gMTtcbiAgICAgICAgfSBlbHNlIGlmIChjaCA9PT0gJ1wiJykge1xuICAgICAgICAgIHN0YXRlID0gU1RBVEVfU1RSSU5HX0xJVEVSQUw7XG4gICAgICAgIH1cblxuICAgICAgICBjdXJyZW50RXhwcmVzc2lvbi50ZXh0ICs9IGNoO1xuXG4gICAgICAgIC8vIGV4cHJlc3Npb24gdGVybWluYXRlcyBpZiBwYXJlbnRoZXNlcyBiYWxhbmNlXG4gICAgICAgIGlmIChwYXJlbnRoZXNlc0xldmVsID09PSAwKSB7XG4gICAgICAgICAgY3VycmVudEV4cHJlc3Npb24uZW5kID0gcG9zICsgMTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChzdGF0ZSA9PT0gU1RBVEVfU1RSSU5HX0xJVEVSQUwpIHtcbiAgICAgICAgaWYgKGNoID09PSAnXCInKSB7XG4gICAgICAgICAgc3RhdGUgPSBTVEFURV9CQUxBTkNFRDtcbiAgICAgICAgfVxuICAgICAgICBjdXJyZW50RXhwcmVzc2lvbi50ZXh0ICs9IGNoO1xuICAgICAgfSBlbHNlIGlmIChzdGF0ZSA9PT0gU1RBVEVfRVNDQVBFRF9QUkVGSVgpIHtcbiAgICAgICAgc3RhdGUgPSBTVEFURV9CT0RZO1xuICAgICAgfVxuXG4gICAgICAvLyBpZGVudGlmaWVyIGNhbiB0ZXJtaW5hdGUgZXhwcmVzc2lvbiBpbiAzIHdheXM6XG4gICAgICAvLyAgMS4gbmV4dCBjaGFyIGlzIG51bGwgKGkuZS4gZW5kIG9mIHRoZSBpbnB1dClcbiAgICAgIC8vICAyLiBuZXh0IGNoYXIgaXMgbm90IGEgd29yZCBjaGFyYWN0ZXIgb3IgcGVyaW9kXG4gICAgICAvLyAgMy4gbmV4dCBjaGFyIGlzIGEgcGVyaW9kLCBidXQgaXQncyBub3QgZm9sbG93ZWQgYnkgYSB3b3JkIGNoYXJhY3RlclxuICAgICAgaWYgKHN0YXRlID09PSBTVEFURV9JREVOVElGSUVSKSB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICAoIWlzV29yZENoYXIobmV4dENoKSAmJiBuZXh0Q2ggIT09ICcuJykgfHxcbiAgICAgICAgICAobmV4dENoID09PSAnLicgJiYgIWlzV29yZENoYXIobmV4dE5leHRDaCkpXG4gICAgICAgICkge1xuICAgICAgICAgIGN1cnJlbnRFeHByZXNzaW9uLmVuZCA9IHBvcyArIDE7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKGN1cnJlbnRFeHByZXNzaW9uICE9IG51bGwgJiYgKGN1cnJlbnRFeHByZXNzaW9uLmVuZCAhPSBudWxsIHx8IG5leHRDaCA9PT0gMCkpIHtcbiAgICAgICAgY29uc3QgYWxsb3dJbmNvbXBsZXRlID0gbmV4dENoID09PSAwOyAvLyBpZiB3ZSdyZSBhdCB0aGUgZW5kIG9mIHRoZSBpbnB1dCwgYWxsb3cgaW5jb21wbGV0ZSBleHByZXNzaW9uc1xuICAgICAgICBpZiAoaXNWYWxpZFN0YXJ0KGN1cnJlbnRFeHByZXNzaW9uLnRleHQsIHRoaXMuYWxsb3dlZFRvcExldmVscywgYWxsb3dJbmNvbXBsZXRlKSkge1xuICAgICAgICAgIGN1cnJlbnRFeHByZXNzaW9uLmNsb3NlZCA9IGN1cnJlbnRFeHByZXNzaW9uLnRleHRbMV0gPT09ICcoJyAmJiBwYXJlbnRoZXNlc0xldmVsID09PSAwO1xuICAgICAgICAgIGN1cnJlbnRFeHByZXNzaW9uLmVuZCA9IHBvcyArIDE7XG4gICAgICAgICAgZXhwcmVzc2lvbnMucHVzaChjdXJyZW50RXhwcmVzc2lvbik7XG4gICAgICAgIH1cblxuICAgICAgICBjdXJyZW50RXhwcmVzc2lvbiA9IG51bGw7XG4gICAgICAgIHN0YXRlID0gU1RBVEVfQk9EWTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gZXhwcmVzc2lvbnM7XG4gIH1cbn1cbiIsImltcG9ydCB7IENvbXBsZXRpb25PcHRpb24gfSBmcm9tICcuL0NvbXBsZXRpb24nO1xuXG5leHBvcnQgaW50ZXJmYWNlIENvbXBsZXRpb25Qcm9wZXJ0eSB7XG4gICAga2V5OiBzdHJpbmc7XG4gICAgaGVscDogc3RyaW5nO1xuICAgIHR5cGU6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBDb21wbGV0aW9uVHlwZSB7XG4gICAgbmFtZTogc3RyaW5nO1xuXG4gICAga2V5X3NvdXJjZT86IHN0cmluZztcbiAgICBwcm9wZXJ0eV90ZW1wbGF0ZT86IENvbXBsZXRpb25Qcm9wZXJ0eTtcbiAgICBwcm9wZXJ0aWVzPzogQ29tcGxldGlvblByb3BlcnR5W107XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ29tcGxldGlvblNjaGVtYSB7XG4gICAgdHlwZXM6IENvbXBsZXRpb25UeXBlW107XG4gICAgcm9vdDogQ29tcGxldGlvblByb3BlcnR5W107XG4gICAgcm9vdF9ub19zZXNzaW9uOiBDb21wbGV0aW9uUHJvcGVydHlbXTtcbn1cblxuZXhwb3J0IGNvbnN0IGdldEZ1bmN0aW9ucyA9IChcbiAgICBmdW5jdGlvbnM6IENvbXBsZXRpb25PcHRpb25bXSxcbiAgICBxdWVyeTogc3RyaW5nXG4pOiBDb21wbGV0aW9uT3B0aW9uW10gPT4ge1xuICAgIGlmICghcXVlcnkpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9ucztcbiAgICB9XG4gICAgcmV0dXJuIGZ1bmN0aW9ucy5maWx0ZXIoKG9wdGlvbjogQ29tcGxldGlvbk9wdGlvbikgPT4ge1xuICAgICAgICBpZiAob3B0aW9uLnNpZ25hdHVyZSkge1xuICAgICAgICAgICAgcmV0dXJuIG9wdGlvbi5zaWduYXR1cmUuaW5kZXhPZihxdWVyeSkgPT09IDA7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0pO1xufTtcblxuZXhwb3J0IGludGVyZmFjZSBQb3NpdGlvbiB7XG4gICAgdG9wOiBudW1iZXI7XG4gICAgbGVmdDogbnVtYmVyO1xufVxuXG4vKipcbiAqIFRha2VzIGEgZG90IHF1ZXJ5IGFuZCByZXR1cm5zIHRoZSBjb21wbGV0aW9ucyBvcHRpb25zIGF0IHRoZSBjdXJyZW50IGxldmVsXG4gKiBAcGFyYW0gZG90UXVlcnkgcXVlcnkgc3VjaCBhcyBcImNvbnRhY3QuZmlyc3RfblwiXG4gKi9cbmV4cG9ydCBjb25zdCBnZXRDb21wbGV0aW9ucyA9IChcbiAgICBzY2hlbWE6IENvbXBsZXRpb25TY2hlbWEsXG4gICAgZG90UXVlcnk6IHN0cmluZ1xuKTogQ29tcGxldGlvbk9wdGlvbltdID0+IHtcbiAgICBjb25zdCBwYXJ0cyA9IChkb3RRdWVyeSB8fCAnJykuc3BsaXQoJy4nKTtcbiAgICBsZXQgY3VycmVudFByb3BzOiBDb21wbGV0aW9uUHJvcGVydHlbXSA9IHNjaGVtYS5yb290X25vX3Nlc3Npb247XG5cbiAgICBsZXQgcHJlZml4ID0gJyc7XG4gICAgbGV0IHBhcnQgPSAnJztcbiAgICB3aGlsZSAocGFydHMubGVuZ3RoID4gMCkge1xuICAgICAgICBwYXJ0ID0gcGFydHMuc2hpZnQoKTtcbiAgICAgICAgaWYgKHBhcnQpIHtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuICAgICAgICAgICAgY29uc3QgbmV4dFByb3AgPSBjdXJyZW50UHJvcHMuZmluZChcbiAgICAgICAgICAgICAgICAocHJvcDogQ29tcGxldGlvblByb3BlcnR5KSA9PiBwcm9wLmtleSA9PT0gcGFydFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGlmIChuZXh0UHJvcCkge1xuICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuICAgICAgICAgICAgICAgIGNvbnN0IG5leHRUeXBlID0gc2NoZW1hLnR5cGVzLmZpbmQoXG4gICAgICAgICAgICAgICAgICAgICh0eXBlOiBDb21wbGV0aW9uVHlwZSkgPT4gdHlwZS5uYW1lID09PSBuZXh0UHJvcC50eXBlXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBpZiAobmV4dFR5cGUgJiYgbmV4dFR5cGUucHJvcGVydGllcykge1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50UHJvcHMgPSBuZXh0VHlwZS5wcm9wZXJ0aWVzO1xuICAgICAgICAgICAgICAgICAgICBwcmVmaXggKz0gcGFydCArICcuJztcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudFByb3BzID0gY3VycmVudFByb3BzLmZpbHRlcihcbiAgICAgICAgICAgICAgICAgICAgICAgIChwcm9wOiBDb21wbGV0aW9uUHJvcGVydHkpID0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvcC5rZXkuc3RhcnRzV2l0aChwYXJ0LnRvTG93ZXJDYXNlKCkpXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4gICAgICAgICAgICAgICAgY3VycmVudFByb3BzID0gY3VycmVudFByb3BzLmZpbHRlcigocHJvcDogQ29tcGxldGlvblByb3BlcnR5KSA9PlxuICAgICAgICAgICAgICAgICAgICBwcm9wLmtleS5zdGFydHNXaXRoKHBhcnQudG9Mb3dlckNhc2UoKSlcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGN1cnJlbnRQcm9wcy5tYXAoKHByb3A6IENvbXBsZXRpb25Qcm9wZXJ0eSkgPT4ge1xuICAgICAgICBjb25zdCBuYW1lID1cbiAgICAgICAgICAgIHByb3Aua2V5ID09PSAnX19kZWZhdWx0X18nXG4gICAgICAgICAgICAgICAgPyBwcmVmaXguc3Vic3RyKDAsIHByZWZpeC5sZW5ndGggLSAxKVxuICAgICAgICAgICAgICAgIDogcHJlZml4ICsgcHJvcC5rZXk7XG4gICAgICAgIHJldHVybiB7IG5hbWUsIHN1bW1hcnk6IHByb3AuaGVscCB9O1xuICAgIH0pO1xufTtcblxuZXhwb3J0IGNvbnN0IGdldENvbXBsZXRpb25OYW1lID0gKG9wdGlvbjogQ29tcGxldGlvbk9wdGlvbik6IHN0cmluZyA9PiB7XG4gICAgcmV0dXJuIChcbiAgICAgICAgb3B0aW9uLm5hbWUgfHwgb3B0aW9uLnNpZ25hdHVyZS5zdWJzdHIoMCwgb3B0aW9uLnNpZ25hdHVyZS5pbmRleE9mKCcoJykpXG4gICAgKTtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRDb21wbGV0aW9uU2lnbmF0dXJlID0gKG9wdGlvbjogQ29tcGxldGlvbk9wdGlvbik6IHN0cmluZyA9PiB7XG4gICAgcmV0dXJuIG9wdGlvbi5zaWduYXR1cmUuc3Vic3RyKG9wdGlvbi5zaWduYXR1cmUuaW5kZXhPZignKCcpKTtcbn07XG5cbi8qKlxuICogcmV0dXJucyB4LCB5IGNvb3JkaW5hdGVzIGZvciBhYnNvbHV0ZSBwb3NpdGlvbmluZyBvZiBhIHNwYW4gd2l0aGluIGEgZ2l2ZW4gdGV4dCBpbnB1dFxuICogYXQgYSBnaXZlbiBzZWxlY3Rpb24gcG9pbnRcbiAqIEBwYXJhbSB7b2JqZWN0fSBpbnB1dCAtIHRoZSBpbnB1dCBlbGVtZW50IHRvIG9idGFpbiBjb29yZGluYXRlcyBmb3JcbiAqIEBwYXJhbSB7bnVtYmVyfSBzZWxlY3Rpb25Qb2ludCAtIHRoZSBzZWxlY3Rpb24gcG9pbnQgZm9yIHRoZSBpbnB1dFxuICovXG5leHBvcnQgY29uc3QgZ2V0Q3Vyc29yUG9zaXRpb24gPSAoaW5wdXQ6IGFueSwgc2VsZWN0aW9uUG9pbnQ6IGFueSk6IFBvc2l0aW9uID0+IHtcbiAgICBjb25zdCB7XG4gICAgICBvZmZzZXRMZWZ0OiBpbnB1dFgsXG4gICAgICBvZmZzZXRUb3A6IGlucHV0WSxcbiAgICB9ID0gaW5wdXRcbiAgICAvLyBjcmVhdGUgYSBkdW1teSBlbGVtZW50IHRoYXQgd2lsbCBiZSBhIGNsb25lIG9mIG91ciBpbnB1dFxuICAgIGNvbnN0IGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG4gICAgLy8gZ2V0IHRoZSBjb21wdXRlZCBzdHlsZSBvZiB0aGUgaW5wdXQgYW5kIGNsb25lIGl0IG9udG8gdGhlIGR1bW15IGVsZW1lbnRcbiAgICBjb25zdCBjb3B5U3R5bGUgPSBnZXRDb21wdXRlZFN0eWxlKGlucHV0KVxuICAgIGZvciAoY29uc3QgcHJvcCBvZiBjb3B5U3R5bGUpIHtcbiAgICAgIGRpdi5zdHlsZVtwcm9wIGFzIGFueV0gPSBjb3B5U3R5bGVbcHJvcCBhcyBhbnldXG4gICAgfVxuICAgIC8vIHdlIG5lZWQgYSBjaGFyYWN0ZXIgdGhhdCB3aWxsIHJlcGxhY2Ugd2hpdGVzcGFjZSB3aGVuIGZpbGxpbmcgb3VyIGR1bW15IGVsZW1lbnQgaWYgaXQncyBhIHNpbmdsZSBsaW5lIDxpbnB1dC8+XG4gICAgY29uc3Qgc3dhcCA9ICcuJ1xuICAgIGNvbnN0IGlucHV0VmFsdWUgPSBpbnB1dC50YWdOYW1lID09PSAnSU5QVVQnID8gaW5wdXQudmFsdWUucmVwbGFjZSgvIC9nLCBzd2FwKSA6IGlucHV0LnZhbHVlXG4gICAgLy8gc2V0IHRoZSBkaXYgY29udGVudCB0byB0aGF0IG9mIHRoZSB0ZXh0YXJlYSB1cCB1bnRpbCBzZWxlY3Rpb25cbiAgICBjb25zdCB0ZXh0Q29udGVudCA9IGlucHV0VmFsdWUuc3Vic3RyKDAsIHNlbGVjdGlvblBvaW50KVxuICAgIC8vIHNldCB0aGUgdGV4dCBjb250ZW50IG9mIHRoZSBkdW1teSBlbGVtZW50IGRpdlxuICAgIGRpdi50ZXh0Q29udGVudCA9IHRleHRDb250ZW50XG4gICAgaWYgKGlucHV0LnRhZ05hbWUgPT09ICdURVhUQVJFQScpIGRpdi5zdHlsZS5oZWlnaHQgPSAnYXV0bydcbiAgICAvLyBpZiBhIHNpbmdsZSBsaW5lIGlucHV0IHRoZW4gdGhlIGRpdiBuZWVkcyB0byBiZSBzaW5nbGUgbGluZSBhbmQgbm90IGJyZWFrIG91dCBsaWtlIGEgdGV4dCBhcmVhXG4gICAgaWYgKGlucHV0LnRhZ05hbWUgPT09ICdJTlBVVCcpIGRpdi5zdHlsZS53aWR0aCA9ICdhdXRvJ1xuICAgIC8vIGNyZWF0ZSBhIG1hcmtlciBlbGVtZW50IHRvIG9idGFpbiBjYXJldCBwb3NpdGlvblxuICAgIGNvbnN0IHNwYW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJylcbiAgICAvLyBnaXZlIHRoZSBzcGFuIHRoZSB0ZXh0Q29udGVudCBvZiByZW1haW5pbmcgY29udGVudCBzbyB0aGF0IHRoZSByZWNyZWF0ZWQgZHVtbXkgZWxlbWVudCBpcyBhcyBjbG9zZSBhcyBwb3NzaWJsZVxuICAgIHNwYW4udGV4dENvbnRlbnQgPSBpbnB1dFZhbHVlLnN1YnN0cihzZWxlY3Rpb25Qb2ludCkgfHwgJy4nXG4gICAgLy8gYXBwZW5kIHRoZSBzcGFuIG1hcmtlciB0byB0aGUgZGl2XG4gICAgZGl2LmFwcGVuZENoaWxkKHNwYW4pXG4gICAgLy8gYXBwZW5kIHRoZSBkdW1teSBlbGVtZW50IHRvIHRoZSBib2R5XG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChkaXYpXG4gICAgLy8gZ2V0IHRoZSBtYXJrZXIgcG9zaXRpb24sIHRoaXMgaXMgdGhlIGNhcmV0IHBvc2l0aW9uIHRvcCBhbmQgbGVmdCByZWxhdGl2ZSB0byB0aGUgaW5wdXRcbiAgICBjb25zdCB7IG9mZnNldExlZnQ6IHNwYW5YLCBvZmZzZXRUb3A6IHNwYW5ZIH0gPSBzcGFuXG4gICAgLy8gbGFzdGx5LCByZW1vdmUgdGhhdCBkdW1teSBlbGVtZW50XG4gICAgLy8gTk9URTo6IGNhbiBjb21tZW50IHRoaXMgb3V0IGZvciBkZWJ1Z2dpbmcgcHVycG9zZXMgaWYgeW91IHdhbnQgdG8gc2VlIHdoZXJlIHRoYXQgc3BhbiBpcyByZW5kZXJlZFxuICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoZGl2KVxuICAgIC8vIHJldHVybiBhbiBvYmplY3Qgd2l0aCB0aGUgeCBhbmQgeSBvZiB0aGUgY2FyZXQuIGFjY291bnQgZm9yIGlucHV0IHBvc2l0aW9uaW5nIHNvIHRoYXQgeW91IGRvbid0IG5lZWQgdG8gd3JhcCB0aGUgaW5wdXRcbiAgICByZXR1cm4ge1xuICAgICAgbGVmdDogaW5wdXRYICsgc3BhblgsXG4gICAgICB0b3A6IGlucHV0WSArIHNwYW5ZLFxuICAgIH1cbiAgfSIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAoYykgMjAxNyBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBUaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0XG4gKiBUaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0XG4gKiBDb2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzb1xuICogc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudCBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4gKi9cblxuaW1wb3J0IHtpc1ByaW1pdGl2ZX0gZnJvbSAnLi4vbGliL3BhcnRzLmpzJztcbmltcG9ydCB7ZGlyZWN0aXZlLCBOb2RlUGFydCwgUGFydH0gZnJvbSAnLi4vbGl0LWh0bWwuanMnO1xuXG5pbnRlcmZhY2UgUHJldmlvdXNWYWx1ZSB7XG4gIHJlYWRvbmx5IHZhbHVlOiB1bmtub3duO1xuICByZWFkb25seSBmcmFnbWVudDogRG9jdW1lbnRGcmFnbWVudDtcbn1cblxuLy8gRm9yIGVhY2ggcGFydCwgcmVtZW1iZXIgdGhlIHZhbHVlIHRoYXQgd2FzIGxhc3QgcmVuZGVyZWQgdG8gdGhlIHBhcnQgYnkgdGhlXG4vLyB1bnNhZmVIVE1MIGRpcmVjdGl2ZSwgYW5kIHRoZSBEb2N1bWVudEZyYWdtZW50IHRoYXQgd2FzIGxhc3Qgc2V0IGFzIGEgdmFsdWUuXG4vLyBUaGUgRG9jdW1lbnRGcmFnbWVudCBpcyB1c2VkIGFzIGEgdW5pcXVlIGtleSB0byBjaGVjayBpZiB0aGUgbGFzdCB2YWx1ZVxuLy8gcmVuZGVyZWQgdG8gdGhlIHBhcnQgd2FzIHdpdGggdW5zYWZlSFRNTC4gSWYgbm90LCB3ZSdsbCBhbHdheXMgcmUtcmVuZGVyIHRoZVxuLy8gdmFsdWUgcGFzc2VkIHRvIHVuc2FmZUhUTUwuXG5jb25zdCBwcmV2aW91c1ZhbHVlcyA9IG5ldyBXZWFrTWFwPE5vZGVQYXJ0LCBQcmV2aW91c1ZhbHVlPigpO1xuXG4vKipcbiAqIFJlbmRlcnMgdGhlIHJlc3VsdCBhcyBIVE1MLCByYXRoZXIgdGhhbiB0ZXh0LlxuICpcbiAqIE5vdGUsIHRoaXMgaXMgdW5zYWZlIHRvIHVzZSB3aXRoIGFueSB1c2VyLXByb3ZpZGVkIGlucHV0IHRoYXQgaGFzbid0IGJlZW5cbiAqIHNhbml0aXplZCBvciBlc2NhcGVkLCBhcyBpdCBtYXkgbGVhZCB0byBjcm9zcy1zaXRlLXNjcmlwdGluZ1xuICogdnVsbmVyYWJpbGl0aWVzLlxuICovXG5leHBvcnQgY29uc3QgdW5zYWZlSFRNTCA9IGRpcmVjdGl2ZSgodmFsdWU6IHVua25vd24pID0+IChwYXJ0OiBQYXJ0KTogdm9pZCA9PiB7XG4gIGlmICghKHBhcnQgaW5zdGFuY2VvZiBOb2RlUGFydCkpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Vuc2FmZUhUTUwgY2FuIG9ubHkgYmUgdXNlZCBpbiB0ZXh0IGJpbmRpbmdzJyk7XG4gIH1cblxuICBjb25zdCBwcmV2aW91c1ZhbHVlID0gcHJldmlvdXNWYWx1ZXMuZ2V0KHBhcnQpO1xuXG4gIGlmIChwcmV2aW91c1ZhbHVlICE9PSB1bmRlZmluZWQgJiYgaXNQcmltaXRpdmUodmFsdWUpICYmXG4gICAgICB2YWx1ZSA9PT0gcHJldmlvdXNWYWx1ZS52YWx1ZSAmJiBwYXJ0LnZhbHVlID09PSBwcmV2aW91c1ZhbHVlLmZyYWdtZW50KSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgY29uc3QgdGVtcGxhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZW1wbGF0ZScpO1xuICB0ZW1wbGF0ZS5pbm5lckhUTUwgPSB2YWx1ZSBhcyBzdHJpbmc7ICAvLyBpbm5lckhUTUwgY2FzdHMgdG8gc3RyaW5nIGludGVybmFsbHlcbiAgY29uc3QgZnJhZ21lbnQgPSBkb2N1bWVudC5pbXBvcnROb2RlKHRlbXBsYXRlLmNvbnRlbnQsIHRydWUpO1xuICBwYXJ0LnNldFZhbHVlKGZyYWdtZW50KTtcbiAgcHJldmlvdXNWYWx1ZXMuc2V0KHBhcnQsIHt2YWx1ZSwgZnJhZ21lbnR9KTtcbn0pO1xuIiwiaW1wb3J0IHsgY3VzdG9tRWxlbWVudCwgVGVtcGxhdGVSZXN1bHQsIGh0bWwsIGNzcywgcHJvcGVydHkgfSBmcm9tICdsaXQtZWxlbWVudCc7XG5pbXBvcnQgUmFwaWRFbGVtZW50LCB7IEV2ZW50SGFuZGxlciB9IGZyb20gJy4uL1JhcGlkRWxlbWVudCc7XG5pbXBvcnQgRXhjZWxsZW50UGFyc2VyLCB7IEV4cHJlc3Npb24gfSBmcm9tICcuL0V4Y2VsbGVudFBhcnNlcic7XG5pbXBvcnQgVGV4dElucHV0IGZyb20gJy4uL3RleHRpbnB1dC9UZXh0SW5wdXQnO1xuaW1wb3J0IHsgZ2V0Q29tcGxldGlvbnMsIENvbXBsZXRpb25TY2hlbWEsIGdldEZ1bmN0aW9ucywgZ2V0Q3Vyc29yUG9zaXRpb24sIFBvc2l0aW9uIH0gZnJvbSAnLi9oZWxwZXJzJztcbmltcG9ydCB7IGdldFVybCB9IGZyb20gJy4uL3V0aWxzJztcbmltcG9ydCB7IEF4aW9zUmVzcG9uc2UgfSBmcm9tICdheGlvcyc7XG5pbXBvcnQgZ2V0Q2FyZXRDb29yZGluYXRlcyBmcm9tICd0ZXh0YXJlYS1jYXJldCc7XG5pbXBvcnQgeyBkaXJlY3RpdmUsIFBhcnR9IGZyb20gJ2xpdC1odG1sJztcbmltcG9ydCB7dW5zYWZlSFRNTH0gZnJvbSAnbGl0LWh0bWwvZGlyZWN0aXZlcy91bnNhZmUtaHRtbC5qcyc7XG5cbmNvbnN0IG1hcmtlZCA9IHJlcXVpcmUoJ21hcmtlZCcpO1xuXG5leHBvcnQgaW50ZXJmYWNlIEZ1bmN0aW9uRXhhbXBsZSB7XG4gIHRlbXBsYXRlOiBzdHJpbmc7XG4gIG91dHB1dDogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIENvbXBsZXRpb25PcHRpb24ge1xuICBuYW1lPzogc3RyaW5nO1xuICBzdW1tYXJ5OiBzdHJpbmc7XG5cbiAgLy8gZnVuY3Rpb25zXG4gIHNpZ25hdHVyZT86IHN0cmluZztcbiAgZGV0YWlsPzogc3RyaW5nO1xuICBleGFtcGxlcz86IEZ1bmN0aW9uRXhhbXBsZVtdO1xufVxuXG5jb25zdCBtYXJrZWRSZW5kZXIgPSBkaXJlY3RpdmUoKGNvbnRlbnRzOiBzdHJpbmcpID0+IChwYXJ0OiBQYXJ0KSA9PiB7IFxuICBwYXJ0LnNldFZhbHVlKHVuc2FmZUhUTUwobWFya2VkKGNvbnRlbnRzKSkpXG59KTtcblxuXG4vKipcbiAqIENvbXBsZXRpb24gaXMgYSB0ZXh0IGlucHV0IHRoYXQgaGFuZGxlcyBleGNlbGxlbnQgY29tcGxldGlvbiBvcHRpb25zIGluIGEgcG9wdXBcbiAqL1xuQGN1c3RvbUVsZW1lbnQoXCJycC1jb21wbGV0aW9uXCIpXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDb21wbGV0aW9uIGV4dGVuZHMgUmFwaWRFbGVtZW50IHtcbiAgc3RhdGljIGdldCBzdHlsZXMoKSB7XG4gICAgcmV0dXJuIGNzc2BcblxuICAgICAgI2FuY2hvciB7XG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgdmlzaWJpbGl0eTogdmlzaWJsZTtcbiAgICAgICAgd2lkdGg6IDI1MHB4O1xuICAgICAgICBib3JkZXI6IDBweCBzb2xpZCBwdXJwbGU7XG4gICAgICB9XG5cbiAgICAgIC5mbi1tYXJrZXIge1xuICAgICAgICBmb250LXdlaWdodDogYm9sZDtcbiAgICAgICAgZm9udC1zaXplOiA0MnB4O1xuICAgICAgfVxuICAgIGBcbiAgfVxuXG4gIHN0YXRpYyBwYXJzZXIgPSBuZXcgRXhjZWxsZW50UGFyc2VyKCdAJywgW1xuICAgICdjb250YWN0JyxcbiAgICAnZmllbGRzJyxcbiAgICAndXJucycsXG4gIF0pO1xuXG4gIC8qKiBSZW1vdGUgZGVzY3JpcHRpb24gb2Ygb3VyIGNvbXBsZXRpb24gc2NoZW1hICovICBcbiAgcHJpdmF0ZSBzY2hlbWE6IENvbXBsZXRpb25TY2hlbWE7XG5cbiAgLyoqIFJlbW90ZSBsaXN0IG9mIG91ciBmdW5jdGlvbiBvcHRpb25zICovXG4gIHByaXZhdGUgZnVuY3Rpb25zOiBDb21wbGV0aW9uT3B0aW9uW107XG5cbiAgQHByb3BlcnR5KHsgdHlwZTogT2JqZWN0fSlcbiAgYW5jaG9yUG9zaXRpb246IFBvc2l0aW9uID0geyBsZWZ0OiAwLCB0b3A6IDB9O1xuXG4gIEBwcm9wZXJ0eSh7YXR0cmlidXRlOiBmYWxzZX0pXG4gIGN1cnJlbnRGdW5jdGlvbjogQ29tcGxldGlvbk9wdGlvbjtcblxuICBAcHJvcGVydHkoe3R5cGU6IFN0cmluZ30pXG4gIHBsYWNlaG9sZGVyOiBzdHJpbmcgPSBcIlwiO1xuXG4gIEBwcm9wZXJ0eSh7YXR0cmlidXRlOiBmYWxzZX0pXG4gIHRleHRJbnB1dEVsZW1lbnQ6IFRleHRJbnB1dDtcblxuICBAcHJvcGVydHkoe2F0dHJpYnV0ZTogZmFsc2V9KVxuICBhbmNob3JFbGVtZW50OiBIVE1MRGl2RWxlbWVudDtcblxuICBAcHJvcGVydHkoe3R5cGU6IEFycmF5fSlcbiAgb3B0aW9uczogYW55W10gPSBbXTsgLy8gW3sgbmFtZTogXCJib29tXCIsIGRldGFpbDogXCJibGVycFwifV07XG5cbiAgQHByb3BlcnR5KHt0eXBlOiBTdHJpbmd9KVxuICB2YWx1ZTogc3RyaW5nID0gXCJcIjtcblxuICBAcHJvcGVydHkoe3R5cGU6IFN0cmluZ30pXG4gIGNvbXBsZXRpb25zRW5kcG9pbnQ6IHN0cmluZztcblxuICBAcHJvcGVydHkoe3R5cGU6IFN0cmluZ30pXG4gIGZ1bmN0aW9uc0VuZHBvaW50OiBzdHJpbmc7XG5cbiAgQHByb3BlcnR5KHt0eXBlOiBCb29sZWFufSlcbiAgdGV4dGFyZWE6IGJvb2xlYW47XG5cbiAgcHJpdmF0ZSBpbnB1dEVsZW1lbnQ6IEhUTUxJbnB1dEVsZW1lbnQ7XG4gIHByaXZhdGUgcXVlcnk6IHN0cmluZztcbiAgXG4gIHB1YmxpYyBmaXJzdFVwZGF0ZWQoY2hhbmdlZFByb3BlcnRpZXM6IE1hcDxzdHJpbmcsIGFueT4pIHtcbiAgICB0aGlzLnRleHRJbnB1dEVsZW1lbnQgPSB0aGlzLnNoYWRvd1Jvb3QucXVlcnlTZWxlY3RvcihcInJwLXRleHRpbnB1dFwiKSBhcyBUZXh0SW5wdXQ7XG4gICAgdGhpcy5hbmNob3JFbGVtZW50ID0gdGhpcy5zaGFkb3dSb290LnF1ZXJ5U2VsZWN0b3IoXCIjYW5jaG9yXCIpO1xuICAgIFxuICAgIGlmICh0aGlzLmNvbXBsZXRpb25zRW5kcG9pbnQpIHtcbiAgICAgIGdldFVybCh0aGlzLmNvbXBsZXRpb25zRW5kcG9pbnQpLnRoZW4oKHJlc3BvbnNlOiBBeGlvc1Jlc3BvbnNlKSA9PiB7XG4gICAgICAgIHRoaXMuc2NoZW1hID0gcmVzcG9uc2UuZGF0YSBhcyBDb21wbGV0aW9uU2NoZW1hO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuZnVuY3Rpb25zRW5kcG9pbnQpIHtcbiAgICAgIGdldFVybCh0aGlzLmZ1bmN0aW9uc0VuZHBvaW50KS50aGVuKChyZXNwb25zZTogQXhpb3NSZXNwb25zZSkgPT4ge1xuICAgICAgICB0aGlzLmZ1bmN0aW9ucyA9IHJlc3BvbnNlLmRhdGEgYXMgQ29tcGxldGlvbk9wdGlvbltdO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBoYW5kbGVLZXlVcChldnQ6IEtleWJvYXJkRXZlbnQpIHtcblxuICAgIC8vIGlmIHdlIGhhdmUgb3B0aW9ucywgaWdub3JlIGtleXMgdGhhdCBhcmUgbWVhbnQgZm9yIHRoZW1cbiAgICBpZiAodGhpcy5vcHRpb25zLmxlbmd0aCA+IDApIHtcblxuICAgICAgaWYoZXZ0LmtleSA9PT0gXCJBcnJvd1VwXCIgfHwgZXZ0LmtleSA9PT0gXCJBcnJvd0Rvd25cIikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmIChldnQuY3RybEtleSkge1xuICAgICAgICBpZiAoZXZ0LmtleSA9PT0gXCJuXCIgfHwgZXZ0LmtleSA9PT0gXCJwXCIpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYoZXZ0LmtleSA9PT0gXCJFbnRlclwiIHx8IGV2dC5rZXkgPT09IFwiRXNjYXBlXCIgfHwgZXZ0LmtleSA9PT0gXCJUYWJcIiB8fCBldnQua2V5LnN0YXJ0c1dpdGgoXCJDb250cm9sXCIpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdGhpcy5leGVjdXRlUXVlcnkoZXZ0LmN1cnJlbnRUYXJnZXQgYXMgVGV4dElucHV0KTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGhhbmRsZUNsaWNrKGV2dDogTW91c2VFdmVudCkge1xuICAgIHRoaXMuZXhlY3V0ZVF1ZXJ5KGV2dC5jdXJyZW50VGFyZ2V0IGFzIFRleHRJbnB1dClcbiAgfVxuXG4gIC8qKlxuICAgKiBoYW5kbGUgdGhlIHVzZXIgbW92aW5nIHRoZSBjYXJldCB0byBhIG5ldyBsb2NhdGlvblxuICAgKi9cbiAgcHJpdmF0ZSBleGVjdXRlUXVlcnkoZWxlOiBUZXh0SW5wdXQpIHtcbiAgICB0aGlzLmlucHV0RWxlbWVudCA9IGVsZS5pbnB1dEVsZW1lbnQ7XG5cbiAgICBpZiAodGhpcy5zY2hlbWEpIHtcbiAgICAgIGNvbnN0IGN1cnNvciA9IGVsZS5pbnB1dEVsZW1lbnQuc2VsZWN0aW9uU3RhcnQ7XG4gICAgICBjb25zdCBpbnB1dCA9IGVsZS5pbnB1dEVsZW1lbnQudmFsdWUudHJpbSgpLnN1YnN0cmluZygwLCBjdXJzb3IpO1xuICAgICAgY29uc3QgZXhwcmVzc2lvbnMgPSBDb21wbGV0aW9uLnBhcnNlci5maW5kRXhwcmVzc2lvbnMoaW5wdXQpO1xuICAgICAgY29uc3QgY3VycmVudEV4cHJlc3Npb24gPSBleHByZXNzaW9ucy5maW5kKChleHByOiBFeHByZXNzaW9uKT0+ZXhwci5zdGFydCA8PSBjdXJzb3IgJiYgKGV4cHIuZW5kID4gY3Vyc29yIHx8IGV4cHIuZW5kID09PSBjdXJzb3IgJiYgIWV4cHIuY2xvc2VkKSk7XG5cbiAgICAgIGlmIChjdXJyZW50RXhwcmVzc2lvbikge1xuICAgICAgICBjb25zdCBpbmNsdWRlRnVuY3Rpb25zID0gY3VycmVudEV4cHJlc3Npb24udGV4dC5pbmRleE9mKCcoJykgPiAtMTtcbiAgICAgICAgaWYgKGluY2x1ZGVGdW5jdGlvbnMpIHtcbiAgICAgICAgICBjb25zdCBmdW5jdGlvblF1ZXJ5ID0gQ29tcGxldGlvbi5wYXJzZXIuZnVuY3Rpb25Db250ZXh0KGN1cnJlbnRFeHByZXNzaW9uLnRleHQpO1xuICAgICAgICAgIGlmIChmdW5jdGlvblF1ZXJ5KSB7XG4gICAgICAgICAgICBjb25zdCBmbnMgPSBnZXRGdW5jdGlvbnModGhpcy5mdW5jdGlvbnMsIGZ1bmN0aW9uUXVlcnkpO1xuICAgICAgICAgICAgaWYgKGZucy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgIHRoaXMuY3VycmVudEZ1bmN0aW9uID0gZm5zWzBdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgXG4gICAgICAgIGZvciAobGV0IGkgPSBjdXJyZW50RXhwcmVzc2lvbi50ZXh0Lmxlbmd0aDsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICBjb25zdCBjdXJyID0gY3VycmVudEV4cHJlc3Npb24udGV4dFtpXTtcbiAgICAgICAgICBpZiAoY3VyciA9PT0gJ0AnIHx8IGN1cnIgPT09ICcoJyB8fCBjdXJyID09PSAnICcgfHwgY3VyciA9PT0gJywnIHx8IGN1cnIgPT09ICcpJyB8fCBpID09PSAwKSB7XG4gICAgICAgICAgICAvLyBkb24ndCBpbmNsdWRlIG5vbi1leHByZXNzaW9uIGNoYXJzXG4gICAgICAgICAgICBpZiAoY3VyciA9PT0gJygnIHx8IGN1cnIgPT09ICcgJyB8fCBjdXJyID09PSAnLCcgfHwgY3VyciA9PT0gJyknIHx8IGN1cnIgPT09ICdAJykge1xuICAgICAgICAgICAgICBpKys7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBjYXJldCA9IGdldENhcmV0Q29vcmRpbmF0ZXMoZWxlLmlucHV0RWxlbWVudCwgY3VycmVudEV4cHJlc3Npb24uc3RhcnQgKyBpKTtcbiAgICAgICAgICAgIHRoaXMuYW5jaG9yUG9zaXRpb24gPSB7IFxuICAgICAgICAgICAgICBsZWZ0OiBjYXJldC5sZWZ0ICsgNSwgXG4gICAgICAgICAgICAgIHRvcDogZWxlLmlucHV0RWxlbWVudC5vZmZzZXRUb3AgKyBjYXJldC50b3AgLSBlbGUuaW5wdXRFbGVtZW50LnNjcm9sbFRvcCAgKyAyMH1cblxuICAgICAgICAgICAgdGhpcy5xdWVyeSA9IGN1cnJlbnRFeHByZXNzaW9uLnRleHQuc3Vic3RyKGksIGN1cnJlbnRFeHByZXNzaW9uLnRleHQubGVuZ3RoIC0gaSk7XG4gICAgICAgICAgICB0aGlzLm9wdGlvbnMgPSBbXG4gICAgICAgICAgICAgIC4uLmdldENvbXBsZXRpb25zKHRoaXMuc2NoZW1hLCB0aGlzLnF1ZXJ5KSwgXG4gICAgICAgICAgICAgIC4uLihpbmNsdWRlRnVuY3Rpb25zID8gZ2V0RnVuY3Rpb25zKHRoaXMuZnVuY3Rpb25zLCB0aGlzLnF1ZXJ5KSA6IFtdKVxuICAgICAgICAgICAgXTtcblxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5vcHRpb25zID0gW107XG4gICAgICAgIHRoaXMucXVlcnkgPSBcIlwiO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgaGFuZGxlSW5wdXQoZXZ0OiBLZXlib2FyZEV2ZW50KSB7XG4gICAgY29uc3QgZWxlID0gZXZ0LmN1cnJlbnRUYXJnZXQgYXMgVGV4dElucHV0O1xuICAgIHRoaXMuZXhlY3V0ZVF1ZXJ5KGVsZSk7XG4gIH1cblxuICBwcml2YXRlIGhhbmRsZU9wdGlvblNlbGVjdGlvbihldnQ6IEN1c3RvbUV2ZW50KSB7XG4gICAgY29uc3Qgb3B0aW9uID0gZXZ0LmRldGFpbC5zZWxlY3RlZCBhcyBDb21wbGV0aW9uT3B0aW9uO1xuICAgIGNvbnN0IHRhYmJlZCA9IGV2dC5kZXRhaWwudGFiYmVkO1xuXG4gICAgbGV0IGluc2VydFRleHQgPSBcIlwiO1xuICAgIFxuICAgIGlmIChvcHRpb24uc2lnbmF0dXJlKSB7XG4gICAgICAvLyB0aGV5IHNlbGVjdGVkIGEgZnVuY3Rpb25cbiAgICAgIGluc2VydFRleHQgPSBvcHRpb24uc2lnbmF0dXJlLnN1YnN0cigwLCBvcHRpb24uc2lnbmF0dXJlLmluZGV4T2YoXCIoXCIpICsgMSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGluc2VydFRleHQgPSBvcHRpb24ubmFtZTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5pbnB1dEVsZW1lbnQpIHtcbiAgICAgIGxldCB2YWx1ZSA9IHRoaXMuaW5wdXRFbGVtZW50LnZhbHVlO1xuICAgICAgXG4gICAgICAvLyBzdHJpcCBvdXQgb3VyIHF1ZXJ5XG4gICAgICB2YWx1ZSA9IHZhbHVlLnN1YnN0cigwLCB2YWx1ZS5sYXN0SW5kZXhPZih0aGlzLnF1ZXJ5KSk7XG4gICAgXG4gICAgICAvLyBub3cgYWRkIG9uIG91ciBzZWxlY3Rpb25cbiAgICAgIHZhbHVlICs9IGluc2VydFRleHQ7XG5cbiAgICAgIHRoaXMuaW5wdXRFbGVtZW50LnZhbHVlID0gdmFsdWU7XG4gICAgfVxuXG4gICAgdGhpcy5xdWVyeSA9IFwiXCI7XG4gICAgdGhpcy5vcHRpb25zID0gW107XG4gICAgXG4gICAgaWYgKHRhYmJlZCkge1xuICAgICAgdGhpcy5leGVjdXRlUXVlcnkodGhpcy50ZXh0SW5wdXRFbGVtZW50KTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIHJlbmRlckNvbXBsZXRpb25PcHRpb24ob3B0aW9uOiBDb21wbGV0aW9uT3B0aW9uLCBzZWxlY3RlZDogYm9vbGVhbikge1xuICAgIGlmKG9wdGlvbi5zaWduYXR1cmUpIHtcbiAgICAgIGNvbnN0IGFyZ1N0YXJ0ID0gb3B0aW9uLnNpZ25hdHVyZS5pbmRleE9mKFwiKFwiKVxuICAgICAgY29uc3QgbmFtZSA9IG9wdGlvbi5zaWduYXR1cmUuc3Vic3RyKDAsIGFyZ1N0YXJ0KTtcbiAgICAgIGNvbnN0IGFyZ3MgPSBvcHRpb24uc2lnbmF0dXJlLnN1YnN0cihhcmdTdGFydCk7XG5cbiAgICAgIHJldHVybiBodG1sYFxuICAgICAgPGRpdiBzdHlsZT1cIiR7c2VsZWN0ZWQgPyAnZm9udC13ZWlnaHQ6IDQwMCcgOiAnJ31cIj5cbiAgICAgICAgPGRpdiBzdHlsZT1cImRpc3BsYXk6aW5saW5lLWJsb2NrO1wiPsaSPC9kaXY+XG4gICAgICAgIDxkaXYgc3R5bGU9XCJkaXNwbGF5OmlubGluZS1ibG9ja1wiPiR7bmFtZX08L2Rpdj5cbiAgICAgICAgJHtzZWxlY3RlZCA/IGh0bWxgXG4gICAgICAgICAgPGRpdiBzdHlsZT1cImRpc3BsYXk6aW5saW5lLWJsb2NrOyBmb250LXdlaWdodDogMzAwOyBmb250LXNpemU6IDg1JVwiPiR7YXJnc308L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiZGV0YWlsXCI+JHttYXJrZWRSZW5kZXIob3B0aW9uLnN1bW1hcnkpfTwvZGl2PlxuICAgICAgICBgIDogbnVsbH1cbiAgICAgIDwvZGl2PmA7XG4gICAgfVxuXG4gICAgcmV0dXJuIGh0bWxgXG4gICAgPGRpdj5cbiAgICAgIDxkaXYgc3R5bGU9XCIke3NlbGVjdGVkID8gJ2ZvbnQtd2VpZ2h0OiA0MDAnIDogJyd9XCI+JHtvcHRpb24ubmFtZX08L2Rpdj5cbiAgICAgICR7c2VsZWN0ZWQgPyBodG1sYDxkaXYgc3R5bGU9XCJmb250LXNpemU6IDg1JVwiPiR7b3B0aW9uLnN1bW1hcnl9PC9kaXY+YCA6IG51bGx9XG4gICAgPC9kaXY+YFxuICB9XG5cbiAgcHVibGljIHJlbmRlcigpOiBUZW1wbGF0ZVJlc3VsdCB7XG4gICAgcmV0dXJuIGh0bWxgXG4gICAgICA8c3R5bGU+XG4gICAgICAgICNhbmNob3Ige1xuICAgICAgICAgIHRvcDoke3RoaXMuYW5jaG9yUG9zaXRpb24udG9wfXB4O1xuICAgICAgICAgIGxlZnQ6JHt0aGlzLmFuY2hvclBvc2l0aW9uLmxlZnR9cHg7XG4gICAgICAgIH1cbiAgICAgIDwvc3R5bGU+XG4gICAgICA8ZGl2IGlkPVwiYW5jaG9yXCI+PC9kaXY+XG4gICAgICA8cnAtdGV4dGlucHV0IFxuICAgICAgICBwbGFjZWhvbGRlcj0ke3RoaXMucGxhY2Vob2xkZXJ9XG4gICAgICAgIEBrZXl1cD0ke3RoaXMuaGFuZGxlS2V5VXB9XG4gICAgICAgIEBjbGljaz0ke3RoaXMuaGFuZGxlQ2xpY2t9XG4gICAgICAgIEBpbnB1dD0ke3RoaXMuaGFuZGxlSW5wdXR9XG4gICAgICAgIC52YWx1ZT0ke3RoaXMudmFsdWV9XG4gICAgICAgID90ZXh0YXJlYT0ke3RoaXMudGV4dGFyZWF9XG4gICAgICAgID5cbiAgICAgIDwvcnAtdGV4dGlucHV0PlxuICAgICAgPHJwLW9wdGlvbnNcbiAgICAgICAgQHJwLXNlbGVjdGlvbj0ke3RoaXMuaGFuZGxlT3B0aW9uU2VsZWN0aW9ufVxuICAgICAgICAuYW5jaG9yVG89JHt0aGlzLmFuY2hvckVsZW1lbnR9XG4gICAgICAgIC5vcHRpb25zPSR7dGhpcy5vcHRpb25zfVxuICAgICAgICAucmVuZGVyT3B0aW9uPSR7dGhpcy5yZW5kZXJDb21wbGV0aW9uT3B0aW9ufVxuICAgICAgICA/dmlzaWJsZT0ke3RoaXMub3B0aW9ucy5sZW5ndGggPiAwfVxuICAgICAgPjwvcnAtb3B0aW9ucz5cbiAgICBgO1xuICB9XG59Il0sInNvdXJjZVJvb3QiOiIifQ==