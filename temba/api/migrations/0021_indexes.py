# -*- coding: utf-8 -*-
# Generated by Django 1.11.6 on 2018-07-16 16:58
from __future__ import unicode_literals

from django.db import migrations

SQL = """
CREATE INDEX api_webhookevent_created_on_pending_non_flow
ON api_webhookevent(created_on)
WHERE status = 'P' AND event != 'flow';

CREATE INDEX api_webhookevent_modified_on_errored_non_flow
ON api_webhookevent(modified_on)
WHERE status = 'E' AND event != 'flow';

CREATE INDEX api_webhookevent_next_attempt_errored_non_flow
ON api_webhookevent(next_attempt)
WHERE status = 'E' AND event != 'flow';
"""


class Migration(migrations.Migration):

    dependencies = [("api", "0020_initial")]

    operations = [migrations.RunSQL(SQL)]
